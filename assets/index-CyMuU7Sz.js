var fC=Object.defineProperty;var hC=(t,e,n)=>e in t?fC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var de=(t,e,n)=>hC(t,typeof e!="symbol"?e+"":e,n);function pC(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const r=Object.getOwnPropertyDescriptor(i,o);r&&Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function Sx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xu={exports:{}},ys={},Zu={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function mC(){if(Sp)return _e;Sp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function C(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function N(F,H,pe){this.props=F,this.context=H,this.refs=b,this.updater=pe||S}N.prototype.isReactComponent={},N.prototype.setState=function(F,H){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,H,"setState")},N.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function M(){}M.prototype=N.prototype;function I(F,H,pe){this.props=F,this.context=H,this.refs=b,this.updater=pe||S}var A=I.prototype=new M;A.constructor=I,w(A,N.prototype),A.isPureReactComponent=!0;var D=Array.isArray,L=Object.prototype.hasOwnProperty,z={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function B(F,H,pe){var me,Ce={},ve=null,De=null;if(H!=null)for(me in H.ref!==void 0&&(De=H.ref),H.key!==void 0&&(ve=""+H.key),H)L.call(H,me)&&!$.hasOwnProperty(me)&&(Ce[me]=H[me]);var Pe=arguments.length-2;if(Pe===1)Ce.children=pe;else if(1<Pe){for(var ze=Array(Pe),Et=0;Et<Pe;Et++)ze[Et]=arguments[Et+2];Ce.children=ze}if(F&&F.defaultProps)for(me in Pe=F.defaultProps,Pe)Ce[me]===void 0&&(Ce[me]=Pe[me]);return{$$typeof:t,type:F,key:ve,ref:De,props:Ce,_owner:z.current}}function O(F,H){return{$$typeof:t,type:F.type,key:H,ref:F.ref,props:F.props,_owner:F._owner}}function Q(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function K(F){var H={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return H[pe]})}var ae=/\/+/g;function Se(F,H){return typeof F=="object"&&F!==null&&F.key!=null?K(""+F.key):H.toString(36)}function Re(F,H,pe,me,Ce){var ve=typeof F;(ve==="undefined"||ve==="boolean")&&(F=null);var De=!1;if(F===null)De=!0;else switch(ve){case"string":case"number":De=!0;break;case"object":switch(F.$$typeof){case t:case e:De=!0}}if(De)return De=F,Ce=Ce(De),F=me===""?"."+Se(De,0):me,D(Ce)?(pe="",F!=null&&(pe=F.replace(ae,"$&/")+"/"),Re(Ce,H,pe,"",function(Et){return Et})):Ce!=null&&(Q(Ce)&&(Ce=O(Ce,pe+(!Ce.key||De&&De.key===Ce.key?"":(""+Ce.key).replace(ae,"$&/")+"/")+F)),H.push(Ce)),1;if(De=0,me=me===""?".":me+":",D(F))for(var Pe=0;Pe<F.length;Pe++){ve=F[Pe];var ze=me+Se(ve,Pe);De+=Re(ve,H,pe,ze,Ce)}else if(ze=C(F),typeof ze=="function")for(F=ze.call(F),Pe=0;!(ve=F.next()).done;)ve=ve.value,ze=me+Se(ve,Pe++),De+=Re(ve,H,pe,ze,Ce);else if(ve==="object")throw H=String(F),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return De}function fe(F,H,pe){if(F==null)return F;var me=[],Ce=0;return Re(F,me,"","",function(ve){return H.call(pe,ve,Ce++)}),me}function ye(F){if(F._status===-1){var H=F._result;H=H(),H.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=H)}if(F._status===1)return F._result.default;throw F._result}var ge={current:null},Y={transition:null},te={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:Y,ReactCurrentOwner:z};function Z(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:fe,forEach:function(F,H,pe){fe(F,function(){H.apply(this,arguments)},pe)},count:function(F){var H=0;return fe(F,function(){H++}),H},toArray:function(F){return fe(F,function(H){return H})||[]},only:function(F){if(!Q(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},_e.Component=N,_e.Fragment=n,_e.Profiler=o,_e.PureComponent=I,_e.StrictMode=i,_e.Suspense=h,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,_e.act=Z,_e.cloneElement=function(F,H,pe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var me=w({},F.props),Ce=F.key,ve=F.ref,De=F._owner;if(H!=null){if(H.ref!==void 0&&(ve=H.ref,De=z.current),H.key!==void 0&&(Ce=""+H.key),F.type&&F.type.defaultProps)var Pe=F.type.defaultProps;for(ze in H)L.call(H,ze)&&!$.hasOwnProperty(ze)&&(me[ze]=H[ze]===void 0&&Pe!==void 0?Pe[ze]:H[ze])}var ze=arguments.length-2;if(ze===1)me.children=pe;else if(1<ze){Pe=Array(ze);for(var Et=0;Et<ze;Et++)Pe[Et]=arguments[Et+2];me.children=Pe}return{$$typeof:t,type:F.type,key:Ce,ref:ve,props:me,_owner:De}},_e.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:r,_context:F},F.Consumer=F},_e.createElement=B,_e.createFactory=function(F){var H=B.bind(null,F);return H.type=F,H},_e.createRef=function(){return{current:null}},_e.forwardRef=function(F){return{$$typeof:d,render:F}},_e.isValidElement=Q,_e.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:ye}},_e.memo=function(F,H){return{$$typeof:p,type:F,compare:H===void 0?null:H}},_e.startTransition=function(F){var H=Y.transition;Y.transition={};try{F()}finally{Y.transition=H}},_e.unstable_act=Z,_e.useCallback=function(F,H){return ge.current.useCallback(F,H)},_e.useContext=function(F){return ge.current.useContext(F)},_e.useDebugValue=function(){},_e.useDeferredValue=function(F){return ge.current.useDeferredValue(F)},_e.useEffect=function(F,H){return ge.current.useEffect(F,H)},_e.useId=function(){return ge.current.useId()},_e.useImperativeHandle=function(F,H,pe){return ge.current.useImperativeHandle(F,H,pe)},_e.useInsertionEffect=function(F,H){return ge.current.useInsertionEffect(F,H)},_e.useLayoutEffect=function(F,H){return ge.current.useLayoutEffect(F,H)},_e.useMemo=function(F,H){return ge.current.useMemo(F,H)},_e.useReducer=function(F,H,pe){return ge.current.useReducer(F,H,pe)},_e.useRef=function(F){return ge.current.useRef(F)},_e.useState=function(F){return ge.current.useState(F)},_e.useSyncExternalStore=function(F,H,pe){return ge.current.useSyncExternalStore(F,H,pe)},_e.useTransition=function(){return ge.current.useTransition()},_e.version="18.3.1",_e}var Tp;function Gc(){return Tp||(Tp=1,Zu.exports=mC()),Zu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function gC(){if(wp)return ys;wp=1;var t=Gc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function l(d,h,p){var g,y={},C=null,S=null;p!==void 0&&(C=""+p),h.key!==void 0&&(C=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)i.call(h,g)&&!r.hasOwnProperty(g)&&(y[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:d,key:C,ref:S,props:y,_owner:o.current}}return ys.Fragment=n,ys.jsx=l,ys.jsxs=l,ys}var bp;function xC(){return bp||(bp=1,Xu.exports=gC()),Xu.exports}var m=xC(),k=Gc();const $s=Sx(k),yC=pC({__proto__:null,default:$s},[k]);var sa={},ec={exports:{}},Tt={},tc={exports:{}},nc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function vC(){return Np||(Np=1,(function(t){function e(Y,te){var Z=Y.length;Y.push(te);e:for(;0<Z;){var F=Z-1>>>1,H=Y[F];if(0<o(H,te))Y[F]=te,Y[Z]=H,Z=F;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var te=Y[0],Z=Y.pop();if(Z!==te){Y[0]=Z;e:for(var F=0,H=Y.length,pe=H>>>1;F<pe;){var me=2*(F+1)-1,Ce=Y[me],ve=me+1,De=Y[ve];if(0>o(Ce,Z))ve<H&&0>o(De,Ce)?(Y[F]=De,Y[ve]=Z,F=ve):(Y[F]=Ce,Y[me]=Z,F=me);else if(ve<H&&0>o(De,Z))Y[F]=De,Y[ve]=Z,F=ve;else break e}}return te}function o(Y,te){var Z=Y.sortIndex-te.sortIndex;return Z!==0?Z:Y.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var h=[],p=[],g=1,y=null,C=3,S=!1,w=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Y){for(var te=n(p);te!==null;){if(te.callback===null)i(p);else if(te.startTime<=Y)i(p),te.sortIndex=te.expirationTime,e(h,te);else break;te=n(p)}}function D(Y){if(b=!1,A(Y),!w)if(n(h)!==null)w=!0,ye(L);else{var te=n(p);te!==null&&ge(D,te.startTime-Y)}}function L(Y,te){w=!1,b&&(b=!1,M(B),B=-1),S=!0;var Z=C;try{for(A(te),y=n(h);y!==null&&(!(y.expirationTime>te)||Y&&!K());){var F=y.callback;if(typeof F=="function"){y.callback=null,C=y.priorityLevel;var H=F(y.expirationTime<=te);te=t.unstable_now(),typeof H=="function"?y.callback=H:y===n(h)&&i(h),A(te)}else i(h);y=n(h)}if(y!==null)var pe=!0;else{var me=n(p);me!==null&&ge(D,me.startTime-te),pe=!1}return pe}finally{y=null,C=Z,S=!1}}var z=!1,$=null,B=-1,O=5,Q=-1;function K(){return!(t.unstable_now()-Q<O)}function ae(){if($!==null){var Y=t.unstable_now();Q=Y;var te=!0;try{te=$(!0,Y)}finally{te?Se():(z=!1,$=null)}}else z=!1}var Se;if(typeof I=="function")Se=function(){I(ae)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,fe=Re.port2;Re.port1.onmessage=ae,Se=function(){fe.postMessage(null)}}else Se=function(){N(ae,0)};function ye(Y){$=Y,z||(z=!0,Se())}function ge(Y,te){B=N(function(){Y(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){w||S||(w=!0,ye(L))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(Y){switch(C){case 1:case 2:case 3:var te=3;break;default:te=C}var Z=C;C=te;try{return Y()}finally{C=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Z=C;C=Y;try{return te()}finally{C=Z}},t.unstable_scheduleCallback=function(Y,te,Z){var F=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?F+Z:F):Z=F,Y){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Z+H,Y={id:g++,callback:te,priorityLevel:Y,startTime:Z,expirationTime:H,sortIndex:-1},Z>F?(Y.sortIndex=Z,e(p,Y),n(h)===null&&Y===n(p)&&(b?(M(B),B=-1):b=!0,ge(D,Z-F))):(Y.sortIndex=H,e(h,Y),w||S||(w=!0,ye(L))),Y},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(Y){var te=C;return function(){var Z=C;C=te;try{return Y.apply(this,arguments)}finally{C=Z}}}})(nc)),nc}var Ep;function CC(){return Ep||(Ep=1,tc.exports=vC()),tc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function _C(){if(kp)return Tt;kp=1;var t=Gc(),e=CC();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function r(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(o[s]=a,s=0;s<a.length;s++)i.add(a[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function C(s){return h.call(y,s)?!0:h.call(g,s)?!1:p.test(s)?y[s]=!0:(g[s]=!0,!1)}function S(s,a,f,x){if(f!==null&&f.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return x?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,a,f,x){if(a===null||typeof a>"u"||S(s,a,f,x))return!0;if(x)return!1;if(f!==null)switch(f.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(s,a,f,x,v,_,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=x,this.attributeNamespace=v,this.mustUseProperty=f,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];N[a]=new b(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function I(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(M,I);N[a]=new b(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(M,I);N[a]=new b(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(M,I);N[a]=new b(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function A(s,a,f,x){var v=N.hasOwnProperty(a)?N[a]:null;(v!==null?v.type!==0:x||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,f,v,x)&&(f=null),x||v===null?C(a)&&(f===null?s.removeAttribute(a):s.setAttribute(a,""+f)):v.mustUseProperty?s[v.propertyName]=f===null?v.type===3?!1:"":f:(a=v.attributeName,x=v.attributeNamespace,f===null?s.removeAttribute(a):(v=v.type,f=v===3||v===4&&f===!0?"":""+f,x?s.setAttributeNS(x,a,f):s.setAttribute(a,f))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),z=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),K=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),Y=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Object.assign,F;function H(s){if(F===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+s}var pe=!1;function me(s,a){if(!s||pe)return"";pe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(j){var x=j}Reflect.construct(s,[],a)}else{try{a.call()}catch(j){x=j}s.call(a.prototype)}else{try{throw Error()}catch(j){x=j}s()}}catch(j){if(j&&x&&typeof j.stack=="string"){for(var v=j.stack.split(`
`),_=x.stack.split(`
`),T=v.length-1,E=_.length-1;1<=T&&0<=E&&v[T]!==_[E];)E--;for(;1<=T&&0<=E;T--,E--)if(v[T]!==_[E]){if(T!==1||E!==1)do if(T--,E--,0>E||v[T]!==_[E]){var P=`
`+v[T].replace(" at new "," at ");return s.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",s.displayName)),P}while(1<=T&&0<=E);break}}}finally{pe=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?H(s):""}function Ce(s){switch(s.tag){case 5:return H(s.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return s=me(s.type,!1),s;case 11:return s=me(s.type.render,!1),s;case 1:return s=me(s.type,!0),s;default:return""}}function ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case $:return"Fragment";case z:return"Portal";case O:return"Profiler";case B:return"StrictMode";case Se:return"Suspense";case Re:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case K:return(s.displayName||"Context")+".Consumer";case Q:return(s._context.displayName||"Context")+".Provider";case ae:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case fe:return a=s.displayName||null,a!==null?a:ve(s.type)||"Memo";case ye:a=s._payload,s=s._init;try{return ve(s(a))}catch{}}return null}function De(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(a);case 8:return a===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Pe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ze(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Et(s){var a=ze(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),x=""+s[a];if(!s.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,_=f.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(T){x=""+T,_.call(this,T)}}),Object.defineProperty(s,a,{enumerable:f.enumerable}),{getValue:function(){return x},setValue:function(T){x=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ys(s){s._valueTracker||(s._valueTracker=Et(s))}function Ed(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var f=a.getValue(),x="";return s&&(x=ze(s)?s.checked?"true":"false":s.value),s=x,s!==f?(a.setValue(s),!0):!1}function Ks(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function sl(s,a){var f=a.checked;return Z({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function kd(s,a){var f=a.defaultValue==null?"":a.defaultValue,x=a.checked!=null?a.checked:a.defaultChecked;f=Pe(a.value!=null?a.value:f),s._wrapperState={initialChecked:x,initialValue:f,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Md(s,a){a=a.checked,a!=null&&A(s,"checked",a,!1)}function rl(s,a){Md(s,a);var f=Pe(a.value),x=a.type;if(f!=null)x==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(x==="submit"||x==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?al(s,a.type,f):a.hasOwnProperty("defaultValue")&&al(s,a.type,Pe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Pd(s,a,f){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var x=a.type;if(!(x!=="submit"&&x!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,f||a===s.value||(s.value=a),s.defaultValue=a}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function al(s,a,f){(a!=="number"||Ks(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var Ro=Array.isArray;function Di(s,a,f,x){if(s=s.options,a){a={};for(var v=0;v<f.length;v++)a["$"+f[v]]=!0;for(f=0;f<s.length;f++)v=a.hasOwnProperty("$"+s[f].value),s[f].selected!==v&&(s[f].selected=v),v&&x&&(s[f].defaultSelected=!0)}else{for(f=""+Pe(f),a=null,v=0;v<s.length;v++){if(s[v].value===f){s[v].selected=!0,x&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function ll(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Id(s,a){var f=a.value;if(f==null){if(f=a.children,a=a.defaultValue,f!=null){if(a!=null)throw Error(n(92));if(Ro(f)){if(1<f.length)throw Error(n(93));f=f[0]}a=f}a==null&&(a=""),f=a}s._wrapperState={initialValue:Pe(f)}}function Ad(s,a){var f=Pe(a.value),x=Pe(a.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),a.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),x!=null&&(s.defaultValue=""+x)}function Rd(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Dd(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ul(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Dd(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Qs,Ld=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,f,x,v){MSApp.execUnsafeLocalFunction(function(){return s(a,f,x,v)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Qs=Qs||document.createElement("div"),Qs.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Qs.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Do(s,a){if(a){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=a;return}}s.textContent=a}var Lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gv=["Webkit","ms","Moz","O"];Object.keys(Lo).forEach(function(s){gv.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Lo[a]=Lo[s]})});function Fd(s,a,f){return a==null||typeof a=="boolean"||a===""?"":f||typeof a!="number"||a===0||Lo.hasOwnProperty(s)&&Lo[s]?(""+a).trim():a+"px"}function Ud(s,a){s=s.style;for(var f in a)if(a.hasOwnProperty(f)){var x=f.indexOf("--")===0,v=Fd(f,a[f],x);f==="float"&&(f="cssFloat"),x?s.setProperty(f,v):s[f]=v}}var xv=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cl(s,a){if(a){if(xv[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function dl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fl=null;function hl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var pl=null,Li=null,Fi=null;function Vd(s){if(s=is(s)){if(typeof pl!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Cr(a),pl(s.stateNode,s.type,a))}}function jd(s){Li?Fi?Fi.push(s):Fi=[s]:Li=s}function Bd(){if(Li){var s=Li,a=Fi;if(Fi=Li=null,Vd(s),a)for(s=0;s<a.length;s++)Vd(a[s])}}function zd(s,a){return s(a)}function Od(){}var ml=!1;function Hd(s,a,f){if(ml)return s(a,f);ml=!0;try{return zd(s,a,f)}finally{ml=!1,(Li!==null||Fi!==null)&&(Od(),Bd())}}function Fo(s,a){var f=s.stateNode;if(f===null)return null;var x=Cr(f);if(x===null)return null;f=x[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(n(231,a,typeof f));return f}var gl=!1;if(d)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){gl=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{gl=!1}function yv(s,a,f,x,v,_,T,E,P){var j=Array.prototype.slice.call(arguments,3);try{a.apply(f,j)}catch(G){this.onError(G)}}var Vo=!1,Xs=null,Zs=!1,xl=null,vv={onError:function(s){Vo=!0,Xs=s}};function Cv(s,a,f,x,v,_,T,E,P){Vo=!1,Xs=null,yv.apply(vv,arguments)}function _v(s,a,f,x,v,_,T,E,P){if(Cv.apply(this,arguments),Vo){if(Vo){var j=Xs;Vo=!1,Xs=null}else throw Error(n(198));Zs||(Zs=!0,xl=j)}}function ii(s){var a=s,f=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(f=a.return),s=a.return;while(s)}return a.tag===3?f:null}function $d(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function qd(s){if(ii(s)!==s)throw Error(n(188))}function Sv(s){var a=s.alternate;if(!a){if(a=ii(s),a===null)throw Error(n(188));return a!==s?null:s}for(var f=s,x=a;;){var v=f.return;if(v===null)break;var _=v.alternate;if(_===null){if(x=v.return,x!==null){f=x;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===f)return qd(v),s;if(_===x)return qd(v),a;_=_.sibling}throw Error(n(188))}if(f.return!==x.return)f=v,x=_;else{for(var T=!1,E=v.child;E;){if(E===f){T=!0,f=v,x=_;break}if(E===x){T=!0,x=v,f=_;break}E=E.sibling}if(!T){for(E=_.child;E;){if(E===f){T=!0,f=_,x=v;break}if(E===x){T=!0,x=_,f=v;break}E=E.sibling}if(!T)throw Error(n(189))}}if(f.alternate!==x)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?s:a}function Gd(s){return s=Sv(s),s!==null?Wd(s):null}function Wd(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Wd(s);if(a!==null)return a;s=s.sibling}return null}var Jd=e.unstable_scheduleCallback,Yd=e.unstable_cancelCallback,Tv=e.unstable_shouldYield,wv=e.unstable_requestPaint,We=e.unstable_now,bv=e.unstable_getCurrentPriorityLevel,yl=e.unstable_ImmediatePriority,Kd=e.unstable_UserBlockingPriority,er=e.unstable_NormalPriority,Nv=e.unstable_LowPriority,Qd=e.unstable_IdlePriority,tr=null,Xt=null;function Ev(s){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(tr,s,void 0,(s.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:Pv,kv=Math.log,Mv=Math.LN2;function Pv(s){return s>>>=0,s===0?32:31-(kv(s)/Mv|0)|0}var nr=64,ir=4194304;function jo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function or(s,a){var f=s.pendingLanes;if(f===0)return 0;var x=0,v=s.suspendedLanes,_=s.pingedLanes,T=f&268435455;if(T!==0){var E=T&~v;E!==0?x=jo(E):(_&=T,_!==0&&(x=jo(_)))}else T=f&~v,T!==0?x=jo(T):_!==0&&(x=jo(_));if(x===0)return 0;if(a!==0&&a!==x&&(a&v)===0&&(v=x&-x,_=a&-a,v>=_||v===16&&(_&4194240)!==0))return a;if((x&4)!==0&&(x|=f&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=x;0<a;)f=31-$t(a),v=1<<f,x|=s[f],a&=~v;return x}function Iv(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Av(s,a){for(var f=s.suspendedLanes,x=s.pingedLanes,v=s.expirationTimes,_=s.pendingLanes;0<_;){var T=31-$t(_),E=1<<T,P=v[T];P===-1?((E&f)===0||(E&x)!==0)&&(v[T]=Iv(E,a)):P<=a&&(s.expiredLanes|=E),_&=~E}}function vl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Xd(){var s=nr;return nr<<=1,(nr&4194240)===0&&(nr=64),s}function Cl(s){for(var a=[],f=0;31>f;f++)a.push(s);return a}function Bo(s,a,f){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-$t(a),s[a]=f}function Rv(s,a){var f=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var x=s.eventTimes;for(s=s.expirationTimes;0<f;){var v=31-$t(f),_=1<<v;a[v]=0,x[v]=-1,s[v]=-1,f&=~_}}function _l(s,a){var f=s.entangledLanes|=a;for(s=s.entanglements;f;){var x=31-$t(f),v=1<<x;v&a|s[x]&a&&(s[x]|=a),f&=~v}}var Ie=0;function Zd(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ef,Sl,tf,nf,of,Tl=!1,sr=[],kn=null,Mn=null,Pn=null,zo=new Map,Oo=new Map,In=[],Dv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sf(s,a){switch(s){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":zo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(a.pointerId)}}function Ho(s,a,f,x,v,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:f,eventSystemFlags:x,nativeEvent:_,targetContainers:[v]},a!==null&&(a=is(a),a!==null&&Sl(a)),s):(s.eventSystemFlags|=x,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function Lv(s,a,f,x,v){switch(a){case"focusin":return kn=Ho(kn,s,a,f,x,v),!0;case"dragenter":return Mn=Ho(Mn,s,a,f,x,v),!0;case"mouseover":return Pn=Ho(Pn,s,a,f,x,v),!0;case"pointerover":var _=v.pointerId;return zo.set(_,Ho(zo.get(_)||null,s,a,f,x,v)),!0;case"gotpointercapture":return _=v.pointerId,Oo.set(_,Ho(Oo.get(_)||null,s,a,f,x,v)),!0}return!1}function rf(s){var a=oi(s.target);if(a!==null){var f=ii(a);if(f!==null){if(a=f.tag,a===13){if(a=$d(f),a!==null){s.blockedOn=a,of(s.priority,function(){tf(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rr(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var f=bl(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var x=new f.constructor(f.type,f);fl=x,f.target.dispatchEvent(x),fl=null}else return a=is(f),a!==null&&Sl(a),s.blockedOn=f,!1;a.shift()}return!0}function af(s,a,f){rr(s)&&f.delete(a)}function Fv(){Tl=!1,kn!==null&&rr(kn)&&(kn=null),Mn!==null&&rr(Mn)&&(Mn=null),Pn!==null&&rr(Pn)&&(Pn=null),zo.forEach(af),Oo.forEach(af)}function $o(s,a){s.blockedOn===a&&(s.blockedOn=null,Tl||(Tl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fv)))}function qo(s){function a(v){return $o(v,s)}if(0<sr.length){$o(sr[0],s);for(var f=1;f<sr.length;f++){var x=sr[f];x.blockedOn===s&&(x.blockedOn=null)}}for(kn!==null&&$o(kn,s),Mn!==null&&$o(Mn,s),Pn!==null&&$o(Pn,s),zo.forEach(a),Oo.forEach(a),f=0;f<In.length;f++)x=In[f],x.blockedOn===s&&(x.blockedOn=null);for(;0<In.length&&(f=In[0],f.blockedOn===null);)rf(f),f.blockedOn===null&&In.shift()}var Ui=D.ReactCurrentBatchConfig,ar=!0;function Uv(s,a,f,x){var v=Ie,_=Ui.transition;Ui.transition=null;try{Ie=1,wl(s,a,f,x)}finally{Ie=v,Ui.transition=_}}function Vv(s,a,f,x){var v=Ie,_=Ui.transition;Ui.transition=null;try{Ie=4,wl(s,a,f,x)}finally{Ie=v,Ui.transition=_}}function wl(s,a,f,x){if(ar){var v=bl(s,a,f,x);if(v===null)Ol(s,a,x,lr,f),sf(s,x);else if(Lv(v,s,a,f,x))x.stopPropagation();else if(sf(s,x),a&4&&-1<Dv.indexOf(s)){for(;v!==null;){var _=is(v);if(_!==null&&ef(_),_=bl(s,a,f,x),_===null&&Ol(s,a,x,lr,f),_===v)break;v=_}v!==null&&x.stopPropagation()}else Ol(s,a,x,null,f)}}var lr=null;function bl(s,a,f,x){if(lr=null,s=hl(x),s=oi(s),s!==null)if(a=ii(s),a===null)s=null;else if(f=a.tag,f===13){if(s=$d(a),s!==null)return s;s=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return lr=s,null}function lf(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bv()){case yl:return 1;case Kd:return 4;case er:case Nv:return 16;case Qd:return 536870912;default:return 16}default:return 16}}var An=null,Nl=null,ur=null;function uf(){if(ur)return ur;var s,a=Nl,f=a.length,x,v="value"in An?An.value:An.textContent,_=v.length;for(s=0;s<f&&a[s]===v[s];s++);var T=f-s;for(x=1;x<=T&&a[f-x]===v[_-x];x++);return ur=v.slice(s,1<x?1-x:void 0)}function cr(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function dr(){return!0}function cf(){return!1}function kt(s){function a(f,x,v,_,T){this._reactName=f,this._targetInst=v,this.type=x,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(f=s[E],this[E]=f?f(_):_[E]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?dr:cf,this.isPropagationStopped=cf,this}return Z(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),a}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=kt(Vi),Go=Z({},Vi,{view:0,detail:0}),jv=kt(Go),kl,Ml,Wo,fr=Z({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Il,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Wo&&(Wo&&s.type==="mousemove"?(kl=s.screenX-Wo.screenX,Ml=s.screenY-Wo.screenY):Ml=kl=0,Wo=s),kl)},movementY:function(s){return"movementY"in s?s.movementY:Ml}}),df=kt(fr),Bv=Z({},fr,{dataTransfer:0}),zv=kt(Bv),Ov=Z({},Go,{relatedTarget:0}),Pl=kt(Ov),Hv=Z({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),$v=kt(Hv),qv=Z({},Vi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Gv=kt(qv),Wv=Z({},Vi,{data:0}),ff=kt(Wv),Jv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qv(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Kv[s])?!!a[s]:!1}function Il(){return Qv}var Xv=Z({},Go,{key:function(s){if(s.key){var a=Jv[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=cr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Yv[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Il,charCode:function(s){return s.type==="keypress"?cr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?cr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Zv=kt(Xv),e0=Z({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hf=kt(e0),t0=Z({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Il}),n0=kt(t0),i0=Z({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),o0=kt(i0),s0=Z({},fr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),r0=kt(s0),a0=[9,13,27,32],Al=d&&"CompositionEvent"in window,Jo=null;d&&"documentMode"in document&&(Jo=document.documentMode);var l0=d&&"TextEvent"in window&&!Jo,pf=d&&(!Al||Jo&&8<Jo&&11>=Jo),mf=" ",gf=!1;function xf(s,a){switch(s){case"keyup":return a0.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ji=!1;function u0(s,a){switch(s){case"compositionend":return yf(a);case"keypress":return a.which!==32?null:(gf=!0,mf);case"textInput":return s=a.data,s===mf&&gf?null:s;default:return null}}function c0(s,a){if(ji)return s==="compositionend"||!Al&&xf(s,a)?(s=uf(),ur=Nl=An=null,ji=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return pf&&a.locale!=="ko"?null:a.data;default:return null}}var d0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!d0[s.type]:a==="textarea"}function Cf(s,a,f,x){jd(x),a=xr(a,"onChange"),0<a.length&&(f=new El("onChange","change",null,f,x),s.push({event:f,listeners:a}))}var Yo=null,Ko=null;function f0(s){Vf(s,0)}function hr(s){var a=$i(s);if(Ed(a))return s}function h0(s,a){if(s==="change")return a}var _f=!1;if(d){var Rl;if(d){var Dl="oninput"in document;if(!Dl){var Sf=document.createElement("div");Sf.setAttribute("oninput","return;"),Dl=typeof Sf.oninput=="function"}Rl=Dl}else Rl=!1;_f=Rl&&(!document.documentMode||9<document.documentMode)}function Tf(){Yo&&(Yo.detachEvent("onpropertychange",wf),Ko=Yo=null)}function wf(s){if(s.propertyName==="value"&&hr(Ko)){var a=[];Cf(a,Ko,s,hl(s)),Hd(f0,a)}}function p0(s,a,f){s==="focusin"?(Tf(),Yo=a,Ko=f,Yo.attachEvent("onpropertychange",wf)):s==="focusout"&&Tf()}function m0(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return hr(Ko)}function g0(s,a){if(s==="click")return hr(a)}function x0(s,a){if(s==="input"||s==="change")return hr(a)}function y0(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var qt=typeof Object.is=="function"?Object.is:y0;function Qo(s,a){if(qt(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var f=Object.keys(s),x=Object.keys(a);if(f.length!==x.length)return!1;for(x=0;x<f.length;x++){var v=f[x];if(!h.call(a,v)||!qt(s[v],a[v]))return!1}return!0}function bf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Nf(s,a){var f=bf(s);s=0;for(var x;f;){if(f.nodeType===3){if(x=s+f.textContent.length,s<=a&&x>=a)return{node:f,offset:a-s};s=x}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=bf(f)}}function Ef(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Ef(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function kf(){for(var s=window,a=Ks();a instanceof s.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)s=a.contentWindow;else break;a=Ks(s.document)}return a}function Ll(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function v0(s){var a=kf(),f=s.focusedElem,x=s.selectionRange;if(a!==f&&f&&f.ownerDocument&&Ef(f.ownerDocument.documentElement,f)){if(x!==null&&Ll(f)){if(a=x.start,s=x.end,s===void 0&&(s=a),"selectionStart"in f)f.selectionStart=a,f.selectionEnd=Math.min(s,f.value.length);else if(s=(a=f.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var v=f.textContent.length,_=Math.min(x.start,v);x=x.end===void 0?_:Math.min(x.end,v),!s.extend&&_>x&&(v=x,x=_,_=v),v=Nf(f,_);var T=Nf(f,x);v&&T&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),s.removeAllRanges(),_>x?(s.addRange(a),s.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),s.addRange(a)))}}for(a=[],s=f;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<a.length;f++)s=a[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var C0=d&&"documentMode"in document&&11>=document.documentMode,Bi=null,Fl=null,Xo=null,Ul=!1;function Mf(s,a,f){var x=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ul||Bi==null||Bi!==Ks(x)||(x=Bi,"selectionStart"in x&&Ll(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Xo&&Qo(Xo,x)||(Xo=x,x=xr(Fl,"onSelect"),0<x.length&&(a=new El("onSelect","select",null,a,f),s.push({event:a,listeners:x}),a.target=Bi)))}function pr(s,a){var f={};return f[s.toLowerCase()]=a.toLowerCase(),f["Webkit"+s]="webkit"+a,f["Moz"+s]="moz"+a,f}var zi={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionend:pr("Transition","TransitionEnd")},Vl={},Pf={};d&&(Pf=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function mr(s){if(Vl[s])return Vl[s];if(!zi[s])return s;var a=zi[s],f;for(f in a)if(a.hasOwnProperty(f)&&f in Pf)return Vl[s]=a[f];return s}var If=mr("animationend"),Af=mr("animationiteration"),Rf=mr("animationstart"),Df=mr("transitionend"),Lf=new Map,Ff="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(s,a){Lf.set(s,a),r(a,[s])}for(var jl=0;jl<Ff.length;jl++){var Bl=Ff[jl],_0=Bl.toLowerCase(),S0=Bl[0].toUpperCase()+Bl.slice(1);Rn(_0,"on"+S0)}Rn(If,"onAnimationEnd"),Rn(Af,"onAnimationIteration"),Rn(Rf,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(Df,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),r("onBeforeInput",["compositionend","keypress","textInput","paste"]),r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zo));function Uf(s,a,f){var x=s.type||"unknown-event";s.currentTarget=f,_v(x,a,void 0,s),s.currentTarget=null}function Vf(s,a){a=(a&4)!==0;for(var f=0;f<s.length;f++){var x=s[f],v=x.event;x=x.listeners;e:{var _=void 0;if(a)for(var T=x.length-1;0<=T;T--){var E=x[T],P=E.instance,j=E.currentTarget;if(E=E.listener,P!==_&&v.isPropagationStopped())break e;Uf(v,E,j),_=P}else for(T=0;T<x.length;T++){if(E=x[T],P=E.instance,j=E.currentTarget,E=E.listener,P!==_&&v.isPropagationStopped())break e;Uf(v,E,j),_=P}}}if(Zs)throw s=xl,Zs=!1,xl=null,s}function Fe(s,a){var f=a[Jl];f===void 0&&(f=a[Jl]=new Set);var x=s+"__bubble";f.has(x)||(jf(a,s,2,!1),f.add(x))}function zl(s,a,f){var x=0;a&&(x|=4),jf(f,s,x,a)}var gr="_reactListening"+Math.random().toString(36).slice(2);function es(s){if(!s[gr]){s[gr]=!0,i.forEach(function(f){f!=="selectionchange"&&(T0.has(f)||zl(f,!1,s),zl(f,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[gr]||(a[gr]=!0,zl("selectionchange",!1,a))}}function jf(s,a,f,x){switch(lf(a)){case 1:var v=Uv;break;case 4:v=Vv;break;default:v=wl}f=v.bind(null,a,f,s),v=void 0,!gl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),x?v!==void 0?s.addEventListener(a,f,{capture:!0,passive:v}):s.addEventListener(a,f,!0):v!==void 0?s.addEventListener(a,f,{passive:v}):s.addEventListener(a,f,!1)}function Ol(s,a,f,x,v){var _=x;if((a&1)===0&&(a&2)===0&&x!==null)e:for(;;){if(x===null)return;var T=x.tag;if(T===3||T===4){var E=x.stateNode.containerInfo;if(E===v||E.nodeType===8&&E.parentNode===v)break;if(T===4)for(T=x.return;T!==null;){var P=T.tag;if((P===3||P===4)&&(P=T.stateNode.containerInfo,P===v||P.nodeType===8&&P.parentNode===v))return;T=T.return}for(;E!==null;){if(T=oi(E),T===null)return;if(P=T.tag,P===5||P===6){x=_=T;continue e}E=E.parentNode}}x=x.return}Hd(function(){var j=_,G=hl(f),W=[];e:{var q=Lf.get(s);if(q!==void 0){var ee=El,ie=s;switch(s){case"keypress":if(cr(f)===0)break e;case"keydown":case"keyup":ee=Zv;break;case"focusin":ie="focus",ee=Pl;break;case"focusout":ie="blur",ee=Pl;break;case"beforeblur":case"afterblur":ee=Pl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=zv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=n0;break;case If:case Af:case Rf:ee=$v;break;case Df:ee=o0;break;case"scroll":ee=jv;break;case"wheel":ee=r0;break;case"copy":case"cut":case"paste":ee=Gv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=hf}var oe=(a&4)!==0,Je=!oe&&s==="scroll",U=oe?q!==null?q+"Capture":null:q;oe=[];for(var R=j,V;R!==null;){V=R;var J=V.stateNode;if(V.tag===5&&J!==null&&(V=J,U!==null&&(J=Fo(R,U),J!=null&&oe.push(ts(R,J,V)))),Je)break;R=R.return}0<oe.length&&(q=new ee(q,ie,null,f,G),W.push({event:q,listeners:oe}))}}if((a&7)===0){e:{if(q=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",q&&f!==fl&&(ie=f.relatedTarget||f.fromElement)&&(oi(ie)||ie[fn]))break e;if((ee||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,ee?(ie=f.relatedTarget||f.toElement,ee=j,ie=ie?oi(ie):null,ie!==null&&(Je=ii(ie),ie!==Je||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ee=null,ie=j),ee!==ie)){if(oe=df,J="onMouseLeave",U="onMouseEnter",R="mouse",(s==="pointerout"||s==="pointerover")&&(oe=hf,J="onPointerLeave",U="onPointerEnter",R="pointer"),Je=ee==null?q:$i(ee),V=ie==null?q:$i(ie),q=new oe(J,R+"leave",ee,f,G),q.target=Je,q.relatedTarget=V,J=null,oi(G)===j&&(oe=new oe(U,R+"enter",ie,f,G),oe.target=V,oe.relatedTarget=Je,J=oe),Je=J,ee&&ie)t:{for(oe=ee,U=ie,R=0,V=oe;V;V=Oi(V))R++;for(V=0,J=U;J;J=Oi(J))V++;for(;0<R-V;)oe=Oi(oe),R--;for(;0<V-R;)U=Oi(U),V--;for(;R--;){if(oe===U||U!==null&&oe===U.alternate)break t;oe=Oi(oe),U=Oi(U)}oe=null}else oe=null;ee!==null&&Bf(W,q,ee,oe,!1),ie!==null&&Je!==null&&Bf(W,Je,ie,oe,!0)}}e:{if(q=j?$i(j):window,ee=q.nodeName&&q.nodeName.toLowerCase(),ee==="select"||ee==="input"&&q.type==="file")var se=h0;else if(vf(q))if(_f)se=x0;else{se=m0;var le=p0}else(ee=q.nodeName)&&ee.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(se=g0);if(se&&(se=se(s,j))){Cf(W,se,f,G);break e}le&&le(s,q,j),s==="focusout"&&(le=q._wrapperState)&&le.controlled&&q.type==="number"&&al(q,"number",q.value)}switch(le=j?$i(j):window,s){case"focusin":(vf(le)||le.contentEditable==="true")&&(Bi=le,Fl=j,Xo=null);break;case"focusout":Xo=Fl=Bi=null;break;case"mousedown":Ul=!0;break;case"contextmenu":case"mouseup":case"dragend":Ul=!1,Mf(W,f,G);break;case"selectionchange":if(C0)break;case"keydown":case"keyup":Mf(W,f,G)}var ue;if(Al)e:{switch(s){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else ji?xf(s,f)&&(he="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(he="onCompositionStart");he&&(pf&&f.locale!=="ko"&&(ji||he!=="onCompositionStart"?he==="onCompositionEnd"&&ji&&(ue=uf()):(An=G,Nl="value"in An?An.value:An.textContent,ji=!0)),le=xr(j,he),0<le.length&&(he=new ff(he,s,null,f,G),W.push({event:he,listeners:le}),ue?he.data=ue:(ue=yf(f),ue!==null&&(he.data=ue)))),(ue=l0?u0(s,f):c0(s,f))&&(j=xr(j,"onBeforeInput"),0<j.length&&(G=new ff("onBeforeInput","beforeinput",null,f,G),W.push({event:G,listeners:j}),G.data=ue))}Vf(W,a)})}function ts(s,a,f){return{instance:s,listener:a,currentTarget:f}}function xr(s,a){for(var f=a+"Capture",x=[];s!==null;){var v=s,_=v.stateNode;v.tag===5&&_!==null&&(v=_,_=Fo(s,f),_!=null&&x.unshift(ts(s,_,v)),_=Fo(s,a),_!=null&&x.push(ts(s,_,v))),s=s.return}return x}function Oi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Bf(s,a,f,x,v){for(var _=a._reactName,T=[];f!==null&&f!==x;){var E=f,P=E.alternate,j=E.stateNode;if(P!==null&&P===x)break;E.tag===5&&j!==null&&(E=j,v?(P=Fo(f,_),P!=null&&T.unshift(ts(f,P,E))):v||(P=Fo(f,_),P!=null&&T.push(ts(f,P,E)))),f=f.return}T.length!==0&&s.push({event:a,listeners:T})}var w0=/\r\n?/g,b0=/\u0000|\uFFFD/g;function zf(s){return(typeof s=="string"?s:""+s).replace(w0,`
`).replace(b0,"")}function yr(s,a,f){if(a=zf(a),zf(s)!==a&&f)throw Error(n(425))}function vr(){}var Hl=null,$l=null;function ql(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gl=typeof setTimeout=="function"?setTimeout:void 0,N0=typeof clearTimeout=="function"?clearTimeout:void 0,Of=typeof Promise=="function"?Promise:void 0,E0=typeof queueMicrotask=="function"?queueMicrotask:typeof Of<"u"?function(s){return Of.resolve(null).then(s).catch(k0)}:Gl;function k0(s){setTimeout(function(){throw s})}function Wl(s,a){var f=a,x=0;do{var v=f.nextSibling;if(s.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"){if(x===0){s.removeChild(v),qo(a);return}x--}else f!=="$"&&f!=="$?"&&f!=="$!"||x++;f=v}while(f);qo(a)}function Dn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Hf(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(a===0)return s;a--}else f==="/$"&&a++}s=s.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Hi,ns="__reactProps$"+Hi,fn="__reactContainer$"+Hi,Jl="__reactEvents$"+Hi,M0="__reactListeners$"+Hi,P0="__reactHandles$"+Hi;function oi(s){var a=s[Zt];if(a)return a;for(var f=s.parentNode;f;){if(a=f[fn]||f[Zt]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(s=Hf(s);s!==null;){if(f=s[Zt])return f;s=Hf(s)}return a}s=f,f=s.parentNode}return null}function is(s){return s=s[Zt]||s[fn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function $i(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Cr(s){return s[ns]||null}var Yl=[],qi=-1;function Ln(s){return{current:s}}function Ue(s){0>qi||(s.current=Yl[qi],Yl[qi]=null,qi--)}function Le(s,a){qi++,Yl[qi]=s.current,s.current=a}var Fn={},ut=Ln(Fn),yt=Ln(!1),si=Fn;function Gi(s,a){var f=s.type.contextTypes;if(!f)return Fn;var x=s.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===a)return x.__reactInternalMemoizedMaskedChildContext;var v={},_;for(_ in f)v[_]=a[_];return x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=v),v}function vt(s){return s=s.childContextTypes,s!=null}function _r(){Ue(yt),Ue(ut)}function $f(s,a,f){if(ut.current!==Fn)throw Error(n(168));Le(ut,a),Le(yt,f)}function qf(s,a,f){var x=s.stateNode;if(a=a.childContextTypes,typeof x.getChildContext!="function")return f;x=x.getChildContext();for(var v in x)if(!(v in a))throw Error(n(108,De(s)||"Unknown",v));return Z({},f,x)}function Sr(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Fn,si=ut.current,Le(ut,s),Le(yt,yt.current),!0}function Gf(s,a,f){var x=s.stateNode;if(!x)throw Error(n(169));f?(s=qf(s,a,si),x.__reactInternalMemoizedMergedChildContext=s,Ue(yt),Ue(ut),Le(ut,s)):Ue(yt),Le(yt,f)}var hn=null,Tr=!1,Kl=!1;function Wf(s){hn===null?hn=[s]:hn.push(s)}function I0(s){Tr=!0,Wf(s)}function Un(){if(!Kl&&hn!==null){Kl=!0;var s=0,a=Ie;try{var f=hn;for(Ie=1;s<f.length;s++){var x=f[s];do x=x(!0);while(x!==null)}hn=null,Tr=!1}catch(v){throw hn!==null&&(hn=hn.slice(s+1)),Jd(yl,Un),v}finally{Ie=a,Kl=!1}}return null}var Wi=[],Ji=0,wr=null,br=0,Rt=[],Dt=0,ri=null,pn=1,mn="";function ai(s,a){Wi[Ji++]=br,Wi[Ji++]=wr,wr=s,br=a}function Jf(s,a,f){Rt[Dt++]=pn,Rt[Dt++]=mn,Rt[Dt++]=ri,ri=s;var x=pn;s=mn;var v=32-$t(x)-1;x&=~(1<<v),f+=1;var _=32-$t(a)+v;if(30<_){var T=v-v%5;_=(x&(1<<T)-1).toString(32),x>>=T,v-=T,pn=1<<32-$t(a)+v|f<<v|x,mn=_+s}else pn=1<<_|f<<v|x,mn=s}function Ql(s){s.return!==null&&(ai(s,1),Jf(s,1,0))}function Xl(s){for(;s===wr;)wr=Wi[--Ji],Wi[Ji]=null,br=Wi[--Ji],Wi[Ji]=null;for(;s===ri;)ri=Rt[--Dt],Rt[Dt]=null,mn=Rt[--Dt],Rt[Dt]=null,pn=Rt[--Dt],Rt[Dt]=null}var Mt=null,Pt=null,Oe=!1,Gt=null;function Yf(s,a){var f=Vt(5,null,null,0);f.elementType="DELETED",f.stateNode=a,f.return=s,a=s.deletions,a===null?(s.deletions=[f],s.flags|=16):a.push(f)}function Kf(s,a){switch(s.tag){case 5:var f=s.type;return a=a.nodeType!==1||f.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Mt=s,Pt=Dn(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Mt=s,Pt=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(f=ri!==null?{id:pn,overflow:mn}:null,s.memoizedState={dehydrated:a,treeContext:f,retryLane:1073741824},f=Vt(18,null,null,0),f.stateNode=a,f.return=s,s.child=f,Mt=s,Pt=null,!0):!1;default:return!1}}function Zl(s){return(s.mode&1)!==0&&(s.flags&128)===0}function eu(s){if(Oe){var a=Pt;if(a){var f=a;if(!Kf(s,a)){if(Zl(s))throw Error(n(418));a=Dn(f.nextSibling);var x=Mt;a&&Kf(s,a)?Yf(x,f):(s.flags=s.flags&-4097|2,Oe=!1,Mt=s)}}else{if(Zl(s))throw Error(n(418));s.flags=s.flags&-4097|2,Oe=!1,Mt=s}}}function Qf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Mt=s}function Nr(s){if(s!==Mt)return!1;if(!Oe)return Qf(s),Oe=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!ql(s.type,s.memoizedProps)),a&&(a=Pt)){if(Zl(s))throw Xf(),Error(n(418));for(;a;)Yf(s,a),a=Dn(a.nextSibling)}if(Qf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(a===0){Pt=Dn(s.nextSibling);break e}a--}else f!=="$"&&f!=="$!"&&f!=="$?"||a++}s=s.nextSibling}Pt=null}}else Pt=Mt?Dn(s.stateNode.nextSibling):null;return!0}function Xf(){for(var s=Pt;s;)s=Dn(s.nextSibling)}function Yi(){Pt=Mt=null,Oe=!1}function tu(s){Gt===null?Gt=[s]:Gt.push(s)}var A0=D.ReactCurrentBatchConfig;function os(s,a,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var x=f.stateNode}if(!x)throw Error(n(147,s));var v=x,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(T){var E=v.refs;T===null?delete E[_]:E[_]=T},a._stringRef=_,a)}if(typeof s!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,s))}return s}function Er(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Zf(s){var a=s._init;return a(s._payload)}function eh(s){function a(U,R){if(s){var V=U.deletions;V===null?(U.deletions=[R],U.flags|=16):V.push(R)}}function f(U,R){if(!s)return null;for(;R!==null;)a(U,R),R=R.sibling;return null}function x(U,R){for(U=new Map;R!==null;)R.key!==null?U.set(R.key,R):U.set(R.index,R),R=R.sibling;return U}function v(U,R){return U=qn(U,R),U.index=0,U.sibling=null,U}function _(U,R,V){return U.index=V,s?(V=U.alternate,V!==null?(V=V.index,V<R?(U.flags|=2,R):V):(U.flags|=2,R)):(U.flags|=1048576,R)}function T(U){return s&&U.alternate===null&&(U.flags|=2),U}function E(U,R,V,J){return R===null||R.tag!==6?(R=Gu(V,U.mode,J),R.return=U,R):(R=v(R,V),R.return=U,R)}function P(U,R,V,J){var se=V.type;return se===$?G(U,R,V.props.children,J,V.key):R!==null&&(R.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ye&&Zf(se)===R.type)?(J=v(R,V.props),J.ref=os(U,R,V),J.return=U,J):(J=Qr(V.type,V.key,V.props,null,U.mode,J),J.ref=os(U,R,V),J.return=U,J)}function j(U,R,V,J){return R===null||R.tag!==4||R.stateNode.containerInfo!==V.containerInfo||R.stateNode.implementation!==V.implementation?(R=Wu(V,U.mode,J),R.return=U,R):(R=v(R,V.children||[]),R.return=U,R)}function G(U,R,V,J,se){return R===null||R.tag!==7?(R=mi(V,U.mode,J,se),R.return=U,R):(R=v(R,V),R.return=U,R)}function W(U,R,V){if(typeof R=="string"&&R!==""||typeof R=="number")return R=Gu(""+R,U.mode,V),R.return=U,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case L:return V=Qr(R.type,R.key,R.props,null,U.mode,V),V.ref=os(U,null,R),V.return=U,V;case z:return R=Wu(R,U.mode,V),R.return=U,R;case ye:var J=R._init;return W(U,J(R._payload),V)}if(Ro(R)||te(R))return R=mi(R,U.mode,V,null),R.return=U,R;Er(U,R)}return null}function q(U,R,V,J){var se=R!==null?R.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return se!==null?null:E(U,R,""+V,J);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return V.key===se?P(U,R,V,J):null;case z:return V.key===se?j(U,R,V,J):null;case ye:return se=V._init,q(U,R,se(V._payload),J)}if(Ro(V)||te(V))return se!==null?null:G(U,R,V,J,null);Er(U,V)}return null}function ee(U,R,V,J,se){if(typeof J=="string"&&J!==""||typeof J=="number")return U=U.get(V)||null,E(R,U,""+J,se);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case L:return U=U.get(J.key===null?V:J.key)||null,P(R,U,J,se);case z:return U=U.get(J.key===null?V:J.key)||null,j(R,U,J,se);case ye:var le=J._init;return ee(U,R,V,le(J._payload),se)}if(Ro(J)||te(J))return U=U.get(V)||null,G(R,U,J,se,null);Er(R,J)}return null}function ie(U,R,V,J){for(var se=null,le=null,ue=R,he=R=0,rt=null;ue!==null&&he<V.length;he++){ue.index>he?(rt=ue,ue=null):rt=ue.sibling;var Ne=q(U,ue,V[he],J);if(Ne===null){ue===null&&(ue=rt);break}s&&ue&&Ne.alternate===null&&a(U,ue),R=_(Ne,R,he),le===null?se=Ne:le.sibling=Ne,le=Ne,ue=rt}if(he===V.length)return f(U,ue),Oe&&ai(U,he),se;if(ue===null){for(;he<V.length;he++)ue=W(U,V[he],J),ue!==null&&(R=_(ue,R,he),le===null?se=ue:le.sibling=ue,le=ue);return Oe&&ai(U,he),se}for(ue=x(U,ue);he<V.length;he++)rt=ee(ue,U,he,V[he],J),rt!==null&&(s&&rt.alternate!==null&&ue.delete(rt.key===null?he:rt.key),R=_(rt,R,he),le===null?se=rt:le.sibling=rt,le=rt);return s&&ue.forEach(function(Gn){return a(U,Gn)}),Oe&&ai(U,he),se}function oe(U,R,V,J){var se=te(V);if(typeof se!="function")throw Error(n(150));if(V=se.call(V),V==null)throw Error(n(151));for(var le=se=null,ue=R,he=R=0,rt=null,Ne=V.next();ue!==null&&!Ne.done;he++,Ne=V.next()){ue.index>he?(rt=ue,ue=null):rt=ue.sibling;var Gn=q(U,ue,Ne.value,J);if(Gn===null){ue===null&&(ue=rt);break}s&&ue&&Gn.alternate===null&&a(U,ue),R=_(Gn,R,he),le===null?se=Gn:le.sibling=Gn,le=Gn,ue=rt}if(Ne.done)return f(U,ue),Oe&&ai(U,he),se;if(ue===null){for(;!Ne.done;he++,Ne=V.next())Ne=W(U,Ne.value,J),Ne!==null&&(R=_(Ne,R,he),le===null?se=Ne:le.sibling=Ne,le=Ne);return Oe&&ai(U,he),se}for(ue=x(U,ue);!Ne.done;he++,Ne=V.next())Ne=ee(ue,U,he,Ne.value,J),Ne!==null&&(s&&Ne.alternate!==null&&ue.delete(Ne.key===null?he:Ne.key),R=_(Ne,R,he),le===null?se=Ne:le.sibling=Ne,le=Ne);return s&&ue.forEach(function(dC){return a(U,dC)}),Oe&&ai(U,he),se}function Je(U,R,V,J){if(typeof V=="object"&&V!==null&&V.type===$&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case L:e:{for(var se=V.key,le=R;le!==null;){if(le.key===se){if(se=V.type,se===$){if(le.tag===7){f(U,le.sibling),R=v(le,V.props.children),R.return=U,U=R;break e}}else if(le.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ye&&Zf(se)===le.type){f(U,le.sibling),R=v(le,V.props),R.ref=os(U,le,V),R.return=U,U=R;break e}f(U,le);break}else a(U,le);le=le.sibling}V.type===$?(R=mi(V.props.children,U.mode,J,V.key),R.return=U,U=R):(J=Qr(V.type,V.key,V.props,null,U.mode,J),J.ref=os(U,R,V),J.return=U,U=J)}return T(U);case z:e:{for(le=V.key;R!==null;){if(R.key===le)if(R.tag===4&&R.stateNode.containerInfo===V.containerInfo&&R.stateNode.implementation===V.implementation){f(U,R.sibling),R=v(R,V.children||[]),R.return=U,U=R;break e}else{f(U,R);break}else a(U,R);R=R.sibling}R=Wu(V,U.mode,J),R.return=U,U=R}return T(U);case ye:return le=V._init,Je(U,R,le(V._payload),J)}if(Ro(V))return ie(U,R,V,J);if(te(V))return oe(U,R,V,J);Er(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,R!==null&&R.tag===6?(f(U,R.sibling),R=v(R,V),R.return=U,U=R):(f(U,R),R=Gu(V,U.mode,J),R.return=U,U=R),T(U)):f(U,R)}return Je}var Ki=eh(!0),th=eh(!1),kr=Ln(null),Mr=null,Qi=null,nu=null;function iu(){nu=Qi=Mr=null}function ou(s){var a=kr.current;Ue(kr),s._currentValue=a}function su(s,a,f){for(;s!==null;){var x=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,x!==null&&(x.childLanes|=a)):x!==null&&(x.childLanes&a)!==a&&(x.childLanes|=a),s===f)break;s=s.return}}function Xi(s,a){Mr=s,nu=Qi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Ct=!0),s.firstContext=null)}function Lt(s){var a=s._currentValue;if(nu!==s)if(s={context:s,memoizedValue:a,next:null},Qi===null){if(Mr===null)throw Error(n(308));Qi=s,Mr.dependencies={lanes:0,firstContext:s}}else Qi=Qi.next=s;return a}var li=null;function ru(s){li===null?li=[s]:li.push(s)}function nh(s,a,f,x){var v=a.interleaved;return v===null?(f.next=f,ru(a)):(f.next=v.next,v.next=f),a.interleaved=f,gn(s,x)}function gn(s,a){s.lanes|=a;var f=s.alternate;for(f!==null&&(f.lanes|=a),f=s,s=s.return;s!==null;)s.childLanes|=a,f=s.alternate,f!==null&&(f.childLanes|=a),f=s,s=s.return;return f.tag===3?f.stateNode:null}var Vn=!1;function au(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ih(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function xn(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function jn(s,a,f){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(Te&2)!==0){var v=x.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),x.pending=a,gn(s,f)}return v=x.interleaved,v===null?(a.next=a,ru(x)):(a.next=v.next,v.next=a),x.interleaved=a,gn(s,f)}function Pr(s,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194240)!==0)){var x=a.lanes;x&=s.pendingLanes,f|=x,a.lanes=f,_l(s,f)}}function oh(s,a){var f=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,f===x)){var v=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var T={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?v=_=T:_=_.next=T,f=f.next}while(f!==null);_===null?v=_=a:_=_.next=a}else v=_=a;f={baseState:x.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:x.shared,effects:x.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=a:s.next=a,f.lastBaseUpdate=a}function Ir(s,a,f,x){var v=s.updateQueue;Vn=!1;var _=v.firstBaseUpdate,T=v.lastBaseUpdate,E=v.shared.pending;if(E!==null){v.shared.pending=null;var P=E,j=P.next;P.next=null,T===null?_=j:T.next=j,T=P;var G=s.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==T&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=P))}if(_!==null){var W=v.baseState;T=0,G=j=P=null,E=_;do{var q=E.lane,ee=E.eventTime;if((x&q)===q){G!==null&&(G=G.next={eventTime:ee,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ie=s,oe=E;switch(q=a,ee=f,oe.tag){case 1:if(ie=oe.payload,typeof ie=="function"){W=ie.call(ee,W,q);break e}W=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=oe.payload,q=typeof ie=="function"?ie.call(ee,W,q):ie,q==null)break e;W=Z({},W,q);break e;case 2:Vn=!0}}E.callback!==null&&E.lane!==0&&(s.flags|=64,q=v.effects,q===null?v.effects=[E]:q.push(E))}else ee={eventTime:ee,lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=ee,P=W):G=G.next=ee,T|=q;if(E=E.next,E===null){if(E=v.shared.pending,E===null)break;q=E,E=q.next,q.next=null,v.lastBaseUpdate=q,v.shared.pending=null}}while(!0);if(G===null&&(P=W),v.baseState=P,v.firstBaseUpdate=j,v.lastBaseUpdate=G,a=v.shared.interleaved,a!==null){v=a;do T|=v.lane,v=v.next;while(v!==a)}else _===null&&(v.shared.lanes=0);di|=T,s.lanes=T,s.memoizedState=W}}function sh(s,a,f){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var x=s[a],v=x.callback;if(v!==null){if(x.callback=null,x=f,typeof v!="function")throw Error(n(191,v));v.call(x)}}}var ss={},en=Ln(ss),rs=Ln(ss),as=Ln(ss);function ui(s){if(s===ss)throw Error(n(174));return s}function lu(s,a){switch(Le(as,a),Le(rs,s),Le(en,ss),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ul(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ul(a,s)}Ue(en),Le(en,a)}function Zi(){Ue(en),Ue(rs),Ue(as)}function rh(s){ui(as.current);var a=ui(en.current),f=ul(a,s.type);a!==f&&(Le(rs,s),Le(en,f))}function uu(s){rs.current===s&&(Ue(en),Ue(rs))}var He=Ln(0);function Ar(s){for(var a=s;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var cu=[];function du(){for(var s=0;s<cu.length;s++)cu[s]._workInProgressVersionPrimary=null;cu.length=0}var Rr=D.ReactCurrentDispatcher,fu=D.ReactCurrentBatchConfig,ci=0,$e=null,et=null,ot=null,Dr=!1,ls=!1,us=0,R0=0;function ct(){throw Error(n(321))}function hu(s,a){if(a===null)return!1;for(var f=0;f<a.length&&f<s.length;f++)if(!qt(s[f],a[f]))return!1;return!0}function pu(s,a,f,x,v,_){if(ci=_,$e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Rr.current=s===null||s.memoizedState===null?U0:V0,s=f(x,v),ls){_=0;do{if(ls=!1,us=0,25<=_)throw Error(n(301));_+=1,ot=et=null,a.updateQueue=null,Rr.current=j0,s=f(x,v)}while(ls)}if(Rr.current=Ur,a=et!==null&&et.next!==null,ci=0,ot=et=$e=null,Dr=!1,a)throw Error(n(300));return s}function mu(){var s=us!==0;return us=0,s}function tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?$e.memoizedState=ot=s:ot=ot.next=s,ot}function Ft(){if(et===null){var s=$e.alternate;s=s!==null?s.memoizedState:null}else s=et.next;var a=ot===null?$e.memoizedState:ot.next;if(a!==null)ot=a,et=s;else{if(s===null)throw Error(n(310));et=s,s={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},ot===null?$e.memoizedState=ot=s:ot=ot.next=s}return ot}function cs(s,a){return typeof a=="function"?a(s):a}function gu(s){var a=Ft(),f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=s;var x=et,v=x.baseQueue,_=f.pending;if(_!==null){if(v!==null){var T=v.next;v.next=_.next,_.next=T}x.baseQueue=v=_,f.pending=null}if(v!==null){_=v.next,x=x.baseState;var E=T=null,P=null,j=_;do{var G=j.lane;if((ci&G)===G)P!==null&&(P=P.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),x=j.hasEagerState?j.eagerState:s(x,j.action);else{var W={lane:G,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};P===null?(E=P=W,T=x):P=P.next=W,$e.lanes|=G,di|=G}j=j.next}while(j!==null&&j!==_);P===null?T=x:P.next=E,qt(x,a.memoizedState)||(Ct=!0),a.memoizedState=x,a.baseState=T,a.baseQueue=P,f.lastRenderedState=x}if(s=f.interleaved,s!==null){v=s;do _=v.lane,$e.lanes|=_,di|=_,v=v.next;while(v!==s)}else v===null&&(f.lanes=0);return[a.memoizedState,f.dispatch]}function xu(s){var a=Ft(),f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=s;var x=f.dispatch,v=f.pending,_=a.memoizedState;if(v!==null){f.pending=null;var T=v=v.next;do _=s(_,T.action),T=T.next;while(T!==v);qt(_,a.memoizedState)||(Ct=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),f.lastRenderedState=_}return[_,x]}function ah(){}function lh(s,a){var f=$e,x=Ft(),v=a(),_=!qt(x.memoizedState,v);if(_&&(x.memoizedState=v,Ct=!0),x=x.queue,yu(dh.bind(null,f,x,s),[s]),x.getSnapshot!==a||_||ot!==null&&ot.memoizedState.tag&1){if(f.flags|=2048,ds(9,ch.bind(null,f,x,v,a),void 0,null),st===null)throw Error(n(349));(ci&30)!==0||uh(f,a,v)}return v}function uh(s,a,f){s.flags|=16384,s={getSnapshot:a,value:f},a=$e.updateQueue,a===null?(a={lastEffect:null,stores:null},$e.updateQueue=a,a.stores=[s]):(f=a.stores,f===null?a.stores=[s]:f.push(s))}function ch(s,a,f,x){a.value=f,a.getSnapshot=x,fh(a)&&hh(s)}function dh(s,a,f){return f(function(){fh(a)&&hh(s)})}function fh(s){var a=s.getSnapshot;s=s.value;try{var f=a();return!qt(s,f)}catch{return!0}}function hh(s){var a=gn(s,1);a!==null&&Kt(a,s,1,-1)}function ph(s){var a=tn();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:s},a.queue=s,s=s.dispatch=F0.bind(null,$e,s),[a.memoizedState,s]}function ds(s,a,f,x){return s={tag:s,create:a,destroy:f,deps:x,next:null},a=$e.updateQueue,a===null?(a={lastEffect:null,stores:null},$e.updateQueue=a,a.lastEffect=s.next=s):(f=a.lastEffect,f===null?a.lastEffect=s.next=s:(x=f.next,f.next=s,s.next=x,a.lastEffect=s)),s}function mh(){return Ft().memoizedState}function Lr(s,a,f,x){var v=tn();$e.flags|=s,v.memoizedState=ds(1|a,f,void 0,x===void 0?null:x)}function Fr(s,a,f,x){var v=Ft();x=x===void 0?null:x;var _=void 0;if(et!==null){var T=et.memoizedState;if(_=T.destroy,x!==null&&hu(x,T.deps)){v.memoizedState=ds(a,f,_,x);return}}$e.flags|=s,v.memoizedState=ds(1|a,f,_,x)}function gh(s,a){return Lr(8390656,8,s,a)}function yu(s,a){return Fr(2048,8,s,a)}function xh(s,a){return Fr(4,2,s,a)}function yh(s,a){return Fr(4,4,s,a)}function vh(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Ch(s,a,f){return f=f!=null?f.concat([s]):null,Fr(4,4,vh.bind(null,a,s),f)}function vu(){}function _h(s,a){var f=Ft();a=a===void 0?null:a;var x=f.memoizedState;return x!==null&&a!==null&&hu(a,x[1])?x[0]:(f.memoizedState=[s,a],s)}function Sh(s,a){var f=Ft();a=a===void 0?null:a;var x=f.memoizedState;return x!==null&&a!==null&&hu(a,x[1])?x[0]:(s=s(),f.memoizedState=[s,a],s)}function Th(s,a,f){return(ci&21)===0?(s.baseState&&(s.baseState=!1,Ct=!0),s.memoizedState=f):(qt(f,a)||(f=Xd(),$e.lanes|=f,di|=f,s.baseState=!0),a)}function D0(s,a){var f=Ie;Ie=f!==0&&4>f?f:4,s(!0);var x=fu.transition;fu.transition={};try{s(!1),a()}finally{Ie=f,fu.transition=x}}function wh(){return Ft().memoizedState}function L0(s,a,f){var x=Hn(s);if(f={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null},bh(s))Nh(a,f);else if(f=nh(s,a,f,x),f!==null){var v=xt();Kt(f,s,x,v),Eh(f,a,x)}}function F0(s,a,f){var x=Hn(s),v={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null};if(bh(s))Nh(a,v);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var T=a.lastRenderedState,E=_(T,f);if(v.hasEagerState=!0,v.eagerState=E,qt(E,T)){var P=a.interleaved;P===null?(v.next=v,ru(a)):(v.next=P.next,P.next=v),a.interleaved=v;return}}catch{}finally{}f=nh(s,a,v,x),f!==null&&(v=xt(),Kt(f,s,x,v),Eh(f,a,x))}}function bh(s){var a=s.alternate;return s===$e||a!==null&&a===$e}function Nh(s,a){ls=Dr=!0;var f=s.pending;f===null?a.next=a:(a.next=f.next,f.next=a),s.pending=a}function Eh(s,a,f){if((f&4194240)!==0){var x=a.lanes;x&=s.pendingLanes,f|=x,a.lanes=f,_l(s,f)}}var Ur={readContext:Lt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},U0={readContext:Lt,useCallback:function(s,a){return tn().memoizedState=[s,a===void 0?null:a],s},useContext:Lt,useEffect:gh,useImperativeHandle:function(s,a,f){return f=f!=null?f.concat([s]):null,Lr(4194308,4,vh.bind(null,a,s),f)},useLayoutEffect:function(s,a){return Lr(4194308,4,s,a)},useInsertionEffect:function(s,a){return Lr(4,2,s,a)},useMemo:function(s,a){var f=tn();return a=a===void 0?null:a,s=s(),f.memoizedState=[s,a],s},useReducer:function(s,a,f){var x=tn();return a=f!==void 0?f(a):a,x.memoizedState=x.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},x.queue=s,s=s.dispatch=L0.bind(null,$e,s),[x.memoizedState,s]},useRef:function(s){var a=tn();return s={current:s},a.memoizedState=s},useState:ph,useDebugValue:vu,useDeferredValue:function(s){return tn().memoizedState=s},useTransition:function(){var s=ph(!1),a=s[0];return s=D0.bind(null,s[1]),tn().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,f){var x=$e,v=tn();if(Oe){if(f===void 0)throw Error(n(407));f=f()}else{if(f=a(),st===null)throw Error(n(349));(ci&30)!==0||uh(x,a,f)}v.memoizedState=f;var _={value:f,getSnapshot:a};return v.queue=_,gh(dh.bind(null,x,_,s),[s]),x.flags|=2048,ds(9,ch.bind(null,x,_,f,a),void 0,null),f},useId:function(){var s=tn(),a=st.identifierPrefix;if(Oe){var f=mn,x=pn;f=(x&~(1<<32-$t(x)-1)).toString(32)+f,a=":"+a+"R"+f,f=us++,0<f&&(a+="H"+f.toString(32)),a+=":"}else f=R0++,a=":"+a+"r"+f.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},V0={readContext:Lt,useCallback:_h,useContext:Lt,useEffect:yu,useImperativeHandle:Ch,useInsertionEffect:xh,useLayoutEffect:yh,useMemo:Sh,useReducer:gu,useRef:mh,useState:function(){return gu(cs)},useDebugValue:vu,useDeferredValue:function(s){var a=Ft();return Th(a,et.memoizedState,s)},useTransition:function(){var s=gu(cs)[0],a=Ft().memoizedState;return[s,a]},useMutableSource:ah,useSyncExternalStore:lh,useId:wh,unstable_isNewReconciler:!1},j0={readContext:Lt,useCallback:_h,useContext:Lt,useEffect:yu,useImperativeHandle:Ch,useInsertionEffect:xh,useLayoutEffect:yh,useMemo:Sh,useReducer:xu,useRef:mh,useState:function(){return xu(cs)},useDebugValue:vu,useDeferredValue:function(s){var a=Ft();return et===null?a.memoizedState=s:Th(a,et.memoizedState,s)},useTransition:function(){var s=xu(cs)[0],a=Ft().memoizedState;return[s,a]},useMutableSource:ah,useSyncExternalStore:lh,useId:wh,unstable_isNewReconciler:!1};function Wt(s,a){if(s&&s.defaultProps){a=Z({},a),s=s.defaultProps;for(var f in s)a[f]===void 0&&(a[f]=s[f]);return a}return a}function Cu(s,a,f,x){a=s.memoizedState,f=f(x,a),f=f==null?a:Z({},a,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var Vr={isMounted:function(s){return(s=s._reactInternals)?ii(s)===s:!1},enqueueSetState:function(s,a,f){s=s._reactInternals;var x=xt(),v=Hn(s),_=xn(x,v);_.payload=a,f!=null&&(_.callback=f),a=jn(s,_,v),a!==null&&(Kt(a,s,v,x),Pr(a,s,v))},enqueueReplaceState:function(s,a,f){s=s._reactInternals;var x=xt(),v=Hn(s),_=xn(x,v);_.tag=1,_.payload=a,f!=null&&(_.callback=f),a=jn(s,_,v),a!==null&&(Kt(a,s,v,x),Pr(a,s,v))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var f=xt(),x=Hn(s),v=xn(f,x);v.tag=2,a!=null&&(v.callback=a),a=jn(s,v,x),a!==null&&(Kt(a,s,x,f),Pr(a,s,x))}};function kh(s,a,f,x,v,_,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,_,T):a.prototype&&a.prototype.isPureReactComponent?!Qo(f,x)||!Qo(v,_):!0}function Mh(s,a,f){var x=!1,v=Fn,_=a.contextType;return typeof _=="object"&&_!==null?_=Lt(_):(v=vt(a)?si:ut.current,x=a.contextTypes,_=(x=x!=null)?Gi(s,v):Fn),a=new a(f,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Vr,s.stateNode=a,a._reactInternals=s,x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=_),a}function Ph(s,a,f,x){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,x),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,x),a.state!==s&&Vr.enqueueReplaceState(a,a.state,null)}function _u(s,a,f,x){var v=s.stateNode;v.props=f,v.state=s.memoizedState,v.refs={},au(s);var _=a.contextType;typeof _=="object"&&_!==null?v.context=Lt(_):(_=vt(a)?si:ut.current,v.context=Gi(s,_)),v.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Cu(s,a,_,f),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Vr.enqueueReplaceState(v,v.state,null),Ir(s,f,v,x),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function eo(s,a){try{var f="",x=a;do f+=Ce(x),x=x.return;while(x);var v=f}catch(_){v=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:v,digest:null}}function Su(s,a,f){return{value:s,source:null,stack:f??null,digest:a??null}}function Tu(s,a){try{console.error(a.value)}catch(f){setTimeout(function(){throw f})}}var B0=typeof WeakMap=="function"?WeakMap:Map;function Ih(s,a,f){f=xn(-1,f),f.tag=3,f.payload={element:null};var x=a.value;return f.callback=function(){qr||(qr=!0,Vu=x),Tu(s,a)},f}function Ah(s,a,f){f=xn(-1,f),f.tag=3;var x=s.type.getDerivedStateFromError;if(typeof x=="function"){var v=a.value;f.payload=function(){return x(v)},f.callback=function(){Tu(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){Tu(s,a),typeof x!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),f}function Rh(s,a,f){var x=s.pingCache;if(x===null){x=s.pingCache=new B0;var v=new Set;x.set(a,v)}else v=x.get(a),v===void 0&&(v=new Set,x.set(a,v));v.has(f)||(v.add(f),s=eC.bind(null,s,a,f),a.then(s,s))}function Dh(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Lh(s,a,f,x,v){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(a=xn(-1,1),a.tag=2,jn(f,a,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var z0=D.ReactCurrentOwner,Ct=!1;function gt(s,a,f,x){a.child=s===null?th(a,null,f,x):Ki(a,s.child,f,x)}function Fh(s,a,f,x,v){f=f.render;var _=a.ref;return Xi(a,v),x=pu(s,a,f,x,_,v),f=mu(),s!==null&&!Ct?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,yn(s,a,v)):(Oe&&f&&Ql(a),a.flags|=1,gt(s,a,x,v),a.child)}function Uh(s,a,f,x,v){if(s===null){var _=f.type;return typeof _=="function"&&!qu(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(a.tag=15,a.type=_,Vh(s,a,_,x,v)):(s=Qr(f.type,null,x,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&v)===0){var T=_.memoizedProps;if(f=f.compare,f=f!==null?f:Qo,f(T,x)&&s.ref===a.ref)return yn(s,a,v)}return a.flags|=1,s=qn(_,x),s.ref=a.ref,s.return=a,a.child=s}function Vh(s,a,f,x,v){if(s!==null){var _=s.memoizedProps;if(Qo(_,x)&&s.ref===a.ref)if(Ct=!1,a.pendingProps=x=_,(s.lanes&v)!==0)(s.flags&131072)!==0&&(Ct=!0);else return a.lanes=s.lanes,yn(s,a,v)}return wu(s,a,f,x,v)}function jh(s,a,f){var x=a.pendingProps,v=x.children,_=s!==null?s.memoizedState:null;if(x.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(no,It),It|=f;else{if((f&1073741824)===0)return s=_!==null?_.baseLanes|f:f,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Le(no,It),It|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=_!==null?_.baseLanes:f,Le(no,It),It|=x}else _!==null?(x=_.baseLanes|f,a.memoizedState=null):x=f,Le(no,It),It|=x;return gt(s,a,v,f),a.child}function Bh(s,a){var f=a.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(a.flags|=512,a.flags|=2097152)}function wu(s,a,f,x,v){var _=vt(f)?si:ut.current;return _=Gi(a,_),Xi(a,v),f=pu(s,a,f,x,_,v),x=mu(),s!==null&&!Ct?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,yn(s,a,v)):(Oe&&x&&Ql(a),a.flags|=1,gt(s,a,f,v),a.child)}function zh(s,a,f,x,v){if(vt(f)){var _=!0;Sr(a)}else _=!1;if(Xi(a,v),a.stateNode===null)Br(s,a),Mh(a,f,x),_u(a,f,x,v),x=!0;else if(s===null){var T=a.stateNode,E=a.memoizedProps;T.props=E;var P=T.context,j=f.contextType;typeof j=="object"&&j!==null?j=Lt(j):(j=vt(f)?si:ut.current,j=Gi(a,j));var G=f.getDerivedStateFromProps,W=typeof G=="function"||typeof T.getSnapshotBeforeUpdate=="function";W||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(E!==x||P!==j)&&Ph(a,T,x,j),Vn=!1;var q=a.memoizedState;T.state=q,Ir(a,x,T,v),P=a.memoizedState,E!==x||q!==P||yt.current||Vn?(typeof G=="function"&&(Cu(a,f,G,x),P=a.memoizedState),(E=Vn||kh(a,f,E,x,q,P,j))?(W||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=x,a.memoizedState=P),T.props=x,T.state=P,T.context=j,x=E):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),x=!1)}else{T=a.stateNode,ih(s,a),E=a.memoizedProps,j=a.type===a.elementType?E:Wt(a.type,E),T.props=j,W=a.pendingProps,q=T.context,P=f.contextType,typeof P=="object"&&P!==null?P=Lt(P):(P=vt(f)?si:ut.current,P=Gi(a,P));var ee=f.getDerivedStateFromProps;(G=typeof ee=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(E!==W||q!==P)&&Ph(a,T,x,P),Vn=!1,q=a.memoizedState,T.state=q,Ir(a,x,T,v);var ie=a.memoizedState;E!==W||q!==ie||yt.current||Vn?(typeof ee=="function"&&(Cu(a,f,ee,x),ie=a.memoizedState),(j=Vn||kh(a,f,j,x,q,ie,P)||!1)?(G||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(x,ie,P),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(x,ie,P)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||E===s.memoizedProps&&q===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&q===s.memoizedState||(a.flags|=1024),a.memoizedProps=x,a.memoizedState=ie),T.props=x,T.state=ie,T.context=P,x=j):(typeof T.componentDidUpdate!="function"||E===s.memoizedProps&&q===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&q===s.memoizedState||(a.flags|=1024),x=!1)}return bu(s,a,f,x,_,v)}function bu(s,a,f,x,v,_){Bh(s,a);var T=(a.flags&128)!==0;if(!x&&!T)return v&&Gf(a,f,!1),yn(s,a,_);x=a.stateNode,z0.current=a;var E=T&&typeof f.getDerivedStateFromError!="function"?null:x.render();return a.flags|=1,s!==null&&T?(a.child=Ki(a,s.child,null,_),a.child=Ki(a,null,E,_)):gt(s,a,E,_),a.memoizedState=x.state,v&&Gf(a,f,!0),a.child}function Oh(s){var a=s.stateNode;a.pendingContext?$f(s,a.pendingContext,a.pendingContext!==a.context):a.context&&$f(s,a.context,!1),lu(s,a.containerInfo)}function Hh(s,a,f,x,v){return Yi(),tu(v),a.flags|=256,gt(s,a,f,x),a.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Eu(s){return{baseLanes:s,cachePool:null,transitions:null}}function $h(s,a,f){var x=a.pendingProps,v=He.current,_=!1,T=(a.flags&128)!==0,E;if((E=T)||(E=s!==null&&s.memoizedState===null?!1:(v&2)!==0),E?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),Le(He,v&1),s===null)return eu(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=x.children,s=x.fallback,_?(x=a.mode,_=a.child,T={mode:"hidden",children:T},(x&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=Xr(T,x,0,null),s=mi(s,x,f,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=Eu(f),a.memoizedState=Nu,s):ku(a,T));if(v=s.memoizedState,v!==null&&(E=v.dehydrated,E!==null))return O0(s,a,T,x,E,v,f);if(_){_=x.fallback,T=a.mode,v=s.child,E=v.sibling;var P={mode:"hidden",children:x.children};return(T&1)===0&&a.child!==v?(x=a.child,x.childLanes=0,x.pendingProps=P,a.deletions=null):(x=qn(v,P),x.subtreeFlags=v.subtreeFlags&14680064),E!==null?_=qn(E,_):(_=mi(_,T,f,null),_.flags|=2),_.return=a,x.return=a,x.sibling=_,a.child=x,x=_,_=a.child,T=s.child.memoizedState,T=T===null?Eu(f):{baseLanes:T.baseLanes|f,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=s.childLanes&~f,a.memoizedState=Nu,x}return _=s.child,s=_.sibling,x=qn(_,{mode:"visible",children:x.children}),(a.mode&1)===0&&(x.lanes=f),x.return=a,x.sibling=null,s!==null&&(f=a.deletions,f===null?(a.deletions=[s],a.flags|=16):f.push(s)),a.child=x,a.memoizedState=null,x}function ku(s,a){return a=Xr({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function jr(s,a,f,x){return x!==null&&tu(x),Ki(a,s.child,null,f),s=ku(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function O0(s,a,f,x,v,_,T){if(f)return a.flags&256?(a.flags&=-257,x=Su(Error(n(422))),jr(s,a,T,x)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=x.fallback,v=a.mode,x=Xr({mode:"visible",children:x.children},v,0,null),_=mi(_,v,T,null),_.flags|=2,x.return=a,_.return=a,x.sibling=_,a.child=x,(a.mode&1)!==0&&Ki(a,s.child,null,T),a.child.memoizedState=Eu(T),a.memoizedState=Nu,_);if((a.mode&1)===0)return jr(s,a,T,null);if(v.data==="$!"){if(x=v.nextSibling&&v.nextSibling.dataset,x)var E=x.dgst;return x=E,_=Error(n(419)),x=Su(_,x,void 0),jr(s,a,T,x)}if(E=(T&s.childLanes)!==0,Ct||E){if(x=st,x!==null){switch(T&-T){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(x.suspendedLanes|T))!==0?0:v,v!==0&&v!==_.retryLane&&(_.retryLane=v,gn(s,v),Kt(x,s,v,-1))}return $u(),x=Su(Error(n(421))),jr(s,a,T,x)}return v.data==="$?"?(a.flags|=128,a.child=s.child,a=tC.bind(null,s),v._reactRetry=a,null):(s=_.treeContext,Pt=Dn(v.nextSibling),Mt=a,Oe=!0,Gt=null,s!==null&&(Rt[Dt++]=pn,Rt[Dt++]=mn,Rt[Dt++]=ri,pn=s.id,mn=s.overflow,ri=a),a=ku(a,x.children),a.flags|=4096,a)}function qh(s,a,f){s.lanes|=a;var x=s.alternate;x!==null&&(x.lanes|=a),su(s.return,a,f)}function Mu(s,a,f,x,v){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:x,tail:f,tailMode:v}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=x,_.tail=f,_.tailMode=v)}function Gh(s,a,f){var x=a.pendingProps,v=x.revealOrder,_=x.tail;if(gt(s,a,x.children,f),x=He.current,(x&2)!==0)x=x&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qh(s,f,a);else if(s.tag===19)qh(s,f,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}x&=1}if(Le(He,x),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(f=a.child,v=null;f!==null;)s=f.alternate,s!==null&&Ar(s)===null&&(v=f),f=f.sibling;f=v,f===null?(v=a.child,a.child=null):(v=f.sibling,f.sibling=null),Mu(a,!1,v,f,_);break;case"backwards":for(f=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&Ar(s)===null){a.child=v;break}s=v.sibling,v.sibling=f,f=v,v=s}Mu(a,!0,f,null,_);break;case"together":Mu(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Br(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function yn(s,a,f){if(s!==null&&(a.dependencies=s.dependencies),di|=a.lanes,(f&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,f=qn(s,s.pendingProps),a.child=f,f.return=a;s.sibling!==null;)s=s.sibling,f=f.sibling=qn(s,s.pendingProps),f.return=a;f.sibling=null}return a.child}function H0(s,a,f){switch(a.tag){case 3:Oh(a),Yi();break;case 5:rh(a);break;case 1:vt(a.type)&&Sr(a);break;case 4:lu(a,a.stateNode.containerInfo);break;case 10:var x=a.type._context,v=a.memoizedProps.value;Le(kr,x._currentValue),x._currentValue=v;break;case 13:if(x=a.memoizedState,x!==null)return x.dehydrated!==null?(Le(He,He.current&1),a.flags|=128,null):(f&a.child.childLanes)!==0?$h(s,a,f):(Le(He,He.current&1),s=yn(s,a,f),s!==null?s.sibling:null);Le(He,He.current&1);break;case 19:if(x=(f&a.childLanes)!==0,(s.flags&128)!==0){if(x)return Gh(s,a,f);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Le(He,He.current),x)break;return null;case 22:case 23:return a.lanes=0,jh(s,a,f)}return yn(s,a,f)}var Wh,Pu,Jh,Yh;Wh=function(s,a){for(var f=a.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Pu=function(){},Jh=function(s,a,f,x){var v=s.memoizedProps;if(v!==x){s=a.stateNode,ui(en.current);var _=null;switch(f){case"input":v=sl(s,v),x=sl(s,x),_=[];break;case"select":v=Z({},v,{value:void 0}),x=Z({},x,{value:void 0}),_=[];break;case"textarea":v=ll(s,v),x=ll(s,x),_=[];break;default:typeof v.onClick!="function"&&typeof x.onClick=="function"&&(s.onclick=vr)}cl(f,x);var T;f=null;for(j in v)if(!x.hasOwnProperty(j)&&v.hasOwnProperty(j)&&v[j]!=null)if(j==="style"){var E=v[j];for(T in E)E.hasOwnProperty(T)&&(f||(f={}),f[T]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?_||(_=[]):(_=_||[]).push(j,null));for(j in x){var P=x[j];if(E=v!=null?v[j]:void 0,x.hasOwnProperty(j)&&P!==E&&(P!=null||E!=null))if(j==="style")if(E){for(T in E)!E.hasOwnProperty(T)||P&&P.hasOwnProperty(T)||(f||(f={}),f[T]="");for(T in P)P.hasOwnProperty(T)&&E[T]!==P[T]&&(f||(f={}),f[T]=P[T])}else f||(_||(_=[]),_.push(j,f)),f=P;else j==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,E=E?E.__html:void 0,P!=null&&E!==P&&(_=_||[]).push(j,P)):j==="children"?typeof P!="string"&&typeof P!="number"||(_=_||[]).push(j,""+P):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(o.hasOwnProperty(j)?(P!=null&&j==="onScroll"&&Fe("scroll",s),_||E===P||(_=[])):(_=_||[]).push(j,P))}f&&(_=_||[]).push("style",f);var j=_;(a.updateQueue=j)&&(a.flags|=4)}},Yh=function(s,a,f,x){f!==x&&(a.flags|=4)};function fs(s,a){if(!Oe)switch(s.tailMode){case"hidden":a=s.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function dt(s){var a=s.alternate!==null&&s.alternate.child===s.child,f=0,x=0;if(a)for(var v=s.child;v!==null;)f|=v.lanes|v.childLanes,x|=v.subtreeFlags&14680064,x|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)f|=v.lanes|v.childLanes,x|=v.subtreeFlags,x|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=x,s.childLanes=f,a}function $0(s,a,f){var x=a.pendingProps;switch(Xl(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(a),null;case 1:return vt(a.type)&&_r(),dt(a),null;case 3:return x=a.stateNode,Zi(),Ue(yt),Ue(ut),du(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(s===null||s.child===null)&&(Nr(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Gt!==null&&(zu(Gt),Gt=null))),Pu(s,a),dt(a),null;case 5:uu(a);var v=ui(as.current);if(f=a.type,s!==null&&a.stateNode!=null)Jh(s,a,f,x,v),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!x){if(a.stateNode===null)throw Error(n(166));return dt(a),null}if(s=ui(en.current),Nr(a)){x=a.stateNode,f=a.type;var _=a.memoizedProps;switch(x[Zt]=a,x[ns]=_,s=(a.mode&1)!==0,f){case"dialog":Fe("cancel",x),Fe("close",x);break;case"iframe":case"object":case"embed":Fe("load",x);break;case"video":case"audio":for(v=0;v<Zo.length;v++)Fe(Zo[v],x);break;case"source":Fe("error",x);break;case"img":case"image":case"link":Fe("error",x),Fe("load",x);break;case"details":Fe("toggle",x);break;case"input":kd(x,_),Fe("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!_.multiple},Fe("invalid",x);break;case"textarea":Id(x,_),Fe("invalid",x)}cl(f,_),v=null;for(var T in _)if(_.hasOwnProperty(T)){var E=_[T];T==="children"?typeof E=="string"?x.textContent!==E&&(_.suppressHydrationWarning!==!0&&yr(x.textContent,E,s),v=["children",E]):typeof E=="number"&&x.textContent!==""+E&&(_.suppressHydrationWarning!==!0&&yr(x.textContent,E,s),v=["children",""+E]):o.hasOwnProperty(T)&&E!=null&&T==="onScroll"&&Fe("scroll",x)}switch(f){case"input":Ys(x),Pd(x,_,!0);break;case"textarea":Ys(x),Rd(x);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(x.onclick=vr)}x=v,a.updateQueue=x,x!==null&&(a.flags|=4)}else{T=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Dd(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof x.is=="string"?s=T.createElement(f,{is:x.is}):(s=T.createElement(f),f==="select"&&(T=s,x.multiple?T.multiple=!0:x.size&&(T.size=x.size))):s=T.createElementNS(s,f),s[Zt]=a,s[ns]=x,Wh(s,a,!1,!1),a.stateNode=s;e:{switch(T=dl(f,x),f){case"dialog":Fe("cancel",s),Fe("close",s),v=x;break;case"iframe":case"object":case"embed":Fe("load",s),v=x;break;case"video":case"audio":for(v=0;v<Zo.length;v++)Fe(Zo[v],s);v=x;break;case"source":Fe("error",s),v=x;break;case"img":case"image":case"link":Fe("error",s),Fe("load",s),v=x;break;case"details":Fe("toggle",s),v=x;break;case"input":kd(s,x),v=sl(s,x),Fe("invalid",s);break;case"option":v=x;break;case"select":s._wrapperState={wasMultiple:!!x.multiple},v=Z({},x,{value:void 0}),Fe("invalid",s);break;case"textarea":Id(s,x),v=ll(s,x),Fe("invalid",s);break;default:v=x}cl(f,v),E=v;for(_ in E)if(E.hasOwnProperty(_)){var P=E[_];_==="style"?Ud(s,P):_==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Ld(s,P)):_==="children"?typeof P=="string"?(f!=="textarea"||P!=="")&&Do(s,P):typeof P=="number"&&Do(s,""+P):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?P!=null&&_==="onScroll"&&Fe("scroll",s):P!=null&&A(s,_,P,T))}switch(f){case"input":Ys(s),Pd(s,x,!1);break;case"textarea":Ys(s),Rd(s);break;case"option":x.value!=null&&s.setAttribute("value",""+Pe(x.value));break;case"select":s.multiple=!!x.multiple,_=x.value,_!=null?Di(s,!!x.multiple,_,!1):x.defaultValue!=null&&Di(s,!!x.multiple,x.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=vr)}switch(f){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return dt(a),null;case 6:if(s&&a.stateNode!=null)Yh(s,a,s.memoizedProps,x);else{if(typeof x!="string"&&a.stateNode===null)throw Error(n(166));if(f=ui(as.current),ui(en.current),Nr(a)){if(x=a.stateNode,f=a.memoizedProps,x[Zt]=a,(_=x.nodeValue!==f)&&(s=Mt,s!==null))switch(s.tag){case 3:yr(x.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&yr(x.nodeValue,f,(s.mode&1)!==0)}_&&(a.flags|=4)}else x=(f.nodeType===9?f:f.ownerDocument).createTextNode(x),x[Zt]=a,a.stateNode=x}return dt(a),null;case 13:if(Ue(He),x=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Oe&&Pt!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Xf(),Yi(),a.flags|=98560,_=!1;else if(_=Nr(a),x!==null&&x.dehydrated!==null){if(s===null){if(!_)throw Error(n(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Zt]=a}else Yi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dt(a),_=!1}else Gt!==null&&(zu(Gt),Gt=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=f,a):(x=x!==null,x!==(s!==null&&s.memoizedState!==null)&&x&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(He.current&1)!==0?tt===0&&(tt=3):$u())),a.updateQueue!==null&&(a.flags|=4),dt(a),null);case 4:return Zi(),Pu(s,a),s===null&&es(a.stateNode.containerInfo),dt(a),null;case 10:return ou(a.type._context),dt(a),null;case 17:return vt(a.type)&&_r(),dt(a),null;case 19:if(Ue(He),_=a.memoizedState,_===null)return dt(a),null;if(x=(a.flags&128)!==0,T=_.rendering,T===null)if(x)fs(_,!1);else{if(tt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=Ar(s),T!==null){for(a.flags|=128,fs(_,!1),x=T.updateQueue,x!==null&&(a.updateQueue=x,a.flags|=4),a.subtreeFlags=0,x=f,f=a.child;f!==null;)_=f,s=x,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,s=T.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return Le(He,He.current&1|2),a.child}s=s.sibling}_.tail!==null&&We()>io&&(a.flags|=128,x=!0,fs(_,!1),a.lanes=4194304)}else{if(!x)if(s=Ar(T),s!==null){if(a.flags|=128,x=!0,f=s.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),fs(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!Oe)return dt(a),null}else 2*We()-_.renderingStartTime>io&&f!==1073741824&&(a.flags|=128,x=!0,fs(_,!1),a.lanes=4194304);_.isBackwards?(T.sibling=a.child,a.child=T):(f=_.last,f!==null?f.sibling=T:a.child=T,_.last=T)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=We(),a.sibling=null,f=He.current,Le(He,x?f&1|2:f&1),a):(dt(a),null);case 22:case 23:return Hu(),x=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==x&&(a.flags|=8192),x&&(a.mode&1)!==0?(It&1073741824)!==0&&(dt(a),a.subtreeFlags&6&&(a.flags|=8192)):dt(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function q0(s,a){switch(Xl(a),a.tag){case 1:return vt(a.type)&&_r(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Zi(),Ue(yt),Ue(ut),du(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return uu(a),null;case 13:if(Ue(He),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Yi()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Ue(He),null;case 4:return Zi(),null;case 10:return ou(a.type._context),null;case 22:case 23:return Hu(),null;case 24:return null;default:return null}}var zr=!1,ft=!1,G0=typeof WeakSet=="function"?WeakSet:Set,ne=null;function to(s,a){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(x){Ge(s,a,x)}else f.current=null}function Iu(s,a,f){try{f()}catch(x){Ge(s,a,x)}}var Kh=!1;function W0(s,a){if(Hl=ar,s=kf(),Ll(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var x=f.getSelection&&f.getSelection();if(x&&x.rangeCount!==0){f=x.anchorNode;var v=x.anchorOffset,_=x.focusNode;x=x.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var T=0,E=-1,P=-1,j=0,G=0,W=s,q=null;t:for(;;){for(var ee;W!==f||v!==0&&W.nodeType!==3||(E=T+v),W!==_||x!==0&&W.nodeType!==3||(P=T+x),W.nodeType===3&&(T+=W.nodeValue.length),(ee=W.firstChild)!==null;)q=W,W=ee;for(;;){if(W===s)break t;if(q===f&&++j===v&&(E=T),q===_&&++G===x&&(P=T),(ee=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=ee}f=E===-1||P===-1?null:{start:E,end:P}}else f=null}f=f||{start:0,end:0}}else f=null;for($l={focusedElem:s,selectionRange:f},ar=!1,ne=a;ne!==null;)if(a=ne,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ne=s;else for(;ne!==null;){a=ne;try{var ie=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var oe=ie.memoizedProps,Je=ie.memoizedState,U=a.stateNode,R=U.getSnapshotBeforeUpdate(a.elementType===a.type?oe:Wt(a.type,oe),Je);U.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var V=a.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){Ge(a,a.return,J)}if(s=a.sibling,s!==null){s.return=a.return,ne=s;break}ne=a.return}return ie=Kh,Kh=!1,ie}function hs(s,a,f){var x=a.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var v=x=x.next;do{if((v.tag&s)===s){var _=v.destroy;v.destroy=void 0,_!==void 0&&Iu(a,f,_)}v=v.next}while(v!==x)}}function Or(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&s)===s){var x=f.create;f.destroy=x()}f=f.next}while(f!==a)}}function Au(s){var a=s.ref;if(a!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof a=="function"?a(s):a.current=s}}function Qh(s){var a=s.alternate;a!==null&&(s.alternate=null,Qh(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Zt],delete a[ns],delete a[Jl],delete a[M0],delete a[P0])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Xh(s){return s.tag===5||s.tag===3||s.tag===4}function Zh(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Xh(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ru(s,a,f){var x=s.tag;if(x===5||x===6)s=s.stateNode,a?f.nodeType===8?f.parentNode.insertBefore(s,a):f.insertBefore(s,a):(f.nodeType===8?(a=f.parentNode,a.insertBefore(s,f)):(a=f,a.appendChild(s)),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=vr));else if(x!==4&&(s=s.child,s!==null))for(Ru(s,a,f),s=s.sibling;s!==null;)Ru(s,a,f),s=s.sibling}function Du(s,a,f){var x=s.tag;if(x===5||x===6)s=s.stateNode,a?f.insertBefore(s,a):f.appendChild(s);else if(x!==4&&(s=s.child,s!==null))for(Du(s,a,f),s=s.sibling;s!==null;)Du(s,a,f),s=s.sibling}var at=null,Jt=!1;function Bn(s,a,f){for(f=f.child;f!==null;)ep(s,a,f),f=f.sibling}function ep(s,a,f){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(tr,f)}catch{}switch(f.tag){case 5:ft||to(f,a);case 6:var x=at,v=Jt;at=null,Bn(s,a,f),at=x,Jt=v,at!==null&&(Jt?(s=at,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):at.removeChild(f.stateNode));break;case 18:at!==null&&(Jt?(s=at,f=f.stateNode,s.nodeType===8?Wl(s.parentNode,f):s.nodeType===1&&Wl(s,f),qo(s)):Wl(at,f.stateNode));break;case 4:x=at,v=Jt,at=f.stateNode.containerInfo,Jt=!0,Bn(s,a,f),at=x,Jt=v;break;case 0:case 11:case 14:case 15:if(!ft&&(x=f.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){v=x=x.next;do{var _=v,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&Iu(f,a,T),v=v.next}while(v!==x)}Bn(s,a,f);break;case 1:if(!ft&&(to(f,a),x=f.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=f.memoizedProps,x.state=f.memoizedState,x.componentWillUnmount()}catch(E){Ge(f,a,E)}Bn(s,a,f);break;case 21:Bn(s,a,f);break;case 22:f.mode&1?(ft=(x=ft)||f.memoizedState!==null,Bn(s,a,f),ft=x):Bn(s,a,f);break;default:Bn(s,a,f)}}function tp(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new G0),a.forEach(function(x){var v=nC.bind(null,s,x);f.has(x)||(f.add(x),x.then(v,v))})}}function Yt(s,a){var f=a.deletions;if(f!==null)for(var x=0;x<f.length;x++){var v=f[x];try{var _=s,T=a,E=T;e:for(;E!==null;){switch(E.tag){case 5:at=E.stateNode,Jt=!1;break e;case 3:at=E.stateNode.containerInfo,Jt=!0;break e;case 4:at=E.stateNode.containerInfo,Jt=!0;break e}E=E.return}if(at===null)throw Error(n(160));ep(_,T,v),at=null,Jt=!1;var P=v.alternate;P!==null&&(P.return=null),v.return=null}catch(j){Ge(v,a,j)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)np(a,s),a=a.sibling}function np(s,a){var f=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Yt(a,s),nn(s),x&4){try{hs(3,s,s.return),Or(3,s)}catch(oe){Ge(s,s.return,oe)}try{hs(5,s,s.return)}catch(oe){Ge(s,s.return,oe)}}break;case 1:Yt(a,s),nn(s),x&512&&f!==null&&to(f,f.return);break;case 5:if(Yt(a,s),nn(s),x&512&&f!==null&&to(f,f.return),s.flags&32){var v=s.stateNode;try{Do(v,"")}catch(oe){Ge(s,s.return,oe)}}if(x&4&&(v=s.stateNode,v!=null)){var _=s.memoizedProps,T=f!==null?f.memoizedProps:_,E=s.type,P=s.updateQueue;if(s.updateQueue=null,P!==null)try{E==="input"&&_.type==="radio"&&_.name!=null&&Md(v,_),dl(E,T);var j=dl(E,_);for(T=0;T<P.length;T+=2){var G=P[T],W=P[T+1];G==="style"?Ud(v,W):G==="dangerouslySetInnerHTML"?Ld(v,W):G==="children"?Do(v,W):A(v,G,W,j)}switch(E){case"input":rl(v,_);break;case"textarea":Ad(v,_);break;case"select":var q=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!_.multiple;var ee=_.value;ee!=null?Di(v,!!_.multiple,ee,!1):q!==!!_.multiple&&(_.defaultValue!=null?Di(v,!!_.multiple,_.defaultValue,!0):Di(v,!!_.multiple,_.multiple?[]:"",!1))}v[ns]=_}catch(oe){Ge(s,s.return,oe)}}break;case 6:if(Yt(a,s),nn(s),x&4){if(s.stateNode===null)throw Error(n(162));v=s.stateNode,_=s.memoizedProps;try{v.nodeValue=_}catch(oe){Ge(s,s.return,oe)}}break;case 3:if(Yt(a,s),nn(s),x&4&&f!==null&&f.memoizedState.isDehydrated)try{qo(a.containerInfo)}catch(oe){Ge(s,s.return,oe)}break;case 4:Yt(a,s),nn(s);break;case 13:Yt(a,s),nn(s),v=s.child,v.flags&8192&&(_=v.memoizedState!==null,v.stateNode.isHidden=_,!_||v.alternate!==null&&v.alternate.memoizedState!==null||(Uu=We())),x&4&&tp(s);break;case 22:if(G=f!==null&&f.memoizedState!==null,s.mode&1?(ft=(j=ft)||G,Yt(a,s),ft=j):Yt(a,s),nn(s),x&8192){if(j=s.memoizedState!==null,(s.stateNode.isHidden=j)&&!G&&(s.mode&1)!==0)for(ne=s,G=s.child;G!==null;){for(W=ne=G;ne!==null;){switch(q=ne,ee=q.child,q.tag){case 0:case 11:case 14:case 15:hs(4,q,q.return);break;case 1:to(q,q.return);var ie=q.stateNode;if(typeof ie.componentWillUnmount=="function"){x=q,f=q.return;try{a=x,ie.props=a.memoizedProps,ie.state=a.memoizedState,ie.componentWillUnmount()}catch(oe){Ge(x,f,oe)}}break;case 5:to(q,q.return);break;case 22:if(q.memoizedState!==null){sp(W);continue}}ee!==null?(ee.return=q,ne=ee):sp(W)}G=G.sibling}e:for(G=null,W=s;;){if(W.tag===5){if(G===null){G=W;try{v=W.stateNode,j?(_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(E=W.stateNode,P=W.memoizedProps.style,T=P!=null&&P.hasOwnProperty("display")?P.display:null,E.style.display=Fd("display",T))}catch(oe){Ge(s,s.return,oe)}}}else if(W.tag===6){if(G===null)try{W.stateNode.nodeValue=j?"":W.memoizedProps}catch(oe){Ge(s,s.return,oe)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===s)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===s)break e;for(;W.sibling===null;){if(W.return===null||W.return===s)break e;G===W&&(G=null),W=W.return}G===W&&(G=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:Yt(a,s),nn(s),x&4&&tp(s);break;case 21:break;default:Yt(a,s),nn(s)}}function nn(s){var a=s.flags;if(a&2){try{e:{for(var f=s.return;f!==null;){if(Xh(f)){var x=f;break e}f=f.return}throw Error(n(160))}switch(x.tag){case 5:var v=x.stateNode;x.flags&32&&(Do(v,""),x.flags&=-33);var _=Zh(s);Du(s,_,v);break;case 3:case 4:var T=x.stateNode.containerInfo,E=Zh(s);Ru(s,E,T);break;default:throw Error(n(161))}}catch(P){Ge(s,s.return,P)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function J0(s,a,f){ne=s,ip(s)}function ip(s,a,f){for(var x=(s.mode&1)!==0;ne!==null;){var v=ne,_=v.child;if(v.tag===22&&x){var T=v.memoizedState!==null||zr;if(!T){var E=v.alternate,P=E!==null&&E.memoizedState!==null||ft;E=zr;var j=ft;if(zr=T,(ft=P)&&!j)for(ne=v;ne!==null;)T=ne,P=T.child,T.tag===22&&T.memoizedState!==null?rp(v):P!==null?(P.return=T,ne=P):rp(v);for(;_!==null;)ne=_,ip(_),_=_.sibling;ne=v,zr=E,ft=j}op(s)}else(v.subtreeFlags&8772)!==0&&_!==null?(_.return=v,ne=_):op(s)}}function op(s){for(;ne!==null;){var a=ne;if((a.flags&8772)!==0){var f=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:ft||Or(5,a);break;case 1:var x=a.stateNode;if(a.flags&4&&!ft)if(f===null)x.componentDidMount();else{var v=a.elementType===a.type?f.memoizedProps:Wt(a.type,f.memoizedProps);x.componentDidUpdate(v,f.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&sh(a,_,x);break;case 3:var T=a.updateQueue;if(T!==null){if(f=null,a.child!==null)switch(a.child.tag){case 5:f=a.child.stateNode;break;case 1:f=a.child.stateNode}sh(a,T,f)}break;case 5:var E=a.stateNode;if(f===null&&a.flags&4){f=E;var P=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&f.focus();break;case"img":P.src&&(f.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var j=a.alternate;if(j!==null){var G=j.memoizedState;if(G!==null){var W=G.dehydrated;W!==null&&qo(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ft||a.flags&512&&Au(a)}catch(q){Ge(a,a.return,q)}}if(a===s){ne=null;break}if(f=a.sibling,f!==null){f.return=a.return,ne=f;break}ne=a.return}}function sp(s){for(;ne!==null;){var a=ne;if(a===s){ne=null;break}var f=a.sibling;if(f!==null){f.return=a.return,ne=f;break}ne=a.return}}function rp(s){for(;ne!==null;){var a=ne;try{switch(a.tag){case 0:case 11:case 15:var f=a.return;try{Or(4,a)}catch(P){Ge(a,f,P)}break;case 1:var x=a.stateNode;if(typeof x.componentDidMount=="function"){var v=a.return;try{x.componentDidMount()}catch(P){Ge(a,v,P)}}var _=a.return;try{Au(a)}catch(P){Ge(a,_,P)}break;case 5:var T=a.return;try{Au(a)}catch(P){Ge(a,T,P)}}}catch(P){Ge(a,a.return,P)}if(a===s){ne=null;break}var E=a.sibling;if(E!==null){E.return=a.return,ne=E;break}ne=a.return}}var Y0=Math.ceil,Hr=D.ReactCurrentDispatcher,Lu=D.ReactCurrentOwner,Ut=D.ReactCurrentBatchConfig,Te=0,st=null,Qe=null,lt=0,It=0,no=Ln(0),tt=0,ps=null,di=0,$r=0,Fu=0,ms=null,_t=null,Uu=0,io=1/0,vn=null,qr=!1,Vu=null,zn=null,Gr=!1,On=null,Wr=0,gs=0,ju=null,Jr=-1,Yr=0;function xt(){return(Te&6)!==0?We():Jr!==-1?Jr:Jr=We()}function Hn(s){return(s.mode&1)===0?1:(Te&2)!==0&&lt!==0?lt&-lt:A0.transition!==null?(Yr===0&&(Yr=Xd()),Yr):(s=Ie,s!==0||(s=window.event,s=s===void 0?16:lf(s.type)),s)}function Kt(s,a,f,x){if(50<gs)throw gs=0,ju=null,Error(n(185));Bo(s,f,x),((Te&2)===0||s!==st)&&(s===st&&((Te&2)===0&&($r|=f),tt===4&&$n(s,lt)),St(s,x),f===1&&Te===0&&(a.mode&1)===0&&(io=We()+500,Tr&&Un()))}function St(s,a){var f=s.callbackNode;Av(s,a);var x=or(s,s===st?lt:0);if(x===0)f!==null&&Yd(f),s.callbackNode=null,s.callbackPriority=0;else if(a=x&-x,s.callbackPriority!==a){if(f!=null&&Yd(f),a===1)s.tag===0?I0(lp.bind(null,s)):Wf(lp.bind(null,s)),E0(function(){(Te&6)===0&&Un()}),f=null;else{switch(Zd(x)){case 1:f=yl;break;case 4:f=Kd;break;case 16:f=er;break;case 536870912:f=Qd;break;default:f=er}f=gp(f,ap.bind(null,s))}s.callbackPriority=a,s.callbackNode=f}}function ap(s,a){if(Jr=-1,Yr=0,(Te&6)!==0)throw Error(n(327));var f=s.callbackNode;if(oo()&&s.callbackNode!==f)return null;var x=or(s,s===st?lt:0);if(x===0)return null;if((x&30)!==0||(x&s.expiredLanes)!==0||a)a=Kr(s,x);else{a=x;var v=Te;Te|=2;var _=cp();(st!==s||lt!==a)&&(vn=null,io=We()+500,hi(s,a));do try{X0();break}catch(E){up(s,E)}while(!0);iu(),Hr.current=_,Te=v,Qe!==null?a=0:(st=null,lt=0,a=tt)}if(a!==0){if(a===2&&(v=vl(s),v!==0&&(x=v,a=Bu(s,v))),a===1)throw f=ps,hi(s,0),$n(s,x),St(s,We()),f;if(a===6)$n(s,x);else{if(v=s.current.alternate,(x&30)===0&&!K0(v)&&(a=Kr(s,x),a===2&&(_=vl(s),_!==0&&(x=_,a=Bu(s,_))),a===1))throw f=ps,hi(s,0),$n(s,x),St(s,We()),f;switch(s.finishedWork=v,s.finishedLanes=x,a){case 0:case 1:throw Error(n(345));case 2:pi(s,_t,vn);break;case 3:if($n(s,x),(x&130023424)===x&&(a=Uu+500-We(),10<a)){if(or(s,0)!==0)break;if(v=s.suspendedLanes,(v&x)!==x){xt(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=Gl(pi.bind(null,s,_t,vn),a);break}pi(s,_t,vn);break;case 4:if($n(s,x),(x&4194240)===x)break;for(a=s.eventTimes,v=-1;0<x;){var T=31-$t(x);_=1<<T,T=a[T],T>v&&(v=T),x&=~_}if(x=v,x=We()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*Y0(x/1960))-x,10<x){s.timeoutHandle=Gl(pi.bind(null,s,_t,vn),x);break}pi(s,_t,vn);break;case 5:pi(s,_t,vn);break;default:throw Error(n(329))}}}return St(s,We()),s.callbackNode===f?ap.bind(null,s):null}function Bu(s,a){var f=ms;return s.current.memoizedState.isDehydrated&&(hi(s,a).flags|=256),s=Kr(s,a),s!==2&&(a=_t,_t=f,a!==null&&zu(a)),s}function zu(s){_t===null?_t=s:_t.push.apply(_t,s)}function K0(s){for(var a=s;;){if(a.flags&16384){var f=a.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var x=0;x<f.length;x++){var v=f[x],_=v.getSnapshot;v=v.value;try{if(!qt(_(),v))return!1}catch{return!1}}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $n(s,a){for(a&=~Fu,a&=~$r,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var f=31-$t(a),x=1<<f;s[f]=-1,a&=~x}}function lp(s){if((Te&6)!==0)throw Error(n(327));oo();var a=or(s,0);if((a&1)===0)return St(s,We()),null;var f=Kr(s,a);if(s.tag!==0&&f===2){var x=vl(s);x!==0&&(a=x,f=Bu(s,x))}if(f===1)throw f=ps,hi(s,0),$n(s,a),St(s,We()),f;if(f===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,pi(s,_t,vn),St(s,We()),null}function Ou(s,a){var f=Te;Te|=1;try{return s(a)}finally{Te=f,Te===0&&(io=We()+500,Tr&&Un())}}function fi(s){On!==null&&On.tag===0&&(Te&6)===0&&oo();var a=Te;Te|=1;var f=Ut.transition,x=Ie;try{if(Ut.transition=null,Ie=1,s)return s()}finally{Ie=x,Ut.transition=f,Te=a,(Te&6)===0&&Un()}}function Hu(){It=no.current,Ue(no)}function hi(s,a){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,N0(f)),Qe!==null)for(f=Qe.return;f!==null;){var x=f;switch(Xl(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&_r();break;case 3:Zi(),Ue(yt),Ue(ut),du();break;case 5:uu(x);break;case 4:Zi();break;case 13:Ue(He);break;case 19:Ue(He);break;case 10:ou(x.type._context);break;case 22:case 23:Hu()}f=f.return}if(st=s,Qe=s=qn(s.current,null),lt=It=a,tt=0,ps=null,Fu=$r=di=0,_t=ms=null,li!==null){for(a=0;a<li.length;a++)if(f=li[a],x=f.interleaved,x!==null){f.interleaved=null;var v=x.next,_=f.pending;if(_!==null){var T=_.next;_.next=v,x.next=T}f.pending=x}li=null}return s}function up(s,a){do{var f=Qe;try{if(iu(),Rr.current=Ur,Dr){for(var x=$e.memoizedState;x!==null;){var v=x.queue;v!==null&&(v.pending=null),x=x.next}Dr=!1}if(ci=0,ot=et=$e=null,ls=!1,us=0,Lu.current=null,f===null||f.return===null){tt=1,ps=a,Qe=null;break}e:{var _=s,T=f.return,E=f,P=a;if(a=lt,E.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var j=P,G=E,W=G.tag;if((G.mode&1)===0&&(W===0||W===11||W===15)){var q=G.alternate;q?(G.updateQueue=q.updateQueue,G.memoizedState=q.memoizedState,G.lanes=q.lanes):(G.updateQueue=null,G.memoizedState=null)}var ee=Dh(T);if(ee!==null){ee.flags&=-257,Lh(ee,T,E,_,a),ee.mode&1&&Rh(_,j,a),a=ee,P=j;var ie=a.updateQueue;if(ie===null){var oe=new Set;oe.add(P),a.updateQueue=oe}else ie.add(P);break e}else{if((a&1)===0){Rh(_,j,a),$u();break e}P=Error(n(426))}}else if(Oe&&E.mode&1){var Je=Dh(T);if(Je!==null){(Je.flags&65536)===0&&(Je.flags|=256),Lh(Je,T,E,_,a),tu(eo(P,E));break e}}_=P=eo(P,E),tt!==4&&(tt=2),ms===null?ms=[_]:ms.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var U=Ih(_,P,a);oh(_,U);break e;case 1:E=P;var R=_.type,V=_.stateNode;if((_.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(zn===null||!zn.has(V)))){_.flags|=65536,a&=-a,_.lanes|=a;var J=Ah(_,E,a);oh(_,J);break e}}_=_.return}while(_!==null)}fp(f)}catch(se){a=se,Qe===f&&f!==null&&(Qe=f=f.return);continue}break}while(!0)}function cp(){var s=Hr.current;return Hr.current=Ur,s===null?Ur:s}function $u(){(tt===0||tt===3||tt===2)&&(tt=4),st===null||(di&268435455)===0&&($r&268435455)===0||$n(st,lt)}function Kr(s,a){var f=Te;Te|=2;var x=cp();(st!==s||lt!==a)&&(vn=null,hi(s,a));do try{Q0();break}catch(v){up(s,v)}while(!0);if(iu(),Te=f,Hr.current=x,Qe!==null)throw Error(n(261));return st=null,lt=0,tt}function Q0(){for(;Qe!==null;)dp(Qe)}function X0(){for(;Qe!==null&&!Tv();)dp(Qe)}function dp(s){var a=mp(s.alternate,s,It);s.memoizedProps=s.pendingProps,a===null?fp(s):Qe=a,Lu.current=null}function fp(s){var a=s;do{var f=a.alternate;if(s=a.return,(a.flags&32768)===0){if(f=$0(f,a,It),f!==null){Qe=f;return}}else{if(f=q0(f,a),f!==null){f.flags&=32767,Qe=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{tt=6,Qe=null;return}}if(a=a.sibling,a!==null){Qe=a;return}Qe=a=s}while(a!==null);tt===0&&(tt=5)}function pi(s,a,f){var x=Ie,v=Ut.transition;try{Ut.transition=null,Ie=1,Z0(s,a,f,x)}finally{Ut.transition=v,Ie=x}return null}function Z0(s,a,f,x){do oo();while(On!==null);if((Te&6)!==0)throw Error(n(327));f=s.finishedWork;var v=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var _=f.lanes|f.childLanes;if(Rv(s,_),s===st&&(Qe=st=null,lt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Gr||(Gr=!0,gp(er,function(){return oo(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=Ut.transition,Ut.transition=null;var T=Ie;Ie=1;var E=Te;Te|=4,Lu.current=null,W0(s,f),np(f,s),v0($l),ar=!!Hl,$l=Hl=null,s.current=f,J0(f),wv(),Te=E,Ie=T,Ut.transition=_}else s.current=f;if(Gr&&(Gr=!1,On=s,Wr=v),_=s.pendingLanes,_===0&&(zn=null),Ev(f.stateNode),St(s,We()),a!==null)for(x=s.onRecoverableError,f=0;f<a.length;f++)v=a[f],x(v.value,{componentStack:v.stack,digest:v.digest});if(qr)throw qr=!1,s=Vu,Vu=null,s;return(Wr&1)!==0&&s.tag!==0&&oo(),_=s.pendingLanes,(_&1)!==0?s===ju?gs++:(gs=0,ju=s):gs=0,Un(),null}function oo(){if(On!==null){var s=Zd(Wr),a=Ut.transition,f=Ie;try{if(Ut.transition=null,Ie=16>s?16:s,On===null)var x=!1;else{if(s=On,On=null,Wr=0,(Te&6)!==0)throw Error(n(331));var v=Te;for(Te|=4,ne=s.current;ne!==null;){var _=ne,T=_.child;if((ne.flags&16)!==0){var E=_.deletions;if(E!==null){for(var P=0;P<E.length;P++){var j=E[P];for(ne=j;ne!==null;){var G=ne;switch(G.tag){case 0:case 11:case 15:hs(8,G,_)}var W=G.child;if(W!==null)W.return=G,ne=W;else for(;ne!==null;){G=ne;var q=G.sibling,ee=G.return;if(Qh(G),G===j){ne=null;break}if(q!==null){q.return=ee,ne=q;break}ne=ee}}}var ie=_.alternate;if(ie!==null){var oe=ie.child;if(oe!==null){ie.child=null;do{var Je=oe.sibling;oe.sibling=null,oe=Je}while(oe!==null)}}ne=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,ne=T;else e:for(;ne!==null;){if(_=ne,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:hs(9,_,_.return)}var U=_.sibling;if(U!==null){U.return=_.return,ne=U;break e}ne=_.return}}var R=s.current;for(ne=R;ne!==null;){T=ne;var V=T.child;if((T.subtreeFlags&2064)!==0&&V!==null)V.return=T,ne=V;else e:for(T=R;ne!==null;){if(E=ne,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Or(9,E)}}catch(se){Ge(E,E.return,se)}if(E===T){ne=null;break e}var J=E.sibling;if(J!==null){J.return=E.return,ne=J;break e}ne=E.return}}if(Te=v,Un(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(tr,s)}catch{}x=!0}return x}finally{Ie=f,Ut.transition=a}}return!1}function hp(s,a,f){a=eo(f,a),a=Ih(s,a,1),s=jn(s,a,1),a=xt(),s!==null&&(Bo(s,1,a),St(s,a))}function Ge(s,a,f){if(s.tag===3)hp(s,s,f);else for(;a!==null;){if(a.tag===3){hp(a,s,f);break}else if(a.tag===1){var x=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(zn===null||!zn.has(x))){s=eo(f,s),s=Ah(a,s,1),a=jn(a,s,1),s=xt(),a!==null&&(Bo(a,1,s),St(a,s));break}}a=a.return}}function eC(s,a,f){var x=s.pingCache;x!==null&&x.delete(a),a=xt(),s.pingedLanes|=s.suspendedLanes&f,st===s&&(lt&f)===f&&(tt===4||tt===3&&(lt&130023424)===lt&&500>We()-Uu?hi(s,0):Fu|=f),St(s,a)}function pp(s,a){a===0&&((s.mode&1)===0?a=1:(a=ir,ir<<=1,(ir&130023424)===0&&(ir=4194304)));var f=xt();s=gn(s,a),s!==null&&(Bo(s,a,f),St(s,f))}function tC(s){var a=s.memoizedState,f=0;a!==null&&(f=a.retryLane),pp(s,f)}function nC(s,a){var f=0;switch(s.tag){case 13:var x=s.stateNode,v=s.memoizedState;v!==null&&(f=v.retryLane);break;case 19:x=s.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(a),pp(s,f)}var mp;mp=function(s,a,f){if(s!==null)if(s.memoizedProps!==a.pendingProps||yt.current)Ct=!0;else{if((s.lanes&f)===0&&(a.flags&128)===0)return Ct=!1,H0(s,a,f);Ct=(s.flags&131072)!==0}else Ct=!1,Oe&&(a.flags&1048576)!==0&&Jf(a,br,a.index);switch(a.lanes=0,a.tag){case 2:var x=a.type;Br(s,a),s=a.pendingProps;var v=Gi(a,ut.current);Xi(a,f),v=pu(null,a,x,s,v,f);var _=mu();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,vt(x)?(_=!0,Sr(a)):_=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,au(a),v.updater=Vr,a.stateNode=v,v._reactInternals=a,_u(a,x,s,f),a=bu(null,a,x,!0,_,f)):(a.tag=0,Oe&&_&&Ql(a),gt(null,a,v,f),a=a.child),a;case 16:x=a.elementType;e:{switch(Br(s,a),s=a.pendingProps,v=x._init,x=v(x._payload),a.type=x,v=a.tag=oC(x),s=Wt(x,s),v){case 0:a=wu(null,a,x,s,f);break e;case 1:a=zh(null,a,x,s,f);break e;case 11:a=Fh(null,a,x,s,f);break e;case 14:a=Uh(null,a,x,Wt(x.type,s),f);break e}throw Error(n(306,x,""))}return a;case 0:return x=a.type,v=a.pendingProps,v=a.elementType===x?v:Wt(x,v),wu(s,a,x,v,f);case 1:return x=a.type,v=a.pendingProps,v=a.elementType===x?v:Wt(x,v),zh(s,a,x,v,f);case 3:e:{if(Oh(a),s===null)throw Error(n(387));x=a.pendingProps,_=a.memoizedState,v=_.element,ih(s,a),Ir(a,x,null,f);var T=a.memoizedState;if(x=T.element,_.isDehydrated)if(_={element:x,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){v=eo(Error(n(423)),a),a=Hh(s,a,x,f,v);break e}else if(x!==v){v=eo(Error(n(424)),a),a=Hh(s,a,x,f,v);break e}else for(Pt=Dn(a.stateNode.containerInfo.firstChild),Mt=a,Oe=!0,Gt=null,f=th(a,null,x,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Yi(),x===v){a=yn(s,a,f);break e}gt(s,a,x,f)}a=a.child}return a;case 5:return rh(a),s===null&&eu(a),x=a.type,v=a.pendingProps,_=s!==null?s.memoizedProps:null,T=v.children,ql(x,v)?T=null:_!==null&&ql(x,_)&&(a.flags|=32),Bh(s,a),gt(s,a,T,f),a.child;case 6:return s===null&&eu(a),null;case 13:return $h(s,a,f);case 4:return lu(a,a.stateNode.containerInfo),x=a.pendingProps,s===null?a.child=Ki(a,null,x,f):gt(s,a,x,f),a.child;case 11:return x=a.type,v=a.pendingProps,v=a.elementType===x?v:Wt(x,v),Fh(s,a,x,v,f);case 7:return gt(s,a,a.pendingProps,f),a.child;case 8:return gt(s,a,a.pendingProps.children,f),a.child;case 12:return gt(s,a,a.pendingProps.children,f),a.child;case 10:e:{if(x=a.type._context,v=a.pendingProps,_=a.memoizedProps,T=v.value,Le(kr,x._currentValue),x._currentValue=T,_!==null)if(qt(_.value,T)){if(_.children===v.children&&!yt.current){a=yn(s,a,f);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var E=_.dependencies;if(E!==null){T=_.child;for(var P=E.firstContext;P!==null;){if(P.context===x){if(_.tag===1){P=xn(-1,f&-f),P.tag=2;var j=_.updateQueue;if(j!==null){j=j.shared;var G=j.pending;G===null?P.next=P:(P.next=G.next,G.next=P),j.pending=P}}_.lanes|=f,P=_.alternate,P!==null&&(P.lanes|=f),su(_.return,f,a),E.lanes|=f;break}P=P.next}}else if(_.tag===10)T=_.type===a.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(n(341));T.lanes|=f,E=T.alternate,E!==null&&(E.lanes|=f),su(T,f,a),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===a){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}gt(s,a,v.children,f),a=a.child}return a;case 9:return v=a.type,x=a.pendingProps.children,Xi(a,f),v=Lt(v),x=x(v),a.flags|=1,gt(s,a,x,f),a.child;case 14:return x=a.type,v=Wt(x,a.pendingProps),v=Wt(x.type,v),Uh(s,a,x,v,f);case 15:return Vh(s,a,a.type,a.pendingProps,f);case 17:return x=a.type,v=a.pendingProps,v=a.elementType===x?v:Wt(x,v),Br(s,a),a.tag=1,vt(x)?(s=!0,Sr(a)):s=!1,Xi(a,f),Mh(a,x,v),_u(a,x,v,f),bu(null,a,x,!0,s,f);case 19:return Gh(s,a,f);case 22:return jh(s,a,f)}throw Error(n(156,a.tag))};function gp(s,a){return Jd(s,a)}function iC(s,a,f,x){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(s,a,f,x){return new iC(s,a,f,x)}function qu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function oC(s){if(typeof s=="function")return qu(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ae)return 11;if(s===fe)return 14}return 2}function qn(s,a){var f=s.alternate;return f===null?(f=Vt(s.tag,a,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=a,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,a=s.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function Qr(s,a,f,x,v,_){var T=2;if(x=s,typeof s=="function")qu(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case $:return mi(f.children,v,_,a);case B:T=8,v|=8;break;case O:return s=Vt(12,f,a,v|2),s.elementType=O,s.lanes=_,s;case Se:return s=Vt(13,f,a,v),s.elementType=Se,s.lanes=_,s;case Re:return s=Vt(19,f,a,v),s.elementType=Re,s.lanes=_,s;case ge:return Xr(f,v,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Q:T=10;break e;case K:T=9;break e;case ae:T=11;break e;case fe:T=14;break e;case ye:T=16,x=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Vt(T,f,a,v),a.elementType=s,a.type=x,a.lanes=_,a}function mi(s,a,f,x){return s=Vt(7,s,x,a),s.lanes=f,s}function Xr(s,a,f,x){return s=Vt(22,s,x,a),s.elementType=ge,s.lanes=f,s.stateNode={isHidden:!1},s}function Gu(s,a,f){return s=Vt(6,s,null,a),s.lanes=f,s}function Wu(s,a,f){return a=Vt(4,s.children!==null?s.children:[],s.key,a),a.lanes=f,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function sC(s,a,f,x,v){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=x,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Ju(s,a,f,x,v,_,T,E,P){return s=new sC(s,a,f,E,P),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Vt(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:x,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},au(_),s}function rC(s,a,f){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:x==null?null:""+x,children:s,containerInfo:a,implementation:f}}function xp(s){if(!s)return Fn;s=s._reactInternals;e:{if(ii(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(vt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var f=s.type;if(vt(f))return qf(s,f,a)}return a}function yp(s,a,f,x,v,_,T,E,P){return s=Ju(f,x,!0,s,v,_,T,E,P),s.context=xp(null),f=s.current,x=xt(),v=Hn(f),_=xn(x,v),_.callback=a??null,jn(f,_,v),s.current.lanes=v,Bo(s,v,x),St(s,x),s}function Zr(s,a,f,x){var v=a.current,_=xt(),T=Hn(v);return f=xp(f),a.context===null?a.context=f:a.pendingContext=f,a=xn(_,T),a.payload={element:s},x=x===void 0?null:x,x!==null&&(a.callback=x),s=jn(v,a,T),s!==null&&(Kt(s,v,T,_),Pr(s,v,T)),T}function ea(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function vp(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<a?f:a}}function Yu(s,a){vp(s,a),(s=s.alternate)&&vp(s,a)}function aC(){return null}var Cp=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ku(s){this._internalRoot=s}ta.prototype.render=Ku.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Zr(s,a,null,null)},ta.prototype.unmount=Ku.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;fi(function(){Zr(null,s,null,null)}),a[fn]=null}};function ta(s){this._internalRoot=s}ta.prototype.unstable_scheduleHydration=function(s){if(s){var a=nf();s={blockedOn:null,target:s,priority:a};for(var f=0;f<In.length&&a!==0&&a<In[f].priority;f++);In.splice(f,0,s),f===0&&rf(s)}};function Qu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function na(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function _p(){}function lC(s,a,f,x,v){if(v){if(typeof x=="function"){var _=x;x=function(){var j=ea(T);_.call(j)}}var T=yp(a,x,s,0,null,!1,!1,"",_p);return s._reactRootContainer=T,s[fn]=T.current,es(s.nodeType===8?s.parentNode:s),fi(),T}for(;v=s.lastChild;)s.removeChild(v);if(typeof x=="function"){var E=x;x=function(){var j=ea(P);E.call(j)}}var P=Ju(s,0,!1,null,null,!1,!1,"",_p);return s._reactRootContainer=P,s[fn]=P.current,es(s.nodeType===8?s.parentNode:s),fi(function(){Zr(a,P,f,x)}),P}function ia(s,a,f,x,v){var _=f._reactRootContainer;if(_){var T=_;if(typeof v=="function"){var E=v;v=function(){var P=ea(T);E.call(P)}}Zr(a,T,s,v)}else T=lC(f,a,s,v,x);return ea(T)}ef=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var f=jo(a.pendingLanes);f!==0&&(_l(a,f|1),St(a,We()),(Te&6)===0&&(io=We()+500,Un()))}break;case 13:fi(function(){var x=gn(s,1);if(x!==null){var v=xt();Kt(x,s,1,v)}}),Yu(s,1)}},Sl=function(s){if(s.tag===13){var a=gn(s,134217728);if(a!==null){var f=xt();Kt(a,s,134217728,f)}Yu(s,134217728)}},tf=function(s){if(s.tag===13){var a=Hn(s),f=gn(s,a);if(f!==null){var x=xt();Kt(f,s,a,x)}Yu(s,a)}},nf=function(){return Ie},of=function(s,a){var f=Ie;try{return Ie=s,a()}finally{Ie=f}},pl=function(s,a,f){switch(a){case"input":if(rl(s,f),a=f.name,f.type==="radio"&&a!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<f.length;a++){var x=f[a];if(x!==s&&x.form===s.form){var v=Cr(x);if(!v)throw Error(n(90));Ed(x),rl(x,v)}}}break;case"textarea":Ad(s,f);break;case"select":a=f.value,a!=null&&Di(s,!!f.multiple,a,!1)}},zd=Ou,Od=fi;var uC={usingClientEntryPoint:!1,Events:[is,$i,Cr,jd,Bd,Ou]},xs={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cC={bundleType:xs.bundleType,version:xs.version,rendererPackageName:xs.rendererPackageName,rendererConfig:xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Gd(s),s===null?null:s.stateNode},findFiberByHostInstance:xs.findFiberByHostInstance||aC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oa.isDisabled&&oa.supportsFiber)try{tr=oa.inject(cC),Xt=oa}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uC,Tt.createPortal=function(s,a){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qu(a))throw Error(n(200));return rC(s,a,null,f)},Tt.createRoot=function(s,a){if(!Qu(s))throw Error(n(299));var f=!1,x="",v=Cp;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(x=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Ju(s,1,!1,null,null,f,!1,x,v),s[fn]=a.current,es(s.nodeType===8?s.parentNode:s),new Ku(a)},Tt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Gd(a),s=s===null?null:s.stateNode,s},Tt.flushSync=function(s){return fi(s)},Tt.hydrate=function(s,a,f){if(!na(a))throw Error(n(200));return ia(null,s,a,!0,f)},Tt.hydrateRoot=function(s,a,f){if(!Qu(s))throw Error(n(405));var x=f!=null&&f.hydratedSources||null,v=!1,_="",T=Cp;if(f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(T=f.onRecoverableError)),a=yp(a,null,s,1,f??null,v,!1,_,T),s[fn]=a.current,es(s),x)for(s=0;s<x.length;s++)f=x[s],v=f._getVersion,v=v(f._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[f,v]:a.mutableSourceEagerHydrationData.push(f,v);return new ta(a)},Tt.render=function(s,a,f){if(!na(a))throw Error(n(200));return ia(null,s,a,!1,f)},Tt.unmountComponentAtNode=function(s){if(!na(s))throw Error(n(40));return s._reactRootContainer?(fi(function(){ia(null,null,s,!1,function(){s._reactRootContainer=null,s[fn]=null})}),!0):!1},Tt.unstable_batchedUpdates=Ou,Tt.unstable_renderSubtreeIntoContainer=function(s,a,f,x){if(!na(f))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return ia(s,a,f,!1,x)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var Mp;function Tx(){if(Mp)return ec.exports;Mp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ec.exports=_C(),ec.exports}var Pp;function SC(){if(Pp)return sa;Pp=1;var t=Tx();return sa.createRoot=t.createRoot,sa.hydrateRoot=t.hydrateRoot,sa}var TC=SC();const wC=Sx(TC);Tx();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ls.apply(this,arguments)}var Jn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Jn||(Jn={}));const Ip="popstate";function bC(t){t===void 0&&(t={});function e(o,r){let{pathname:l="/",search:d="",hash:h=""}=Ii(o.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),_c("",{pathname:l,search:d,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(o,r){let l=o.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let h=o.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof r=="string"?r:Pa(r))}function i(o,r){Wc(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(r)+")")}return EC(e,n,i,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NC(){return Math.random().toString(36).substr(2,8)}function Ap(t,e){return{usr:t.state,key:t.key,idx:e}}function _c(t,e,n,i){return n===void 0&&(n=null),Ls({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ii(e):e,{state:n,key:e&&e.key||i||NC()})}function Pa(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function EC(t,e,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:r=!1}=i,l=o.history,d=Jn.Pop,h=null,p=g();p==null&&(p=0,l.replaceState(Ls({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function y(){d=Jn.Pop;let N=g(),M=N==null?null:N-p;p=N,h&&h({action:d,location:b.location,delta:M})}function C(N,M){d=Jn.Push;let I=_c(b.location,N,M);n&&n(I,N),p=g()+1;let A=Ap(I,p),D=b.createHref(I);try{l.pushState(A,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(D)}r&&h&&h({action:d,location:b.location,delta:1})}function S(N,M){d=Jn.Replace;let I=_c(b.location,N,M);n&&n(I,N),p=g();let A=Ap(I,p),D=b.createHref(I);l.replaceState(A,"",D),r&&h&&h({action:d,location:b.location,delta:0})}function w(N){let M=o.location.origin!=="null"?o.location.origin:o.location.href,I=typeof N=="string"?N:Pa(N);return I=I.replace(/ $/,"%20"),qe(M,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,M)}let b={get action(){return d},get location(){return t(o,l)},listen(N){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Ip,y),h=N,()=>{o.removeEventListener(Ip,y),h=null}},createHref(N){return e(o,N)},createURL:w,encodeLocation(N){let M=w(N);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:C,replace:S,go(N){return l.go(N)}};return b}var Rp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rp||(Rp={}));function kC(t,e,n){return n===void 0&&(n="/"),MC(t,e,n)}function MC(t,e,n,i){let o=typeof e=="string"?Ii(e):e,r=So(o.pathname||"/",n);if(r==null)return null;let l=wx(t);PC(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let p=zC(r);d=jC(l[h],p)}return d}function wx(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(r,l,d)=>{let h={relativePath:d===void 0?r.path||"":d,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};h.relativePath.startsWith("/")&&(qe(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let p=Xn([i,h.relativePath]),g=n.concat(h);r.children&&r.children.length>0&&(qe(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),wx(r.children,e,g,p)),!(r.path==null&&!r.index)&&e.push({path:p,score:UC(p,r.index),routesMeta:g})};return t.forEach((r,l)=>{var d;if(r.path===""||!((d=r.path)!=null&&d.includes("?")))o(r,l);else for(let h of bx(r.path))o(r,l,h)}),e}function bx(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return o?[r,""]:[r];let l=bx(i.join("/")),d=[];return d.push(...l.map(h=>h===""?r:[r,h].join("/"))),o&&d.push(...l),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function PC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const IC=/^:[\w-]+$/,AC=3,RC=2,DC=1,LC=10,FC=-2,Dp=t=>t==="*";function UC(t,e){let n=t.split("/"),i=n.length;return n.some(Dp)&&(i+=FC),e&&(i+=RC),n.filter(o=>!Dp(o)).reduce((o,r)=>o+(IC.test(r)?AC:r===""?DC:LC),i)}function VC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function jC(t,e,n){let{routesMeta:i}=t,o={},r="/",l=[];for(let d=0;d<i.length;++d){let h=i[d],p=d===i.length-1,g=r==="/"?e:e.slice(r.length)||"/",y=Sc({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),C=h.route;if(!y)return null;Object.assign(o,y.params),l.push({params:o,pathname:Xn([r,y.pathname]),pathnameBase:qC(Xn([r,y.pathnameBase])),route:C}),y.pathnameBase!=="/"&&(r=Xn([r,y.pathnameBase]))}return l}function Sc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=BC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let r=o[0],l=r.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,g,y)=>{let{paramName:C,isOptional:S}=g;if(C==="*"){let b=d[y]||"";l=r.slice(0,r.length-b.length).replace(/(.)\/+$/,"$1")}const w=d[y];return S&&!w?p[C]=void 0:p[C]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:r,pathnameBase:l,pattern:t}}function BC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Wc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function zC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function So(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function OC(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Ii(t):t;return{pathname:n?n.startsWith("/")?n:HC(n,e):e,search:GC(i),hash:WC(o)}}function HC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ic(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $C(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jc(t,e){let n=$C(t);return e?n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Yc(t,e,n,i){i===void 0&&(i=!1);let o;typeof t=="string"?o=Ii(t):(o=Ls({},t),qe(!o.pathname||!o.pathname.includes("?"),ic("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),ic("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),ic("#","search","hash",o)));let r=t===""||o.pathname==="",l=r?"/":o.pathname,d;if(l==null)d=n;else{let y=e.length-1;if(!i&&l.startsWith("..")){let C=l.split("/");for(;C[0]==="..";)C.shift(),y-=1;o.pathname=C.join("/")}d=y>=0?e[y]:"/"}let h=OC(o,d),p=l&&l!=="/"&&l.endsWith("/"),g=(r||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}const Xn=t=>t.join("/").replace(/\/\/+/g,"/"),qC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nx=["post","put","patch","delete"];new Set(Nx);const YC=["get",...Nx];new Set(YC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fs(){return Fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fs.apply(this,arguments)}const Ga=k.createContext(null),Ex=k.createContext(null),Nn=k.createContext(null),Wa=k.createContext(null),un=k.createContext({outlet:null,matches:[],isDataRoute:!1}),kx=k.createContext(null);function KC(t,e){let{relative:n}=e===void 0?{}:e;wo()||qe(!1);let{basename:i,navigator:o}=k.useContext(Nn),{hash:r,pathname:l,search:d}=Ja(t,{relative:n}),h=l;return i!=="/"&&(h=l==="/"?i:Xn([i,l])),o.createHref({pathname:h,search:d,hash:r})}function wo(){return k.useContext(Wa)!=null}function cn(){return wo()||qe(!1),k.useContext(Wa).location}function Mx(t){k.useContext(Nn).static||k.useLayoutEffect(t)}function ni(){let{isDataRoute:t}=k.useContext(un);return t?d_():QC()}function QC(){wo()||qe(!1);let t=k.useContext(Ga),{basename:e,future:n,navigator:i}=k.useContext(Nn),{matches:o}=k.useContext(un),{pathname:r}=cn(),l=JSON.stringify(Jc(o,n.v7_relativeSplatPath)),d=k.useRef(!1);return Mx(()=>{d.current=!0}),k.useCallback(function(p,g){if(g===void 0&&(g={}),!d.current)return;if(typeof p=="number"){i.go(p);return}let y=Yc(p,JSON.parse(l),r,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Xn([e,y.pathname])),(g.replace?i.replace:i.push)(y,g.state,g)},[e,i,l,r,t])}const XC=k.createContext(null);function ZC(t){let e=k.useContext(un).outlet;return e&&k.createElement(XC.Provider,{value:t},e)}function Kc(){let{matches:t}=k.useContext(un),e=t[t.length-1];return e?e.params:{}}function Ja(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=k.useContext(Nn),{matches:o}=k.useContext(un),{pathname:r}=cn(),l=JSON.stringify(Jc(o,i.v7_relativeSplatPath));return k.useMemo(()=>Yc(t,JSON.parse(l),r,n==="path"),[t,l,r,n])}function e_(t,e){return t_(t,e)}function t_(t,e,n,i){wo()||qe(!1);let{navigator:o}=k.useContext(Nn),{matches:r}=k.useContext(un),l=r[r.length-1],d=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let p=cn(),g;if(e){var y;let N=typeof e=="string"?Ii(e):e;h==="/"||(y=N.pathname)!=null&&y.startsWith(h)||qe(!1),g=N}else g=p;let C=g.pathname||"/",S=C;if(h!=="/"){let N=h.replace(/^\//,"").split("/");S="/"+C.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=kC(t,{pathname:S}),b=r_(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Xn([h,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:Xn([h,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),r,n,i);return e&&b?k.createElement(Wa.Provider,{value:{location:Fs({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Jn.Pop}},b):b}function n_(){let t=c_(),e=JC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,null)}const i_=k.createElement(n_,null);class o_ extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(un.Provider,{value:this.props.routeContext},k.createElement(kx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s_(t){let{routeContext:e,match:n,children:i}=t,o=k.useContext(Ga);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(un.Provider,{value:e},i)}function r_(t,e,n,i){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=i)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,d=(o=n)==null?void 0:o.errors;if(d!=null){let g=l.findIndex(y=>y.route.id&&(d==null?void 0:d[y.route.id])!==void 0);g>=0||qe(!1),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,p=-1;if(n&&i&&i.v7_partialHydration)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:C,errors:S}=n,w=y.route.loader&&C[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||w){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,y,C)=>{let S,w=!1,b=null,N=null;n&&(S=d&&y.route.id?d[y.route.id]:void 0,b=y.route.errorElement||i_,h&&(p<0&&C===0?(f_("route-fallback"),w=!0,N=null):p===C&&(w=!0,N=y.route.hydrateFallbackElement||null)));let M=e.concat(l.slice(0,C+1)),I=()=>{let A;return S?A=b:w?A=N:y.route.Component?A=k.createElement(y.route.Component,null):y.route.element?A=y.route.element:A=g,k.createElement(s_,{match:y,routeContext:{outlet:g,matches:M,isDataRoute:n!=null},children:A})};return n&&(y.route.ErrorBoundary||y.route.errorElement||C===0)?k.createElement(o_,{location:n.location,revalidation:n.revalidation,component:b,error:S,children:I(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):I()},null)}var Px=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Px||{}),Ix=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Ix||{});function a_(t){let e=k.useContext(Ga);return e||qe(!1),e}function l_(t){let e=k.useContext(Ex);return e||qe(!1),e}function u_(t){let e=k.useContext(un);return e||qe(!1),e}function Ax(t){let e=u_(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function c_(){var t;let e=k.useContext(kx),n=l_(),i=Ax();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function d_(){let{router:t}=a_(Px.UseNavigateStable),e=Ax(Ix.UseNavigateStable),n=k.useRef(!1);return Mx(()=>{n.current=!0}),k.useCallback(function(o,r){r===void 0&&(r={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Fs({fromRouteId:e},r)))},[t,e])}const Lp={};function f_(t,e,n){Lp[t]||(Lp[t]=!0)}function h_(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vs(t){let{to:e,replace:n,state:i,relative:o}=t;wo()||qe(!1);let{future:r,static:l}=k.useContext(Nn),{matches:d}=k.useContext(un),{pathname:h}=cn(),p=ni(),g=Yc(e,Jc(d,r.v7_relativeSplatPath),h,o==="path"),y=JSON.stringify(g);return k.useEffect(()=>p(JSON.parse(y),{replace:n,state:i,relative:o}),[p,y,o,n,i]),null}function oc(t){return ZC(t.context)}function Ee(t){qe(!1)}function p_(t){let{basename:e="/",children:n=null,location:i,navigationType:o=Jn.Pop,navigator:r,static:l=!1,future:d}=t;wo()&&qe(!1);let h=e.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:h,navigator:r,static:l,future:Fs({v7_relativeSplatPath:!1},d)}),[h,d,r,l]);typeof i=="string"&&(i=Ii(i));let{pathname:g="/",search:y="",hash:C="",state:S=null,key:w="default"}=i,b=k.useMemo(()=>{let N=So(g,h);return N==null?null:{location:{pathname:N,search:y,hash:C,state:S,key:w},navigationType:o}},[h,g,y,C,S,w,o]);return b==null?null:k.createElement(Nn.Provider,{value:p},k.createElement(Wa.Provider,{children:n,value:b}))}function m_(t){let{children:e,location:n}=t;return e_(Tc(e),n)}new Promise(()=>{});function Tc(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(i,o)=>{if(!k.isValidElement(i))return;let r=[...e,o];if(i.type===k.Fragment){n.push.apply(n,Tc(i.props.children,r));return}i.type!==Ee&&qe(!1),!i.props.index||!i.props.children||qe(!1);let l={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Tc(i.props.children,r)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ia(){return Ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ia.apply(this,arguments)}function Rx(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,r;for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function g_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function x_(t,e){return t.button===0&&(!e||e==="_self")&&!g_(t)}const y_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],v_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],C_="6";try{window.__reactRouterVersion=C_}catch{}const __=k.createContext({isTransitioning:!1}),S_="startTransition",Fp=yC[S_];function T_(t){let{basename:e,children:n,future:i,window:o}=t,r=k.useRef();r.current==null&&(r.current=bC({window:o,v5Compat:!0}));let l=r.current,[d,h]=k.useState({action:l.action,location:l.location}),{v7_startTransition:p}=i||{},g=k.useCallback(y=>{p&&Fp?Fp(()=>h(y)):h(y)},[h,p]);return k.useLayoutEffect(()=>l.listen(g),[l,g]),k.useEffect(()=>h_(i),[i]),k.createElement(p_,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:l,future:i})}const w_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=k.forwardRef(function(e,n){let{onClick:i,relative:o,reloadDocument:r,replace:l,state:d,target:h,to:p,preventScrollReset:g,viewTransition:y}=e,C=Rx(e,y_),{basename:S}=k.useContext(Nn),w,b=!1;if(typeof p=="string"&&b_.test(p)&&(w=p,w_))try{let A=new URL(window.location.href),D=p.startsWith("//")?new URL(A.protocol+p):new URL(p),L=So(D.pathname,S);D.origin===A.origin&&L!=null?p=L+D.search+D.hash:b=!0}catch{}let N=KC(p,{relative:o}),M=E_(p,{replace:l,state:d,target:h,preventScrollReset:g,relative:o,viewTransition:y});function I(A){i&&i(A),A.defaultPrevented||M(A)}return k.createElement("a",Ia({},C,{href:w||N,onClick:b||r?i:I,ref:n,target:h}))}),Ye=k.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:o=!1,className:r="",end:l=!1,style:d,to:h,viewTransition:p,children:g}=e,y=Rx(e,v_),C=Ja(h,{relative:y.relative}),S=cn(),w=k.useContext(Ex),{navigator:b,basename:N}=k.useContext(Nn),M=w!=null&&k_(C)&&p===!0,I=b.encodeLocation?b.encodeLocation(C).pathname:C.pathname,A=S.pathname,D=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;o||(A=A.toLowerCase(),D=D?D.toLowerCase():null,I=I.toLowerCase()),D&&N&&(D=So(D,N)||D);const L=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let z=A===I||!l&&A.startsWith(I)&&A.charAt(L)==="/",$=D!=null&&(D===I||!l&&D.startsWith(I)&&D.charAt(I.length)==="/"),B={isActive:z,isPending:$,isTransitioning:M},O=z?i:void 0,Q;typeof r=="function"?Q=r(B):Q=[r,z?"active":null,$?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let K=typeof d=="function"?d(B):d;return k.createElement(an,Ia({},y,{"aria-current":O,className:Q,ref:n,style:K,to:h,viewTransition:p}),typeof g=="function"?g(B):g)});var wc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wc||(wc={}));var Up;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Up||(Up={}));function N_(t){let e=k.useContext(Ga);return e||qe(!1),e}function E_(t,e){let{target:n,replace:i,state:o,preventScrollReset:r,relative:l,viewTransition:d}=e===void 0?{}:e,h=ni(),p=cn(),g=Ja(t,{relative:l});return k.useCallback(y=>{if(x_(y,n)){y.preventDefault();let C=i!==void 0?i:Pa(p)===Pa(g);h(t,{replace:C,state:o,preventScrollReset:r,relative:l,viewTransition:d})}},[p,h,g,i,o,n,t,r,l,d])}function k_(t,e){e===void 0&&(e={});let n=k.useContext(__);n==null&&qe(!1);let{basename:i}=N_(wc.useViewTransitionState),o=Ja(t,{relative:e.relative});if(!n.isTransitioning)return!1;let r=So(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=So(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Sc(o.pathname,l)!=null||Sc(o.pathname,r)!=null}const M_=[{id:"poi-1",name:"Pedra do Segredo",description:"Formação rochosa icônica com vista panorâmica.",longDescription:"A Pedra do Segredo é um dos mais belos e misteriosos pontos turísticos de Caçapava do Sul. A subida é recompensada com uma vista de 360 graus da região, perfeita para fotos e contemplação.",imageUrl:"https://i.ytimg.com/vi/bYf2-T20W0g/maxresdefault.jpg",points:25,lat:-30.5694,lng:-53.4913},{id:"poi-2",name:"Minas do Camaquã",description:"Complexo mineiro histórico e paisagens deslumbrantes.",longDescription:"Explore as ruínas do maior complexo de mineração de cobre do Brasil. O local oferece uma viagem no tempo, com prédios antigos, equipamentos e uma paisagem única moldada pela atividade mineradora.",imageUrl:"https://www.minasdocamaqua.com.br/wp-content/uploads/2019/08/Pr%C3%A9dio-do-escrit%C3%B3rio-da-CBC-1.jpg",points:30,lat:-30.7303,lng:-53.7664},{id:"poi-3",name:"Cascata do Salso",description:"Queda d'água refrescante em meio à natureza.",longDescription:"Uma bela cascata de fácil acesso, ideal para um banho refrescante nos dias quentes. O som da água e a vegetação ao redor criam um ambiente perfeito para relaxar e se conectar com a natureza.",imageUrl:"https://media-cdn.tripadvisor.com/media/photo-s/0d/18/0a/73/cascata-do-salso.jpg",points:20,lat:-30.5054,lng:-53.4116},{id:"poi-4",name:"Forte Dom Pedro II",description:"Marco histórico da Revolução Farroupilha.",longDescription:"Construído em 1848, o Forte Dom Pedro II é um importante sítio histórico. Suas muralhas de pedra contam histórias de batalhas e da importância estratégica de Caçapava do Sul no passado.",imageUrl:"https://live.staticflickr.com/832/42079148484_f04a796d8e_b.jpg",points:15,lat:-30.5144,lng:-53.4883},{id:"poi-5",name:"Casa de Ulhôa Cintra",description:"Centro de cultura e história local.",longDescription:"Este casarão histórico, antiga residência do Visconde de Jaguari, hoje abriga um centro cultural com exposições que narram a rica história de Caçapava do Sul e seus personagens ilustres.",imageUrl:"https://www.jornalfolhadacidade.com.br/img/noticias/casa-de-ulhoa-cintra-e-tema-de-audiencia-publica.jpg",points:10,lat:-30.515,lng:-53.4891},{id:"poi-6",name:"Igreja Matriz Nossa Sra. da Assunção",description:"Imponente igreja gótica no coração da cidade.",longDescription:"Com sua arquitetura gótica impressionante, a Igreja Matriz é um marco de fé e arte. Seus vitrais e detalhes arquitetônicos encantam visitantes e fiéis, sendo um dos cartões-postais da cidade.",imageUrl:"https://live.staticflickr.com/7120/7424597086_e5491104e7_b.jpg",points:10,lat:-30.5148,lng:-53.4899},{id:"poi-7",name:"Guaritas",description:"Formações rochosas que parecem sentinelas.",longDescription:"O Parque das Guaritas é um santuário geológico com formações de arenito que se assemelham a torres e guardiões. Um lugar de energia única, perfeito para trekking e observação de estrelas.",imageUrl:"https://www.cacapavadosul.rs.gov.br/arquivos/noticias/guaritas-uma-das-7-maravilhas-do-rs_16112022120026.jpeg",points:25,lat:-30.7397,lng:-53.4682},{id:"poi-8",name:"Churrascaria Rodeio",description:"O autêntico churrasco gaúcho.",longDescription:"Experimente o verdadeiro sabor do pampa na Churrascaria Rodeio. Com cortes de carne nobres e um buffet completo de pratos tradicionais, é uma parada obrigatória para os amantes da boa gastronomia.",imageUrl:"https://media-cdn.tripadvisor.com/media/photo-s/07/9e/29/46/churrascaria-rodeio.jpg",points:15,lat:-30.5201,lng:-53.4925},{id:"poi-9",name:"Doçaria Pelotense",description:"Doces tradicionais para adoçar a vida.",longDescription:"Uma vitrine repleta de delícias que representam a famosa tradição dos doces de Pelotas. Quindins, pastéis de nata e outras iguarias feitas com receitas de família.",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR611m9H1o0X2B-w5Zg9C1W7L9o_hB9bF3nQ&s",points:10,lat:-30.5135,lng:-53.487}],Ya=[{id:"route-1",name:"Belezas Naturais",description:"Explore paisagens de tirar o fôlego, de formações rochosas a cascatas refrescantes.",pointsOfInterest:["poi-1","poi-3","poi-7"],imageUrl:"https://www.aventurebox.com/wp-content/uploads/2021/10/trekking-nas-guaritas-3.jpg"},{id:"route-2",name:"Riqueza Histórica",description:"Viaje no tempo conhecendo os locais que marcaram a história da região.",pointsOfInterest:["poi-2","poi-4","poi-5","poi-6"],imageUrl:"https://i0.wp.com/serrasdonovosul.com/wp-content/uploads/2022/01/forte-dom-pedro-II.jpg?fit=800%2C533&ssl=1"},{id:"route-3",name:"Sabores da Terra",description:"Uma rota para os amantes da boa comida, do churrasco gaúcho aos doces tradicionais.",pointsOfInterest:["poi-8","poi-9"],imageUrl:"https://img.freepik.com/fotos-premium/churrasco-gaucho-tradicional-picanha-e-outras-carnes-na-grelha_801454-1595.jpg"}];var vx;const P_=new Set(((vx=Ya.find(t=>t.id==="route-1"))==null?void 0:vx.pointsOfInterest)||[]);var Cx;const I_=new Set(((Cx=Ya.find(t=>t.id==="route-2"))==null?void 0:Cx.pointsOfInterest)||[]);var _x;const A_=new Set(((_x=Ya.find(t=>t.id==="route-3"))==null?void 0:_x.pointsOfInterest)||[]),R_=[{id:"badge-1",name:"Explorador da Natureza",description:"Visitou todos os pontos da rota Belezas Naturais.",icon:"Mountain",criteria:t=>Array.from(P_).every(e=>t.has(e))},{id:"badge-2",name:"Historiador",description:"Visitou todos os pontos da rota Riqueza Histórica.",icon:"BookOpen",criteria:t=>Array.from(I_).every(e=>t.has(e))},{id:"badge-5",name:"Bom de Garfo",description:"Visitou todos os pontos da rota Sabores da Terra.",icon:"Utensils",criteria:t=>Array.from(A_).every(e=>t.has(e))},{id:"badge-3",name:"Pioneiro",description:"Realizou seu primeiro check-in.",icon:"Star",criteria:t=>t.size===1},{id:"badge-4",name:"Mestre Desbravador",description:"Visitou todos os pontos turísticos disponíveis.",icon:"Leaf",criteria:(t,e)=>e?t.size===e.size:!1}],D_=[{id:"user-1",name:"Ana Exploradora",email:"turista@email.com",password:"senha123",role:"tourist",avatarUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",points:55,visited:[{pointId:"poi-1",date:"2023-10-26T10:00:00Z"},{pointId:"poi-4",date:"2023-10-26T14:30:00Z"}],badges:["badge-3"],routeProgress:[]},{id:"user-4",name:"Carlos Viajante",email:"carlos@email.com",password:"senha123",role:"tourist",avatarUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",points:120,visited:[],badges:[],routeProgress:[]},{id:"user-5",name:"Mariana Aventureira",email:"mariana@email.com",password:"senha123",role:"tourist",avatarUrl:"https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",points:85,visited:[],badges:[],routeProgress:[]},{id:"user-6",name:"João Gaúcho",email:"joao@email.com",password:"senha123",role:"tourist",avatarUrl:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",points:20,visited:[],badges:[],routeProgress:[]},{id:"user-2",name:"Hotel Plaza",email:"hotel@email.com",password:"senha123",role:"hotel",avatarUrl:"https://picsum.photos/seed/hotel/200",points:0,visited:[],badges:[],routeProgress:[]},{id:"user-hotel-2",name:"Pousada Charme",email:"pousada@email.com",password:"senha123",role:"hotel",avatarUrl:"https://picsum.photos/seed/pousada/200",points:0,visited:[],badges:[],routeProgress:[]},{id:"user-3",name:"Admin da Cidade",email:"secretaria@email.com",password:"senha123",role:"secretaria",avatarUrl:"https://picsum.photos/seed/admin/200",points:0,visited:[],badges:[],routeProgress:[]}],L_=[{id:"checkin-1",hotelId:"user-2",touristName:"Carlos Viajante",phone:"55999999999",profession:"Engenheiro",nationality:"Brasileira",birthDate:"1990-05-15",gender:"Masculino",idDocument:"123456789",originCity:"Porto Alegre/RS",travelReason:"Turismo",transportMean:"Automóvel",discoveryChannel:"Indicação de amigos",poiOpinion:"Muito boa",cityOpinion:"Ótima",checkInDate:"2023-10-25T14:00:00Z",checkOutDate:"2023-10-28T11:00:00Z"},{id:"checkin-2",hotelId:"user-2",touristName:"Mariana Aventureira",phone:"21988888888",profession:"Designer",nationality:"Brasileira",birthDate:"1995-08-20",gender:"Feminino",idDocument:"987654321",originCity:"Rio de Janeiro/RJ",travelReason:"Férias",transportMean:"Ônibus",discoveryChannel:"Rede Social",poiOpinion:"Ótima",cityOpinion:"Ótima",checkInDate:"2023-10-20T16:00:00Z",checkOutDate:"2023-10-24T12:00:00Z"},{id:"checkin-3",hotelId:"user-hotel-2",touristName:"Ana Exploradora",phone:"11977777777",profession:"Jornalista",nationality:"Brasileira",birthDate:"1988-11-30",gender:"Feminino",idDocument:"555555555",originCity:"São Paulo/SP",travelReason:"Negócio",transportMean:"Outros",discoveryChannel:"Site",poiOpinion:"Ótima",cityOpinion:"Ótima",checkInDate:"2023-11-01T18:00:00Z",checkOutDate:"2023-11-05T10:00:00Z"}],F_=[{id:"challenge-1",title:"Maratona Fotográfica",description:"Tire uma foto em 3 pontos de interesse diferentes em um único dia.",points:50,type:"challenge"},{id:"challenge-2",title:"Festival de Inverno",description:"Participe do evento de abertura do Festival de Inverno na praça central.",points:30,type:"event",startDate:"2025-07-20T18:00:00Z",endDate:"2025-07-20T22:00:00Z"},{id:"challenge-3",title:"Caçador de Lendas",description:"Visite o Forte Dom Pedro II e a Pedra do Segredo para desvendar mistérios.",points:40,type:"challenge",relatedPoiIds:["poi-1","poi-4"]}],U_=[{id:"photo-1",userId:"user-1",userName:"Ana Exploradora",userAvatarUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",imageUrl:"https://www.aventurebox.com/wp-content/uploads/2021/10/trekking-nas-guaritas-3.jpg",caption:"Vista incrível da Pedra do Segredo! 🤩 #CaçapavaDoSul",poiId:"poi-1",timestamp:"2025-08-17T16:30:00Z",likes:["user-4","user-5"]},{id:"photo-2",userId:"user-4",userName:"Carlos Viajante",userAvatarUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",imageUrl:"https://i0.wp.com/serrasdonovosul.com/wp-content/uploads/2022/01/forte-dom-pedro-II.jpg?fit=800%2C533&ssl=1",caption:"Conhecendo um pouco da história do Brasil no Forte Dom Pedro II.",poiId:"poi-4",timestamp:"2025-08-16T11:00:00Z",likes:["user-1"]}],gi=(t,e)=>{try{const n=sessionStorage.getItem(t);if(n){const i=JSON.parse(n);return i!==null?i:e}return e}catch(n){return console.error(`Error reading from sessionStorage key "${t}":`,n),e}},xi=(t,e)=>{try{sessionStorage.setItem(t,JSON.stringify(e))}catch(n){console.error(`Error writing to sessionStorage key "${t}":`,n)}};class V_{constructor(){this.users=gi("db_users",D_),this.routes=gi("db_routes",Ya),this.pois=gi("db_pois",M_),this.badges=gi("db_badges",R_),this.checkIns=gi("db_checkins",L_),this.challenges=gi("db_challenges",F_),this.photos=gi("db_photos",U_)}save(){xi("db_users",this.users),xi("db_routes",this.routes),xi("db_pois",this.pois),xi("db_badges",this.badges),xi("db_checkins",this.checkIns),xi("db_challenges",this.challenges),xi("db_photos",this.photos)}}let X=new V_;const we=t=>new Promise(e=>setTimeout(e,t)),xe={async login(t,e){await we(300);const n=X.users.find(i=>i.email.toLowerCase()===t.toLowerCase());if(n&&n.password===e){const{password:i,...o}=n;return o}return null},async getUserById(t){await we(50);const e=X.users.find(n=>n.id===t);return e?{...e}:null},async getLeaderboard(){return await we(200),[...X.users].filter(t=>t.role==="tourist").sort((t,e)=>e.points-t.points)},async updateUser(t,e){await we(150);const n=X.users.findIndex(i=>i.id===t);return n>-1?(X.users[n]={...X.users[n],...e},X.save(),{...X.users[n]}):null},async getRoutes(){return await we(100),[...X.routes]},async getRouteById(t){await we(50);const e=X.routes.find(n=>n.id===t);return e?{...e}:null},async createRoute(t){await we(200);const e={id:`route-${Date.now()}`,...t};return X.routes.push(e),X.save(),e},async updateRoute(t,e){await we(200);const n=X.routes.findIndex(i=>i.id===t);return n>-1?(X.routes[n]={...X.routes[n],...e},X.save(),{...X.routes[n]}):null},async deleteRoute(t){return await we(300),X.routes=X.routes.filter(e=>e.id!==t),X.save(),!0},async getPointsOfInterest(){return await we(100),[...X.pois]},async getPointOfInterestById(t){await we(50);const e=X.pois.find(n=>n.id===t);return e?{...e}:null},async createPointOfInterest(t){await we(200);const e={id:`poi-${Date.now()}`,...t};return X.pois.push(e),X.save(),e},async updatePointOfInterest(t,e){await we(200);const n=X.pois.findIndex(i=>i.id===t);return n>-1?(X.pois[n]={...X.pois[n],...e},X.save(),{...X.pois[n]}):null},async deletePointOfInterest(t){return await we(300),X.pois=X.pois.filter(e=>e.id!==t),X.routes.forEach(e=>{e.pointsOfInterest=e.pointsOfInterest.filter(n=>n!==t)}),X.save(),!0},async checkIn(t,e){await we(500);const n=X.users.findIndex(p=>p.id===t),i=X.pois.find(p=>p.id===e);if(n===-1||!i)return{success:!1,message:"Usuário ou Ponto de Interesse não encontrado.",newBadges:[]};const o=X.users[n];if(o.visited.some(p=>p.pointId===e))return{success:!1,message:"Você já fez check-in neste local.",newBadges:[]};o.visited.push({pointId:e,date:new Date().toISOString()}),o.points+=i.points;const r=[],l=new Set(o.visited.map(p=>p.pointId)),d=new Set(X.pois.map(p=>p.id));X.badges.forEach(p=>{!o.badges.includes(p.id)&&p.criteria(l,d)&&(o.badges.push(p.id),r.push(p))}),X.save();let h=`Check-in realizado! Você ganhou ${i.points} pontos.`;return r.length>0&&(h+=` E ${r.length} nova(s) conquista(s)!`),{success:!0,message:h,newBadges:r}},async getBadgesForUser(t){await we(100);const e=X.users.find(n=>n.id===t);return e?X.badges.filter(n=>e.badges.includes(n.id)):[]},async getAllBadges(){return await we(50),[...X.badges]},async getChallenges(){return await we(100),[...X.challenges]},async createChallenge(t){await we(200);const e={id:`challenge-${Date.now()}`,...t};return X.challenges.push(e),X.save(),e},async updateChallenge(t,e){await we(200);const n=X.challenges.findIndex(i=>i.id===t);return n>-1?(X.challenges[n]={...X.challenges[n],...e},X.save(),{...X.challenges[n]}):null},async deleteChallenge(t){return await we(300),X.challenges=X.challenges.filter(e=>e.id!==t),X.save(),!0},async getPhotos(){return await we(150),[...X.photos].sort((t,e)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime())},async createPhoto(t){await we(300);const e=await this.getUserById(t.userId);if(!e)throw new Error("User not found");const n={id:`photo-${Date.now()}`,...t,userName:e.name,userAvatarUrl:e.avatarUrl,timestamp:new Date().toISOString(),likes:[]};return X.photos.push(n),await this.updateUser(t.userId,{points:e.points+15}),X.save(),n},async likePhoto(t,e){await we(100);const n=X.photos.findIndex(r=>r.id===t);if(n===-1)return null;const i=X.photos[n],o=await this.getUserById(i.userId);return o?i.userId===e||i.likes.includes(e)?i:(i.likes.push(e),await this.updateUser(i.userId,{points:o.points+2}),X.save(),{...i}):null},async getHotelDashboardData(t){await we(300);const e=X.checkIns.filter(l=>l.hotelId===t);if(e.length===0)return{totalGuests:0,satisfaction:{city:{},poi:{}},demographics:{byOrigin:{}},travelBehavior:{byReason:{}},recentCheckIns:[]};const n={city:{},poi:{}},i={byOrigin:{}},o={byReason:{}},r=(l,d)=>{l[d]=(l[d]||0)+1};return e.forEach(l=>{r(n.city,l.cityOpinion),r(n.poi,l.poiOpinion),r(i.byOrigin,l.originCity),r(o.byReason,l.travelReason)}),{totalGuests:e.length,satisfaction:n,demographics:i,travelBehavior:o,recentCheckIns:e.slice(0,5).sort((l,d)=>new Date(d.checkInDate).getTime()-new Date(l.checkInDate).getTime())}},async getAllHotelsAnalytics(){return await we(400),{summary:X.users.filter(n=>n.role==="hotel").map(n=>{const i=X.checkIns.filter(h=>h.hotelId===n.id),o=i.length,r={Péssimo:1,Ruim:2,Boa:3,"Muito boa":4,Ótima:5},l=i.reduce((h,p)=>h+(r[p.cityOpinion]||3),0),d=o>0?(l/o).toFixed(1):"N/A";return{hotelId:n.id,hotelName:n.name,totalGuests:o,avgRating:d}}),allCheckIns:[...X.checkIns]}},async getHotelCheckIns(t){return await we(150),X.checkIns.filter(e=>e.hotelId===t)},async createHotelCheckIn(t,e){await we(300);const n={id:`checkin-${Date.now()}`,hotelId:t,...e};return X.checkIns.push(n),X.save(),n},async getAdminStats(){var r;await we(200);const t=X.users.reduce((l,d)=>l+d.visited.length,0),e={};X.users.forEach(l=>{l.visited.forEach(d=>{e[d.pointId]=(e[d.pointId]||0)+1})});const n=Object.entries(e).sort((l,d)=>d[1]-l[1])[0],i=n?n[0]:null,o=i?(r=X.pois.find(l=>l.id===i))==null?void 0:r.name:"Nenhum";return{totalTourists:X.users.filter(l=>l.role==="tourist").length,totalRoutes:X.routes.length,totalCheckIns:t,mostVisitedPoi:o}},async getAnalyticsSummary(){if(await we(150),X.checkIns.length===0)return{totalVisitors:0,avgCityRating:"N/A",mostPopularRoute:"N/A"};const t=new Set(X.checkIns.map(l=>l.touristName)).size,e={Péssimo:1,Ruim:2,Boa:3,"Muito boa":4,Ótima:5},i=(X.checkIns.reduce((l,d)=>l+(e[d.cityOpinion]||3),0)/X.checkIns.length).toFixed(1),r=Object.entries({"Belezas Naturais":1,"Riqueza Histórica":0,"Sabores da Terra":0}).sort((l,d)=>d[1]-l[1])[0][0]||"N/A";return{totalVisitors:t,avgCityRating:i,mostPopularRoute:r}},async getAnalyticsData(){await we(400);const t={demographics:{byGender:{},ageRanges:{},byNationality:{}},travelBehavior:{byReason:{},byTransport:{},byDiscovery:{}},satisfaction:{poi:{},city:{}},routeAnalytics:{completionsByRoute:{"Belezas Naturais":1,"Riqueza Histórica":0,"Sabores da Terra":0},mostPopularRoute:"Belezas Naturais"}},e=(n,i)=>{n[i]=(n[i]||0)+1};return X.checkIns.forEach(n=>{e(t.demographics.byGender,n.gender),e(t.demographics.byNationality,n.nationality);const i=new Date().getFullYear()-new Date(n.birthDate).getFullYear();i<20?e(t.demographics.ageRanges,"0-19"):i<30?e(t.demographics.ageRanges,"20-29"):i<40?e(t.demographics.ageRanges,"30-39"):i<50?e(t.demographics.ageRanges,"40-49"):e(t.demographics.ageRanges,"50+"),e(t.travelBehavior.byReason,n.travelReason),e(t.travelBehavior.byTransport,n.transportMean),e(t.travelBehavior.byDiscovery,n.discoveryChannel),e(t.satisfaction.poi,n.poiOpinion),e(t.satisfaction.city,n.cityOpinion)}),t},async getFullAdminDashboardData(){await we(450);const t=await this.getAdminStats(),e=await this.getAnalyticsData(),n={totalInteractions:1245,commonQuestions:[{question:"Horários da Cascata",count:230},{question:"Onde comer?",count:180},{question:"Roteiro de 1 dia",count:150}],satisfaction:"92%"},i=X.checkIns.length;return{...t,analytics:e,totalHotelCheckIns:i,botUsage:n}},async getAllTouristsData(){await we(200);const t=X.users.filter(n=>n.role==="tourist"),e=X.checkIns.reduce((n,i)=>(n[i.touristName.toLowerCase()]=i,n),{});return t.map(n=>{const i=e[n.name.toLowerCase()];return{id:n.id,name:n.name,email:n.email,points:n.points,phone:i?i.phone:"N/A"}})}},Dx=k.createContext(void 0),j_=({children:t})=>{const[e,n]=k.useState(null);k.useEffect(()=>{try{const l=sessionStorage.getItem("user");l&&n(JSON.parse(l))}catch(l){console.error("Failed to parse user from sessionStorage",l),n(null)}},[]);const i=async(l,d)=>{try{const h=await xe.login(l,d);return h?(sessionStorage.setItem("user",JSON.stringify(h)),n(h),{success:!0,role:h.role}):{success:!1}}catch(h){return console.error("AuthContext: Erro durante o login:",h),{success:!1}}},o=()=>{sessionStorage.removeItem("user"),n(null)},r=k.useMemo(()=>({user:e,isAuthenticated:!!e,login:i,logout:o}),[e]);return m.jsx(Dx.Provider,{value:r,children:t})},dn=()=>{const t=k.useContext(Dx);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Lx=k.createContext(void 0),B_=({children:t})=>{const{user:e}=dn(),[n,i]=k.useState(null);k.useEffect(()=>{(e==null?void 0:e.role)==="tourist"&&xe.getUserById(e.id).then(h=>{h&&i(h)})},[e]);const o=k.useCallback(()=>new Set((n==null?void 0:n.visited.map(h=>h.pointId))||[]),[n]),r=k.useCallback(async h=>{if(!n)return{success:!1,message:"Usuário não encontrado.",newBadges:[]};const p=await xe.checkIn(n.id,h);if(p.success){const g=await xe.getUserById(n.id);g&&i(g)}return p},[n]),l=k.useCallback(async(h,p)=>{if(!n)return null;const g=await xe.updateUser(n.id,{name:h,avatarUrl:p});return g&&i(g),g},[n]),d=k.useMemo(()=>({currentUser:n,checkIn:r,getVisitedIds:o,updateUserProfile:l}),[n,r,o,l]);return m.jsx(Lx.Provider,{value:d,children:t})},qs=()=>{const t=k.useContext(Lx);if(t===void 0)throw new Error("useGamification must be used within a GamificationProvider");return t},sc=({children:t,roles:e})=>{const{user:n,isAuthenticated:i}=dn(),o=cn();if(!i||!n)return m.jsx(vs,{to:"/login",state:{from:o},replace:!0});if(!e.includes(n.role))switch(n.role){case"tourist":return m.jsx(vs,{to:"/",replace:!0});case"secretaria":return m.jsx(vs,{to:"/admin",replace:!0});case"hotel":return m.jsx(vs,{to:"/hotel",replace:!0});default:return m.jsx(vs,{to:"/login",replace:!0})}return m.jsx(m.Fragment,{children:t})},Gs=t=>m.jsx("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:m.jsx("path",{d:"M51.8743 14.8393L53.9161 11.25L59.7348 13.985L64.2123 10L68.3228 15.0185L70.9304 20.2161L75.4078 26.2917L72.2344 31.8477L73.9602 38.8188L71.3526 44.9965L73.9602 51.5326L69.2139 55.3379L70.9304 60.5355L66.5511 67.5066L61.8048 72.8833L54.673 80.2128L50.9975 88.75L45.5458 84.7656L39.3601 88.3916L32.2283 83.0149L29.6207 77.2798L25.1432 74.5447L26.502 68.367L24.4602 60.9939L29.2065 56.4424L26.869 49.7547L30.3776 43.2186L28.2588 34.6729L33.7104 29.3998L39.7271 31.1305L44.8285 24.5944L47.4361 19.3968L51.8743 14.8393Z",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})}),z_=()=>{var S,w;const[t,e]=k.useState(""),[n,i]=k.useState(""),[o,r]=k.useState(""),[l,d]=k.useState(!1),{login:h}=dn(),p=ni(),y=((w=(S=cn().state)==null?void 0:S.from)==null?void 0:w.pathname)||"/",C=async b=>{b.preventDefault(),r(""),d(!0);const N=await h(t,n);if(d(!1),N.success)switch(N.role){case"tourist":p(y==="/login"||y.startsWith("/admin")||y.startsWith("/hotel")?"/":y,{replace:!0});break;case"secretaria":p("/admin");break;case"hotel":p("/hotel");break;default:p("/")}else r("Email ou senha inválidos. Por favor, tente novamente.")};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-brand-dark-green p-4",children:m.jsxs("div",{className:"w-full max-w-md",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-block w-24 h-24 text-brand-light-green",children:m.jsx(Gs,{})}),m.jsxs("div",{className:"text-brand-beige",children:[m.jsx("div",{className:"font-display tracking-wider text-3xl leading-none",children:"VISITE"}),m.jsx("div",{className:"font-black text-4xl leading-none -mt-1",children:"CAÇAPAVA"}),m.jsx("div",{className:"font-semibold text-xl leading-none",children:"DO SUL"})]})]}),m.jsxs("div",{className:"bg-brand-beige p-8 rounded-2xl shadow-2xl",children:[m.jsx("h2",{className:"text-2xl font-bold text-center text-brand-dark-green mb-6",children:"Login"}),m.jsxs("form",{onSubmit:C,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),m.jsx("input",{id:"email",type:"email",autoComplete:"email",value:t,onChange:b=>e(b.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-green focus:border-brand-green sm:text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),m.jsx("input",{id:"password",type:"password",autoComplete:"current-password",value:n,onChange:b=>i(b.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-green focus:border-brand-green sm:text-sm"})]}),o&&m.jsx("p",{className:"text-brand-red text-sm",children:o}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-brand-green hover:bg-brand-dark-green focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-light-green disabled:bg-gray-400",children:l?"Entrando...":"Entrar"})})]}),m.jsxs("div",{className:"mt-6 p-4 bg-green-50 border-l-4 border-brand-green rounded-r-lg text-sm",children:[m.jsx("p",{className:"font-bold",children:"Para demonstração, use:"}),m.jsxs("ul",{className:"list-disc list-inside mt-1 text-gray-700",children:[m.jsxs("li",{children:[m.jsx("strong",{className:"font-semibold",children:"Turista:"})," turista@email.com"]}),m.jsxs("li",{children:[m.jsx("strong",{className:"font-semibold",children:"Hotel:"})," hotel@email.com"]}),m.jsxs("li",{children:[m.jsx("strong",{className:"font-semibold",children:"Admin:"})," secretaria@email.com"]})]}),m.jsxs("p",{className:"mt-2",children:["A senha para todos é: ",m.jsx("strong",{className:"font-semibold",children:"senha123"})]})]})]})]})})};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H_=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Vp=t=>{const e=H_(t);return e.charAt(0).toUpperCase()+e.slice(1)},Fx=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),$_=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:r,iconNode:l,...d},h)=>k.createElement("svg",{ref:h,...q_,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Fx("lucide",o),...!r&&!$_(d)&&{"aria-hidden":"true"},...d},[...l.map(([p,g])=>k.createElement(p,g)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(t,e)=>{const n=k.forwardRef(({className:i,...o},r)=>k.createElement(G_,{ref:r,iconNode:e,className:Fx(`lucide-${O_(Vp(t))}`,`lucide-${t}`,i),...o}));return n.displayName=Vp(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ei=ce("award",W_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],Y_=ce("bed-double",J_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ux=ce("book-open",K_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Ka=ce("bot",Q_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Aa=ce("calendar",X_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M10 5V3",key:"1y54qe"}],["path",{d:"M14 5V3",key:"m6isi"}],["path",{d:"M15 21v-3a3 3 0 0 0-6 0v3",key:"lbp5hj"}],["path",{d:"M18 3v8",key:"2ollhf"}],["path",{d:"M18 5H6",key:"98imr9"}],["path",{d:"M22 11H2",key:"1lmjae"}],["path",{d:"M22 9v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9",key:"1rly83"}],["path",{d:"M6 3v8",key:"csox7g"}]],eS=ce("castle",Z_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Vx=ce("chart-no-axes-column",tS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],iS=ce("chevrons-right",nS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bc=ce("circle-check-big",oS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rS=ce("clock",sS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lS=ce("compass",aS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],cS=ce("crown",uS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],fS=ce("external-link",dS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],pS=ce("feather",hS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],gS=ce("flag",mS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],yS=ce("globe",xS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Nc=ce("heart",vS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],jx=ce("hotel",CS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],SS=ce("house",_S);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wS=ce("info",TS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],NS=ce("layout-dashboard",bS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],kS=ce("leaf",ES);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],PS=ce("loader",MS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Bx=ce("log-out",IS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],RS=ce("mail",AS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Qt=ce("map-pin",DS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],FS=ce("medal",LS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],VS=ce("menu",US);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],zx=ce("message-square",jS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],Ox=ce("mountain",BS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Hx=ce("navigation",zS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],HS=ce("phone",OS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],qS=ce("plane",$S);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qc=ce("plus",GS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],JS=ce("rotate-ccw",WS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],$x=ce("route",YS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],QS=ce("search",KS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Xc=ce("send",XS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],qx=ce("sparkles",ZS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Qa=ce("square-pen",eT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ln=ce("star",tT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],iT=ce("sun",nT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zc=ce("trash-2",oT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],rT=ce("trees",sT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lT=ce("triangle-alert",aT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ed=ce("trophy",uT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],dT=ce("user-plus",cT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hT=ce("user",fT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bi=ce("users",pT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],gT=ce("utensils",mT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xa=ce("x",xT);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yT,vT;function CT(){return{geminiUrl:yT,vertexUrl:vT}}function _T(t,e,n,i){var o,r;if(!(t!=null&&t.baseUrl)){const l=CT();return e?(o=l.vertexUrl)!==null&&o!==void 0?o:n:(r=l.geminiUrl)!==null&&r!==void 0?r:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ai{}function re(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const r=e[o];return r!=null?String(r):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function c(t,e,n){for(let r=0;r<e.length-1;r++){const l=e[r];if(l.endsWith("[]")){const d=l.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[d])){const h=t[d];if(Array.isArray(n))for(let p=0;p<h.length;p++){const g=h[p];c(g,e.slice(r+1),n[p])}else for(const p of h)c(p,e.slice(r+1),n)}return}else if(l.endsWith("[0]")){const d=l.slice(0,-3);d in t||(t[d]=[{}]);const h=t[d];c(h[0],e.slice(r+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function u(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const r=t[o];return Array.isArray(r)?r.map(l=>u(l,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ec(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jp;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(jp||(jp={}));var Bp;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Bp||(Bp={}));var Yn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Yn||(Yn={}));var zp;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(zp||(zp={}));var Op;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Op||(Op={}));var Hp;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Hp||(Hp={}));var $p;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})($p||($p={}));var qp;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(qp||(qp={}));var Gp;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Gp||(Gp={}));var Wp;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Wp||(Wp={}));var Jp;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Jp||(Jp={}));var Yp;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Yp||(Yp={}));var Kp;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Kp||(Kp={}));var Qp;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Qp||(Qp={}));var Xp;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Xp||(Xp={}));var Ra;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ra||(Ra={}));var Zp;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Zp||(Zp={}));var kc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(kc||(kc={}));var em;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(em||(em={}));var tm;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(tm||(tm={}));var nm;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(nm||(nm={}));var im;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(im||(im={}));var om;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(om||(om={}));var sm;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sm||(sm={}));var rm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(rm||(rm={}));var am;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(am||(am={}));var lm;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(lm||(lm={}));var um;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(um||(um={}));var cm;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(cm||(cm={}));var dm;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(dm||(dm={}));var fm;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(fm||(fm={}));var hm;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(hm||(hm={}));var pm;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(pm||(pm={}));var mm;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(mm||(mm={}));var gm;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(gm||(gm={}));var xm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(xm||(xm={}));var ym;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ym||(ym={}));var vm;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vm||(vm={}));var Cm;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Cm||(Cm={}));var _m;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_m||(_m={}));var Sm;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Sm||(Sm={}));var Tm;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Tm||(Tm={}));var wm;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(wm||(wm={}));var fo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(fo||(fo={}));class Mc{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Cs{get text(){var e,n,i,o,r,l,d,h;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",g=!1;const y=[];for(const C of(h=(d=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[S,w]of Object.entries(C))S!=="text"&&S!=="thought"&&(w!==null||w!==void 0)&&y.push(S);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;g=!0,p+=C.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?p:void 0}get data(){var e,n,i,o,r,l,d,h;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const g=[];for(const y of(h=(d=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[C,S]of Object.entries(y))C!=="inlineData"&&(S!==null||S!==void 0)&&g.push(C);y.inlineData&&typeof y.inlineData.data=="string"&&(p+=atob(y.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,n,i,o,r,l,d,h;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(h=(d=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,n,i,o,r,l,d,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(h=(d=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((g==null?void 0:g.length)!==0)return(p=g==null?void 0:g[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,n,i,o,r,l,d,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(h=(d=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((g==null?void 0:g.length)!==0)return(p=g==null?void 0:g[0])===null||p===void 0?void 0:p.output}}class bm{}class Nm{}class ST{}class TT{}class wT{}class Em{}class km{}class Mm{}class bT{}class Pm{}class Im{}class Am{}class Rm{}class NT{}class ET{}class kT{}class Dm{}class MT{get text(){var e,n,i;let o="",r=!1;const l=[];for(const d of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(d))h!=="text"&&h!=="thought"&&p!==null&&l.push(h);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;r=!0,o+=d.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?o:void 0}get data(){var e,n,i;let o="";const r=[];for(const l of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[d,h]of Object.entries(l))d!=="inlineData"&&h!==null&&r.push(d);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class Da{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const i=new Da;if(i.name=e.name,i.metadata=e.metadata,i.done=e.done,i.error=e.error,n){const o=e.response;if(o){const r=new Pm,l=o.videos;r.generatedVideos=l==null?void 0:l.map(d=>({video:{uri:d.gcsUri,videoBytes:d.bytesBase64Encoded?Ec(d.bytesBase64Encoded):void 0,mimeType:d.mimeType}})),r.raiMediaFilteredCount=o.raiMediaFilteredCount,r.raiMediaFilteredReasons=o.raiMediaFilteredReasons,i.response=r}}else{const o=e.response;if(o){const r=new Pm,l=o.generateVideoResponse,d=l==null?void 0:l.generatedSamples;r.generatedVideos=d==null?void 0:d.map(h=>{const p=h.video;return{video:{uri:p==null?void 0:p.uri,videoBytes:p!=null&&p.encodedVideo?Ec(p==null?void 0:p.encodedVideo):void 0,mimeType:h.encoding}}}),r.raiMediaFilteredCount=l==null?void 0:l.raiMediaFilteredCount,r.raiMediaFilteredReasons=l==null?void 0:l.raiMediaFilteredReasons,i.response=r}}return i}}class PT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Gx(t,e){const n=Me(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Wx(t){return Array.isArray(t)?t.map(e=>La(e)):[La(t)]}function La(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Jx(t){const e=La(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Yx(t){const e=La(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Lm(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Kx(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Lm(e)):[Lm(t)]}function Pc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Fm(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Um(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function pt(t){if(t==null)throw new Error("ContentUnion is required");return Pc(t)?t:{role:"user",parts:Kx(t)}}function Qx(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=pt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=pt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>pt(n)):[pt(e)]}function zt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Fm(t)||Um(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pt(t)]}const e=[],n=[],i=Pc(t[0]);for(const o of t){const r=Pc(o);if(r!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)e.push(o);else{if(Fm(o)||Um(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:Kx(n)}),e}function IT(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Yn).includes(n[0].toUpperCase())?n[0].toUpperCase():Yn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Yn).includes(i.toUpperCase())?i.toUpperCase():Yn.TYPE_UNSPECIFIED})}}function mo(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=t.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,t=r[1]):r[1].type==="null"&&(e.nullable=!0,t=r[0])),t.type instanceof Array&&IT(t.type,e);for(const[l,d]of Object.entries(t))if(d!=null)if(l=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(Yn).includes(d.toUpperCase())?d.toUpperCase():Yn.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=mo(d);else if(i.includes(l)){const h=[];for(const p of d){if(p.type=="null"){e.nullable=!0;continue}h.push(mo(p))}e[l]=h}else if(o.includes(l)){const h={};for(const[p,g]of Object.entries(d))h[p]=mo(g);e[l]=h}else{if(l==="additionalProperties")continue;e[l]=d}return e}function td(t){return mo(t)}function nd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function id(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function bo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=mo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=mo(e.response));return t}function No(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function AT(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function En(t,e){if(typeof e!="string")throw new Error("name must be a string");return AT(t,e,"cachedContents")}function Xx(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ri(t){return Ec(t)}function RT(t){return t!=null&&typeof t=="object"&&"name"in t}function DT(t){return t!=null&&typeof t=="object"&&"video"in t}function LT(t){return t!=null&&typeof t=="object"&&"uri"in t}function Zx(t){var e;let n;if(RT(t)&&(n=t.name),!(LT(t)&&(n=t.uri,n===void 0))&&!(DT(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ey(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function ty(t){for(const e of["models","tunedModels","publisherModels"])if(FT(t,e))return t[e];return[]}function FT(t,e){return t!==null&&typeof t=="object"&&e in t}function UT(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function VT(t,e={}){const n=[],i=new Set;for(const o of t){const r=o.name;if(i.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);i.add(r);const l=UT(o,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function ny(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function jT(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Eo(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function iy(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BT(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function zT(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function OT(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function HT(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],BT(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],zT(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],OT(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const y=u(t,["text"]);return y!=null&&c(e,["text"],y),e}function oy(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>HT(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function $T(t){const e={},n=u(t,["anyOf"]);n!=null&&c(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&c(e,["default"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["enum"]);r!=null&&c(e,["enum"],r);const l=u(t,["example"]);l!=null&&c(e,["example"],l);const d=u(t,["format"]);d!=null&&c(e,["format"],d);const h=u(t,["items"]);h!=null&&c(e,["items"],h);const p=u(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const g=u(t,["maxLength"]);g!=null&&c(e,["maxLength"],g);const y=u(t,["maxProperties"]);y!=null&&c(e,["maxProperties"],y);const C=u(t,["maximum"]);C!=null&&c(e,["maximum"],C);const S=u(t,["minItems"]);S!=null&&c(e,["minItems"],S);const w=u(t,["minLength"]);w!=null&&c(e,["minLength"],w);const b=u(t,["minProperties"]);b!=null&&c(e,["minProperties"],b);const N=u(t,["minimum"]);N!=null&&c(e,["minimum"],N);const M=u(t,["nullable"]);M!=null&&c(e,["nullable"],M);const I=u(t,["pattern"]);I!=null&&c(e,["pattern"],I);const A=u(t,["properties"]);A!=null&&c(e,["properties"],A);const D=u(t,["propertyOrdering"]);D!=null&&c(e,["propertyOrdering"],D);const L=u(t,["required"]);L!=null&&c(e,["required"],L);const z=u(t,["title"]);z!=null&&c(e,["title"],z);const $=u(t,["type"]);return $!=null&&c(e,["type"],$),e}function qT(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&c(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&c(e,["threshold"],i),e}function GT(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&c(e,["parametersJsonSchema"],l);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function WT(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function JT(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],WT(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function YT(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function KT(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],YT(n)),e}function QT(){return{}}function XT(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function ZT(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>GT(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],JT(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],KT(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],QT());const l=u(t,["computerUse"]);l!=null&&c(e,["computerUse"],XT(l));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function ew(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function tw(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function nw(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],tw(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function iw(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],ew(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],nw(i)),e}function ow(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function sy(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],ow(n)),e}function sw(t){const e={},n=u(t,["speaker"]);n!=null&&c(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&c(e,["voiceConfig"],sy(i)),e}function rw(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>sw(o))),c(e,["speakerVoiceConfigs"],i)}return e}function aw(t){const e={},n=u(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],sy(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&c(e,["multiSpeakerVoiceConfig"],rw(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function lw(t){const e={},n=u(t,["includeThoughts"]);n!=null&&c(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&c(e,["thinkingBudget"],i),e}function uw(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&c(n,["systemInstruction"],oy(pt(o)));const r=u(e,["temperature"]);r!=null&&c(i,["temperature"],r);const l=u(e,["topP"]);l!=null&&c(i,["topP"],l);const d=u(e,["topK"]);d!=null&&c(i,["topK"],d);const h=u(e,["candidateCount"]);h!=null&&c(i,["candidateCount"],h);const p=u(e,["maxOutputTokens"]);p!=null&&c(i,["maxOutputTokens"],p);const g=u(e,["stopSequences"]);g!=null&&c(i,["stopSequences"],g);const y=u(e,["responseLogprobs"]);y!=null&&c(i,["responseLogprobs"],y);const C=u(e,["logprobs"]);C!=null&&c(i,["logprobs"],C);const S=u(e,["presencePenalty"]);S!=null&&c(i,["presencePenalty"],S);const w=u(e,["frequencyPenalty"]);w!=null&&c(i,["frequencyPenalty"],w);const b=u(e,["seed"]);b!=null&&c(i,["seed"],b);const N=u(e,["responseMimeType"]);N!=null&&c(i,["responseMimeType"],N);const M=u(e,["responseSchema"]);M!=null&&c(i,["responseSchema"],$T(td(M)));const I=u(e,["responseJsonSchema"]);if(I!=null&&c(i,["responseJsonSchema"],I),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=u(e,["safetySettings"]);if(n!==void 0&&A!=null){let K=A;Array.isArray(K)&&(K=K.map(ae=>qT(ae))),c(n,["safetySettings"],K)}const D=u(e,["tools"]);if(n!==void 0&&D!=null){let K=No(D);Array.isArray(K)&&(K=K.map(ae=>ZT(bo(ae)))),c(n,["tools"],K)}const L=u(e,["toolConfig"]);if(n!==void 0&&L!=null&&c(n,["toolConfig"],iw(L)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=u(e,["cachedContent"]);n!==void 0&&z!=null&&c(n,["cachedContent"],En(t,z));const $=u(e,["responseModalities"]);$!=null&&c(i,["responseModalities"],$);const B=u(e,["mediaResolution"]);B!=null&&c(i,["mediaResolution"],B);const O=u(e,["speechConfig"]);if(O!=null&&c(i,["speechConfig"],aw(nd(O))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=u(e,["thinkingConfig"]);return Q!=null&&c(i,["thinkingConfig"],lw(Q)),i}function cw(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["request","model"],Me(t,i));const o=u(e,["contents"]);if(o!=null){let l=zt(o);Array.isArray(l)&&(l=l.map(d=>oy(d))),c(n,["request","contents"],l)}const r=u(e,["config"]);return r!=null&&c(n,["request","generationConfig"],uw(t,r,n)),n}function dw(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=u(e,["fileName"]);i!=null&&c(n,["fileName"],i);const o=u(e,["inlinedRequests"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>cw(t,l))),c(n,["requests","requests"],r)}return n}function fw(t,e){const n={},i=u(t,["displayName"]);if(e!==void 0&&i!=null&&c(e,["batch","displayName"],i),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function hw(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["src"]);o!=null&&c(n,["batch","inputConfig"],dw(t,ny(t,o)));const r=u(e,["config"]);return r!=null&&c(n,["config"],fw(r,n)),n}function pw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Eo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function mw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Eo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function gw(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);if(e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function xw(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],gw(n,e)),e}function yw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Eo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function vw(t){const e={},n=u(t,["format"]);n!=null&&c(e,["instancesFormat"],n);const i=u(t,["gcsUri"]);i!=null&&c(e,["gcsSource","uris"],i);const o=u(t,["bigqueryUri"]);if(o!=null&&c(e,["bigquerySource","inputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Cw(t){const e={},n=u(t,["format"]);n!=null&&c(e,["predictionsFormat"],n);const i=u(t,["gcsUri"]);i!=null&&c(e,["gcsDestination","outputUriPrefix"],i);const o=u(t,["bigqueryUri"]);if(o!=null&&c(e,["bigqueryDestination","outputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function _w(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);const o=u(t,["dest"]);return e!==void 0&&o!=null&&c(e,["outputConfig"],Cw(jT(o))),n}function Sw(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["model"],Me(t,i));const o=u(e,["src"]);o!=null&&c(n,["inputConfig"],vw(ny(t,o)));const r=u(e,["config"]);return r!=null&&c(n,["config"],_w(r,n)),n}function Tw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Eo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function ww(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Eo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function bw(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&c(e,["_query","pageToken"],o);const r=u(t,["filter"]);return e!==void 0&&r!=null&&c(e,["_query","filter"],r),n}function Nw(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],bw(n,e)),e}function Ew(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Eo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function kw(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function Mw(t){const e={},n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Pw(t){const e={},n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Iw(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],kw(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],Mw(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],Pw(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const y=u(t,["text"]);return y!=null&&c(e,["text"],y),e}function Aw(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Iw(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function Rw(t){const e={},n=u(t,["citationSources"]);return n!=null&&c(e,["citations"],n),e}function Dw(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&c(e,["urlRetrievalStatus"],i),e}function Lw(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Dw(o))),c(e,["urlMetadata"],i)}return e}function Fw(t){const e={},n=u(t,["content"]);n!=null&&c(e,["content"],Aw(n));const i=u(t,["citationMetadata"]);i!=null&&c(e,["citationMetadata"],Rw(i));const o=u(t,["tokenCount"]);o!=null&&c(e,["tokenCount"],o);const r=u(t,["finishReason"]);r!=null&&c(e,["finishReason"],r);const l=u(t,["urlContextMetadata"]);l!=null&&c(e,["urlContextMetadata"],Lw(l));const d=u(t,["avgLogprobs"]);d!=null&&c(e,["avgLogprobs"],d);const h=u(t,["groundingMetadata"]);h!=null&&c(e,["groundingMetadata"],h);const p=u(t,["index"]);p!=null&&c(e,["index"],p);const g=u(t,["logprobsResult"]);g!=null&&c(e,["logprobsResult"],g);const y=u(t,["safetyRatings"]);return y!=null&&c(e,["safetyRatings"],y),e}function Uw(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>Fw(p))),c(e,["candidates"],h)}const o=u(t,["modelVersion"]);o!=null&&c(e,["modelVersion"],o);const r=u(t,["promptFeedback"]);r!=null&&c(e,["promptFeedback"],r);const l=u(t,["responseId"]);l!=null&&c(e,["responseId"],l);const d=u(t,["usageMetadata"]);return d!=null&&c(e,["usageMetadata"],d),e}function ry(t){const e={},n=u(t,["details"]);n!=null&&c(e,["details"],n);const i=u(t,["code"]);i!=null&&c(e,["code"],i);const o=u(t,["message"]);return o!=null&&c(e,["message"],o),e}function Vw(t){const e={},n=u(t,["response"]);n!=null&&c(e,["response"],Uw(n));const i=u(t,["error"]);return i!=null&&c(e,["error"],ry(i)),e}function jw(t){const e={},n=u(t,["responsesFile"]);n!=null&&c(e,["fileName"],n);const i=u(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>Vw(r))),c(e,["inlinedResponses"],o)}return e}function Ic(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["metadata","displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["metadata","state"]);o!=null&&c(e,["state"],iy(o));const r=u(t,["metadata","createTime"]);r!=null&&c(e,["createTime"],r);const l=u(t,["metadata","endTime"]);l!=null&&c(e,["endTime"],l);const d=u(t,["metadata","updateTime"]);d!=null&&c(e,["updateTime"],d);const h=u(t,["metadata","model"]);h!=null&&c(e,["model"],h);const p=u(t,["metadata","output"]);return p!=null&&c(e,["dest"],jw(p)),e}function Bw(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["operations"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Ic(l))),c(e,["batchJobs"],r)}return e}function zw(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["done"]);o!=null&&c(e,["done"],o);const r=u(t,["error"]);return r!=null&&c(e,["error"],ry(r)),e}function ay(t){const e={},n=u(t,["details"]);n!=null&&c(e,["details"],n);const i=u(t,["code"]);i!=null&&c(e,["code"],i);const o=u(t,["message"]);return o!=null&&c(e,["message"],o),e}function Ow(t){const e={},n=u(t,["instancesFormat"]);n!=null&&c(e,["format"],n);const i=u(t,["gcsSource","uris"]);i!=null&&c(e,["gcsUri"],i);const o=u(t,["bigquerySource","inputUri"]);return o!=null&&c(e,["bigqueryUri"],o),e}function Hw(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&c(e,["format"],n);const i=u(t,["gcsDestination","outputUriPrefix"]);i!=null&&c(e,["gcsUri"],i);const o=u(t,["bigqueryDestination","outputUri"]);return o!=null&&c(e,["bigqueryUri"],o),e}function Ac(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["state"]);o!=null&&c(e,["state"],iy(o));const r=u(t,["error"]);r!=null&&c(e,["error"],ay(r));const l=u(t,["createTime"]);l!=null&&c(e,["createTime"],l);const d=u(t,["startTime"]);d!=null&&c(e,["startTime"],d);const h=u(t,["endTime"]);h!=null&&c(e,["endTime"],h);const p=u(t,["updateTime"]);p!=null&&c(e,["updateTime"],p);const g=u(t,["model"]);g!=null&&c(e,["model"],g);const y=u(t,["inputConfig"]);y!=null&&c(e,["src"],Ow(y));const C=u(t,["outputConfig"]);return C!=null&&c(e,["dest"],Hw(C)),e}function $w(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["batchPredictionJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Ac(l))),c(e,["batchJobs"],r)}return e}function qw(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["done"]);o!=null&&c(e,["done"],o);const r=u(t,["error"]);return r!=null&&c(e,["error"],ay(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ki;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ki||(ki={}));class Ws{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,r;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!i||Object.keys(i).length===0?l={config:{}}:typeof i=="object"?l=Object.assign({},i):l=i,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(r=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gw extends Ai{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const o=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${o}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Ws(ki.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Sw(this.apiClient,e);return d=re("batchPredictionJobs",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>Ac(g))}else{const p=hw(this.apiClient,e);return d=re("{model}:batchGenerateContent",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>Ic(g))}}async get(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Tw(this.apiClient,e);return d=re("batchPredictionJobs/{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>Ac(g))}else{const p=pw(this.apiClient,e);return d=re("batches/{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>Ic(g))}}async cancel(e){var n,i,o,r;let l="",d={};if(this.apiClient.isVertexAI()){const h=ww(this.apiClient,e);l=re("batchPredictionJobs/{name}:cancel",h._url),d=h._query,delete h.config,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const h=mw(this.apiClient,e);l=re("batches/{name}:cancel",h._url),d=h._query,delete h.config,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Nw(e);return d=re("batchPredictionJobs",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=$w(g),C=new Dm;return Object.assign(C,y),C})}else{const p=xw(e);return d=re("batches",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=Bw(g),C=new Dm;return Object.assign(C,y),C})}}async delete(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Ew(this.apiClient,e);return d=re("batchPredictionJobs/{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>qw(g))}else{const p=yw(this.apiClient,e);return d=re("batches/{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>zw(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ww(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function Jw(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Yw(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Kw(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],Ww(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],Jw(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],Yw(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const y=u(t,["text"]);return y!=null&&c(e,["text"],y),e}function Vm(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Kw(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function Qw(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&c(e,["parametersJsonSchema"],l);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function Xw(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function Zw(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],Xw(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function e1(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function t1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],e1(n)),e}function n1(){return{}}function i1(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function o1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Qw(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],Zw(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],t1(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],n1());const l=u(t,["computerUse"]);l!=null&&c(e,["computerUse"],i1(l));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function s1(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function r1(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function a1(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],r1(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function l1(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],s1(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],a1(i)),e}function u1(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&c(e,["expireTime"],o);const r=u(t,["displayName"]);e!==void 0&&r!=null&&c(e,["displayName"],r);const l=u(t,["contents"]);if(e!==void 0&&l!=null){let g=zt(l);Array.isArray(g)&&(g=g.map(y=>Vm(y))),c(e,["contents"],g)}const d=u(t,["systemInstruction"]);e!==void 0&&d!=null&&c(e,["systemInstruction"],Vm(pt(d)));const h=u(t,["tools"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>o1(y))),c(e,["tools"],g)}const p=u(t,["toolConfig"]);if(e!==void 0&&p!=null&&c(e,["toolConfig"],l1(p)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function c1(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["model"],Gx(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],u1(o,n)),n}function d1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],En(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function f1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],En(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function h1(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&c(e,["expireTime"],o),n}function p1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],En(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],h1(o,n)),n}function m1(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),n}function g1(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],m1(n,e)),e}function x1(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function y1(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function v1(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function C1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],x1(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],y1(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],v1(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const y=u(t,["text"]);return y!=null&&c(e,["text"],y),e}function jm(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>C1(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function _1(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&c(e,["description"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["parameters"]);o!=null&&c(e,["parameters"],o);const r=u(t,["parametersJsonSchema"]);r!=null&&c(e,["parametersJsonSchema"],r);const l=u(t,["response"]);l!=null&&c(e,["response"],l);const d=u(t,["responseJsonSchema"]);return d!=null&&c(e,["responseJsonSchema"],d),e}function S1(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function T1(t){const e={},n=u(t,["timeRangeFilter"]);n!=null&&c(e,["timeRangeFilter"],S1(n));const i=u(t,["excludeDomains"]);return i!=null&&c(e,["excludeDomains"],i),e}function w1(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function b1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],w1(n)),e}function N1(t){const e={},n=u(t,["excludeDomains"]);return n!=null&&c(e,["excludeDomains"],n),e}function E1(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&c(e,["apiKeyString"],n),e}function k1(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&c(e,["apiKeyConfig"],E1(n));const i=u(t,["authType"]);i!=null&&c(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&c(e,["googleServiceAccountConfig"],o);const r=u(t,["httpBasicAuthConfig"]);r!=null&&c(e,["httpBasicAuthConfig"],r);const l=u(t,["oauthConfig"]);l!=null&&c(e,["oauthConfig"],l);const d=u(t,["oidcConfig"]);return d!=null&&c(e,["oidcConfig"],d),e}function M1(t){const e={},n=u(t,["authConfig"]);return n!=null&&c(e,["authConfig"],k1(n)),e}function P1(){return{}}function I1(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function A1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(C=>_1(C))),c(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&c(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],T1(o));const r=u(t,["googleSearchRetrieval"]);r!=null&&c(e,["googleSearchRetrieval"],b1(r));const l=u(t,["enterpriseWebSearch"]);l!=null&&c(e,["enterpriseWebSearch"],N1(l));const d=u(t,["googleMaps"]);d!=null&&c(e,["googleMaps"],M1(d)),u(t,["urlContext"])!=null&&c(e,["urlContext"],P1());const p=u(t,["computerUse"]);p!=null&&c(e,["computerUse"],I1(p));const g=u(t,["codeExecution"]);return g!=null&&c(e,["codeExecution"],g),e}function R1(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function D1(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function L1(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],D1(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function F1(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],R1(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],L1(i)),e}function U1(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&c(e,["expireTime"],o);const r=u(t,["displayName"]);e!==void 0&&r!=null&&c(e,["displayName"],r);const l=u(t,["contents"]);if(e!==void 0&&l!=null){let y=zt(l);Array.isArray(y)&&(y=y.map(C=>jm(C))),c(e,["contents"],y)}const d=u(t,["systemInstruction"]);e!==void 0&&d!=null&&c(e,["systemInstruction"],jm(pt(d)));const h=u(t,["tools"]);if(e!==void 0&&h!=null){let y=h;Array.isArray(y)&&(y=y.map(C=>A1(C))),c(e,["tools"],y)}const p=u(t,["toolConfig"]);e!==void 0&&p!=null&&c(e,["toolConfig"],F1(p));const g=u(t,["kmsKeyName"]);return e!==void 0&&g!=null&&c(e,["encryption_spec","kmsKeyName"],g),n}function V1(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["model"],Gx(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],U1(o,n)),n}function j1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],En(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function B1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],En(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function z1(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&c(e,["expireTime"],o),n}function O1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],En(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],z1(o,n)),n}function H1(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),n}function $1(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],H1(n,e)),e}function wa(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["model"]);o!=null&&c(e,["model"],o);const r=u(t,["createTime"]);r!=null&&c(e,["createTime"],r);const l=u(t,["updateTime"]);l!=null&&c(e,["updateTime"],l);const d=u(t,["expireTime"]);d!=null&&c(e,["expireTime"],d);const h=u(t,["usageMetadata"]);return h!=null&&c(e,["usageMetadata"],h),e}function q1(){return{}}function G1(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>wa(l))),c(e,["cachedContents"],r)}return e}function ba(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["model"]);o!=null&&c(e,["model"],o);const r=u(t,["createTime"]);r!=null&&c(e,["createTime"],r);const l=u(t,["updateTime"]);l!=null&&c(e,["updateTime"],l);const d=u(t,["expireTime"]);d!=null&&c(e,["expireTime"],d);const h=u(t,["usageMetadata"]);return h!=null&&c(e,["usageMetadata"],h),e}function W1(){return{}}function J1(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>ba(l))),c(e,["cachedContents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y1 extends Ai{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ws(ki.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=V1(this.apiClient,e);return d=re("cachedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>ba(g))}else{const p=c1(this.apiClient,e);return d=re("cachedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>wa(g))}}async get(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=j1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>ba(g))}else{const p=d1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>wa(g))}}async delete(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=B1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(()=>{const g=W1(),y=new Am;return Object.assign(y,g),y})}else{const p=f1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(()=>{const g=q1(),y=new Am;return Object.assign(y,g),y})}}async update(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=O1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>ba(g))}else{const p=p1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>wa(g))}}async listInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=$1(e);return d=re("cachedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=J1(g),C=new Rm;return Object.assign(C,y),C})}else{const p=g1(e);return d=re("cachedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=G1(g),C=new Rm;return Object.assign(C,y),C})}}}function Bm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ve(t){return this instanceof Ve?(this.v=t,this):new Ve(t)}function go(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(S){return function(w){return Promise.resolve(w).then(S,y)}}function d(S,w){i[S]&&(o[S]=function(b){return new Promise(function(N,M){r.push([S,b,N,M])>1||h(S,b)})},w&&(o[S]=w(o[S])))}function h(S,w){try{p(i[S](w))}catch(b){C(r[0][3],b)}}function p(S){S.value instanceof Ve?Promise.resolve(S.value.v).then(g,y):C(r[0][2],S)}function g(S){h("next",S)}function y(S){h("throw",S)}function C(S,w){S(w),r.shift(),r.length&&h(r[0][0],r[0][1])}}function Is(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Bm=="function"?Bm(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=t[r]&&function(l){return new Promise(function(d,h){l=t[r](l),o(d,h,l.done,l.value)})}}function o(r,l,d,h){Promise.resolve(h).then(function(p){r({value:p,done:d})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K1(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ly(n)}function ly(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Q1(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function zm(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let r=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),r&&!ly(t[i])&&(r=!1),i++;r?e.push(...o):e.pop()}return e}class X1{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Z1(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Z1{constructor(e,n,i,o={},r=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=r,this.sendPromise=Promise.resolve(),Q1(r)}async sendMessage(e){var n;await this.sendPromise;const i=pt(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var r,l,d;const h=await o,p=(l=(r=h.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content,g=h.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let C=[];g!=null&&(C=(d=g.slice(y))!==null&&d!==void 0?d:[]);const S=p?[p]:[];this.recordHistory(i,S,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=pt(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const r=await o;return this.processStreamResponse(r,i)}getHistory(e=!1){const n=e?zm(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return go(this,arguments,function*(){var l,d,h,p;const g=[];try{for(var y=!0,C=Is(e),S;S=yield Ve(C.next()),l=S.done,!l;y=!0){p=S.value,y=!1;const w=p;if(K1(w)){const b=(o=(i=w.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;b!==void 0&&g.push(b)}yield yield Ve(w)}}catch(w){d={error:w}}finally{try{!y&&!l&&(h=C.return)&&(yield Ve(h.call(C)))}finally{if(d)throw d.error}}this.recordHistory(n,g)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(r=>r.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...zm(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Za extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Za.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eb(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),n}function tb(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],eb(n,e)),e}function nb(t){const e={},n=u(t,["details"]);n!=null&&c(e,["details"],n);const i=u(t,["message"]);i!=null&&c(e,["message"],i);const o=u(t,["code"]);return o!=null&&c(e,["code"],o),e}function ib(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["mimeType"]);o!=null&&c(e,["mimeType"],o);const r=u(t,["sizeBytes"]);r!=null&&c(e,["sizeBytes"],r);const l=u(t,["createTime"]);l!=null&&c(e,["createTime"],l);const d=u(t,["expirationTime"]);d!=null&&c(e,["expirationTime"],d);const h=u(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const p=u(t,["sha256Hash"]);p!=null&&c(e,["sha256Hash"],p);const g=u(t,["uri"]);g!=null&&c(e,["uri"],g);const y=u(t,["downloadUri"]);y!=null&&c(e,["downloadUri"],y);const C=u(t,["state"]);C!=null&&c(e,["state"],C);const S=u(t,["source"]);S!=null&&c(e,["source"],S);const w=u(t,["videoMetadata"]);w!=null&&c(e,["videoMetadata"],w);const b=u(t,["error"]);return b!=null&&c(e,["error"],nb(b)),e}function ob(t){const e={},n=u(t,["file"]);n!=null&&c(e,["file"],ib(n));const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function sb(t){const e={},n=u(t,["name"]);n!=null&&c(e,["_url","file"],Zx(n));const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function rb(t){const e={},n=u(t,["name"]);n!=null&&c(e,["_url","file"],Zx(n));const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function ab(t){const e={},n=u(t,["details"]);n!=null&&c(e,["details"],n);const i=u(t,["message"]);i!=null&&c(e,["message"],i);const o=u(t,["code"]);return o!=null&&c(e,["code"],o),e}function Rc(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["mimeType"]);o!=null&&c(e,["mimeType"],o);const r=u(t,["sizeBytes"]);r!=null&&c(e,["sizeBytes"],r);const l=u(t,["createTime"]);l!=null&&c(e,["createTime"],l);const d=u(t,["expirationTime"]);d!=null&&c(e,["expirationTime"],d);const h=u(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const p=u(t,["sha256Hash"]);p!=null&&c(e,["sha256Hash"],p);const g=u(t,["uri"]);g!=null&&c(e,["uri"],g);const y=u(t,["downloadUri"]);y!=null&&c(e,["downloadUri"],y);const C=u(t,["state"]);C!=null&&c(e,["state"],C);const S=u(t,["source"]);S!=null&&c(e,["source"],S);const w=u(t,["videoMetadata"]);w!=null&&c(e,["videoMetadata"],w);const b=u(t,["error"]);return b!=null&&c(e,["error"],ab(b)),e}function lb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Rc(l))),c(e,["files"],r)}return e}function ub(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function cb(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class db extends Ai{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ws(ki.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Rc(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=tb(e);return r=re("files",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const p=lb(h),g=new NT;return Object.assign(g,p),g})}}async createInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ob(e);return r=re("upload/v1beta/files",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const p=ub(h),g=new ET;return Object.assign(g,p),g})}}async get(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=sb(e);return r=re("files/{file}",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Rc(h))}}async delete(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=rb(e);return r=re("files/{file}",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(()=>{const h=cb(),p=new kT;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fb(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function uy(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],fb(n)),e}function hb(t){const e={},n=u(t,["speaker"]);n!=null&&c(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&c(e,["voiceConfig"],uy(i)),e}function pb(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hb(o))),c(e,["speakerVoiceConfigs"],i)}return e}function mb(t){const e={},n=u(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],uy(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&c(e,["multiSpeakerVoiceConfig"],pb(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function gb(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function xb(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function yb(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function vb(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],gb(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],xb(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],yb(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const y=u(t,["text"]);return y!=null&&c(e,["text"],y),e}function Cb(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>vb(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function _b(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&c(e,["parametersJsonSchema"],l);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function Sb(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function Tb(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],Sb(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function wb(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function bb(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],wb(n)),e}function Nb(){return{}}function Eb(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function kb(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>_b(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],Tb(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],bb(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],Nb());const l=u(t,["computerUse"]);l!=null&&c(e,["computerUse"],Eb(l));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function Mb(t){const e={},n=u(t,["handle"]);if(n!=null&&c(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Om(){return{}}function Pb(t){const e={},n=u(t,["disabled"]);n!=null&&c(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&c(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&c(e,["endOfSpeechSensitivity"],o);const r=u(t,["prefixPaddingMs"]);r!=null&&c(e,["prefixPaddingMs"],r);const l=u(t,["silenceDurationMs"]);return l!=null&&c(e,["silenceDurationMs"],l),e}function Ib(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&c(e,["automaticActivityDetection"],Pb(n));const i=u(t,["activityHandling"]);i!=null&&c(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&c(e,["turnCoverage"],o),e}function Ab(t){const e={},n=u(t,["targetTokens"]);return n!=null&&c(e,["targetTokens"],n),e}function Rb(t){const e={},n=u(t,["triggerTokens"]);n!=null&&c(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&c(e,["slidingWindow"],Ab(i)),e}function Db(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&c(e,["proactiveAudio"],n),e}function Lb(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","responseModalities"],o);const r=u(t,["temperature"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","temperature"],r);const l=u(t,["topP"]);e!==void 0&&l!=null&&c(e,["setup","generationConfig","topP"],l);const d=u(t,["topK"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","topK"],d);const h=u(t,["maxOutputTokens"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","maxOutputTokens"],h);const p=u(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const g=u(t,["seed"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","seed"],g);const y=u(t,["speechConfig"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","speechConfig"],mb(id(y)));const C=u(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],C);const S=u(t,["systemInstruction"]);e!==void 0&&S!=null&&c(e,["setup","systemInstruction"],Cb(pt(S)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let L=No(w);Array.isArray(L)&&(L=L.map(z=>kb(bo(z)))),c(e,["setup","tools"],L)}const b=u(t,["sessionResumption"]);e!==void 0&&b!=null&&c(e,["setup","sessionResumption"],Mb(b));const N=u(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&c(e,["setup","inputAudioTranscription"],Om());const M=u(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&c(e,["setup","outputAudioTranscription"],Om());const I=u(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&c(e,["setup","realtimeInputConfig"],Ib(I));const A=u(t,["contextWindowCompression"]);e!==void 0&&A!=null&&c(e,["setup","contextWindowCompression"],Rb(A));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&c(e,["setup","proactivity"],Db(D)),n}function Fb(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["setup","model"],Me(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],Lb(o,n)),n}function Ub(){return{}}function Vb(){return{}}function jb(t){const e={},n=u(t,["media"]);n!=null&&c(e,["mediaChunks"],Wx(n));const i=u(t,["audio"]);i!=null&&c(e,["audio"],Yx(i));const o=u(t,["audioStreamEnd"]);o!=null&&c(e,["audioStreamEnd"],o);const r=u(t,["video"]);r!=null&&c(e,["video"],Jx(r));const l=u(t,["text"]);return l!=null&&c(e,["text"],l),u(t,["activityStart"])!=null&&c(e,["activityStart"],Ub()),u(t,["activityEnd"])!=null&&c(e,["activityEnd"],Vb()),e}function cy(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["weight"]);return i!=null&&c(e,["weight"],i),e}function Bb(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cy(o))),c(e,["weightedPrompts"],i)}return e}function dy(t){const e={},n=u(t,["temperature"]);n!=null&&c(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&c(e,["topK"],i);const o=u(t,["seed"]);o!=null&&c(e,["seed"],o);const r=u(t,["guidance"]);r!=null&&c(e,["guidance"],r);const l=u(t,["bpm"]);l!=null&&c(e,["bpm"],l);const d=u(t,["density"]);d!=null&&c(e,["density"],d);const h=u(t,["brightness"]);h!=null&&c(e,["brightness"],h);const p=u(t,["scale"]);p!=null&&c(e,["scale"],p);const g=u(t,["muteBass"]);g!=null&&c(e,["muteBass"],g);const y=u(t,["muteDrums"]);y!=null&&c(e,["muteDrums"],y);const C=u(t,["onlyBassAndDrums"]);C!=null&&c(e,["onlyBassAndDrums"],C);const S=u(t,["musicGenerationMode"]);return S!=null&&c(e,["musicGenerationMode"],S),e}function zb(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&c(e,["musicGenerationConfig"],dy(n)),e}function fy(t){const e={},n=u(t,["model"]);return n!=null&&c(e,["model"],n),e}function hy(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cy(o))),c(e,["weightedPrompts"],i)}return e}function Dc(t){const e={},n=u(t,["setup"]);n!=null&&c(e,["setup"],fy(n));const i=u(t,["clientContent"]);i!=null&&c(e,["clientContent"],hy(i));const o=u(t,["musicGenerationConfig"]);o!=null&&c(e,["musicGenerationConfig"],dy(o));const r=u(t,["playbackControl"]);return r!=null&&c(e,["playbackControl"],r),e}function Ob(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function Hb(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],Ob(n)),e}function $b(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&c(e,["voiceConfig"],Hb(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function qb(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function Gb(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Wb(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Jb(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],qb(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],Gb(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],Wb(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const y=u(t,["text"]);return y!=null&&c(e,["text"],y),e}function Yb(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Jb(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function Kb(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&c(e,["description"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["parameters"]);o!=null&&c(e,["parameters"],o);const r=u(t,["parametersJsonSchema"]);r!=null&&c(e,["parametersJsonSchema"],r);const l=u(t,["response"]);l!=null&&c(e,["response"],l);const d=u(t,["responseJsonSchema"]);return d!=null&&c(e,["responseJsonSchema"],d),e}function Qb(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function Xb(t){const e={},n=u(t,["timeRangeFilter"]);n!=null&&c(e,["timeRangeFilter"],Qb(n));const i=u(t,["excludeDomains"]);return i!=null&&c(e,["excludeDomains"],i),e}function Zb(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function eN(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],Zb(n)),e}function tN(t){const e={},n=u(t,["excludeDomains"]);return n!=null&&c(e,["excludeDomains"],n),e}function nN(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&c(e,["apiKeyString"],n),e}function iN(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&c(e,["apiKeyConfig"],nN(n));const i=u(t,["authType"]);i!=null&&c(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&c(e,["googleServiceAccountConfig"],o);const r=u(t,["httpBasicAuthConfig"]);r!=null&&c(e,["httpBasicAuthConfig"],r);const l=u(t,["oauthConfig"]);l!=null&&c(e,["oauthConfig"],l);const d=u(t,["oidcConfig"]);return d!=null&&c(e,["oidcConfig"],d),e}function oN(t){const e={},n=u(t,["authConfig"]);return n!=null&&c(e,["authConfig"],iN(n)),e}function sN(){return{}}function rN(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function aN(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(C=>Kb(C))),c(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&c(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],Xb(o));const r=u(t,["googleSearchRetrieval"]);r!=null&&c(e,["googleSearchRetrieval"],eN(r));const l=u(t,["enterpriseWebSearch"]);l!=null&&c(e,["enterpriseWebSearch"],tN(l));const d=u(t,["googleMaps"]);d!=null&&c(e,["googleMaps"],oN(d)),u(t,["urlContext"])!=null&&c(e,["urlContext"],sN());const p=u(t,["computerUse"]);p!=null&&c(e,["computerUse"],rN(p));const g=u(t,["codeExecution"]);return g!=null&&c(e,["codeExecution"],g),e}function lN(t){const e={},n=u(t,["handle"]);n!=null&&c(e,["handle"],n);const i=u(t,["transparent"]);return i!=null&&c(e,["transparent"],i),e}function Hm(){return{}}function uN(t){const e={},n=u(t,["disabled"]);n!=null&&c(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&c(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&c(e,["endOfSpeechSensitivity"],o);const r=u(t,["prefixPaddingMs"]);r!=null&&c(e,["prefixPaddingMs"],r);const l=u(t,["silenceDurationMs"]);return l!=null&&c(e,["silenceDurationMs"],l),e}function cN(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&c(e,["automaticActivityDetection"],uN(n));const i=u(t,["activityHandling"]);i!=null&&c(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&c(e,["turnCoverage"],o),e}function dN(t){const e={},n=u(t,["targetTokens"]);return n!=null&&c(e,["targetTokens"],n),e}function fN(t){const e={},n=u(t,["triggerTokens"]);n!=null&&c(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&c(e,["slidingWindow"],dN(i)),e}function hN(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&c(e,["proactiveAudio"],n),e}function pN(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","responseModalities"],o);const r=u(t,["temperature"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","temperature"],r);const l=u(t,["topP"]);e!==void 0&&l!=null&&c(e,["setup","generationConfig","topP"],l);const d=u(t,["topK"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","topK"],d);const h=u(t,["maxOutputTokens"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","maxOutputTokens"],h);const p=u(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const g=u(t,["seed"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","seed"],g);const y=u(t,["speechConfig"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","speechConfig"],$b(id(y)));const C=u(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],C);const S=u(t,["systemInstruction"]);e!==void 0&&S!=null&&c(e,["setup","systemInstruction"],Yb(pt(S)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let L=No(w);Array.isArray(L)&&(L=L.map(z=>aN(bo(z)))),c(e,["setup","tools"],L)}const b=u(t,["sessionResumption"]);e!==void 0&&b!=null&&c(e,["setup","sessionResumption"],lN(b));const N=u(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&c(e,["setup","inputAudioTranscription"],Hm());const M=u(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&c(e,["setup","outputAudioTranscription"],Hm());const I=u(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&c(e,["setup","realtimeInputConfig"],cN(I));const A=u(t,["contextWindowCompression"]);e!==void 0&&A!=null&&c(e,["setup","contextWindowCompression"],fN(A));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&c(e,["setup","proactivity"],hN(D)),n}function mN(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["setup","model"],Me(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],pN(o,n)),n}function gN(){return{}}function xN(){return{}}function yN(t){const e={},n=u(t,["media"]);n!=null&&c(e,["mediaChunks"],Wx(n));const i=u(t,["audio"]);i!=null&&c(e,["audio"],Yx(i));const o=u(t,["audioStreamEnd"]);o!=null&&c(e,["audioStreamEnd"],o);const r=u(t,["video"]);r!=null&&c(e,["video"],Jx(r));const l=u(t,["text"]);return l!=null&&c(e,["text"],l),u(t,["activityStart"])!=null&&c(e,["activityStart"],gN()),u(t,["activityEnd"])!=null&&c(e,["activityEnd"],xN()),e}function vN(){return{}}function CN(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function _N(t){const e={},n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function SN(t){const e={},n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function TN(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],CN(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],_N(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],SN(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const y=u(t,["text"]);return y!=null&&c(e,["text"],y),e}function wN(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>TN(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function $m(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["finished"]);return i!=null&&c(e,["finished"],i),e}function bN(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&c(e,["urlRetrievalStatus"],i),e}function NN(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>bN(o))),c(e,["urlMetadata"],i)}return e}function EN(t){const e={},n=u(t,["modelTurn"]);n!=null&&c(e,["modelTurn"],wN(n));const i=u(t,["turnComplete"]);i!=null&&c(e,["turnComplete"],i);const o=u(t,["interrupted"]);o!=null&&c(e,["interrupted"],o);const r=u(t,["groundingMetadata"]);r!=null&&c(e,["groundingMetadata"],r);const l=u(t,["generationComplete"]);l!=null&&c(e,["generationComplete"],l);const d=u(t,["inputTranscription"]);d!=null&&c(e,["inputTranscription"],$m(d));const h=u(t,["outputTranscription"]);h!=null&&c(e,["outputTranscription"],$m(h));const p=u(t,["urlContextMetadata"]);return p!=null&&c(e,["urlContextMetadata"],NN(p)),e}function kN(t){const e={},n=u(t,["id"]);n!=null&&c(e,["id"],n);const i=u(t,["args"]);i!=null&&c(e,["args"],i);const o=u(t,["name"]);return o!=null&&c(e,["name"],o),e}function MN(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kN(o))),c(e,["functionCalls"],i)}return e}function PN(t){const e={},n=u(t,["ids"]);return n!=null&&c(e,["ids"],n),e}function ra(t){const e={},n=u(t,["modality"]);n!=null&&c(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&c(e,["tokenCount"],i),e}function IN(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&c(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&c(e,["cachedContentTokenCount"],i);const o=u(t,["responseTokenCount"]);o!=null&&c(e,["responseTokenCount"],o);const r=u(t,["toolUsePromptTokenCount"]);r!=null&&c(e,["toolUsePromptTokenCount"],r);const l=u(t,["thoughtsTokenCount"]);l!=null&&c(e,["thoughtsTokenCount"],l);const d=u(t,["totalTokenCount"]);d!=null&&c(e,["totalTokenCount"],d);const h=u(t,["promptTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(S=>ra(S))),c(e,["promptTokensDetails"],C)}const p=u(t,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(S=>ra(S))),c(e,["cacheTokensDetails"],C)}const g=u(t,["responseTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(S=>ra(S))),c(e,["responseTokensDetails"],C)}const y=u(t,["toolUsePromptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(S=>ra(S))),c(e,["toolUsePromptTokensDetails"],C)}return e}function AN(t){const e={},n=u(t,["timeLeft"]);return n!=null&&c(e,["timeLeft"],n),e}function RN(t){const e={},n=u(t,["newHandle"]);n!=null&&c(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&c(e,["resumable"],i);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&c(e,["lastConsumedClientMessageIndex"],o),e}function DN(t){const e={};u(t,["setupComplete"])!=null&&c(e,["setupComplete"],vN());const i=u(t,["serverContent"]);i!=null&&c(e,["serverContent"],EN(i));const o=u(t,["toolCall"]);o!=null&&c(e,["toolCall"],MN(o));const r=u(t,["toolCallCancellation"]);r!=null&&c(e,["toolCallCancellation"],PN(r));const l=u(t,["usageMetadata"]);l!=null&&c(e,["usageMetadata"],IN(l));const d=u(t,["goAway"]);d!=null&&c(e,["goAway"],AN(d));const h=u(t,["sessionResumptionUpdate"]);return h!=null&&c(e,["sessionResumptionUpdate"],RN(h)),e}function LN(){return{}}function FN(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["weight"]);return i!=null&&c(e,["weight"],i),e}function UN(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>FN(o))),c(e,["weightedPrompts"],i)}return e}function VN(t){const e={},n=u(t,["temperature"]);n!=null&&c(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&c(e,["topK"],i);const o=u(t,["seed"]);o!=null&&c(e,["seed"],o);const r=u(t,["guidance"]);r!=null&&c(e,["guidance"],r);const l=u(t,["bpm"]);l!=null&&c(e,["bpm"],l);const d=u(t,["density"]);d!=null&&c(e,["density"],d);const h=u(t,["brightness"]);h!=null&&c(e,["brightness"],h);const p=u(t,["scale"]);p!=null&&c(e,["scale"],p);const g=u(t,["muteBass"]);g!=null&&c(e,["muteBass"],g);const y=u(t,["muteDrums"]);y!=null&&c(e,["muteDrums"],y);const C=u(t,["onlyBassAndDrums"]);C!=null&&c(e,["onlyBassAndDrums"],C);const S=u(t,["musicGenerationMode"]);return S!=null&&c(e,["musicGenerationMode"],S),e}function jN(t){const e={},n=u(t,["clientContent"]);n!=null&&c(e,["clientContent"],UN(n));const i=u(t,["musicGenerationConfig"]);return i!=null&&c(e,["musicGenerationConfig"],VN(i)),e}function BN(t){const e={},n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);i!=null&&c(e,["mimeType"],i);const o=u(t,["sourceMetadata"]);return o!=null&&c(e,["sourceMetadata"],jN(o)),e}function zN(t){const e={},n=u(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>BN(o))),c(e,["audioChunks"],i)}return e}function ON(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["filteredReason"]);return i!=null&&c(e,["filteredReason"],i),e}function HN(t){const e={};u(t,["setupComplete"])!=null&&c(e,["setupComplete"],LN());const i=u(t,["serverContent"]);i!=null&&c(e,["serverContent"],zN(i));const o=u(t,["filteredPrompt"]);return o!=null&&c(e,["filteredPrompt"],ON(o)),e}function $N(t){const e={},n=u(t,["sessionId"]);return n!=null&&c(e,["sessionId"],n),e}function qN(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function GN(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function WN(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function JN(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],qN(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],GN(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],WN(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const y=u(t,["text"]);return y!=null&&c(e,["text"],y),e}function YN(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>JN(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function qm(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["finished"]);return i!=null&&c(e,["finished"],i),e}function KN(t){const e={},n=u(t,["modelTurn"]);n!=null&&c(e,["modelTurn"],YN(n));const i=u(t,["turnComplete"]);i!=null&&c(e,["turnComplete"],i);const o=u(t,["interrupted"]);o!=null&&c(e,["interrupted"],o);const r=u(t,["groundingMetadata"]);r!=null&&c(e,["groundingMetadata"],r);const l=u(t,["generationComplete"]);l!=null&&c(e,["generationComplete"],l);const d=u(t,["inputTranscription"]);d!=null&&c(e,["inputTranscription"],qm(d));const h=u(t,["outputTranscription"]);return h!=null&&c(e,["outputTranscription"],qm(h)),e}function QN(t){const e={},n=u(t,["args"]);n!=null&&c(e,["args"],n);const i=u(t,["name"]);return i!=null&&c(e,["name"],i),e}function XN(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>QN(o))),c(e,["functionCalls"],i)}return e}function ZN(t){const e={},n=u(t,["ids"]);return n!=null&&c(e,["ids"],n),e}function aa(t){const e={},n=u(t,["modality"]);n!=null&&c(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&c(e,["tokenCount"],i),e}function eE(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&c(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&c(e,["cachedContentTokenCount"],i);const o=u(t,["candidatesTokenCount"]);o!=null&&c(e,["responseTokenCount"],o);const r=u(t,["toolUsePromptTokenCount"]);r!=null&&c(e,["toolUsePromptTokenCount"],r);const l=u(t,["thoughtsTokenCount"]);l!=null&&c(e,["thoughtsTokenCount"],l);const d=u(t,["totalTokenCount"]);d!=null&&c(e,["totalTokenCount"],d);const h=u(t,["promptTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(w=>aa(w))),c(e,["promptTokensDetails"],S)}const p=u(t,["cacheTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(w=>aa(w))),c(e,["cacheTokensDetails"],S)}const g=u(t,["candidatesTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(w=>aa(w))),c(e,["responseTokensDetails"],S)}const y=u(t,["toolUsePromptTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(w=>aa(w))),c(e,["toolUsePromptTokensDetails"],S)}const C=u(t,["trafficType"]);return C!=null&&c(e,["trafficType"],C),e}function tE(t){const e={},n=u(t,["timeLeft"]);return n!=null&&c(e,["timeLeft"],n),e}function nE(t){const e={},n=u(t,["newHandle"]);n!=null&&c(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&c(e,["resumable"],i);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&c(e,["lastConsumedClientMessageIndex"],o),e}function iE(t){const e={},n=u(t,["setupComplete"]);n!=null&&c(e,["setupComplete"],$N(n));const i=u(t,["serverContent"]);i!=null&&c(e,["serverContent"],KN(i));const o=u(t,["toolCall"]);o!=null&&c(e,["toolCall"],XN(o));const r=u(t,["toolCallCancellation"]);r!=null&&c(e,["toolCallCancellation"],ZN(r));const l=u(t,["usageMetadata"]);l!=null&&c(e,["usageMetadata"],eE(l));const d=u(t,["goAway"]);d!=null&&c(e,["goAway"],tE(d));const h=u(t,["sessionResumptionUpdate"]);return h!=null&&c(e,["sessionResumptionUpdate"],nE(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oE(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function sE(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function rE(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function aE(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],oE(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],sE(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],rE(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const y=u(t,["text"]);return y!=null&&c(e,["text"],y),e}function el(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>aE(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function lE(t){const e={},n=u(t,["anyOf"]);n!=null&&c(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&c(e,["default"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["enum"]);r!=null&&c(e,["enum"],r);const l=u(t,["example"]);l!=null&&c(e,["example"],l);const d=u(t,["format"]);d!=null&&c(e,["format"],d);const h=u(t,["items"]);h!=null&&c(e,["items"],h);const p=u(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const g=u(t,["maxLength"]);g!=null&&c(e,["maxLength"],g);const y=u(t,["maxProperties"]);y!=null&&c(e,["maxProperties"],y);const C=u(t,["maximum"]);C!=null&&c(e,["maximum"],C);const S=u(t,["minItems"]);S!=null&&c(e,["minItems"],S);const w=u(t,["minLength"]);w!=null&&c(e,["minLength"],w);const b=u(t,["minProperties"]);b!=null&&c(e,["minProperties"],b);const N=u(t,["minimum"]);N!=null&&c(e,["minimum"],N);const M=u(t,["nullable"]);M!=null&&c(e,["nullable"],M);const I=u(t,["pattern"]);I!=null&&c(e,["pattern"],I);const A=u(t,["properties"]);A!=null&&c(e,["properties"],A);const D=u(t,["propertyOrdering"]);D!=null&&c(e,["propertyOrdering"],D);const L=u(t,["required"]);L!=null&&c(e,["required"],L);const z=u(t,["title"]);z!=null&&c(e,["title"],z);const $=u(t,["type"]);return $!=null&&c(e,["type"],$),e}function uE(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&c(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&c(e,["threshold"],i),e}function cE(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&c(e,["parametersJsonSchema"],l);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function dE(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function fE(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],dE(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function hE(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function pE(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],hE(n)),e}function mE(){return{}}function gE(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function xE(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>cE(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],fE(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],pE(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],mE());const l=u(t,["computerUse"]);l!=null&&c(e,["computerUse"],gE(l));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function yE(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function vE(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function CE(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],vE(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function _E(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],yE(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],CE(i)),e}function SE(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function py(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],SE(n)),e}function TE(t){const e={},n=u(t,["speaker"]);n!=null&&c(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&c(e,["voiceConfig"],py(i)),e}function wE(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>TE(o))),c(e,["speakerVoiceConfigs"],i)}return e}function bE(t){const e={},n=u(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],py(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&c(e,["multiSpeakerVoiceConfig"],wE(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function NE(t){const e={},n=u(t,["includeThoughts"]);n!=null&&c(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&c(e,["thinkingBudget"],i),e}function EE(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&c(n,["systemInstruction"],el(pt(o)));const r=u(e,["temperature"]);r!=null&&c(i,["temperature"],r);const l=u(e,["topP"]);l!=null&&c(i,["topP"],l);const d=u(e,["topK"]);d!=null&&c(i,["topK"],d);const h=u(e,["candidateCount"]);h!=null&&c(i,["candidateCount"],h);const p=u(e,["maxOutputTokens"]);p!=null&&c(i,["maxOutputTokens"],p);const g=u(e,["stopSequences"]);g!=null&&c(i,["stopSequences"],g);const y=u(e,["responseLogprobs"]);y!=null&&c(i,["responseLogprobs"],y);const C=u(e,["logprobs"]);C!=null&&c(i,["logprobs"],C);const S=u(e,["presencePenalty"]);S!=null&&c(i,["presencePenalty"],S);const w=u(e,["frequencyPenalty"]);w!=null&&c(i,["frequencyPenalty"],w);const b=u(e,["seed"]);b!=null&&c(i,["seed"],b);const N=u(e,["responseMimeType"]);N!=null&&c(i,["responseMimeType"],N);const M=u(e,["responseSchema"]);M!=null&&c(i,["responseSchema"],lE(td(M)));const I=u(e,["responseJsonSchema"]);if(I!=null&&c(i,["responseJsonSchema"],I),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=u(e,["safetySettings"]);if(n!==void 0&&A!=null){let K=A;Array.isArray(K)&&(K=K.map(ae=>uE(ae))),c(n,["safetySettings"],K)}const D=u(e,["tools"]);if(n!==void 0&&D!=null){let K=No(D);Array.isArray(K)&&(K=K.map(ae=>xE(bo(ae)))),c(n,["tools"],K)}const L=u(e,["toolConfig"]);if(n!==void 0&&L!=null&&c(n,["toolConfig"],_E(L)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=u(e,["cachedContent"]);n!==void 0&&z!=null&&c(n,["cachedContent"],En(t,z));const $=u(e,["responseModalities"]);$!=null&&c(i,["responseModalities"],$);const B=u(e,["mediaResolution"]);B!=null&&c(i,["mediaResolution"],B);const O=u(e,["speechConfig"]);if(O!=null&&c(i,["speechConfig"],bE(nd(O))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=u(e,["thinkingConfig"]);return Q!=null&&c(i,["thinkingConfig"],NE(Q)),i}function Gm(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["contents"]);if(o!=null){let l=zt(o);Array.isArray(l)&&(l=l.map(d=>el(d))),c(n,["contents"],l)}const r=u(e,["config"]);return r!=null&&c(n,["generationConfig"],EE(t,r,n)),n}function kE(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&c(e,["requests[]","taskType"],i);const o=u(t,["title"]);e!==void 0&&o!=null&&c(e,["requests[]","title"],o);const r=u(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&c(e,["requests[]","outputDimensionality"],r),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ME(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["contents"]);o!=null&&c(n,["requests[]","content"],Qx(t,o));const r=u(e,["config"]);r!=null&&c(n,["config"],kE(r,n));const l=u(e,["model"]);return l!==void 0&&c(n,["requests[]","model"],Me(t,l)),n}function PE(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);const o=u(t,["aspectRatio"]);e!==void 0&&o!=null&&c(e,["parameters","aspectRatio"],o);const r=u(t,["guidanceScale"]);if(e!==void 0&&r!=null&&c(e,["parameters","guidanceScale"],r),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=u(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&c(e,["parameters","safetySetting"],l);const d=u(t,["personGeneration"]);e!==void 0&&d!=null&&c(e,["parameters","personGeneration"],d);const h=u(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&c(e,["parameters","includeSafetyAttributes"],h);const p=u(t,["includeRaiReason"]);e!==void 0&&p!=null&&c(e,["parameters","includeRaiReason"],p);const g=u(t,["language"]);e!==void 0&&g!=null&&c(e,["parameters","language"],g);const y=u(t,["outputMimeType"]);e!==void 0&&y!=null&&c(e,["parameters","outputOptions","mimeType"],y);const C=u(t,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&c(e,["parameters","outputOptions","compressionQuality"],C),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const S=u(t,["imageSize"]);if(e!==void 0&&S!=null&&c(e,["parameters","sampleImageSize"],S),u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function IE(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["config"]);return r!=null&&c(n,["config"],PE(r,n)),n}function AE(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],Me(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function RE(t,e,n){const i={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&c(n,["_query","pageSize"],o);const r=u(e,["pageToken"]);n!==void 0&&r!=null&&c(n,["_query","pageToken"],r);const l=u(e,["filter"]);n!==void 0&&l!=null&&c(n,["_query","filter"],l);const d=u(e,["queryBase"]);return n!==void 0&&d!=null&&c(n,["_url","models_url"],ey(t,d)),i}function DE(t,e){const n={},i=u(e,["config"]);return i!=null&&c(n,["config"],RE(t,i,n)),n}function LE(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&c(e,["description"],o);const r=u(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&c(e,["defaultCheckpointId"],r),n}function FE(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],Me(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],LE(o,n)),n}function UE(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],Me(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function VE(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function jE(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["contents"]);if(o!=null){let l=zt(o);Array.isArray(l)&&(l=l.map(d=>el(d))),c(n,["contents"],l)}const r=u(e,["config"]);return r!=null&&c(n,["config"],VE(r)),n}function BE(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&c(e,["bytesBase64Encoded"],Ri(n));const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function zE(t,e){const n={},i=u(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=u(t,["durationSeconds"]);if(e!==void 0&&o!=null&&c(e,["parameters","durationSeconds"],o),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=u(t,["aspectRatio"]);if(e!==void 0&&r!=null&&c(e,["parameters","aspectRatio"],r),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const l=u(t,["personGeneration"]);if(e!==void 0&&l!=null&&c(e,["parameters","personGeneration"],l),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=u(t,["negativePrompt"]);e!==void 0&&d!=null&&c(e,["parameters","negativePrompt"],d);const h=u(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&c(e,["parameters","enhancePrompt"],h),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function OE(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["image"]);if(r!=null&&c(n,["instances[0]","image"],BE(r)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const l=u(e,["config"]);return l!=null&&c(n,["config"],zE(l,n)),n}function HE(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function $E(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function qE(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function GE(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],HE(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],$E(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],qE(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const y=u(t,["text"]);return y!=null&&c(e,["text"],y),e}function ko(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>GE(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function WE(t){const e={},n=u(t,["anyOf"]);n!=null&&c(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&c(e,["default"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["enum"]);r!=null&&c(e,["enum"],r);const l=u(t,["example"]);l!=null&&c(e,["example"],l);const d=u(t,["format"]);d!=null&&c(e,["format"],d);const h=u(t,["items"]);h!=null&&c(e,["items"],h);const p=u(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const g=u(t,["maxLength"]);g!=null&&c(e,["maxLength"],g);const y=u(t,["maxProperties"]);y!=null&&c(e,["maxProperties"],y);const C=u(t,["maximum"]);C!=null&&c(e,["maximum"],C);const S=u(t,["minItems"]);S!=null&&c(e,["minItems"],S);const w=u(t,["minLength"]);w!=null&&c(e,["minLength"],w);const b=u(t,["minProperties"]);b!=null&&c(e,["minProperties"],b);const N=u(t,["minimum"]);N!=null&&c(e,["minimum"],N);const M=u(t,["nullable"]);M!=null&&c(e,["nullable"],M);const I=u(t,["pattern"]);I!=null&&c(e,["pattern"],I);const A=u(t,["properties"]);A!=null&&c(e,["properties"],A);const D=u(t,["propertyOrdering"]);D!=null&&c(e,["propertyOrdering"],D);const L=u(t,["required"]);L!=null&&c(e,["required"],L);const z=u(t,["title"]);z!=null&&c(e,["title"],z);const $=u(t,["type"]);return $!=null&&c(e,["type"],$),e}function JE(t){const e={},n=u(t,["featureSelectionPreference"]);return n!=null&&c(e,["featureSelectionPreference"],n),e}function YE(t){const e={},n=u(t,["method"]);n!=null&&c(e,["method"],n);const i=u(t,["category"]);i!=null&&c(e,["category"],i);const o=u(t,["threshold"]);return o!=null&&c(e,["threshold"],o),e}function KE(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&c(e,["description"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["parameters"]);o!=null&&c(e,["parameters"],o);const r=u(t,["parametersJsonSchema"]);r!=null&&c(e,["parametersJsonSchema"],r);const l=u(t,["response"]);l!=null&&c(e,["response"],l);const d=u(t,["responseJsonSchema"]);return d!=null&&c(e,["responseJsonSchema"],d),e}function QE(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function XE(t){const e={},n=u(t,["timeRangeFilter"]);n!=null&&c(e,["timeRangeFilter"],QE(n));const i=u(t,["excludeDomains"]);return i!=null&&c(e,["excludeDomains"],i),e}function ZE(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function ek(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],ZE(n)),e}function tk(t){const e={},n=u(t,["excludeDomains"]);return n!=null&&c(e,["excludeDomains"],n),e}function nk(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&c(e,["apiKeyString"],n),e}function ik(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&c(e,["apiKeyConfig"],nk(n));const i=u(t,["authType"]);i!=null&&c(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&c(e,["googleServiceAccountConfig"],o);const r=u(t,["httpBasicAuthConfig"]);r!=null&&c(e,["httpBasicAuthConfig"],r);const l=u(t,["oauthConfig"]);l!=null&&c(e,["oauthConfig"],l);const d=u(t,["oidcConfig"]);return d!=null&&c(e,["oidcConfig"],d),e}function ok(t){const e={},n=u(t,["authConfig"]);return n!=null&&c(e,["authConfig"],ik(n)),e}function sk(){return{}}function rk(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function my(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(C=>KE(C))),c(e,["functionDeclarations"],y)}const i=u(t,["retrieval"]);i!=null&&c(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],XE(o));const r=u(t,["googleSearchRetrieval"]);r!=null&&c(e,["googleSearchRetrieval"],ek(r));const l=u(t,["enterpriseWebSearch"]);l!=null&&c(e,["enterpriseWebSearch"],tk(l));const d=u(t,["googleMaps"]);d!=null&&c(e,["googleMaps"],ok(d)),u(t,["urlContext"])!=null&&c(e,["urlContext"],sk());const p=u(t,["computerUse"]);p!=null&&c(e,["computerUse"],rk(p));const g=u(t,["codeExecution"]);return g!=null&&c(e,["codeExecution"],g),e}function ak(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function lk(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function uk(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],lk(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function ck(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],ak(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],uk(i)),e}function dk(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function fk(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],dk(n)),e}function hk(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&c(e,["voiceConfig"],fk(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function pk(t){const e={},n=u(t,["includeThoughts"]);n!=null&&c(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&c(e,["thinkingBudget"],i),e}function mk(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&c(n,["systemInstruction"],ko(pt(o)));const r=u(e,["temperature"]);r!=null&&c(i,["temperature"],r);const l=u(e,["topP"]);l!=null&&c(i,["topP"],l);const d=u(e,["topK"]);d!=null&&c(i,["topK"],d);const h=u(e,["candidateCount"]);h!=null&&c(i,["candidateCount"],h);const p=u(e,["maxOutputTokens"]);p!=null&&c(i,["maxOutputTokens"],p);const g=u(e,["stopSequences"]);g!=null&&c(i,["stopSequences"],g);const y=u(e,["responseLogprobs"]);y!=null&&c(i,["responseLogprobs"],y);const C=u(e,["logprobs"]);C!=null&&c(i,["logprobs"],C);const S=u(e,["presencePenalty"]);S!=null&&c(i,["presencePenalty"],S);const w=u(e,["frequencyPenalty"]);w!=null&&c(i,["frequencyPenalty"],w);const b=u(e,["seed"]);b!=null&&c(i,["seed"],b);const N=u(e,["responseMimeType"]);N!=null&&c(i,["responseMimeType"],N);const M=u(e,["responseSchema"]);M!=null&&c(i,["responseSchema"],WE(td(M)));const I=u(e,["responseJsonSchema"]);I!=null&&c(i,["responseJsonSchema"],I);const A=u(e,["routingConfig"]);A!=null&&c(i,["routingConfig"],A);const D=u(e,["modelSelectionConfig"]);D!=null&&c(i,["modelConfig"],JE(D));const L=u(e,["safetySettings"]);if(n!==void 0&&L!=null){let fe=L;Array.isArray(fe)&&(fe=fe.map(ye=>YE(ye))),c(n,["safetySettings"],fe)}const z=u(e,["tools"]);if(n!==void 0&&z!=null){let fe=No(z);Array.isArray(fe)&&(fe=fe.map(ye=>my(bo(ye)))),c(n,["tools"],fe)}const $=u(e,["toolConfig"]);n!==void 0&&$!=null&&c(n,["toolConfig"],ck($));const B=u(e,["labels"]);n!==void 0&&B!=null&&c(n,["labels"],B);const O=u(e,["cachedContent"]);n!==void 0&&O!=null&&c(n,["cachedContent"],En(t,O));const Q=u(e,["responseModalities"]);Q!=null&&c(i,["responseModalities"],Q);const K=u(e,["mediaResolution"]);K!=null&&c(i,["mediaResolution"],K);const ae=u(e,["speechConfig"]);ae!=null&&c(i,["speechConfig"],hk(nd(ae)));const Se=u(e,["audioTimestamp"]);Se!=null&&c(i,["audioTimestamp"],Se);const Re=u(e,["thinkingConfig"]);return Re!=null&&c(i,["thinkingConfig"],pk(Re)),i}function Wm(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["contents"]);if(o!=null){let l=zt(o);Array.isArray(l)&&(l=l.map(d=>ko(d))),c(n,["contents"],l)}const r=u(e,["config"]);return r!=null&&c(n,["generationConfig"],mk(t,r,n)),n}function gk(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&c(e,["instances[]","task_type"],i);const o=u(t,["title"]);e!==void 0&&o!=null&&c(e,["instances[]","title"],o);const r=u(t,["outputDimensionality"]);e!==void 0&&r!=null&&c(e,["parameters","outputDimensionality"],r);const l=u(t,["mimeType"]);e!==void 0&&l!=null&&c(e,["instances[]","mimeType"],l);const d=u(t,["autoTruncate"]);return e!==void 0&&d!=null&&c(e,["parameters","autoTruncate"],d),n}function xk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["contents"]);o!=null&&c(n,["instances[]","content"],Qx(t,o));const r=u(e,["config"]);return r!=null&&c(n,["config"],gk(r,n)),n}function yk(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&c(e,["parameters","storageUri"],i);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&c(e,["parameters","negativePrompt"],o);const r=u(t,["numberOfImages"]);e!==void 0&&r!=null&&c(e,["parameters","sampleCount"],r);const l=u(t,["aspectRatio"]);e!==void 0&&l!=null&&c(e,["parameters","aspectRatio"],l);const d=u(t,["guidanceScale"]);e!==void 0&&d!=null&&c(e,["parameters","guidanceScale"],d);const h=u(t,["seed"]);e!==void 0&&h!=null&&c(e,["parameters","seed"],h);const p=u(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&c(e,["parameters","safetySetting"],p);const g=u(t,["personGeneration"]);e!==void 0&&g!=null&&c(e,["parameters","personGeneration"],g);const y=u(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&c(e,["parameters","includeSafetyAttributes"],y);const C=u(t,["includeRaiReason"]);e!==void 0&&C!=null&&c(e,["parameters","includeRaiReason"],C);const S=u(t,["language"]);e!==void 0&&S!=null&&c(e,["parameters","language"],S);const w=u(t,["outputMimeType"]);e!==void 0&&w!=null&&c(e,["parameters","outputOptions","mimeType"],w);const b=u(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&c(e,["parameters","outputOptions","compressionQuality"],b);const N=u(t,["addWatermark"]);e!==void 0&&N!=null&&c(e,["parameters","addWatermark"],N);const M=u(t,["imageSize"]);e!==void 0&&M!=null&&c(e,["parameters","sampleImageSize"],M);const I=u(t,["enhancePrompt"]);return e!==void 0&&I!=null&&c(e,["parameters","enhancePrompt"],I),n}function vk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["config"]);return r!=null&&c(n,["config"],yk(r,n)),n}function Mo(t){const e={},n=u(t,["gcsUri"]);n!=null&&c(e,["gcsUri"],n);const i=u(t,["imageBytes"]);i!=null&&c(e,["bytesBase64Encoded"],Ri(i));const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Ck(t){const e={},n=u(t,["maskMode"]);n!=null&&c(e,["maskMode"],n);const i=u(t,["segmentationClasses"]);i!=null&&c(e,["maskClasses"],i);const o=u(t,["maskDilation"]);return o!=null&&c(e,["dilation"],o),e}function _k(t){const e={},n=u(t,["controlType"]);n!=null&&c(e,["controlType"],n);const i=u(t,["enableControlImageComputation"]);return i!=null&&c(e,["computeControl"],i),e}function Sk(t){const e={},n=u(t,["styleDescription"]);return n!=null&&c(e,["styleDescription"],n),e}function Tk(t){const e={},n=u(t,["subjectType"]);n!=null&&c(e,["subjectType"],n);const i=u(t,["subjectDescription"]);return i!=null&&c(e,["subjectDescription"],i),e}function wk(t){const e={},n=u(t,["referenceImage"]);n!=null&&c(e,["referenceImage"],Mo(n));const i=u(t,["referenceId"]);i!=null&&c(e,["referenceId"],i);const o=u(t,["referenceType"]);o!=null&&c(e,["referenceType"],o);const r=u(t,["maskImageConfig"]);r!=null&&c(e,["maskImageConfig"],Ck(r));const l=u(t,["controlImageConfig"]);l!=null&&c(e,["controlImageConfig"],_k(l));const d=u(t,["styleImageConfig"]);d!=null&&c(e,["styleImageConfig"],Sk(d));const h=u(t,["subjectImageConfig"]);return h!=null&&c(e,["subjectImageConfig"],Tk(h)),e}function bk(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&c(e,["parameters","storageUri"],i);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&c(e,["parameters","negativePrompt"],o);const r=u(t,["numberOfImages"]);e!==void 0&&r!=null&&c(e,["parameters","sampleCount"],r);const l=u(t,["aspectRatio"]);e!==void 0&&l!=null&&c(e,["parameters","aspectRatio"],l);const d=u(t,["guidanceScale"]);e!==void 0&&d!=null&&c(e,["parameters","guidanceScale"],d);const h=u(t,["seed"]);e!==void 0&&h!=null&&c(e,["parameters","seed"],h);const p=u(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&c(e,["parameters","safetySetting"],p);const g=u(t,["personGeneration"]);e!==void 0&&g!=null&&c(e,["parameters","personGeneration"],g);const y=u(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&c(e,["parameters","includeSafetyAttributes"],y);const C=u(t,["includeRaiReason"]);e!==void 0&&C!=null&&c(e,["parameters","includeRaiReason"],C);const S=u(t,["language"]);e!==void 0&&S!=null&&c(e,["parameters","language"],S);const w=u(t,["outputMimeType"]);e!==void 0&&w!=null&&c(e,["parameters","outputOptions","mimeType"],w);const b=u(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&c(e,["parameters","outputOptions","compressionQuality"],b);const N=u(t,["addWatermark"]);e!==void 0&&N!=null&&c(e,["parameters","addWatermark"],N);const M=u(t,["editMode"]);e!==void 0&&M!=null&&c(e,["parameters","editMode"],M);const I=u(t,["baseSteps"]);return e!==void 0&&I!=null&&c(e,["parameters","editConfig","baseSteps"],I),n}function Nk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["referenceImages"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>wk(h))),c(n,["instances[0]","referenceImages"],d)}const l=u(e,["config"]);return l!=null&&c(n,["config"],bk(l,n)),n}function Ek(t,e){const n={},i=u(t,["includeRaiReason"]);e!==void 0&&i!=null&&c(e,["parameters","includeRaiReason"],i);const o=u(t,["outputMimeType"]);e!==void 0&&o!=null&&c(e,["parameters","outputOptions","mimeType"],o);const r=u(t,["outputCompressionQuality"]);e!==void 0&&r!=null&&c(e,["parameters","outputOptions","compressionQuality"],r);const l=u(t,["enhanceInputImage"]);e!==void 0&&l!=null&&c(e,["parameters","upscaleConfig","enhanceInputImage"],l);const d=u(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&c(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=u(t,["numberOfImages"]);e!==void 0&&h!=null&&c(e,["parameters","sampleCount"],h);const p=u(t,["mode"]);return e!==void 0&&p!=null&&c(e,["parameters","mode"],p),n}function kk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["image"]);o!=null&&c(n,["instances[0]","image"],Mo(o));const r=u(e,["upscaleFactor"]);r!=null&&c(n,["parameters","upscaleConfig","upscaleFactor"],r);const l=u(e,["config"]);return l!=null&&c(n,["config"],Ek(l,n)),n}function Mk(t){const e={},n=u(t,["productImage"]);return n!=null&&c(e,["image"],Mo(n)),e}function Pk(t,e){const n={},i=u(t,["prompt"]);e!==void 0&&i!=null&&c(e,["instances[0]","prompt"],i);const o=u(t,["personImage"]);e!==void 0&&o!=null&&c(e,["instances[0]","personImage","image"],Mo(o));const r=u(t,["productImages"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(d=>Mk(d))),c(e,["instances[0]","productImages"],l)}return n}function Ik(t,e){const n={},i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);const o=u(t,["baseSteps"]);e!==void 0&&o!=null&&c(e,["parameters","editConfig","baseSteps"],o);const r=u(t,["outputGcsUri"]);e!==void 0&&r!=null&&c(e,["parameters","storageUri"],r);const l=u(t,["seed"]);e!==void 0&&l!=null&&c(e,["parameters","seed"],l);const d=u(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&c(e,["parameters","safetySetting"],d);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&c(e,["parameters","personGeneration"],h);const p=u(t,["outputMimeType"]);e!==void 0&&p!=null&&c(e,["parameters","outputOptions","mimeType"],p);const g=u(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&c(e,["parameters","outputOptions","compressionQuality"],g);const y=u(t,["enhancePrompt"]);return e!==void 0&&y!=null&&c(e,["parameters","enhancePrompt"],y),n}function Ak(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["source"]);o!=null&&c(n,["config"],Pk(o,n));const r=u(e,["config"]);return r!=null&&c(n,["config"],Ik(r,n)),n}function Rk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],Me(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function Dk(t,e,n){const i={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&c(n,["_query","pageSize"],o);const r=u(e,["pageToken"]);n!==void 0&&r!=null&&c(n,["_query","pageToken"],r);const l=u(e,["filter"]);n!==void 0&&l!=null&&c(n,["_query","filter"],l);const d=u(e,["queryBase"]);return n!==void 0&&d!=null&&c(n,["_url","models_url"],ey(t,d)),i}function Lk(t,e){const n={},i=u(e,["config"]);return i!=null&&c(n,["config"],Dk(t,i,n)),n}function Fk(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&c(e,["description"],o);const r=u(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&c(e,["defaultCheckpointId"],r),n}function Uk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],Fk(o,n)),n}function Vk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],Me(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function jk(t,e){const n={},i=u(t,["systemInstruction"]);e!==void 0&&i!=null&&c(e,["systemInstruction"],ko(pt(i)));const o=u(t,["tools"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>my(d))),c(e,["tools"],l)}const r=u(t,["generationConfig"]);return e!==void 0&&r!=null&&c(e,["generationConfig"],r),n}function Bk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["contents"]);if(o!=null){let l=zt(o);Array.isArray(l)&&(l=l.map(d=>ko(d))),c(n,["contents"],l)}const r=u(e,["config"]);return r!=null&&c(n,["config"],jk(r,n)),n}function zk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["contents"]);if(o!=null){let l=zt(o);Array.isArray(l)&&(l=l.map(d=>ko(d))),c(n,["contents"],l)}const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function Ok(t){const e={},n=u(t,["uri"]);n!=null&&c(e,["gcsUri"],n);const i=u(t,["videoBytes"]);i!=null&&c(e,["bytesBase64Encoded"],Ri(i));const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Hk(t,e){const n={},i=u(t,["numberOfVideos"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);const o=u(t,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);const r=u(t,["fps"]);e!==void 0&&r!=null&&c(e,["parameters","fps"],r);const l=u(t,["durationSeconds"]);e!==void 0&&l!=null&&c(e,["parameters","durationSeconds"],l);const d=u(t,["seed"]);e!==void 0&&d!=null&&c(e,["parameters","seed"],d);const h=u(t,["aspectRatio"]);e!==void 0&&h!=null&&c(e,["parameters","aspectRatio"],h);const p=u(t,["resolution"]);e!==void 0&&p!=null&&c(e,["parameters","resolution"],p);const g=u(t,["personGeneration"]);e!==void 0&&g!=null&&c(e,["parameters","personGeneration"],g);const y=u(t,["pubsubTopic"]);e!==void 0&&y!=null&&c(e,["parameters","pubsubTopic"],y);const C=u(t,["negativePrompt"]);e!==void 0&&C!=null&&c(e,["parameters","negativePrompt"],C);const S=u(t,["enhancePrompt"]);e!==void 0&&S!=null&&c(e,["parameters","enhancePrompt"],S);const w=u(t,["generateAudio"]);e!==void 0&&w!=null&&c(e,["parameters","generateAudio"],w);const b=u(t,["lastFrame"]);e!==void 0&&b!=null&&c(e,["instances[0]","lastFrame"],Mo(b));const N=u(t,["compressionQuality"]);return e!==void 0&&N!=null&&c(e,["parameters","compressionQuality"],N),n}function $k(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Me(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["image"]);r!=null&&c(n,["instances[0]","image"],Mo(r));const l=u(e,["video"]);l!=null&&c(n,["instances[0]","video"],Ok(l));const d=u(e,["config"]);return d!=null&&c(n,["config"],Hk(d,n)),n}function qk(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function Gk(t){const e={},n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Wk(t){const e={},n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Jk(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],qk(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],Gk(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],Wk(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const y=u(t,["text"]);return y!=null&&c(e,["text"],y),e}function Yk(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Jk(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function Kk(t){const e={},n=u(t,["citationSources"]);return n!=null&&c(e,["citations"],n),e}function Qk(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&c(e,["urlRetrievalStatus"],i),e}function Xk(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Qk(o))),c(e,["urlMetadata"],i)}return e}function Zk(t){const e={},n=u(t,["content"]);n!=null&&c(e,["content"],Yk(n));const i=u(t,["citationMetadata"]);i!=null&&c(e,["citationMetadata"],Kk(i));const o=u(t,["tokenCount"]);o!=null&&c(e,["tokenCount"],o);const r=u(t,["finishReason"]);r!=null&&c(e,["finishReason"],r);const l=u(t,["urlContextMetadata"]);l!=null&&c(e,["urlContextMetadata"],Xk(l));const d=u(t,["avgLogprobs"]);d!=null&&c(e,["avgLogprobs"],d);const h=u(t,["groundingMetadata"]);h!=null&&c(e,["groundingMetadata"],h);const p=u(t,["index"]);p!=null&&c(e,["index"],p);const g=u(t,["logprobsResult"]);g!=null&&c(e,["logprobsResult"],g);const y=u(t,["safetyRatings"]);return y!=null&&c(e,["safetyRatings"],y),e}function Jm(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>Zk(p))),c(e,["candidates"],h)}const o=u(t,["modelVersion"]);o!=null&&c(e,["modelVersion"],o);const r=u(t,["promptFeedback"]);r!=null&&c(e,["promptFeedback"],r);const l=u(t,["responseId"]);l!=null&&c(e,["responseId"],l);const d=u(t,["usageMetadata"]);return d!=null&&c(e,["usageMetadata"],d),e}function eM(t){const e={},n=u(t,["values"]);return n!=null&&c(e,["values"],n),e}function tM(){return{}}function nM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>eM(l))),c(e,["embeddings"],r)}return u(t,["metadata"])!=null&&c(e,["metadata"],tM()),e}function iM(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&c(e,["imageBytes"],Ri(n));const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function gy(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&c(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&c(e,["scores"],i);const o=u(t,["contentType"]);return o!=null&&c(e,["contentType"],o),e}function oM(t){const e={},n=u(t,["_self"]);n!=null&&c(e,["image"],iM(n));const i=u(t,["raiFilteredReason"]);i!=null&&c(e,["raiFilteredReason"],i);const o=u(t,["_self"]);return o!=null&&c(e,["safetyAttributes"],gy(o)),e}function sM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>oM(l))),c(e,["generatedImages"],r)}const o=u(t,["positivePromptSafetyAttributes"]);return o!=null&&c(e,["positivePromptSafetyAttributes"],gy(o)),e}function rM(t){const e={},n=u(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&c(e,["createTime"],i);const o=u(t,["updateTime"]);return o!=null&&c(e,["updateTime"],o),e}function Lc(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["version"]);r!=null&&c(e,["version"],r);const l=u(t,["_self"]);l!=null&&c(e,["tunedModelInfo"],rM(l));const d=u(t,["inputTokenLimit"]);d!=null&&c(e,["inputTokenLimit"],d);const h=u(t,["outputTokenLimit"]);h!=null&&c(e,["outputTokenLimit"],h);const p=u(t,["supportedGenerationMethods"]);return p!=null&&c(e,["supportedActions"],p),e}function aM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["_self"]);if(o!=null){let r=ty(o);Array.isArray(r)&&(r=r.map(l=>Lc(l))),c(e,["models"],r)}return e}function lM(){return{}}function uM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["totalTokens"]);i!=null&&c(e,["totalTokens"],i);const o=u(t,["cachedContentTokenCount"]);return o!=null&&c(e,["cachedContentTokenCount"],o),e}function cM(t){const e={},n=u(t,["video","uri"]);n!=null&&c(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&c(e,["videoBytes"],Ri(i));const o=u(t,["encoding"]);return o!=null&&c(e,["mimeType"],o),e}function dM(t){const e={},n=u(t,["_self"]);return n!=null&&c(e,["video"],cM(n)),e}function fM(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>dM(l))),c(e,["generatedVideos"],r)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&c(e,["raiMediaFilteredReasons"],o),e}function hM(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["metadata"]);i!=null&&c(e,["metadata"],i);const o=u(t,["done"]);o!=null&&c(e,["done"],o);const r=u(t,["error"]);r!=null&&c(e,["error"],r);const l=u(t,["response","generateVideoResponse"]);return l!=null&&c(e,["response"],fM(l)),e}function pM(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function mM(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function gM(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function xM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],pM(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],mM(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],gM(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const y=u(t,["text"]);return y!=null&&c(e,["text"],y),e}function yM(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>xM(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function vM(t){const e={},n=u(t,["citations"]);return n!=null&&c(e,["citations"],n),e}function CM(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&c(e,["urlRetrievalStatus"],i),e}function _M(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>CM(o))),c(e,["urlMetadata"],i)}return e}function SM(t){const e={},n=u(t,["content"]);n!=null&&c(e,["content"],yM(n));const i=u(t,["citationMetadata"]);i!=null&&c(e,["citationMetadata"],vM(i));const o=u(t,["finishMessage"]);o!=null&&c(e,["finishMessage"],o);const r=u(t,["finishReason"]);r!=null&&c(e,["finishReason"],r);const l=u(t,["urlContextMetadata"]);l!=null&&c(e,["urlContextMetadata"],_M(l));const d=u(t,["avgLogprobs"]);d!=null&&c(e,["avgLogprobs"],d);const h=u(t,["groundingMetadata"]);h!=null&&c(e,["groundingMetadata"],h);const p=u(t,["index"]);p!=null&&c(e,["index"],p);const g=u(t,["logprobsResult"]);g!=null&&c(e,["logprobsResult"],g);const y=u(t,["safetyRatings"]);return y!=null&&c(e,["safetyRatings"],y),e}function Ym(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(g=>SM(g))),c(e,["candidates"],p)}const o=u(t,["createTime"]);o!=null&&c(e,["createTime"],o);const r=u(t,["modelVersion"]);r!=null&&c(e,["modelVersion"],r);const l=u(t,["promptFeedback"]);l!=null&&c(e,["promptFeedback"],l);const d=u(t,["responseId"]);d!=null&&c(e,["responseId"],d);const h=u(t,["usageMetadata"]);return h!=null&&c(e,["usageMetadata"],h),e}function TM(t){const e={},n=u(t,["truncated"]);n!=null&&c(e,["truncated"],n);const i=u(t,["token_count"]);return i!=null&&c(e,["tokenCount"],i),e}function wM(t){const e={},n=u(t,["values"]);n!=null&&c(e,["values"],n);const i=u(t,["statistics"]);return i!=null&&c(e,["statistics"],TM(i)),e}function bM(t){const e={},n=u(t,["billableCharacterCount"]);return n!=null&&c(e,["billableCharacterCount"],n),e}function NM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions[]","embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>wM(l))),c(e,["embeddings"],r)}const o=u(t,["metadata"]);return o!=null&&c(e,["metadata"],bM(o)),e}function EM(t){const e={},n=u(t,["gcsUri"]);n!=null&&c(e,["gcsUri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&c(e,["imageBytes"],Ri(i));const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function xy(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&c(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&c(e,["scores"],i);const o=u(t,["contentType"]);return o!=null&&c(e,["contentType"],o),e}function tl(t){const e={},n=u(t,["_self"]);n!=null&&c(e,["image"],EM(n));const i=u(t,["raiFilteredReason"]);i!=null&&c(e,["raiFilteredReason"],i);const o=u(t,["_self"]);o!=null&&c(e,["safetyAttributes"],xy(o));const r=u(t,["prompt"]);return r!=null&&c(e,["enhancedPrompt"],r),e}function kM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>tl(l))),c(e,["generatedImages"],r)}const o=u(t,["positivePromptSafetyAttributes"]);return o!=null&&c(e,["positivePromptSafetyAttributes"],xy(o)),e}function MM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>tl(r))),c(e,["generatedImages"],o)}return e}function PM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>tl(r))),c(e,["generatedImages"],o)}return e}function IM(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tl(o))),c(e,["generatedImages"],i)}return e}function AM(t){const e={},n=u(t,["endpoint"]);n!=null&&c(e,["name"],n);const i=u(t,["deployedModelId"]);return i!=null&&c(e,["deployedModelId"],i),e}function RM(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&c(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&c(e,["createTime"],i);const o=u(t,["updateTime"]);return o!=null&&c(e,["updateTime"],o),e}function DM(t){const e={},n=u(t,["checkpointId"]);n!=null&&c(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&c(e,["epoch"],i);const o=u(t,["step"]);return o!=null&&c(e,["step"],o),e}function Fc(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["versionId"]);r!=null&&c(e,["version"],r);const l=u(t,["deployedModels"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(C=>AM(C))),c(e,["endpoints"],y)}const d=u(t,["labels"]);d!=null&&c(e,["labels"],d);const h=u(t,["_self"]);h!=null&&c(e,["tunedModelInfo"],RM(h));const p=u(t,["defaultCheckpointId"]);p!=null&&c(e,["defaultCheckpointId"],p);const g=u(t,["checkpoints"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(C=>DM(C))),c(e,["checkpoints"],y)}return e}function LM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["_self"]);if(o!=null){let r=ty(o);Array.isArray(r)&&(r=r.map(l=>Fc(l))),c(e,["models"],r)}return e}function FM(){return{}}function UM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["totalTokens"]);return i!=null&&c(e,["totalTokens"],i),e}function VM(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["tokensInfo"]);return i!=null&&c(e,["tokensInfo"],i),e}function jM(t){const e={},n=u(t,["gcsUri"]);n!=null&&c(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&c(e,["videoBytes"],Ri(i));const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function BM(t){const e={},n=u(t,["_self"]);return n!=null&&c(e,["video"],jM(n)),e}function zM(t){const e={},n=u(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>BM(l))),c(e,["generatedVideos"],r)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&c(e,["raiMediaFilteredReasons"],o),e}function OM(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["metadata"]);i!=null&&c(e,["metadata"],i);const o=u(t,["done"]);o!=null&&c(e,["done"],o);const r=u(t,["error"]);r!=null&&c(e,["error"],r);const l=u(t,["response"]);return l!=null&&c(e,["response"],zM(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HM="Content-Type",$M="X-Server-Timeout",qM="User-Agent",Uc="x-goog-api-client",GM="1.14.0",WM=`google-genai-sdk/${GM}`,JM="v1beta1",YM="v1beta",Km=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class KM{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:JM,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:YM,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[l,d]of Object.entries(e.queryParams))o.searchParams.append(l,String(d));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,n,e.abortSignal),this.unaryApiCall(o,r,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,r]of Object.entries(n))typeof r=="object"?i[o]=Object.assign(Object.assign({},i[o]),r):r!==void 0&&(i[o]=r);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,n,e.abortSignal),this.streamApiCall(o,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const o=new AbortController,r=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>o.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=r}return n&&n.extraBody!==null&&QM(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Qm(o),new Mc(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Qm(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return go(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),r=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";for(;;){const{done:d,value:h}=yield Ve(o.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=r.decode(h,{stream:!0});try{const y=JSON.parse(p);if("error"in y){const C=JSON.parse(JSON.stringify(y.error)),S=C.status,w=C.code,b=`got status: ${S}. ${JSON.stringify(y)}`;if(w>=400&&w<600)throw new Za({message:b,status:w})}}catch(y){if(y.name==="ApiError")throw y}l+=p;let g=l.match(Km);for(;g;){const y=g[1];try{const C=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ve(new Mc(C)),l=l.slice(g[0].length),g=l.match(Km)}catch(C){throw new Error(`exception parsing stream chunk ${y}. ${C}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=WM+" "+this.clientOptions.userAgentExtra;return e[qM]=n,e[Uc]=n,e[HM]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append($M,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const r=this.clientOptions.uploader,l=await r.stat(e);o.sizeBytes=String(l.size);const d=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=d;const h=await this.fetchUploadUrl(o,n);return r.upload(e,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const r={file:e},l=await this.request({path:re("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:o});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(i=l==null?void 0:l.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function Qm(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Za({message:o,status:n}):new Error(o)}}function QM(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const r=JSON.parse(t.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))n=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(r,l){const d=Object.assign({},r);for(const h in l)if(Object.prototype.hasOwnProperty.call(l,h)){const p=l[h],g=d[h];p&&typeof p=="object"&&!Array.isArray(p)&&g&&typeof g=="object"&&!Array.isArray(g)?d[h]=i(g,p):(g&&p&&typeof g!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof g}, New type: ${typeof p}. Overwriting.`),d[h]=p)}return d}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XM="mcp_used/unknown";let ZM=!1;function yy(t){for(const e of t)if(e2(e)||typeof e=="object"&&"inputSchema"in e)return!0;return ZM}function vy(t){var e;const n=(e=t[Uc])!==null&&e!==void 0?e:"";t[Uc]=(n+` ${XM}`).trimStart()}function e2(t){return t!==null&&typeof t=="object"&&t instanceof od}function t2(t,e=100){return go(this,arguments,function*(){let i,o=0;for(;o<e;){const r=yield Ve(t.listTools({cursor:i}));for(const l of r.tools)yield yield Ve(l),o++;if(!r.nextCursor)break;i=r.nextCursor}})}class od{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new od(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const r={},l=[];for(const g of this.mcpClients)try{for(var d=!0,h=(n=void 0,Is(t2(g))),p;p=await h.next(),e=p.done,!e;d=!0){o=p.value,d=!1;const y=o;l.push(y);const C=y.name;if(r[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);r[C]=g}}catch(y){n={error:y}}finally{try{!d&&!e&&(i=h.return)&&await i.call(h)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),VT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const l=await o.callTool({name:i.name,arguments:i.args},void 0,r);n.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function n2(t,e,n){const i=new PT;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const r=HN(o);Object.assign(i,r),e(i)}class i2{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),l=r2(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),h=`${o}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${d}`;let p=()=>{};const g=new Promise(A=>{p=A}),y=e.callbacks,C=function(){p({})},S=this.apiClient,w={onopen:C,onmessage:A=>{n2(S,y.onmessage,A)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(A){},onclose:(i=y==null?void 0:y.onclose)!==null&&i!==void 0?i:function(A){}},b=this.webSocketFactory.create(h,s2(l),w);b.connect(),await g;const N=Me(this.apiClient,e.model),M=fy({model:N}),I=Dc({setup:M});return b.send(JSON.stringify(I)),new o2(b,this.apiClient)}}class o2{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Bb(e),i=hy(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=zb(e),i=Dc(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=Dc({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(fo.PLAY)}pause(){this.sendPlaybackControl(fo.PAUSE)}stop(){this.sendPlaybackControl(fo.STOP)}resetContext(){this.sendPlaybackControl(fo.RESET_CONTEXT)}close(){this.conn.close()}}function s2(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function r2(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function l2(t,e,n){const i=new MT;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const r=JSON.parse(o);if(t.isVertexAI()){const l=iE(r);Object.assign(i,l)}else{const l=DN(r);Object.assign(i,l)}e(i)}class u2{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new i2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,r,l,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let g;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&yy(e.config.tools)&&vy(y);const C=h2(y);if(this.apiClient.isVertexAI())g=`${h}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const O=this.apiClient.getApiKey();let Q="BidiGenerateContent",K="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Q="BidiGenerateContentConstrained",K="access_token"),g=`${h}/ws/google.ai.generativelanguage.${p}.GenerativeService.${Q}?${K}=${O}`}let S=()=>{};const w=new Promise(O=>{S=O}),b=e.callbacks,N=function(){var O;(O=b==null?void 0:b.onopen)===null||O===void 0||O.call(b),S({})},M=this.apiClient,I={onopen:N,onmessage:O=>{l2(M,b.onmessage,O)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(O){},onclose:(i=b==null?void 0:b.onclose)!==null&&i!==void 0?i:function(O){}},A=this.webSocketFactory.create(g,f2(C),I);A.connect(),await w;let D=Me(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const O=this.apiClient.getProject(),Q=this.apiClient.getLocation();D=`projects/${O}/locations/${Q}/`+D}let L={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ra.AUDIO]}:e.config.responseModalities=[Ra.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const z=(d=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&d!==void 0?d:[],$=[];for(const O of z)if(this.isCallableTool(O)){const Q=O;$.push(await Q.tool())}else $.push(O);$.length>0&&(e.config.tools=$);const B={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=mN(this.apiClient,B):L=Fb(this.apiClient,B),delete L.config,A.send(JSON.stringify(L)),new d2(A,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const c2={turnComplete:!0};class d2{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=zt(n.turns),e.isVertexAI()?i=i.map(o=>ko(o)):i=i.map(o=>el(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const r of i){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(a2)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},c2),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:yN(e)}:n={realtimeInput:jb(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function f2(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function h2(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xm=10;function Zm(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(xo(l)){o=!0;break}if(!o)return!0;const r=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function xo(t){return"callTool"in t&&typeof t.callTool=="function"}function p2(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>xo(o)))!==null&&i!==void 0?i:!1}function m2(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!xo(o)))!==null&&i!==void 0?i:!1}function eg(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g2 extends Ai{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,r,l,d;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!p2(n)||Zm(n.config))return await this.generateContentInternal(h);if(m2(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,g;const y=zt(h.contents),C=(r=(o=(i=h.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Xm;let S=0;for(;S<C&&(p=await this.generateContentInternal(h),!(!p.functionCalls||p.functionCalls.length===0));){const w=p.candidates[0].content,b=[];for(const N of(d=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&d!==void 0?d:[])if(xo(N)){const I=await N.callTool(p.functionCalls);b.push(...I)}S++,g={role:"user",parts:b},h.contents=zt(h.contents),h.contents.push(w),h.contents.push(g),eg(h.config)&&(y.push(w),y.push(g))}return eg(h.config)&&(p.automaticFunctionCallingHistory=y),p},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Zm(n.config)){const i=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let r;const l=[];if(i!=null&&i.generatedImages)for(const h of i.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((o=h==null?void 0:h.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?r=h==null?void 0:h.safetyAttributes:l.push(h);let d;return r?d={generatedImages:l,positivePromptSafetyAttributes:r,sdkHttpResponse:i.sdkHttpResponse}:d={generatedImages:l,sdkHttpResponse:i.sdkHttpResponse},d}),this.list=async n=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Ws(ki.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(l),l)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>await this.generateVideosInternal(n)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const r=(n=e.config)===null||n===void 0?void 0:n.tools;if(!r)return e;const l=await Promise.all(r.map(async h=>xo(h)?await h.tool():h)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(d.config.tools=l,e.config&&e.config.tools&&yy(e.config.tools)){const h=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let p=Object.assign({},h);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),vy(p),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return d}async initAfcToolsMap(e){var n,i,o;const r=new Map;for(const l of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(xo(l)){const d=l,h=await d.tool();for(const p of(o=h.functionDeclarations)!==null&&o!==void 0?o:[]){if(!p.name)throw new Error("Function declaration name is required.");if(r.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);r.set(p.name,d)}}return r}async processAfcStream(e){var n,i,o;const r=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Xm;let l=!1,d=0;const h=await this.initAfcToolsMap(e);return(function(p,g,y){var C,S;return go(this,arguments,function*(){for(var w,b,N,M;d<r;){l&&(d++,l=!1);const L=yield Ve(p.processParamsMaybeAddMcpUsage(y)),z=yield Ve(p.generateContentStreamInternal(L)),$=[],B=[];try{for(var I=!0,A=(b=void 0,Is(z)),D;D=yield Ve(A.next()),w=D.done,!w;I=!0){M=D.value,I=!1;const O=M;if(yield yield Ve(O),O.candidates&&(!((C=O.candidates[0])===null||C===void 0)&&C.content)){B.push(O.candidates[0].content);for(const Q of(S=O.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(d<r&&Q.functionCall){if(!Q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(Q.functionCall.name)){const K=yield Ve(g.get(Q.functionCall.name).callTool([Q.functionCall]));$.push(...K)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${Q.functionCall.name}`)}}}}catch(O){b={error:O}}finally{try{!I&&!w&&(N=A.return)&&(yield Ve(N.call(A)))}finally{if(b)throw b.error}}if($.length>0){l=!0;const O=new Cs;O.candidates=[{content:{role:"user",parts:$}}],yield yield Ve(O);const Q=[];Q.push(...B),Q.push({role:"user",parts:$});const K=zt(y.contents).concat(Q);y.contents=K}else break}})})(this,h,e)}async generateContentInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Wm(this.apiClient,e);return d=re("{model}:generateContent",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=Ym(g),C=new Cs;return Object.assign(C,y),C})}else{const p=Gm(this.apiClient,e);return d=re("{model}:generateContent",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=Jm(g),C=new Cs;return Object.assign(C,y),C})}}async generateContentStreamInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Wm(this.apiClient,e);return d=re("{model}:streamGenerateContent?alt=sse",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.requestStream({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(y){return go(this,arguments,function*(){var C,S,w,b;try{for(var N=!0,M=Is(y),I;I=yield Ve(M.next()),C=I.done,!C;N=!0){b=I.value,N=!1;const A=b,D=Ym(yield Ve(A.json()));D.sdkHttpResponse={headers:A.headers};const L=new Cs;Object.assign(L,D),yield yield Ve(L)}}catch(A){S={error:A}}finally{try{!N&&!C&&(w=M.return)&&(yield Ve(w.call(M)))}finally{if(S)throw S.error}}})})}else{const p=Gm(this.apiClient,e);return d=re("{model}:streamGenerateContent?alt=sse",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.requestStream({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(y){return go(this,arguments,function*(){var C,S,w,b;try{for(var N=!0,M=Is(y),I;I=yield Ve(M.next()),C=I.done,!C;N=!0){b=I.value,N=!1;const A=b,D=Jm(yield Ve(A.json()));D.sdkHttpResponse={headers:A.headers};const L=new Cs;Object.assign(L,D),yield yield Ve(L)}}catch(A){S={error:A}}finally{try{!N&&!C&&(w=M.return)&&(yield Ve(w.call(M)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=xk(this.apiClient,e);return d=re("{model}:predict",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=NM(g),C=new bm;return Object.assign(C,y),C})}else{const p=ME(this.apiClient,e);return d=re("{model}:batchEmbedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=nM(g),C=new bm;return Object.assign(C,y),C})}}async generateImagesInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=vk(this.apiClient,e);return d=re("{model}:predict",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=kM(g),C=new Nm;return Object.assign(C,y),C})}else{const p=IE(this.apiClient,e);return d=re("{model}:predict",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=sM(g),C=new Nm;return Object.assign(C,y),C})}}async editImageInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const d=Nk(this.apiClient,e);return r=re("{model}:predict",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const p=MM(h),g=new ST;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const d=kk(this.apiClient,e);return r=re("{model}:predict",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const p=PM(h),g=new TT;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const d=Ak(this.apiClient,e);return r=re("{model}:predict",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const p=IM(h),g=new wT;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Rk(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>Fc(g))}else{const p=AE(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>Lc(g))}}async listInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Lk(this.apiClient,e);return d=re("{models_url}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=LM(g),C=new Em;return Object.assign(C,y),C})}else{const p=DE(this.apiClient,e);return d=re("{models_url}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=aM(g),C=new Em;return Object.assign(C,y),C})}}async update(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Uk(this.apiClient,e);return d=re("{model}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>Fc(g))}else{const p=FE(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>Lc(g))}}async delete(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Vk(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(()=>{const g=FM(),y=new km;return Object.assign(y,g),y})}else{const p=UE(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(()=>{const g=lM(),y=new km;return Object.assign(y,g),y})}}async countTokens(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Bk(this.apiClient,e);return d=re("{model}:countTokens",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=UM(g),C=new Mm;return Object.assign(C,y),C})}else{const p=jE(this.apiClient,e);return d=re("{model}:countTokens",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=uM(g),C=new Mm;return Object.assign(C,y),C})}}async computeTokens(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const d=zk(this.apiClient,e);return r=re("{model}:computeTokens",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const p=VM(h),g=new bT;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=$k(this.apiClient,e);return d=re("{model}:predictLongRunning",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l.then(g=>{const y=OM(g),C=new Da;return Object.assign(C,y),C})}else{const p=OE(this.apiClient,e);return d=re("{model}:predictLongRunning",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>{const y=hM(g),C=new Da;return Object.assign(C,y),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x2(t){const e={},n=u(t,["operationName"]);n!=null&&c(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function y2(t){const e={},n=u(t,["operationName"]);n!=null&&c(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function v2(t){const e={},n=u(t,["operationName"]);n!=null&&c(e,["operationName"],n);const i=u(t,["resourceName"]);i!=null&&c(e,["_url","resourceName"],i);const o=u(t,["config"]);return o!=null&&c(e,["config"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C2 extends Ai{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let r;i&&"httpOptions"in i&&(r=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let r;i&&"httpOptions"in i&&(r=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=y2(e);return d=re("{operationName}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),l}else{const p=x2(e);return d=re("{operationName}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l}}async fetchPredictVideosOperationInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const d=v2(e);return r=re("{resourceName}:fetchPredictOperation",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _2(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function Cy(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],_2(n)),e}function S2(t){const e={},n=u(t,["speaker"]);n!=null&&c(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&c(e,["voiceConfig"],Cy(i)),e}function T2(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>S2(o))),c(e,["speakerVoiceConfigs"],i)}return e}function w2(t){const e={},n=u(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],Cy(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&c(e,["multiSpeakerVoiceConfig"],T2(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function b2(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function N2(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function E2(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function k2(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],b2(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],N2(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],E2(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const y=u(t,["text"]);return y!=null&&c(e,["text"],y),e}function M2(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>k2(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function P2(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&c(e,["parametersJsonSchema"],l);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function I2(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function A2(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],I2(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function R2(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function D2(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],R2(n)),e}function L2(){return{}}function F2(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function U2(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>P2(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],A2(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],D2(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],L2());const l=u(t,["computerUse"]);l!=null&&c(e,["computerUse"],F2(l));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function V2(t){const e={},n=u(t,["handle"]);if(n!=null&&c(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function tg(){return{}}function j2(t){const e={},n=u(t,["disabled"]);n!=null&&c(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&c(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&c(e,["endOfSpeechSensitivity"],o);const r=u(t,["prefixPaddingMs"]);r!=null&&c(e,["prefixPaddingMs"],r);const l=u(t,["silenceDurationMs"]);return l!=null&&c(e,["silenceDurationMs"],l),e}function B2(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&c(e,["automaticActivityDetection"],j2(n));const i=u(t,["activityHandling"]);i!=null&&c(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&c(e,["turnCoverage"],o),e}function z2(t){const e={},n=u(t,["targetTokens"]);return n!=null&&c(e,["targetTokens"],n),e}function O2(t){const e={},n=u(t,["triggerTokens"]);n!=null&&c(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&c(e,["slidingWindow"],z2(i)),e}function H2(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&c(e,["proactiveAudio"],n),e}function $2(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","responseModalities"],o);const r=u(t,["temperature"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","temperature"],r);const l=u(t,["topP"]);e!==void 0&&l!=null&&c(e,["setup","generationConfig","topP"],l);const d=u(t,["topK"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","topK"],d);const h=u(t,["maxOutputTokens"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","maxOutputTokens"],h);const p=u(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const g=u(t,["seed"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","seed"],g);const y=u(t,["speechConfig"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","speechConfig"],w2(id(y)));const C=u(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],C);const S=u(t,["systemInstruction"]);e!==void 0&&S!=null&&c(e,["setup","systemInstruction"],M2(pt(S)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let L=No(w);Array.isArray(L)&&(L=L.map(z=>U2(bo(z)))),c(e,["setup","tools"],L)}const b=u(t,["sessionResumption"]);e!==void 0&&b!=null&&c(e,["setup","sessionResumption"],V2(b));const N=u(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&c(e,["setup","inputAudioTranscription"],tg());const M=u(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&c(e,["setup","outputAudioTranscription"],tg());const I=u(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&c(e,["setup","realtimeInputConfig"],B2(I));const A=u(t,["contextWindowCompression"]);e!==void 0&&A!=null&&c(e,["setup","contextWindowCompression"],O2(A));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&c(e,["setup","proactivity"],H2(D)),n}function q2(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["setup","model"],Me(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],$2(o,n)),n}function G2(t,e,n){const i={},o=u(e,["expireTime"]);n!==void 0&&o!=null&&c(n,["expireTime"],o);const r=u(e,["newSessionExpireTime"]);n!==void 0&&r!=null&&c(n,["newSessionExpireTime"],r);const l=u(e,["uses"]);n!==void 0&&l!=null&&c(n,["uses"],l);const d=u(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&c(n,["bidiGenerateContentSetup"],q2(t,d));const h=u(e,["lockAdditionalFields"]);return n!==void 0&&h!=null&&c(n,["fieldMask"],h),i}function W2(t,e){const n={},i=u(e,["config"]);return i!=null&&c(n,["config"],G2(t,i,n)),n}function J2(t){const e={},n=u(t,["name"]);return n!=null&&c(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y2(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(r=>`${n}.${r}`);e.push(...o)}else e.push(n)}return e.join(",")}function K2(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const r=i.setup;typeof r=="object"&&r!==null?(t.bidiGenerateContentSetup=r,n=r):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const r=Y2(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?t.fieldMask=r:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];o.length>0&&(d=o.map(p=>l.includes(p)?`generationConfig.${p}`:p));const h=[];r&&h.push(r),d.length>0&&h.push(...d),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class Q2 extends Ai{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=W2(this.apiClient,e);r=re("auth_tokens",d._url),l=d._query,delete d.config,delete d._url,delete d._query;const h=K2(d,e.config);return o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>J2(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X2(t){const e={},n=u(t,["name"]);n!=null&&c(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function Z2(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&c(e,["_query","pageToken"],o);const r=u(t,["filter"]);return e!==void 0&&r!=null&&c(e,["_query","filter"],r),n}function eP(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],Z2(n,e)),e}function tP(t){const e={},n=u(t,["textInput"]);n!=null&&c(e,["textInput"],n);const i=u(t,["output"]);return i!=null&&c(e,["output"],i),e}function nP(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=u(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tP(o))),c(e,["examples","examples"],i)}return e}function iP(t,e){const n={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=u(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&c(e,["displayName"],i),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=u(t,["epochCount"]);e!==void 0&&o!=null&&c(e,["tuningTask","hyperparameters","epochCount"],o);const r=u(t,["learningRateMultiplier"]);if(r!=null&&c(n,["tuningTask","hyperparameters","learningRateMultiplier"],r),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=u(t,["batchSize"]);e!==void 0&&l!=null&&c(e,["tuningTask","hyperparameters","batchSize"],l);const d=u(t,["learningRate"]);return e!==void 0&&d!=null&&c(e,["tuningTask","hyperparameters","learningRate"],d),n}function oP(t){const e={},n=u(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const i=u(t,["preTunedModel"]);i!=null&&c(e,["preTunedModel"],i);const o=u(t,["trainingDataset"]);o!=null&&c(e,["tuningTask","trainingData"],nP(o));const r=u(t,["config"]);return r!=null&&c(e,["config"],iP(r,e)),e}function sP(t){const e={},n=u(t,["name"]);n!=null&&c(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function rP(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&c(e,["_query","pageToken"],o);const r=u(t,["filter"]);return e!==void 0&&r!=null&&c(e,["_query","filter"],r),n}function aP(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],rP(n,e)),e}function lP(t,e){const n={},i=u(t,["gcsUri"]);e!==void 0&&i!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],i);const o=u(t,["vertexDatasetResource"]);if(e!==void 0&&o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],o),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function uP(t,e){const n={},i=u(t,["gcsUri"]);i!=null&&c(n,["validationDatasetUri"],i);const o=u(t,["vertexDatasetResource"]);return e!==void 0&&o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],o),n}function cP(t,e){const n={},i=u(t,["validationDataset"]);e!==void 0&&i!=null&&c(e,["supervisedTuningSpec"],uP(i,n));const o=u(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&c(e,["tunedModelDisplayName"],o);const r=u(t,["description"]);e!==void 0&&r!=null&&c(e,["description"],r);const l=u(t,["epochCount"]);e!==void 0&&l!=null&&c(e,["supervisedTuningSpec","hyperParameters","epochCount"],l);const d=u(t,["learningRateMultiplier"]);e!==void 0&&d!=null&&c(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const h=u(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&c(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h);const p=u(t,["preTunedModelCheckpointId"]);p!=null&&c(n,["preTunedModel","checkpointId"],p);const g=u(t,["adapterSize"]);if(e!==void 0&&g!=null&&c(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function dP(t){const e={},n=u(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const i=u(t,["preTunedModel"]);i!=null&&c(e,["preTunedModel"],i);const o=u(t,["trainingDataset"]);o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],lP(o,e));const r=u(t,["config"]);return r!=null&&c(e,["config"],cP(r,e)),e}function fP(t){const e={},n=u(t,["name"]);n!=null&&c(e,["model"],n);const i=u(t,["name"]);return i!=null&&c(e,["endpoint"],i),e}function _y(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["state"]);o!=null&&c(e,["state"],Xx(o));const r=u(t,["createTime"]);r!=null&&c(e,["createTime"],r);const l=u(t,["tuningTask","startTime"]);l!=null&&c(e,["startTime"],l);const d=u(t,["tuningTask","completeTime"]);d!=null&&c(e,["endTime"],d);const h=u(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const p=u(t,["description"]);p!=null&&c(e,["description"],p);const g=u(t,["baseModel"]);g!=null&&c(e,["baseModel"],g);const y=u(t,["_self"]);y!=null&&c(e,["tunedModel"],fP(y));const C=u(t,["customBaseModel"]);C!=null&&c(e,["customBaseModel"],C);const S=u(t,["experiment"]);S!=null&&c(e,["experiment"],S);const w=u(t,["labels"]);w!=null&&c(e,["labels"],w);const b=u(t,["outputUri"]);b!=null&&c(e,["outputUri"],b);const N=u(t,["pipelineJob"]);N!=null&&c(e,["pipelineJob"],N);const M=u(t,["serviceAccount"]);M!=null&&c(e,["serviceAccount"],M);const I=u(t,["tunedModelDisplayName"]);return I!=null&&c(e,["tunedModelDisplayName"],I),e}function hP(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["tunedModels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>_y(l))),c(e,["tuningJobs"],r)}return e}function pP(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["metadata"]);o!=null&&c(e,["metadata"],o);const r=u(t,["done"]);r!=null&&c(e,["done"],r);const l=u(t,["error"]);return l!=null&&c(e,["error"],l),e}function mP(t){const e={},n=u(t,["checkpointId"]);n!=null&&c(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&c(e,["epoch"],i);const o=u(t,["step"]);o!=null&&c(e,["step"],o);const r=u(t,["endpoint"]);return r!=null&&c(e,["endpoint"],r),e}function gP(t){const e={},n=u(t,["model"]);n!=null&&c(e,["model"],n);const i=u(t,["endpoint"]);i!=null&&c(e,["endpoint"],i);const o=u(t,["checkpoints"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>mP(l))),c(e,["checkpoints"],r)}return e}function Vc(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["state"]);o!=null&&c(e,["state"],Xx(o));const r=u(t,["createTime"]);r!=null&&c(e,["createTime"],r);const l=u(t,["startTime"]);l!=null&&c(e,["startTime"],l);const d=u(t,["endTime"]);d!=null&&c(e,["endTime"],d);const h=u(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const p=u(t,["error"]);p!=null&&c(e,["error"],p);const g=u(t,["description"]);g!=null&&c(e,["description"],g);const y=u(t,["baseModel"]);y!=null&&c(e,["baseModel"],y);const C=u(t,["tunedModel"]);C!=null&&c(e,["tunedModel"],gP(C));const S=u(t,["preTunedModel"]);S!=null&&c(e,["preTunedModel"],S);const w=u(t,["supervisedTuningSpec"]);w!=null&&c(e,["supervisedTuningSpec"],w);const b=u(t,["tuningDataStats"]);b!=null&&c(e,["tuningDataStats"],b);const N=u(t,["encryptionSpec"]);N!=null&&c(e,["encryptionSpec"],N);const M=u(t,["partnerModelTuningSpec"]);M!=null&&c(e,["partnerModelTuningSpec"],M);const I=u(t,["customBaseModel"]);I!=null&&c(e,["customBaseModel"],I);const A=u(t,["experiment"]);A!=null&&c(e,["experiment"],A);const D=u(t,["labels"]);D!=null&&c(e,["labels"],D);const L=u(t,["outputUri"]);L!=null&&c(e,["outputUri"],L);const z=u(t,["pipelineJob"]);z!=null&&c(e,["pipelineJob"],z);const $=u(t,["serviceAccount"]);$!=null&&c(e,["serviceAccount"],$);const B=u(t,["tunedModelDisplayName"]);return B!=null&&c(e,["tunedModelDisplayName"],B),e}function xP(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["tuningJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Vc(l))),c(e,["tuningJobs"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yP extends Ai{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ws(ki.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel},o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let r="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?r=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(r=o.name.split("/operations/")[0]),{name:r,state:kc.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=sP(e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>Vc(g))}else{const p=X2(e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>_y(g))}}async listInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=aP(e);return d=re("tuningJobs",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=xP(g),C=new Im;return Object.assign(C,y),C})}else{const p=eP(e);return d=re("tunedModels",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(y=>{const C=y;return C.sdkHttpResponse={headers:g.headers},C})),l.then(g=>{const y=hP(g),C=new Im;return Object.assign(C,y),C})}}async tuneInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const d=dP(e);return r=re("tuningJobs",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>Vc(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=oP(e);return r=re("tunedModels",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>pP(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vP{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const CP=1024*1024*8,_P=3,SP=1e3,TP=2,rc="x-goog-upload-status";async function wP(t,e,n){var i,o,r;let l=0,d=0,h=new Mc(new Response),p="upload";for(l=t.size;d<l;){const y=Math.min(CP,l-d),C=t.slice(d,d+y);d+y>=l&&(p+=", finalize");let S=0,w=SP;for(;S<_P&&(h=await n.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(d),"Content-Length":String(y)}}}),!(!((i=h==null?void 0:h.headers)===null||i===void 0)&&i[rc]));)S++,await NP(w),w=w*TP;if(d+=y,((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o[rc])!=="active")break;if(l<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const g=await(h==null?void 0:h.json());if(((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[rc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return g.file}async function bP(t){return{size:t.size,type:t.type}}function NP(t){return new Promise(e=>setTimeout(e,t))}class EP{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wP(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await bP(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kP{create(e,n,i){return new MP(e,n,i)}}class MP{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ng="x-goog-api-key";class PP{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(ng)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ng,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IP="gl-node/";class AP{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=_T(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new PP(this.apiKey);this.apiClient=new KM({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:IP+"web",uploader:new EP,downloader:new vP}),this.models=new g2(this.apiClient),this.live=new u2(this.apiClient,o,new kP),this.batches=new Gw(this.apiClient),this.chats=new X1(this.models,this.apiClient),this.caches=new Y1(this.apiClient),this.files=new db(this.apiClient),this.operations=new C2(this.apiClient),this.authTokens=new Q2(this.apiClient),this.tunings=new yP(this.apiClient)}}const RP="AIzaSyCIO_I4T5g_bTXZDFvHcPvQwO6z2VyIitE",sd=new AP({apiKey:RP}),DP=async(t,e)=>{const n=`Você é um guia turístico amigável e experiente de Caçapava do Sul, Brasil. Um turista está visitando "${t}" e tem uma pergunta. Responda de forma concisa, útil e calorosa. Pergunta: "${e}"`;try{return await sd.models.generateContentStream({model:"gemini-2.5-flash",contents:n})}catch(i){console.error("Error calling Gemini API (askAIGuideStream):",i);const o=`Desculpe, meu cérebro de IA está offline no momento. Mas tenho certeza que ${t} é incrível! Tente perguntar a um guia local.`;async function*r(){for(const l of o.split(" "))await new Promise(d=>setTimeout(d,50)),yield{text:l+" "}}return r()}},LP=async t=>{const e=r=>{const l=r.name.toLowerCase();return l.includes("pedra")||l.includes("guaritas")||l.includes("cascata")?"Natureza, Aventura":l.includes("forte")||l.includes("igreja")||l.includes("casa de ulhôa")?"História, Cultura Local":l.includes("minas")?"História, Aventura":l.includes("churrascaria")||l.includes("doçaria")?"Gastronomia":"Geral"},o=`
        Você é um guia turístico especialista e criativo para a cidade de Caçapava do Sul, no Brasil.
        Sua tarefa é criar um roteiro de viagem personalizado e detalhado, baseado nas preferências de um turista.

        **Contexto - Pontos de Interesse Disponíveis:**
        Aqui está uma lista dos pontos de interesse em Caçapava do Sul que você DEVE usar como base para suas recomendações. Não invente lugares que não estão nesta lista.
        ${(await xe.getPointsOfInterest()).map(r=>`- ${r.name}: ${r.description} (Tipo: ${e(r)})`).join(`
`)}

        **Preferências do Turista:**
        - **Duração da Viagem:** ${t.duration}
        - **Principais Interesses:** ${t.interests.join(", ")}
        - **Ritmo Desejado:** ${t.pace}
        - **Observações Adicionais:** ${t.notes||"Nenhuma."}

        **Sua Tarefa:**
        1.  Crie um roteiro dia a dia, se a duração for maior que um dia.
        2.  Use os pontos de interesse da lista fornecida que melhor se encaixam nos interesses do turista.
        3.  Organize as atividades de forma lógica (manhã, tarde, noite) e considere o ritmo solicitado.
        4.  Para cada sugestão, escreva um parágrafo curto e envolvente, explicando por que o local é uma boa escolha e o que o turista pode fazer lá.
        5.  O tom deve ser amigável, acolhedor e inspirador.
        6.  Retorne a resposta em formato **Markdown**, usando títulos (##, ###) para os dias e negrito (**) para os nomes dos locais.

        Comece o roteiro com um título criativo.
    `;try{return(await sd.models.generateContent({model:"gemini-2.5-flash",contents:o})).text}catch(r){return console.error("Error calling Gemini API for itinerary:",r),`Modo de demonstração: A API do Gemini não está configurada ou a chamada falhou. Aqui está um exemplo de roteiro:

### Dia 1: Aventura e Natureza

**Manhã:**
- **Pedra do Segredo:** Comece o dia com uma trilha leve e aprecie a vista incrível deste famoso ponto turístico.

**Tarde:**
- **Guaritas:** Explore as formações rochosas que parecem castelos. Ótimo para fotos!

**Noite:**
- **Churrascaria Rodeio:** Termine o dia com um autêntico churrasco gaúcho.`}},FP=async(t,e)=>{const i=(await xe.getPointsOfInterest()).map(d=>`- ${d.name}: ${d.description}`).join(`
`),r=(await Promise.all(e.visited.map(d=>xe.getPointOfInterestById(d.pointId)))).filter(d=>d!==null).map(d=>d.name).join(", "),l=`
        Você é 'Cacá', o assistente virtual amigável e especialista do aplicativo "Visite Caçapava do Sul".
        Sua personalidade é calorosa, prestativa e um pouco divertida.
        Seu objetivo é ajudar os turistas a aproveitarem ao máximo a cidade e o aplicativo.

        **Seu Conhecimento:**
        1.  **Sobre a Cidade:** Você conhece todos os pontos turísticos listados abaixo. Use essa lista como sua única fonte de verdade para locais. Não invente lugares.
        2.  **Sobre o App:** Você entende o sistema de gamificação (pontos, badges, ranking). Check-in em um local dá pontos. Completar rotas e visitar locais específicos dá badges (conquistas).
        3.  **Sobre o Usuário:** Você está conversando com ${e.name}. Ele(a) tem ${e.points} pontos e já visitou os seguintes locais: ${r||"Nenhum"}. Use essa informação para personalizar suas respostas.
        4.  **Navegação:** Quando recomendar locais, SEMPRE mencione que o usuário pode usar o botão "Como Chegar" para navegar com Waze ou Google Maps.
        5.  **Funcionalidades do App:**
           - Seção "Atrações": Todos os pontos turísticos categorizados (natureza, história, gastronomia)
           - Seção "Restaurantes": Locais para comer com sistema de avaliações
           - Seção "Azeites": Produtores locais premiados internacionalmente (mais de 300 prêmios!)
           - Sistema de Pontos: Ganha pontos visitando locais e fazendo check-in
           - Assistente Virtual (você!): Sempre disponível para ajudar

        **Lista de Pontos Turísticos Disponíveis:**
        ${i}

        **Informações Especiais sobre Caçapava do Sul:**
        - Famosa pelos azeites premiados (mais de 300 prêmios internacionais!)
        - Patrimônio geológico único (Guaritas do Camaquã)
        - Rica tradição gaúcha e história militar
        - Produtores de azeite: Quinta do Vale, Olivas do Sul (ambos com tours disponíveis)

        **Regras de Conversa:**
        - Seja conciso e direto.
        - Use emojis para deixar a conversa mais leve. 😉
        - Sempre mencione navegação quando recomendar locais
        - Se perguntarem sobre restaurantes, mencione o sistema de avaliações
        - Se perguntarem sobre azeites, destaque os prêmios internacionais
        - Se não souber a resposta, admita e sugira onde o usuário pode encontrar a informação.
        - Sempre incentive o usuário a explorar a cidade.
    `;try{return(await sd.models.generateContent({model:"gemini-2.5-flash",contents:t,config:{systemInstruction:l}})).text}catch(d){return console.error("Error calling Gemini API for chat:",d),"Desculpe, meu cérebro de IA está offline. Não consigo conversar agora."}},UP=()=>{const{currentUser:t}=qs(),[e,n]=k.useState(!1),[i,o]=k.useState(!1),[r,l]=k.useState(""),[d,h]=k.useState([]),p=k.useRef(null),g={role:"model",parts:[{text:`Olá, ${(t==null?void 0:t.name)||"explorador"}! 👋 Sou Cacá, seu assistente virtual. Como posso ajudar você a descobrir Caçapava do Sul hoje?`}]};k.useEffect(()=>{e&&d.length===0&&h([g])},[e,t]),k.useEffect(()=>{var S;(S=p.current)==null||S.scrollIntoView({behavior:"smooth"})},[d]);const y=async S=>{const w=S||r;if(!w.trim()||i||!t)return;const b={role:"user",parts:[{text:w}]},N=[...d,b];h(N),l(""),o(!0);try{const I={role:"model",parts:[{text:await FP(N,t)}]};h(A=>[...A,I])}catch{const I={role:"model",parts:[{text:"Desculpe, estou com problemas para me conectar. Tente novamente."}]};h(A=>[...A,I])}finally{o(!1)}},C=["Onde posso almoçar?","Qual o lugar mais legal para fotos?","Como ganho mais pontos?"];return t?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>n(!0),className:"fixed bottom-6 right-6 bg-brand-green text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center transform hover:scale-110 transition-transform z-40","aria-label":"Abrir assistente virtual",children:m.jsx(Ka,{size:32})}),m.jsxs("div",{className:`fixed inset-0 z-50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,children:[m.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>n(!1)}),m.jsxs("div",{className:`absolute bottom-0 right-0 mb-6 mr-6 w-full max-w-md bg-brand-beige rounded-2xl shadow-2xl flex flex-col transition-transform duration-300 ${e?"translate-y-0":"translate-y-10"}`,children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-brand-light-green/20",children:[m.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[m.jsx(qx,{className:"text-brand-green"})," Assistente Virtual Cacá"]}),m.jsx("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-brand-dark-green",children:m.jsx(Xa,{size:24})})]}),m.jsxs("div",{className:"flex-1 p-4 overflow-y-auto h-96 space-y-4",children:[d.map((S,w)=>m.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:m.jsx("div",{className:`max-w-xs md:max-w-sm rounded-2xl px-4 py-2 ${S.role==="user"?"bg-brand-green text-white rounded-br-none":"bg-white text-brand-dark-green rounded-bl-none"}`,children:m.jsx("p",{className:"text-sm whitespace-pre-wrap",children:S.parts[0].text})})},w)),i&&m.jsx("div",{className:"flex justify-start",children:m.jsx("div",{className:"max-w-xs md:max-w-sm rounded-2xl px-4 py-2 bg-white text-brand-dark-green rounded-bl-none",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse"}),m.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse delay-75"}),m.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse delay-150"})]})})}),m.jsx("div",{ref:p})]}),d.length<=1&&m.jsx("div",{className:"px-4 pb-2 flex flex-wrap gap-2",children:C.map(S=>m.jsx("button",{onClick:()=>y(S),className:"text-xs bg-white border border-gray-300 rounded-full px-3 py-1 hover:bg-brand-light-green/20",children:S},S))}),m.jsx("div",{className:"p-4 border-t border-brand-light-green/20",children:m.jsxs("form",{onSubmit:S=>{S.preventDefault(),y()},className:"flex gap-2",children:[m.jsx("input",{type:"text",value:r,onChange:S=>l(S.target.value),placeholder:"Pergunte algo...",className:"flex-grow p-2 border rounded-full text-sm focus:ring-brand-green focus:border-brand-green"}),m.jsx("button",{type:"submit",disabled:i,className:"bg-brand-green text-white rounded-full p-2.5 hover:bg-brand-dark-green disabled:bg-gray-400",children:m.jsx(Xc,{size:18})})]})})]})]})]}):null},ig=({mobile:t=!1})=>{const e=cn(),n=i=>{const o=e.pathname===i;return t?`block px-4 py-3 text-lg rounded-md transition-colors ${o?"bg-green-100 text-green-600 font-semibold":"text-slate-700 hover:bg-slate-100"}`:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${o?"bg-green-100 text-green-600":"text-slate-600 hover:bg-slate-100"}`};return m.jsxs(m.Fragment,{children:[m.jsx(Ye,{to:"/",className:n("/"),end:!0,children:"Início"}),m.jsx(Ye,{to:"/routes",className:n("/routes"),children:"Rotas"}),m.jsx(Ye,{to:"/attractions",className:n("/attractions"),children:"Atrações"}),m.jsx(Ye,{to:"/restaurants",className:n("/restaurants"),children:"Restaurantes"}),m.jsx(Ye,{to:"/olive-oils",className:n("/olive-oils"),children:"Azeites"}),m.jsx(Ye,{to:"/itinerary",className:n("/itinerary"),children:"Roteiro IA"}),m.jsx(Ye,{to:"/challenges",className:n("/challenges"),children:"Desafios"}),m.jsx(Ye,{to:"/gallery",className:n("/gallery"),children:"Galeria"}),m.jsx(Ye,{to:"/about",className:n("/about"),children:"A Cidade"}),m.jsx(Ye,{to:"/leaderboard",className:n("/leaderboard"),children:"Ranking"})]})},VP=()=>{const{user:t}=dn(),[e,n]=k.useState(!1);return m.jsxs("header",{className:"fixed top-0 left-0 right-0 bg-white/90 backdrop-blur-sm shadow-sm z-50 border-b border-slate-200/80",children:[m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"flex justify-between items-center h-20",children:[m.jsxs(Ye,{to:"/",className:"flex items-center gap-2 text-brand-dark-green",children:[m.jsx("div",{className:"w-10 h-10",children:m.jsx(Gs,{})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-display tracking-wider text-xl leading-none",children:"VISITE"}),m.jsx("div",{className:"font-black text-2xl leading-none -mt-1",children:"CAÇAPAVA"})]})]}),m.jsx("nav",{className:"hidden lg:flex items-center space-x-2",children:m.jsx(ig,{})}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs(Ye,{to:"/profile",className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-slate-100",children:[m.jsx("img",{src:t==null?void 0:t.avatarUrl,alt:"Avatar",className:"h-10 w-10 rounded-full border-2 border-green-500"}),m.jsxs("div",{className:"hidden sm:block text-right",children:[m.jsx("p",{className:"font-semibold text-slate-800 text-sm",children:t==null?void 0:t.name}),m.jsxs("p",{className:"text-xs text-amber-600 font-bold",children:[t==null?void 0:t.points," Pontos"]})]})]}),m.jsx("button",{onClick:()=>n(!e),className:"lg:hidden p-2 rounded-md text-slate-600 hover:bg-slate-100",children:e?m.jsx(Xa,{size:28}):m.jsx(VS,{size:28})})]})]})}),e&&m.jsx("div",{className:"lg:hidden bg-white border-t border-slate-200",children:m.jsx("nav",{className:"flex flex-col space-y-2 p-4",children:m.jsx(ig,{mobile:!0})})})]})},jP=({children:t})=>m.jsxs("div",{className:"bg-brand-beige min-h-screen",children:[m.jsx(VP,{}),m.jsx("main",{className:"container mx-auto px-4 pt-28 pb-12",children:t}),m.jsx(UP,{})]}),BP=({children:t})=>{const{user:e,logout:n}=dn(),i=ni();cn();const o=()=>{n(),i("/login")},r=({isActive:l})=>`flex items-center gap-4 px-4 py-3 rounded-r-lg text-base transition-colors duration-200 border-l-4 ${l?"bg-brand-light-green/20 text-brand-light-green font-semibold border-brand-light-green":"border-transparent hover:bg-slate-800 text-slate-400 hover:text-slate-300"}`;return m.jsxs("div",{className:"min-h-screen flex bg-slate-100 text-slate-800",children:[m.jsxs("aside",{className:"w-64 bg-slate-900 text-slate-400 flex flex-col shrink-0",children:[m.jsxs("div",{className:"flex items-center gap-3 h-24 mb-4 px-6 border-b border-slate-800",children:[m.jsx("div",{className:"w-10 h-10 text-brand-light-green",children:m.jsx(Gs,{})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold text-sm leading-none text-slate-500",children:"PAINEL"}),m.jsx("div",{className:"font-display tracking-wider text-xl leading-none text-white",children:"ADMIN"})]})]}),m.jsxs("nav",{className:"mt-6 space-y-1 px-4",children:[m.jsxs(Ye,{to:"/admin",className:r,end:!0,children:[m.jsx(SS,{size:20}),m.jsx("span",{children:"Dashboard"})]}),m.jsxs(Ye,{to:"/admin/routes",className:r,children:[m.jsx($x,{size:20}),m.jsx("span",{children:"Rotas"})]}),m.jsxs(Ye,{to:"/admin/pois",className:r,children:[m.jsx(Qt,{size:20}),m.jsx("span",{children:"Pontos de Interesse"})]}),m.jsxs(Ye,{to:"/admin/challenges",className:r,children:[m.jsx(Ei,{size:20}),m.jsx("span",{children:"Desafios"})]}),m.jsxs(Ye,{to:"/admin/tourists",className:r,children:[m.jsx(bi,{size:20}),m.jsx("span",{children:"Turistas"})]}),m.jsxs(Ye,{to:"/admin/hotel-analytics",className:r,children:[m.jsx(jx,{size:20}),m.jsx("span",{children:"Hotéis"})]}),m.jsxs(Ye,{to:"/admin/analytics",className:r,children:[m.jsx(Vx,{size:20}),m.jsx("span",{children:"Analytics"})]})]}),m.jsxs("div",{className:"mt-auto p-4 border-t border-slate-800",children:[m.jsxs("div",{className:"p-2 mb-2",children:[m.jsx("p",{className:"font-semibold text-white truncate",children:e==null?void 0:e.name}),m.jsx("p",{className:"text-sm opacity-70 truncate",children:e==null?void 0:e.email})]}),m.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center gap-3 px-4 py-3 rounded-lg text-base bg-slate-800 hover:bg-brand-red text-white transition-colors",children:[m.jsx(Bx,{size:20}),m.jsx("span",{children:"Sair"})]})]})]}),m.jsx("main",{className:"flex-grow p-6 lg:p-8 overflow-y-auto",children:t})]})},zP=({children:t})=>{const{user:e,logout:n}=dn(),i=ni(),o=()=>{n(),i("/login")},r=({isActive:l})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-lg transition-colors ${l?"bg-brand-green text-white":"hover:bg-brand-dark-green/10"}`;return m.jsxs("div",{className:"min-h-screen flex bg-gray-100",children:[m.jsxs("aside",{className:"w-64 bg-brand-dark-green text-brand-beige flex flex-col p-4",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-8 p-2",children:[m.jsx("div",{className:"w-10 h-10 text-brand-light-green",children:m.jsx(Gs,{})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold text-sm leading-none",children:"PORTAL"}),m.jsx("div",{className:"font-display tracking-wider text-lg leading-none",children:"HOTEL"})]})]}),m.jsxs("nav",{className:"flex-grow space-y-2",children:[m.jsxs(Ye,{to:"/hotel",end:!0,className:r,children:[m.jsx(NS,{size:22}),m.jsx("span",{children:"Dashboard"})]}),m.jsxs(Ye,{to:"/hotel/checkin",className:r,children:[m.jsx(dT,{size:22}),m.jsx("span",{children:"Check-in de Hóspede"})]})]}),m.jsxs("div",{className:"mt-auto",children:[m.jsxs("div",{className:"p-2 mb-2 border-t border-brand-green/20",children:[m.jsx("p",{className:"font-semibold",children:e==null?void 0:e.name}),m.jsx("p",{className:"text-sm opacity-70",children:e==null?void 0:e.email})]}),m.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-lg text-brand-beige hover:bg-brand-red/80 transition-colors",children:[m.jsx(Bx,{size:22}),m.jsx("span",{children:"Sair"})]})]})]}),m.jsx("main",{className:"flex-grow p-8 overflow-y-auto",children:t})]})},Sy=({route:t})=>{var o;const[e,n]=k.useState([]);k.useEffect(()=>{Promise.all(t.pointsOfInterest.map(r=>xe.getPointOfInterestById(r))).then(r=>n(r.filter(l=>!!l)))},[t]);const i=e.reduce((r,l)=>r+((l==null?void 0:l.points)||0),0);return m.jsxs(an,{to:`/routes/${t.id}`,className:"block bg-white rounded-2xl shadow-lg overflow-hidden group transform hover:-translate-y-2 transition-transform duration-300",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:t.imageUrl||((o=e[0])==null?void 0:o.imageUrl)||"https://picsum.photos/800/600",alt:t.name,className:"w-full h-48 object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),m.jsx("div",{className:"absolute bottom-0 left-0 p-4",children:m.jsx("h3",{className:"text-white text-2xl font-bold",children:t.name})}),m.jsxs("div",{className:"absolute top-4 right-4 bg-brand-light-green text-white text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[m.jsx(Qt,{size:14}),m.jsxs("span",{children:[e.length," paradas"]})]})]}),m.jsxs("div",{className:"p-4",children:[m.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),m.jsxs("div",{className:"flex justify-between items-center text-sm",children:[m.jsxs("span",{className:"font-semibold text-brand-green",children:[i," Pontos Totais"]}),m.jsx("span",{className:"font-bold text-brand-dark-green group-hover:text-brand-light-green transition-colors",children:"Ver Rota →"})]})]})]})},OP=()=>{const{currentUser:t}=qs(),[e,n]=k.useState([]),[i,o]=k.useState(!0);return k.useEffect(()=>{xe.getRoutes().then(r=>{n(r.slice(0,2)),o(!1)}).catch(r=>{console.error("Failed to fetch featured routes:",r),o(!1)})},[]),m.jsxs("div",{className:"space-y-16",children:[m.jsxs("section",{className:"relative text-center bg-brand-dark-green text-white rounded-3xl overflow-hidden py-20 px-4",children:[m.jsx("div",{className:"absolute inset-0 opacity-10 text-brand-green",children:m.jsx(Gs,{className:"w-full h-full"})}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("h1",{className:"font-display text-5xl md:text-7xl lg:text-8xl tracking-wider",children:"Explore. Conquiste."}),m.jsx("h2",{className:"font-black text-4xl md:text-6xl lg:text-7xl -mt-2 text-brand-light-green",children:"Caçapava do Sul"}),m.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-brand-beige",children:"Transforme sua visita em uma aventura inesquecível. Descubra rotas, complete desafios e ganhe recompensas!"}),m.jsx(an,{to:"/routes",className:"mt-8 inline-block bg-brand-light-green text-white font-bold py-3 px-8 rounded-full text-lg hover:bg-brand-green transition-transform transform hover:scale-105",children:"Começar a Explorar"})]})]}),m.jsxs("section",{className:"grid md:grid-cols-3 gap-8 text-center",children:[m.jsxs("div",{className:"bg-white/50 p-6 rounded-2xl shadow-sm",children:[m.jsx(lS,{className:"w-12 h-12 mx-auto text-brand-green"}),m.jsx("h3",{className:"font-bold text-xl mt-4",children:"Rotas Temáticas"}),m.jsx("p",{className:"mt-2 text-gray-600",children:"Siga roteiros criados para todos os gostos: natureza, história, gastronomia e mais."})]}),m.jsxs("div",{className:"bg-white/50 p-6 rounded-2xl shadow-sm",children:[m.jsx(ed,{className:"w-12 h-12 mx-auto text-brand-green"}),m.jsx("h3",{className:"font-bold text-xl mt-4",children:"Ganhe Pontos e Badges"}),m.jsx("p",{className:"mt-2 text-gray-600",children:"Faça check-in nos locais, complete desafios e colecione conquistas exclusivas."})]}),m.jsxs("div",{className:"bg-white/50 p-6 rounded-2xl shadow-sm",children:[m.jsx(bi,{className:"w-12 h-12 mx-auto text-brand-green"}),m.jsx("h3",{className:"font-bold text-xl mt-4",children:"Compita no Ranking"}),m.jsx("p",{className:"mt-2 text-gray-600",children:"Veja sua posição no ranking de exploradores e desafie seus amigos."})]})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"O que você gostaria de fazer?"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs(an,{to:"/attractions",className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-xl hover:shadow-lg transition-all duration-200 hover:scale-105",children:[m.jsx("div",{className:"text-4xl mb-3",children:"🏔️"}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Pontos Turísticos"}),m.jsx("p",{className:"text-blue-100",children:"Descubra as belezas naturais e patrimônios históricos"})]}),m.jsxs(an,{to:"/restaurants",className:"bg-gradient-to-br from-orange-500 to-red-500 text-white p-6 rounded-xl hover:shadow-lg transition-all duration-200 hover:scale-105",children:[m.jsx("div",{className:"text-4xl mb-3",children:"🍽️"}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Restaurantes"}),m.jsx("p",{className:"text-orange-100",children:"Saboreie a gastronomia local e avalie sua experiência"})]}),m.jsxs(an,{to:"/olive-oils",className:"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white p-6 rounded-xl hover:shadow-lg transition-all duration-200 hover:scale-105",children:[m.jsx("div",{className:"text-4xl mb-3",children:"🫒"}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Azeites Premiados"}),m.jsx("p",{className:"text-yellow-100",children:"Conheça os azeites que conquistaram o mundo"})]})]})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Rotas em Destaque"}),i?m.jsx("div",{className:"text-center text-gray-600",children:"Carregando rotas..."}):m.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:e.map(r=>m.jsx(Sy,{route:r},r.id))})]})]})},HP=()=>{const[t,e]=k.useState([]),[n,i]=k.useState(!0);return k.useEffect(()=>{xe.getRoutes().then(o=>{e(o),i(!1)})},[]),n?m.jsx("div",{className:"text-center",children:"Carregando rotas..."}):m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-display text-center mb-2",children:"Nossas Rotas"}),m.jsx("p",{className:"text-lg text-center text-gray-600 mb-8",children:"Escolha uma aventura e comece a explorar Caçapava do Sul."}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(o=>m.jsx(Sy,{route:o},o.id))})]})},$P={Mountain:Ox,BookOpen:Ux,Utensils:gT,Star:ln,Leaf:kS},qP=({badge:t})=>{const e=$P[t.icon];return e?m.jsxs("div",{className:"group relative flex flex-col items-center text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-brand-green rounded-full flex items-center justify-center transition-transform transform group-hover:scale-110",children:m.jsx(e,{className:"w-8 h-8 text-white"})}),m.jsx("p",{className:"text-sm font-semibold mt-2",children:t.name}),m.jsxs("div",{className:"absolute bottom-full mb-2 w-48 bg-brand-dark-green text-white text-xs rounded-lg p-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:[t.description,m.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-x-8 border-x-transparent border-t-8 border-t-brand-dark-green"})]})]}):null},GP=({onClose:t})=>{const{currentUser:e,updateUserProfile:n}=qs(),[i,o]=k.useState((e==null?void 0:e.name)||""),[r,l]=k.useState((e==null?void 0:e.avatarUrl)||""),[d,h]=k.useState(!1),p=async g=>{g.preventDefault(),h(!0),await n(i,r),h(!1),t()};return m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:m.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",onClick:g=>g.stopPropagation(),children:m.jsxs("div",{className:"p-6 relative",children:[m.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Editar Perfil"}),m.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-brand-dark-green",children:m.jsx(Xa,{size:24})}),m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsx("div",{className:"flex justify-center",children:m.jsx("img",{src:r||"https://picsum.photos/seed/you/200",alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border-4 border-brand-light-green"})}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome"}),m.jsx("input",{id:"name",type:"text",value:i,onChange:g=>o(g.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"avatarUrl",className:"block text-sm font-medium text-gray-700",children:"URL da Foto de Perfil"}),m.jsx("input",{id:"avatarUrl",type:"text",value:r,onChange:g=>l(g.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),m.jsx("div",{className:"pt-4",children:m.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-full shadow-sm text-sm font-medium text-white bg-brand-green hover:bg-brand-dark-green disabled:bg-gray-400",children:d?"Salvando...":"Salvar Alterações"})})]})]})})})},WP=()=>{const{currentUser:t}=qs(),[e,n]=k.useState([]),[i,o]=k.useState([]),[r,l]=k.useState(!1);return k.useEffect(()=>{t&&(xe.getBadgesForUser(t.id).then(n),(async()=>{const h=await Promise.all(t.visited.map(async p=>{const g=await xe.getPointOfInterestById(p.pointId);return g?{...g,visitDate:p.date}:null}));o(h.filter(p=>!!p).sort((p,g)=>new Date(g.visitDate).getTime()-new Date(p.visitDate).getTime()))})())},[t]),t?m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 flex flex-col md:flex-row items-center gap-8 relative",children:[m.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-32 h-32 rounded-full border-4 border-brand-light-green object-cover"}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-bold",children:t.name}),m.jsxs("div",{className:"flex items-center gap-6 mt-4 text-gray-600",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-3xl font-bold text-brand-green",children:t.points}),m.jsx("div",{className:"text-sm",children:"Pontos"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-3xl font-bold text-brand-green",children:t.visited.length}),m.jsx("div",{className:"text-sm",children:"Locais Visitados"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-3xl font-bold text-brand-green",children:e.length}),m.jsx("div",{className:"text-sm",children:"Conquistas"})]})]})]}),m.jsx("button",{onClick:()=>l(!0),className:"absolute top-4 right-4 bg-brand-beige p-2 rounded-full hover:bg-brand-light-green/20 transition-colors",children:m.jsx(Qa,{className:"w-5 h-5 text-brand-dark-green"})})]}),m.jsx("div",{className:"mt-8",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[m.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(Ei,{className:"text-brand-green"}),"Minhas Conquistas"]}),e.length>0?m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e.map(d=>m.jsx(qP,{badge:d},d.id))}):m.jsx("p",{className:"text-gray-500",children:"Continue explorando para ganhar conquistas!"})]})}),m.jsx("div",{className:"mt-8",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[m.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(Qt,{className:"text-brand-green"}),"Histórico de Visitas"]}),m.jsx("ul",{className:"space-y-4",children:i.map(d=>m.jsxs("li",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold",children:d.name}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Visitado em: ",new Date(d.visitDate).toLocaleDateString()]})]}),m.jsxs("span",{className:"font-bold text-brand-green flex items-center gap-1",children:["+",d.points," ",m.jsx(ln,{size:16})]})]},d.visitDate))})]})}),r&&m.jsx(GP,{onClose:()=>l(!1)})]}):m.jsx("div",{children:"Carregando perfil..."})},JP=({rank:t})=>t===0?m.jsx(cS,{className:"w-6 h-6 text-yellow-400"}):t===1?m.jsx(FS,{className:"w-6 h-6 text-gray-400"}):t===2?m.jsx(Ei,{className:"w-6 h-6 text-yellow-600"}):m.jsx("span",{className:"font-bold text-gray-500 w-6 text-center",children:t+1}),YP=()=>{const{user:t}=dn(),[e,n]=k.useState([]),[i,o]=k.useState(!0);return k.useEffect(()=>{xe.getLeaderboard().then(r=>{n(r),o(!1)})},[]),i?m.jsx("div",{className:"text-center",children:"Carregando ranking..."}):m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsx("h1",{className:"text-4xl font-display text-center mb-2",children:"Ranking de Exploradores"}),m.jsx("p",{className:"text-lg text-center text-gray-600 mb-8",children:"Veja quem são os maiores aventureiros de Caçapava do Sul!"}),m.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 space-y-2",children:e.map((r,l)=>m.jsxs("div",{className:`flex items-center p-4 rounded-xl transition-all ${r.id===(t==null?void 0:t.id)?"bg-brand-light-green/20 border-2 border-brand-light-green":"bg-gray-50"}`,children:[m.jsx("div",{className:"flex-shrink-0 w-10 flex justify-center",children:m.jsx(JP,{rank:l})}),m.jsx("img",{src:r.avatarUrl,alt:r.name,className:"w-12 h-12 rounded-full mx-4 object-cover"}),m.jsx("div",{className:"flex-grow",children:m.jsx("p",{className:"font-bold text-lg",children:r.name})}),m.jsxs("div",{className:"font-black text-xl text-brand-green",children:[r.points," pts"]})]},r.id))})]})},Ty=({poi:t,onClose:e})=>{const{checkIn:n,getVisitedIds:i}=qs(),[o,r]=k.useState(null),[l,d]=k.useState([]),[h,p]=k.useState(!1),[g,y]=k.useState(""),[C,S]=k.useState(""),[w,b]=k.useState(!1),[N,M]=k.useState(!1),I=i().has(t.id),A=async()=>{p(!0);const L=await n(t.id);r({type:L.success?"success":"info",message:L.message}),L.success&&d(L.newBadges),p(!1)},D=async L=>{if(L.preventDefault(),!(!g.trim()||w)){b(!0),S("");try{const z=await DP(t.name,g);for await(const $ of z)S(B=>B+$.text)}catch{S("Desculpe, não consegui obter uma resposta. Tente novamente.")}finally{b(!1),y("")}}};return k.useEffect(()=>{const L=z=>{z.key==="Escape"&&e()};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[e]),m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:m.jsxs("div",{className:"bg-brand-beige rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col md:flex-row",onClick:L=>L.stopPropagation(),children:[m.jsx("div",{className:"w-full md:w-1/2",children:m.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-64 md:h-full object-cover rounded-t-2xl md:rounded-l-2xl md:rounded-tr-none"})}),m.jsxs("div",{className:"w-full md:w-1/2 p-6 flex flex-col relative",children:[m.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-brand-dark-green",children:m.jsx(Xa,{size:24})}),m.jsx("h2",{className:"text-3xl font-bold mb-2",children:t.name}),m.jsxs("span",{className:"font-semibold text-brand-green mb-4",children:[t.points," pontos"]}),m.jsx("p",{className:"text-gray-700 mb-4 flex-grow",children:t.longDescription}),!N&&m.jsxs(m.Fragment,{children:[o&&m.jsxs("div",{className:`p-3 rounded-lg mb-4 flex items-center gap-3 text-white ${o.type==="success"?"bg-brand-green":"bg-yellow-500"}`,children:[o.type==="success"?m.jsx(bc,{size:20}):m.jsx(wS,{size:20}),m.jsx("span",{children:o.message})]}),l.length>0&&m.jsxs("div",{className:"p-3 rounded-lg mb-4 bg-brand-light-green text-white",children:[m.jsxs("h4",{className:"font-bold flex items-center gap-2",children:[m.jsx(ed,{size:20}),"Novas Conquistas!"]}),l.map(L=>m.jsxs("p",{className:"text-sm",children:["- ",L.name]},L.id))]}),m.jsxs("div",{className:"mt-auto space-y-3",children:[m.jsx("button",{onClick:A,disabled:I||h,className:"w-full bg-brand-green text-white font-bold py-3 px-6 rounded-full flex items-center justify-center gap-2 hover:bg-brand-dark-green transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:h?"Processando...":I?m.jsxs(m.Fragment,{children:[m.jsx(bc,{size:20})," Já Visitado"]}):m.jsxs(m.Fragment,{children:[m.jsx(ln,{size:20})," Fazer Check-in (Simula QR Code)"]})}),m.jsxs("button",{onClick:()=>M(!0),className:"w-full bg-brand-dark-green text-white font-bold py-3 px-6 rounded-full flex items-center justify-center gap-2 hover:bg-opacity-80 transition-colors",children:[m.jsx(zx,{size:20})," Perguntar ao Guia IA"]})]})]}),N&&m.jsxs("div",{className:"flex flex-col h-full bg-white/70 rounded-lg p-4 -m-2 mt-2",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[m.jsx(Ka,{size:20}),"Guia de IA"]}),m.jsx("button",{onClick:()=>M(!1),className:"text-sm text-gray-600 hover:underline",children:"Voltar"})]}),m.jsxs("div",{className:"flex-grow bg-gray-100 rounded-lg p-3 overflow-y-auto mb-2 min-h-[150px]",children:[C?m.jsx("p",{className:"text-sm whitespace-pre-wrap",children:C}):m.jsxs("p",{className:"text-sm text-gray-500",children:["Faça uma pergunta sobre ",t.name,"..."]}),w&&m.jsx("div",{className:"animate-pulse text-sm text-gray-500",children:"...pensando"})]}),m.jsxs("form",{onSubmit:D,className:"flex gap-2",children:[m.jsx("input",{type:"text",value:g,onChange:L=>y(L.target.value),placeholder:"Qual a melhor hora para visitar?",className:"flex-grow p-2 border rounded-full text-sm focus:ring-brand-green focus:border-brand-green"}),m.jsx("button",{type:"submit",disabled:w,className:"bg-brand-green text-white rounded-full p-2 hover:bg-brand-dark-green disabled:bg-gray-400",children:m.jsx(Xc,{size:20})})]})]})]})]})})},wy="AIzaSyCIO_I4T5g_bTXZDFvHcPvQwO6z2VyIitE",KP=wy.length>30;let _s=null;const QP=()=>{if(_s)return _s;let t="https://maps.googleapis.com/maps/api/js?v=stable";return KP?t+=`&key=${wy}`:console.warn("Google Maps API key is not configured or is likely invalid. Map will be loaded in development mode."),_s=new Promise((e,n)=>{if(window.google&&window.google.maps){e();return}const i=document.createElement("script");i.src=t,i.async=!0,i.defer=!0,i.onload=()=>e(),i.onerror=()=>{_s=null,n(new Error("Failed to load Google Maps script."))},document.head.appendChild(i)}),_s},XP=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#d9ead3"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#a4c2f4"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],by=({center:t,zoom:e=14,pois:n,onMarkerClick:i,bounds:o})=>{const r=k.useRef(null),[l,d]=k.useState(null),[h,p]=k.useState({}),[g,y]=k.useState(null),C=k.useRef(!1);return k.useEffect(()=>{const S=()=>{C.current||(C.current=!0,console.error("Google Maps API authentication failed. This can be caused by an invalid API key, or billing not being enabled on the associated account."),y("Falha na autenticação do Google Maps. A chave de API pode ser inválida ou o projeto não está configurado corretamente."))};return window.gm_authFailure=S,QP().then(()=>{if(!C.current)try{if(r.current&&!l){const w=new window.google.maps.Map(r.current,{center:t,zoom:e,styles:XP,disableDefaultUI:!0,zoomControl:!0});d(w),y(null)}}catch(w){console.error("Error initializing Google Map:",w),y("Ocorreu um erro ao inicializar o mapa. O serviço pode estar indisponível.")}}).catch(w=>{console.error("Failed to load Google Maps:",w),C.current||y("Não foi possível carregar o mapa. Verifique sua conexão com a internet.")}),()=>{window.gm_authFailure===S&&delete window.gm_authFailure}},[]),k.useEffect(()=>{l&&(o?l.fitBounds(o,100):(l.setCenter(t),l.setZoom(e)))},[l,t,e,o]),k.useEffect(()=>{if(l){Object.keys(h).forEach(w=>{n.find(b=>b.id===w)||(h[w].setMap(null),delete h[w])});const S={...h};n.forEach(w=>{if(!S[w.id]){const b=new window.google.maps.Marker({position:{lat:w.lat,lng:w.lng},map:l,title:w.name});b.addListener("click",()=>{i(w)}),S[w.id]=b}}),p(S)}},[l,n,i]),g?m.jsxs("div",{className:"w-full h-full bg-yellow-50 flex flex-col p-4 text-center",children:[m.jsxs("div",{className:"flex-shrink-0",children:[m.jsx(lT,{className:"w-10 h-10 text-yellow-500 mx-auto mb-2"}),m.jsx("h3",{className:"font-bold text-yellow-800",children:"Mapa Indisponível"}),m.jsx("p",{className:"text-sm text-yellow-700 mb-4",children:g})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto w-full text-left pr-2",children:[m.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Alternativamente, explore os pontos na lista:"}),m.jsx("div",{className:"space-y-2",children:n.map(S=>m.jsxs("button",{onClick:()=>i(S),className:"w-full flex items-center gap-4 p-2 bg-white/80 rounded-lg shadow-sm hover:bg-brand-light-green/20 transition-colors text-left",children:[m.jsx("img",{src:S.imageUrl,alt:S.name,className:"w-12 h-12 object-cover rounded-md flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-sm text-brand-dark-green",children:S.name}),m.jsx("p",{className:"text-xs text-gray-600",children:S.description})]})]},S.id))})]})]}):m.jsx("div",{ref:r,className:"w-full h-full"})},ZP=()=>{const{routeId:t}=Kc(),[e,n]=k.useState(null),[i,o]=k.useState([]),[r,l]=k.useState(!0),[d,h]=k.useState(null);k.useEffect(()=>{if(!t)return;(async()=>{l(!0);const C=await xe.getRouteById(t);if(C){n(C);const S=await Promise.all(C.pointsOfInterest.map(w=>xe.getPointOfInterestById(w)));o(S.filter(w=>!!w))}l(!1)})()},[t]);const p=k.useMemo(()=>{if(i.length===0)return{lat:-30.5119,lng:-53.4908};const y=i.reduce((S,w)=>S+w.lat,0)/i.length,C=i.reduce((S,w)=>S+w.lng,0)/i.length;return{lat:y,lng:C}},[i]),g=k.useMemo(()=>{if(i.length<2)return;const y=i.map(S=>S.lat),C=i.map(S=>S.lng);return{north:Math.max(...y),south:Math.min(...y),east:Math.max(...C),west:Math.min(...C)}},[i]);return r?m.jsx("div",{className:"text-center",children:"Carregando detalhes da rota..."}):e?m.jsxs("div",{children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-4xl font-display mb-2",children:e.name}),m.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:e.description})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"lg:h-[600px] flex flex-col space-y-4",children:[m.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[m.jsx(Qt,{className:"text-brand-green"})," Pontos de Interesse"]}),m.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:i.map(y=>m.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden flex",children:[m.jsx("img",{src:y.imageUrl,alt:y.name,className:"w-24 h-24 object-cover"}),m.jsxs("div",{className:"p-4 flex flex-col justify-between flex-grow",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold",children:y.name}),m.jsxs("p",{className:"text-sm text-brand-green font-semibold flex items-center gap-1",children:[y.points," ",m.jsx(ln,{size:14})]})]}),m.jsx("button",{onClick:()=>h(y),className:"text-sm self-start mt-2 font-bold text-brand-dark-green hover:text-brand-light-green transition-colors",children:"Ver Detalhes →"})]})]},y.id))})]}),m.jsx("div",{className:"h-96 lg:h-[600px] rounded-2xl overflow-hidden shadow-lg border-4 border-white",children:m.jsx(by,{center:p,pois:i,onMarkerClick:h,bounds:g})})]}),d&&m.jsx(Ty,{poi:d,onClose:()=>h(null)})]}):m.jsx("div",{className:"text-center",children:"Rota não encontrada."})},eI=()=>{const[t,e]=k.useState([]),[n,i]=k.useState(null),[o,r]=k.useState(!0);$s.useEffect(()=>{xe.getPointsOfInterest().then(d=>{e(d),r(!1)})},[]);const l={lat:-30.5119,lng:-53.4908};return m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-display text-center mb-2",children:"Mapa Interativo"}),m.jsx("p",{className:"text-lg text-center text-gray-600 mb-8",children:"Clique em um ponto no mapa para saber mais e fazer check-in."}),m.jsx("div",{className:"relative w-full aspect-[4/3] bg-brand-light-green/20 rounded-2xl shadow-lg overflow-hidden border-4 border-white",children:o?m.jsx("div",{className:"flex items-center justify-center h-full",children:m.jsx("p",{children:"Carregando mapa..."})}):m.jsx(by,{center:l,zoom:13,pois:t,onMarkerClick:i})}),n&&m.jsx(Ty,{poi:n,onClose:()=>i(null)})]})},tI=["Natureza","História","Gastronomia","Aventura","Cultura Local"],la=["Consultando nosso especialista em Caçapava...","Analisando as melhores paisagens...","Montando seu dia perfeito...","Adicionando um toque de magia...","Quase pronto!"],nI=()=>{const[t,e]=k.useState("1"),[n,i]=k.useState(new Set),[o,r]=k.useState("Moderado"),[l,d]=k.useState(""),[h,p]=k.useState(!1),[g,y]=k.useState(""),[C,S]=k.useState(""),[w,b]=k.useState(la[0]),N=D=>{const L=new Set(n);L.has(D)?L.delete(D):L.add(D),i(L)},M=async D=>{if(D.preventDefault(),n.size===0){y("Por favor, selecione pelo menos um interesse.");return}y(""),p(!0),S("");const L=setInterval(()=>{b(z=>{const $=la.indexOf(z);return la[($+1)%la.length]})},2500);try{const z={duration:`${t} dia(s)`,interests:Array.from(n),pace:o,notes:l},$=await LP(z);S($)}catch(z){y("Ocorreu um erro ao gerar o roteiro. Por favor, tente novamente."),console.error(z)}finally{p(!1),clearInterval(L)}},I=()=>{S(""),e("1"),i(new Set),r("Moderado"),d(""),y("")},A=()=>h?m.jsxs("div",{className:"text-center p-8 bg-white/50 rounded-2xl",children:[m.jsx(PS,{className:"w-16 h-16 mx-auto text-brand-green animate-spin mb-6"}),m.jsx("h2",{className:"text-2xl font-bold text-brand-dark-green mb-2",children:"Criando seu Roteiro..."}),m.jsx("p",{className:"text-gray-600 transition-opacity duration-500",children:w})]}):C?m.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold text-brand-dark-green",children:"Seu Roteiro Personalizado"}),m.jsx("p",{className:"text-gray-600",children:"Uma aventura única, criada especialmente para você!"})]}),m.jsxs("button",{onClick:I,className:"flex items-center gap-2 bg-brand-beige text-brand-dark-green font-semibold py-2 px-4 rounded-full hover:bg-brand-light-green/20 transition-colors",children:[m.jsx(JS,{size:18}),"Criar Novo"]})]}),m.jsx("div",{className:"prose max-w-none text-gray-800 whitespace-pre-wrap font-sans",children:C})]}):m.jsxs("form",{onSubmit:M,className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-lg font-semibold block mb-2",children:"1. Duração da Viagem"}),m.jsxs("select",{value:t,onChange:D=>e(D.target.value),className:"w-full p-3 bg-white border border-gray-300 rounded-lg",children:[m.jsx("option",{value:"1",children:"1 Dia"}),m.jsx("option",{value:"2",children:"2 Dias"}),m.jsx("option",{value:"3",children:"3 Dias"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-lg font-semibold block mb-3",children:"2. Seus Interesses"}),m.jsx("div",{className:"flex flex-wrap gap-3",children:tI.map(D=>m.jsx("button",{type:"button",onClick:()=>N(D),className:`py-2 px-4 rounded-full font-medium transition-all duration-200 border-2 ${n.has(D)?"bg-brand-green text-white border-brand-green":"bg-white text-gray-700 border-gray-300 hover:border-brand-green"}`,children:D},D))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-lg font-semibold block mb-3",children:"3. Ritmo da Viagem"}),m.jsx("div",{className:"grid grid-cols-3 gap-4",children:["Relaxado","Moderado","Intenso"].map(D=>m.jsxs("button",{type:"button",onClick:()=>r(D),className:`p-4 rounded-lg text-center border-2 transition-all duration-200 ${o===D?"bg-brand-green text-white border-brand-green":"bg-white hover:border-brand-green"}`,children:[m.jsx("span",{className:"text-4xl mb-2 block",children:D==="Relaxado"?m.jsx(pS,{className:"mx-auto"}):D==="Moderado"?m.jsx(iT,{className:"mx-auto"}):m.jsx(iS,{className:"mx-auto"})}),m.jsx("span",{className:"font-semibold",children:D})]},D))})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"notes",className:"text-lg font-semibold block mb-2",children:"4. Informações Adicionais (opcional)"}),m.jsx("textarea",{id:"notes",value:l,onChange:D=>d(D.target.value),placeholder:"Ex: Viajando com crianças, prefiro caminhadas leves, tenho pouco tempo pela manhã...",className:"w-full p-3 bg-white border border-gray-300 rounded-lg h-24"})]}),g&&m.jsx("p",{className:"text-brand-red text-center",children:g}),m.jsxs("button",{type:"submit",disabled:h,className:"w-full bg-brand-dark-green text-white font-bold text-lg py-4 px-6 rounded-full flex items-center justify-center gap-3 hover:bg-brand-green transition-transform transform hover:scale-105 disabled:bg-gray-400 disabled:scale-100",children:[m.jsx(qx,{size:24}),"Gerar Roteiro Mágico"]})]});return m.jsxs("div",{children:[!C&&m.jsxs("div",{className:"text-center mb-10",children:[m.jsxs("h1",{className:"text-4xl font-display text-brand-dark-green mb-2 flex items-center justify-center gap-3",children:[m.jsx(Ka,{}),"Crie seu Roteiro Personalizado com IA"]}),m.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Diga-nos o que você gosta e nosso guia de IA montará o plano perfeito para sua visita a Caçapava do Sul."})]}),m.jsx("div",{className:"max-w-3xl mx-auto",children:A()})]})},iI=()=>{const[t,e]=k.useState([]),[n,i]=k.useState(!0);if(k.useEffect(()=>{xe.getChallenges().then(l=>{e(l),i(!1)})},[]),n)return m.jsx("p",{className:"text-center mt-8",children:"Carregando desafios..."});const o=t.filter(l=>l.type==="event"&&l.startDate&&new Date(l.startDate)>new Date),r=t.filter(l=>l.type==="challenge");return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Desafios e Eventos"}),m.jsx("p",{className:"text-slate-600 mt-1",children:"Participe para ganhar pontos e novas conquistas!"})]}),o.length>0&&m.jsxs("section",{children:[m.jsxs("h2",{className:"text-2xl font-semibold text-slate-700 mb-4 flex items-center",children:[m.jsx(Aa,{className:"mr-3 text-indigo-500"})," Próximos Eventos"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(l=>m.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-indigo-200",children:[m.jsx("h3",{className:"text-xl font-bold text-indigo-800",children:l.title}),m.jsx("p",{className:"text-slate-600 my-2",children:l.description}),m.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[m.jsxs("span",{className:"font-semibold text-amber-600 flex items-center",children:[m.jsx(Ei,{className:"mr-1 h-4 w-4"})," ",l.points," Pontos"]}),m.jsxs("span",{className:"font-medium text-slate-500 flex items-center",children:[m.jsx(Aa,{className:"mr-1 h-4 w-4"})," ",new Date(l.startDate).toLocaleDateString("pt-BR")]})]})]},l.id))})]}),m.jsxs("section",{children:[m.jsxs("h2",{className:"text-2xl font-semibold text-slate-700 mb-4 flex items-center",children:[m.jsx(gS,{className:"mr-3 text-green-500"})," Desafios Ativos"]}),m.jsx("div",{className:"space-y-4",children:r.map(l=>m.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-green-800",children:l.title}),m.jsx("p",{className:"text-slate-600",children:l.description})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("span",{className:"font-bold text-2xl text-amber-600 flex items-center",children:[m.jsx(Ei,{className:"mr-2 h-6 w-6"})," ",l.points]}),m.jsx("span",{className:"text-sm text-slate-500",children:"Pontos"})]})]},l.id))})]})]})},oI=({photo:t,onLike:e,currentUserId:n})=>{const i=n?t.likes.includes(n):!1;return m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[m.jsxs("div",{className:"p-4 flex items-center",children:[m.jsx("img",{src:t.userAvatarUrl,alt:t.userName,className:"h-10 w-10 rounded-full mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-slate-800",children:t.userName}),m.jsx("p",{className:"text-xs text-slate-500",children:new Date(t.timestamp).toLocaleString("pt-BR")})]})]}),m.jsx("img",{src:t.imageUrl,alt:t.caption,className:"w-full h-auto"}),m.jsxs("div",{className:"p-4",children:[m.jsx("p",{className:"text-slate-700 mb-4",children:t.caption}),m.jsx("div",{className:"flex justify-between items-center",children:m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("button",{onClick:()=>e(t.id),disabled:i,className:`flex items-center space-x-1 ${i?"text-pink-500":"text-slate-500 hover:text-pink-500"}`,children:[m.jsx(Nc,{className:`h-6 w-6 ${i?"fill-current":""}`}),m.jsx("span",{className:"font-semibold",children:t.likes.length})]}),m.jsxs("button",{className:"flex items-center space-x-1 text-slate-500 hover:text-blue-500",children:[m.jsx(zx,{className:"h-6 w-6"}),m.jsx("span",{className:"font-semibold",children:"0"})]})]})})]})]})},sI=()=>{const{user:t}=dn(),[e,n]=k.useState([]),[i,o]=k.useState(!0);k.useEffect(()=>{r()},[]);const r=()=>{o(!0),xe.getPhotos().then(h=>{n(h),o(!1)})},l=async h=>{t&&(await xe.likePhoto(h,t.id),r())},d=async h=>{if(h.preventDefault(),!t)return;const p=new FormData(h.currentTarget),g=p.get("caption"),y=p.get("imageUrl");g&&y&&(await xe.createPhoto({userId:t.id,imageUrl:y,caption:g}),r(),h.currentTarget.reset())};return i?m.jsx("p",{className:"text-center mt-8",children:"Carregando galeria de fotos..."}):m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Galeria da Comunidade"}),m.jsx("p",{className:"text-slate-600 mt-1",children:"Veja e compartilhe os melhores momentos da sua viagem!"})]}),m.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:m.jsxs("form",{onSubmit:d,className:"space-y-3",children:[m.jsx("input",{name:"imageUrl",type:"text",placeholder:"URL da sua foto",className:"w-full p-2 border rounded-md",required:!0}),m.jsx("textarea",{name:"caption",placeholder:"Escreva uma legenda...",className:"w-full p-2 border rounded-md",required:!0}),m.jsxs("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded-lg shadow hover:bg-green-600 flex items-center",children:[m.jsx(Xc,{className:"h-4 w-4 mr-2"}),"Publicar Foto"]})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(h=>m.jsx(oI,{photo:h,onLike:l,currentUserId:(t==null?void 0:t.id)||null},h.id))})]})},ua=({title:t,icon:e,children:n})=>m.jsxs("section",{className:"mb-12",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx("div",{className:"bg-green-100 text-green-600 p-3 rounded-full mr-4",children:e}),m.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:t})]}),m.jsx("div",{className:"prose prose-lg max-w-none text-slate-700",children:n})]}),rI=()=>m.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-xl shadow-sm border",children:[m.jsxs("header",{className:"text-center mb-12",children:[m.jsx("h1",{className:"text-5xl font-extrabold text-green-700 tracking-tight",children:"Caçapava do Sul"}),m.jsx("p",{className:"mt-4 text-xl text-slate-600",children:"A Capital Gaúcha da Geodiversidade"})]}),m.jsx(ua,{title:"Nossa História",icon:m.jsx(Ux,{size:28}),children:m.jsxs("p",{children:["Fundada em 1831, Caçapava do Sul tem uma história rica e profundamente entrelaçada com os eventos que moldaram o Rio Grande do Sul. A cidade foi a ",m.jsx("strong",{children:"2ª Capital Farroupilha"})," durante a Revolução Farroupilha, um período de grande importância histórica para o estado. Suas ruas e edifícios antigos, como o Forte Dom Pedro II, são testemunhas silenciosas de batalhas e decisões que definiram fronteiras e culturas."]})}),m.jsx(ua,{title:"Pontos Turísticos Emblemáticos",icon:m.jsx(eS,{size:28}),children:m.jsxs("p",{children:["Nossos pontos turísticos contam nossa história e revelam belezas únicas. O ",m.jsx("strong",{children:"Forte Dom Pedro II"}),", erguido para proteger a fronteira sul, hoje é um monumento à nossa herança militar. As ",m.jsx("strong",{children:"Minas do Camaquã"}),", um antigo complexo de mineração de cobre, oferecem uma paisagem quase lunar e uma fascinante viagem ao passado industrial da região. Já a ",m.jsx("strong",{children:"Igreja Matriz Nossa Senhora da Assunção"})," se destaca no centro da cidade com sua imponente arquitetura gótica."]})}),m.jsx(ua,{title:"Lendas e Misticismo",icon:m.jsx(Ox,{size:28}),children:m.jsxs("p",{children:["Caçapava é uma terra de lendas. A mais famosa envolve a ",m.jsx("strong",{children:"Pedra do Segredo"}),", uma formação rochosa que equilibra uma pedra de toneladas em um pequeno ponto de apoio. Diz a lenda que a pedra guarda segredos antigos dos povos indígenas que habitavam a região. Outro local místico são as ",m.jsx("strong",{children:"Guaritas"}),", com suas formações rochosas que se assemelham a sentinelas silenciosas, guardando a entrada para um mundo de paisagens deslumbrantes e energia inexplicável."]})}),m.jsx(ua,{title:"Capital da Geodiversidade",icon:m.jsx(rT,{size:28}),children:m.jsx("p",{children:'Reconhecida oficialmente como a "Capital Gaúcha da Geodiversidade", Caçapava do Sul é um museu a céu aberto. A região abriga uma incrível variedade de rochas, minerais e formações geológicas que contam a história de bilhões de anos do nosso planeta. Do ouro encontrado em nossas minas às paisagens esculpidas pelo tempo no Parque das Guaritas, cada canto da cidade é uma aula de geologia e uma celebração da natureza.'})})]}),aI=(t,e,n)=>{const i="https://waze.com/ul",o=new URLSearchParams({ll:`${t},${e}`,navigate:"yes"});return n&&o.append("q",n),`${i}?${o.toString()}`},lI=(t,e,n)=>{const i="https://www.google.com/maps/dir/";return n?`${i}/${encodeURIComponent(n)}/@${t},${e}`:`${i}/@${t},${e}`},Ny=(t,e,n)=>{const i=aI(t,e,n),o=lI(t,e,n);return{waze:i,googleMaps:o}},uI=()=>{const[t,e]=k.useState([]),[n,i]=k.useState(!0),[o,r]=k.useState("all");k.useEffect(()=>{(async()=>{try{const y=await xe.getPointsOfInterest();e(y)}catch(y){console.error("Error fetching attractions:",y)}finally{i(!1)}})()},[]);const l=[{id:"all",name:"Todas as Atrações",icon:"🌟"},{id:"nature",name:"Natureza",icon:"🏔️"},{id:"history",name:"História",icon:"🏛️"},{id:"gastronomy",name:"Gastronomia",icon:"🍽️"}],d=g=>{const y=g.name.toLowerCase(),C=g.description.toLowerCase(),S=[];return(y.includes("pedra")||y.includes("cascata")||y.includes("guaritas")||y.includes("minas"))&&S.push("nature"),(y.includes("forte")||y.includes("casa")||y.includes("igreja")||y.includes("matriz"))&&S.push("history"),(y.includes("churrascaria")||y.includes("doçaria")||C.includes("churrasco")||C.includes("doces"))&&S.push("gastronomy"),S.length>0?S:["nature"]},h=o==="all"?t:t.filter(g=>d(g).includes(o)),p=g=>{const y=Ny(g.lat,g.lng,g.name);navigator.userAgent.includes("Mobile")||confirm(`Navegar para ${g.name}?

OK = Waze | Cancelar = Google Maps`)?window.open(y.waze,"_blank"):window.open(y.googleMaps,"_blank")};return n?m.jsx("div",{className:"flex justify-center items-center min-h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-green"})}):m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl font-bold text-brand-dark-green mb-4",children:"O que fazer em Caçapava do Sul"}),m.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Descubra as belezas naturais, a rica história e a gastronomia única da nossa cidade. Cada atração conta uma história especial que torna Caçapava do Sul um destino inesquecível."})]}),m.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:l.map(g=>m.jsxs("button",{onClick:()=>r(g.id),className:`px-6 py-3 rounded-full font-medium transition-all duration-200 ${o===g.id?"bg-brand-green text-white shadow-lg scale-105":"bg-white text-gray-700 border border-gray-200 hover:border-brand-green hover:text-brand-green"}`,children:[m.jsx("span",{className:"mr-2",children:g.icon}),g.name]},g.id))}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map(g=>m.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[m.jsxs("div",{className:"h-48 bg-gray-200 relative overflow-hidden",children:[m.jsx("img",{src:g.imageUrl,alt:g.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:y=>{const C=y.target;C.src="https://via.placeholder.com/400x200/6CBC3A/FFFFFF?text=Caçapava+do+Sul"}}),m.jsxs("div",{className:"absolute top-4 right-4 bg-brand-green text-white px-3 py-1 rounded-full text-sm font-semibold",children:[g.points," pontos"]})]}),m.jsxs("div",{className:"p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-brand-dark-green mb-2",children:g.name}),m.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:g.longDescription||g.description}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:d(g).map(y=>{const C=l.find(S=>S.id===y);return C?m.jsxs("span",{className:"bg-brand-beige text-brand-dark-green px-3 py-1 rounded-full text-sm font-medium",children:[C.icon," ",C.name]},y):null})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("button",{onClick:()=>p(g),className:"flex-1 bg-brand-green text-white px-4 py-2 rounded-lg font-medium hover:bg-brand-dark-green transition-colors duration-200 flex items-center justify-center gap-2",children:[m.jsx(Hx,{size:18}),"Como Chegar"]}),m.jsx("button",{className:"px-4 py-2 border border-brand-green text-brand-green rounded-lg hover:bg-brand-green hover:text-white transition-colors duration-200",children:m.jsx(ln,{size:18})})]})]})]},g.id))}),h.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),m.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Nenhuma atração encontrada"}),m.jsx("p",{className:"text-gray-500",children:"Tente selecionar uma categoria diferente"})]}),m.jsxs("div",{className:"bg-gradient-to-r from-brand-green to-brand-light-green rounded-xl p-8 text-white",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"✨ Destaques Especiais"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-3xl mb-2",children:"🏆"}),m.jsx("h3",{className:"font-semibold mb-1",children:"Azeites Premiados"}),m.jsx("p",{className:"text-sm opacity-90",children:"Mais de 300 prêmios internacionais"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-3xl mb-2",children:"🗿"}),m.jsx("h3",{className:"font-semibold mb-1",children:"Patrimônio Geológico"}),m.jsx("p",{className:"text-sm opacity-90",children:"Formações rochosas únicas no mundo"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-3xl mb-2",children:"🎯"}),m.jsx("h3",{className:"font-semibold mb-1",children:"Sistema de Pontos"}),m.jsx("p",{className:"text-sm opacity-90",children:"Ganhe pontos visitando as atrações"})]})]})]})]})},cI=()=>{const[t,e]=k.useState([]),[n,i]=k.useState([]),[o,r]=k.useState(!0),[l,d]=k.useState(""),[h,p]=k.useState("all"),[g,y]=k.useState(0),[C,S]=k.useState(!1),[w,b]=k.useState(null),[N,M]=k.useState({rating:5,comment:""});k.useEffect(()=>{const B=[{id:"1",name:"Churrascaria Tradição Gaúcha",description:"Autêntica churrascaria com cortes especiais e buffet completo",cuisine:"Gaúcha",priceRange:3,rating:4.7,reviewCount:127,address:"Rua Marechal Floriano, 456",lat:-30.5108,lng:-53.4944,phone:"(53) 3281-1234",hours:{open:"11:00",close:"23:00",days:["Ter","Qua","Qui","Sex","Sáb","Dom"]},features:["Estacionamento","Wi-Fi","Aceita Cartão","Delivery"],imageUrl:"https://via.placeholder.com/400x250/8B4513/FFFFFF?text=Churrascaria",verified:!0},{id:"2",name:"Doçaria Colonial",description:"Doces tradicionais e café colonial com receitas de família",cuisine:"Colonial",priceRange:2,rating:4.9,reviewCount:89,address:"Praça João Pessoa, 123",lat:-30.5118,lng:-53.4934,phone:"(53) 3281-5678",hours:{open:"08:00",close:"18:00",days:["Ter","Qua","Qui","Sex","Sáb"]},features:["Wi-Fi","Aceita Cartão","Takeaway","Ambiente Familiar"],imageUrl:"https://via.placeholder.com/400x250/DEB887/FFFFFF?text=Doçaria",verified:!0},{id:"3",name:"Pizzaria Guarita",description:"Pizzas artesanais com ingredientes locais e massa especial",cuisine:"Italiana",priceRange:2,rating:4.5,reviewCount:203,address:"Av. Brasil, 789",lat:-30.5098,lng:-53.4954,phone:"(53) 3281-9012",hours:{open:"18:00",close:"00:00",days:["Qua","Qui","Sex","Sáb","Dom"]},features:["Delivery","Wi-Fi","Aceita Cartão","Ambiente Jovem"],imageUrl:"https://via.placeholder.com/400x250/FF6347/FFFFFF?text=Pizzaria",verified:!0}],O=[{id:"1",restaurantId:"1",userId:"user1",userName:"Maria S.",rating:5,comment:"Excelente churrasco! O atendimento é impecável e a carne é de primeira qualidade.",date:"2024-01-15",helpful:8},{id:"2",restaurantId:"2",userId:"user2",userName:"João P.",rating:5,comment:"Os doces são deliciosos! Lembra a infância na casa da vó. Recomendo muito!",date:"2024-01-10",helpful:12}];e(B),i(O),r(!1)},[]);const I=["all","Gaúcha","Colonial","Italiana","Brasileira","Internacional"],A=B=>"$".repeat(B),D=t.filter(B=>{const O=B.name.toLowerCase().includes(l.toLowerCase())||B.description.toLowerCase().includes(l.toLowerCase()),Q=h==="all"||B.cuisine===h,K=g===0||B.priceRange===g;return O&&Q&&K}),L=B=>{const O=Ny(B.lat,B.lng,B.name);navigator.userAgent.includes("Mobile")||confirm(`Navegar para ${B.name}?

OK = Waze | Cancelar = Google Maps`)?window.open(O.waze,"_blank"):window.open(O.googleMaps,"_blank")},z=()=>{if(!w)return;const B={id:Date.now().toString(),restaurantId:w.id,userId:"current-user",userName:"Você",rating:N.rating,comment:N.comment,date:new Date().toISOString().split("T")[0],helpful:0};i([...n,B]),M({rating:5,comment:""}),S(!1),b(null)},$=B=>n.filter(O=>O.restaurantId===B);return o?m.jsx("div",{className:"flex justify-center items-center min-h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-green"})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl font-bold text-brand-dark-green mb-4",children:"🍽️ Restaurantes de Caçapava"}),m.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Descubra os sabores únicos da nossa região. Desde a tradicional gastronomia gaúcha até doces coloniais que encantam gerações."})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(QS,{className:"absolute left-3 top-3 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Buscar restaurantes...",value:l,onChange:B=>d(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-green focus:border-brand-green"})]}),m.jsxs("select",{value:h,onChange:B=>p(B.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-green focus:border-brand-green",children:[m.jsx("option",{value:"all",children:"Todas as Cozinhas"}),I.slice(1).map(B=>m.jsx("option",{value:B,children:B},B))]}),m.jsxs("select",{value:g,onChange:B=>y(Number(B.target.value)),className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-green focus:border-brand-green",children:[m.jsx("option",{value:0,children:"Todos os Preços"}),m.jsx("option",{value:1,children:"$ - Econômico"}),m.jsx("option",{value:2,children:"$$ - Moderado"}),m.jsx("option",{value:3,children:"$$$ - Premium"}),m.jsx("option",{value:4,children:"$$$$ - Luxo"})]}),m.jsx("button",{onClick:()=>{d(""),p("all"),y(0)},className:"px-4 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar Filtros"})]})}),m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:D.map(B=>m.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[m.jsxs("div",{className:"relative h-48 overflow-hidden",children:[m.jsx("img",{src:B.imageUrl,alt:B.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),B.verified&&m.jsx("div",{className:"absolute top-4 left-4 bg-brand-green text-white px-3 py-1 rounded-full text-sm font-semibold flex items-center gap-1",children:"✓ Verificado"}),m.jsx("div",{className:"absolute top-4 right-4 bg-white bg-opacity-90 px-3 py-1 rounded-full text-sm font-semibold",children:A(B.priceRange)})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-brand-dark-green mb-1",children:B.name}),m.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[m.jsx("span",{className:"bg-brand-beige px-2 py-1 rounded-full",children:B.cuisine}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(rS,{size:14}),B.hours.open," - ",B.hours.close]})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[m.jsx(ln,{className:"text-yellow-400 fill-current",size:16}),m.jsx("span",{className:"font-semibold",children:B.rating})]}),m.jsxs("div",{className:"text-sm text-gray-500",children:[B.reviewCount," avaliações"]})]})]}),m.jsx("p",{className:"text-gray-600 mb-4",children:B.description}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[m.jsx(Qt,{size:14}),B.address]}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:B.features.map(O=>m.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:O},O))}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("button",{onClick:()=>L(B),className:"flex-1 bg-brand-green text-white px-4 py-2 rounded-lg font-medium hover:bg-brand-dark-green transition-colors duration-200 flex items-center justify-center gap-2",children:[m.jsx(Hx,{size:18}),"Como Chegar"]}),m.jsxs("button",{onClick:()=>{b(B),S(!0)},className:"px-4 py-2 border border-brand-green text-brand-green rounded-lg hover:bg-brand-green hover:text-white transition-colors duration-200 flex items-center gap-2",children:[m.jsx(ln,{size:18}),"Avaliar"]})]}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[m.jsx("h4",{className:"font-semibold text-brand-dark-green mb-2",children:"Avaliações Recentes"}),$(B.id).slice(0,2).map(O=>m.jsxs("div",{className:"mb-3 last:mb-0",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"font-medium text-sm",children:O.userName}),m.jsx("div",{className:"flex items-center",children:[...Array(5)].map((Q,K)=>m.jsx(ln,{size:12,className:K<O.rating?"text-yellow-400 fill-current":"text-gray-200"},K))})]}),m.jsx("span",{className:"text-xs text-gray-500",children:O.date})]}),m.jsx("p",{className:"text-sm text-gray-600",children:O.comment})]},O.id))]})]})]},B.id))}),C&&w&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-brand-dark-green mb-4",children:["Avaliar ",w.name]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block font-medium mb-2",children:"Sua Avaliação"}),m.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(B=>m.jsx("button",{onClick:()=>M({...N,rating:B}),className:"p-1",children:m.jsx(ln,{size:24,className:B<=N.rating?"text-yellow-400 fill-current":"text-gray-200"})},B))})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block font-medium mb-2",children:"Comentário (opcional)"}),m.jsx("textarea",{value:N.comment,onChange:B=>M({...N,comment:B.target.value}),placeholder:"Conte sobre sua experiência...",rows:4,className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-green focus:border-brand-green"})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>{S(!1),b(null),M({rating:5,comment:""})},className:"flex-1 px-4 py-2 border border-gray-200 text-gray-600 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),m.jsx("button",{onClick:z,className:"flex-1 px-4 py-2 bg-brand-green text-white rounded-lg hover:bg-brand-dark-green transition-colors",children:"Enviar Avaliação"})]})]})}),D.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),m.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Nenhum restaurante encontrado"}),m.jsx("p",{className:"text-gray-500",children:"Tente ajustar os filtros ou termos de busca"})]})]})},dI=()=>{const[t,e]=k.useState(null),[n,i]=k.useState("producers"),o=[{id:"1",name:"Olivícola Família Oliveira",brand:"Quinta do Vale",description:"Pioneiros na olivicultura no Rio Grande do Sul, com mais de 20 anos de tradição e excelência na produção de azeites extra virgem premium.",location:"Distrito de Ferreira, Caçapava do Sul",lat:-30.52,lng:-53.51,founded:2003,website:"https://quintadovale.com.br",imageUrl:"https://via.placeholder.com/600x300/6CBC3A/FFFFFF?text=Quinta+do+Vale",certifications:["Orgânico","Fair Trade","ISO 9001"],tourAvailable:!0,awards:[{id:"1",name:"Melhor Azeite Extra Virgem",year:2023,category:"Extra Virgem Frutado",position:"1º Lugar",competition:"Concurso Internacional de Azeites",country:"Argentina",international:!0},{id:"2",name:"Medalha de Ouro",year:2023,category:"Blend Premium",position:"Medalha de Ouro",competition:"NYIOOC World Olive Oil Competition",country:"Estados Unidos",international:!0},{id:"3",name:"Grande Prêmio Nacional",year:2022,category:"Azeite Monovarietal",position:"1º Lugar",competition:"Prêmio Brasileiro de Azeites",country:"Brasil",international:!1}],products:[{id:"1",name:"Quinta do Vale Premium",type:"Extra Virgem",description:"Azeite monovarietal Picual, com notas frutadas intensas e final amendoado.",awards:["NYIOOC 2023 - Ouro","Concurso Argentina 2023 - 1º"],imageUrl:"https://via.placeholder.com/200x300/FFD700/000000?text=Premium",price:89.9,availability:"available"},{id:"2",name:"Quinta do Vale Blend",type:"Extra Virgem Blend",description:"Harmoniosa combinação de variedades, equilibrio perfeito entre frutado e picante.",awards:["Prêmio Brasil 2022 - 1º"],imageUrl:"https://via.placeholder.com/200x300/228B22/FFFFFF?text=Blend",price:65.9,availability:"available"}]},{id:"2",name:"Olivícola Terra Gaúcha",brand:"Olivas do Sul",description:"Produção artesanal com técnicas tradicionais mediterrâneas adaptadas ao terroir gaúcho único.",location:"Localidade de Minas do Camaquã",lat:-30.53,lng:-53.52,founded:2008,imageUrl:"https://via.placeholder.com/600x300/8B4513/FFFFFF?text=Terra+Gaúcha",certifications:["Rainforest Alliance","Produção Sustentável"],tourAvailable:!0,awards:[{id:"4",name:"Melhor Azeite Regional",year:2023,category:"Azeite Regional",position:"1º Lugar",competition:"Concurso Sul Americano",country:"Chile",international:!0}],products:[{id:"3",name:"Olivas do Sul Reserva",type:"Extra Virgem",description:"Edição limitada com oliveiras centenárias, sabor intenso e complexo.",awards:["Sul Americano 2023 - 1º"],imageUrl:"https://via.placeholder.com/200x300/8B0000/FFFFFF?text=Reserva",price:125,availability:"limited"}]}],r=()=>o.flatMap(g=>g.awards.map(y=>({...y,producer:g.name,brand:g.brand}))).sort((g,y)=>y.year-g.year),l=()=>o.flatMap(g=>g.products.map(y=>({...y,producer:g.name,brand:g.brand}))),d=g=>g.includes("1º")||g.includes("Ouro")?"🥇":g.includes("2º")||g.includes("Prata")?"🥈":g.includes("3º")||g.includes("Bronze")?"🥉":"🏆",h=r().length,p=r().filter(g=>g.international).length;return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"relative bg-gradient-to-r from-yellow-600 via-yellow-500 to-yellow-400 rounded-xl overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),m.jsxs("div",{className:"relative p-8 md:p-12 text-white text-center",children:[m.jsx("div",{className:"text-6xl mb-4",children:"🫒"}),m.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Azeites Premiados de Caçapava"}),m.jsxs("p",{className:"text-lg md:text-xl max-w-3xl mx-auto mb-6",children:["Descoberta a olivicultura gaúcha que conquista o mundo! Mais de ",m.jsxs("strong",{children:[h," prêmios"]}),", sendo ",m.jsxs("strong",{children:[p," internacionais"]}),"."]}),m.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:[m.jsxs("div",{className:"bg-white bg-opacity-20 px-4 py-2 rounded-full",children:["🏆 ",h," Prêmios Totais"]}),m.jsxs("div",{className:"bg-white bg-opacity-20 px-4 py-2 rounded-full",children:["🌍 ",p," Internacionais"]}),m.jsxs("div",{className:"bg-white bg-opacity-20 px-4 py-2 rounded-full",children:["🏭 ",o.length," Produtores"]})]})]})]}),m.jsx("div",{className:"flex justify-center",children:m.jsx("div",{className:"bg-white rounded-lg shadow-lg p-1 flex",children:[{id:"producers",label:"Produtores",icon:"🏭"},{id:"awards",label:"Prêmios",icon:"🏆"},{id:"products",label:"Produtos",icon:"🫒"}].map(g=>m.jsxs("button",{onClick:()=>i(g.id),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${n===g.id?"bg-brand-green text-white shadow-md":"text-gray-600 hover:text-brand-green"}`,children:[m.jsx("span",{className:"mr-2",children:g.icon}),g.label]},g.id))})}),n==="producers"&&m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:o.map(g=>m.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[m.jsxs("div",{className:"h-48 overflow-hidden relative",children:[m.jsx("img",{src:g.imageUrl,alt:g.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),m.jsxs("div",{className:"absolute top-4 right-4 bg-yellow-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:[g.awards.length," Prêmios"]}),g.tourAvailable&&m.jsx("div",{className:"absolute top-4 left-4 bg-brand-green text-white px-3 py-1 rounded-full text-sm font-semibold",children:"✓ Visitas"})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-brand-dark-green mb-1",children:g.brand}),m.jsx("p",{className:"text-gray-600 text-sm",children:g.name})]}),m.jsx("div",{className:"text-right text-sm text-gray-500",children:m.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[m.jsx(Aa,{size:14}),"Desde ",g.founded]})})]}),m.jsx("p",{className:"text-gray-600 mb-4",children:g.description}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[m.jsx(Qt,{size:14}),g.location]}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:g.certifications.map(y=>m.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium",children:["✓ ",y]},y))}),m.jsxs("div",{className:"border-t pt-4 mb-4",children:[m.jsx("h4",{className:"font-semibold text-brand-dark-green mb-2",children:"Prêmios Recentes"}),g.awards.slice(0,2).map(y=>m.jsxs("div",{className:"flex items-center justify-between mb-2 text-sm",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{children:d(y.position)}),m.jsx("span",{className:"font-medium",children:y.name})]}),m.jsx("span",{className:"text-gray-500",children:y.year})]},y.id))]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>e(g),className:"flex-1 bg-brand-green text-white px-4 py-2 rounded-lg font-medium hover:bg-brand-dark-green transition-colors duration-200",children:"Ver Detalhes"}),g.website&&m.jsx("button",{onClick:()=>window.open(g.website,"_blank"),className:"px-4 py-2 border border-brand-green text-brand-green rounded-lg hover:bg-brand-green hover:text-white transition-colors duration-200",children:m.jsx(fS,{size:18})})]})]})]},g.id))}),n==="awards"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-dark-green mb-2",children:"🏆 Galeria de Prêmios"}),m.jsx("p",{className:"text-gray-600",children:"Reconhecimento internacional da qualidade excepcional dos azeites de Caçapava"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r().map(g=>m.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[m.jsxs("div",{className:"text-center mb-4",children:[m.jsx("div",{className:"text-4xl mb-2",children:d(g.position)}),m.jsx("h3",{className:"font-bold text-brand-dark-green mb-1",children:g.name}),m.jsx("p",{className:"text-sm text-gray-600",children:g.brand})]}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"Posição:"}),m.jsx("span",{className:"font-semibold text-yellow-600",children:g.position})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"Categoria:"}),m.jsx("span",{className:"font-medium",children:g.category})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"Competição:"}),m.jsx("span",{className:"font-medium",children:g.competition})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"País:"}),m.jsxs("span",{className:"font-medium flex items-center gap-1",children:[g.international&&m.jsx(yS,{size:12,className:"text-blue-500"}),g.country]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"Ano:"}),m.jsx("span",{className:"font-bold text-brand-green",children:g.year})]})]})]},`${g.id}-${g.producer}`))})]}),n==="products"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-dark-green mb-2",children:"🫒 Produtos Premiados"}),m.jsx("p",{className:"text-gray-600",children:"Azeites extra virgem de qualidade internacional disponíveis para degustação e compra"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l().map(g=>m.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[m.jsxs("div",{className:"h-48 relative overflow-hidden",children:[m.jsx("img",{src:g.imageUrl,alt:g.name,className:"w-full h-full object-cover"}),m.jsx("div",{className:`absolute top-4 right-4 px-3 py-1 rounded-full text-sm font-semibold ${g.availability==="available"?"bg-green-500 text-white":g.availability==="limited"?"bg-yellow-500 text-white":"bg-red-500 text-white"}`,children:g.availability==="available"?"Disponível":g.availability==="limited"?"Limitado":"Esgotado"})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-3",children:[m.jsx("h3",{className:"text-lg font-bold text-brand-dark-green mb-1",children:g.name}),m.jsx("p",{className:"text-sm text-gray-600",children:g.brand}),m.jsx("span",{className:"bg-brand-beige text-brand-dark-green px-2 py-1 rounded text-xs font-medium",children:g.type})]}),m.jsx("p",{className:"text-gray-600 text-sm mb-4",children:g.description}),g.awards.length>0&&m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"font-semibold text-brand-dark-green text-sm mb-2",children:"Prêmios:"}),g.awards.map((y,C)=>m.jsxs("span",{className:"inline-block bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium mr-2 mb-1",children:["🏆 ",y]},C))]}),g.price&&m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("span",{className:"text-2xl font-bold text-brand-green",children:["R$ ",g.price.toFixed(2)]}),m.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${g.availability==="available"?"bg-brand-green text-white hover:bg-brand-dark-green":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:g.availability!=="available",children:g.availability==="available"?"Contatar":"Indisponível"})]})]})]},`${g.id}-${g.producer}`))})]}),t&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsx("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"h-64 overflow-hidden",children:[m.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"}),m.jsx("button",{onClick:()=>e(null),className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70 transition-all",children:"✕"})]}),m.jsxs("div",{className:"p-6",children:[m.jsx("h2",{className:"text-3xl font-bold text-brand-dark-green mb-2",children:t.brand}),m.jsx("p",{className:"text-gray-600 mb-4",children:t.name}),m.jsx("p",{className:"text-gray-700 mb-6",children:t.description}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-brand-dark-green mb-3",children:"🏆 Prêmios"}),m.jsx("div",{className:"space-y-3",children:t.awards.map(g=>m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsx("span",{className:"font-semibold",children:g.name}),m.jsx("span",{className:"text-2xl",children:d(g.position)})]}),m.jsxs("p",{className:"text-sm text-gray-600",children:[g.competition," • ",g.year]}),m.jsxs("p",{className:"text-xs text-gray-500",children:[g.category," • ",g.country]})]},g.id))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-brand-dark-green mb-3",children:"🫒 Produtos"}),m.jsx("div",{className:"space-y-3",children:t.products.map(g=>m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-start mb-1",children:[m.jsx("span",{className:"font-semibold",children:g.name}),g.price&&m.jsxs("span",{className:"text-brand-green font-bold",children:["R$ ",g.price.toFixed(2)]})]}),m.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.description}),m.jsx("span",{className:"bg-brand-beige text-brand-dark-green px-2 py-1 rounded text-xs",children:g.type})]},g.id))})]})]}),m.jsxs("div",{className:"bg-brand-beige p-4 rounded-lg",children:[m.jsx("h3",{className:"font-semibold text-brand-dark-green mb-2",children:"📍 Informações para Visita"}),m.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[m.jsx(Qt,{className:"inline mr-1",size:14}),t.location]}),t.tourAvailable&&m.jsx("p",{className:"text-sm text-green-700 font-medium",children:"✓ Visitas guiadas disponíveis (agendar previamente)"}),t.website&&m.jsx("button",{onClick:()=>window.open(t.website,"_blank"),className:"mt-2 bg-brand-green text-white px-4 py-2 rounded-lg hover:bg-brand-dark-green transition-colors",children:"Visitar Site"})]})]})]})})})]})},so=({title:t,value:e,icon:n,color:i})=>m.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border flex items-start",children:[m.jsx("div",{className:"p-3 rounded-full mr-4",style:{backgroundColor:`${i}20`},children:m.jsx(n,{className:"h-6 w-6",style:{color:i}})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-slate-500 font-medium",children:t}),m.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e})]})]});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Js(t){return t+.5|0}const Kn=(t,e,n)=>Math.max(Math.min(t,n),e);function ks(t){return Kn(Js(t*2.55),0,255)}function Zn(t){return Kn(Js(t*255),0,255)}function Tn(t){return Kn(Js(t/2.55)/100,0,1)}function og(t){return Kn(Js(t*100),0,100)}const jt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jc=[..."0123456789ABCDEF"],fI=t=>jc[t&15],hI=t=>jc[(t&240)>>4]+jc[t&15],ca=t=>(t&240)>>4===(t&15),pI=t=>ca(t.r)&&ca(t.g)&&ca(t.b)&&ca(t.a);function mI(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&jt[t[1]]*17,g:255&jt[t[2]]*17,b:255&jt[t[3]]*17,a:e===5?jt[t[4]]*17:255}:(e===7||e===9)&&(n={r:jt[t[1]]<<4|jt[t[2]],g:jt[t[3]]<<4|jt[t[4]],b:jt[t[5]]<<4|jt[t[6]],a:e===9?jt[t[7]]<<4|jt[t[8]]:255})),n}const gI=(t,e)=>t<255?e(t):"";function xI(t){var e=pI(t)?fI:hI;return t?"#"+e(t.r)+e(t.g)+e(t.b)+gI(t.a,e):void 0}const yI=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ey(t,e,n){const i=e*Math.min(n,1-n),o=(r,l=(r+t/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function vI(t,e,n){const i=(o,r=(o+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function CI(t,e,n){const i=Ey(t,1,.5);let o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)i[o]*=1-e-n,i[o]+=e;return i}function _I(t,e,n,i,o){return t===o?(e-n)/i+(e<n?6:0):e===o?(n-t)/i+2:(t-e)/i+4}function rd(t){const n=t.r/255,i=t.g/255,o=t.b/255,r=Math.max(n,i,o),l=Math.min(n,i,o),d=(r+l)/2;let h,p,g;return r!==l&&(g=r-l,p=d>.5?g/(2-r-l):g/(r+l),h=_I(n,i,o,g,r),h=h*60+.5),[h|0,p||0,d]}function ad(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Zn)}function ld(t,e,n){return ad(Ey,t,e,n)}function SI(t,e,n){return ad(CI,t,e,n)}function TI(t,e,n){return ad(vI,t,e,n)}function ky(t){return(t%360+360)%360}function wI(t){const e=yI.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?ks(+e[5]):Zn(+e[5]));const o=ky(+e[2]),r=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=SI(o,r,l):e[1]==="hsv"?i=TI(o,r,l):i=ld(o,r,l),{r:i[0],g:i[1],b:i[2],a:n}}function bI(t,e){var n=rd(t);n[0]=ky(n[0]+e),n=ld(n),t.r=n[0],t.g=n[1],t.b=n[2]}function NI(t){if(!t)return;const e=rd(t),n=e[0],i=og(e[1]),o=og(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${o}%, ${Tn(t.a)})`:`hsl(${n}, ${i}%, ${o}%)`}const sg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function EI(){const t={},e=Object.keys(rg),n=Object.keys(sg);let i,o,r,l,d;for(i=0;i<e.length;i++){for(l=d=e[i],o=0;o<n.length;o++)r=n[o],d=d.replace(r,sg[r]);r=parseInt(rg[l],16),t[d]=[r>>16&255,r>>8&255,r&255]}return t}let da;function kI(t){da||(da=EI(),da.transparent=[0,0,0,0]);const e=da[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const MI=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function PI(t){const e=MI.exec(t);let n=255,i,o,r;if(e){if(e[7]!==i){const l=+e[7];n=e[8]?ks(l):Kn(l*255,0,255)}return i=+e[1],o=+e[3],r=+e[5],i=255&(e[2]?ks(i):Kn(i,0,255)),o=255&(e[4]?ks(o):Kn(o,0,255)),r=255&(e[6]?ks(r):Kn(r,0,255)),{r:i,g:o,b:r,a:n}}}function II(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Tn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ac=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ro=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function AI(t,e,n){const i=ro(Tn(t.r)),o=ro(Tn(t.g)),r=ro(Tn(t.b));return{r:Zn(ac(i+n*(ro(Tn(e.r))-i))),g:Zn(ac(o+n*(ro(Tn(e.g))-o))),b:Zn(ac(r+n*(ro(Tn(e.b))-r))),a:t.a+n*(e.a-t.a)}}function fa(t,e,n){if(t){let i=rd(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=ld(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function My(t,e){return t&&Object.assign(e||{},t)}function ag(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Zn(t[3]))):(e=My(t,{r:0,g:0,b:0,a:1}),e.a=Zn(e.a)),e}function RI(t){return t.charAt(0)==="r"?PI(t):wI(t)}class Us{constructor(e){if(e instanceof Us)return e;const n=typeof e;let i;n==="object"?i=ag(e):n==="string"&&(i=mI(e)||kI(e)||RI(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=My(this._rgb);return e&&(e.a=Tn(e.a)),e}set rgb(e){this._rgb=ag(e)}rgbString(){return this._valid?II(this._rgb):void 0}hexString(){return this._valid?xI(this._rgb):void 0}hslString(){return this._valid?NI(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,o=e.rgb;let r;const l=n===r?.5:n,d=2*l-1,h=i.a-o.a,p=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;r=1-p,i.r=255&p*i.r+r*o.r+.5,i.g=255&p*i.g+r*o.g+.5,i.b=255&p*i.b+r*o.b+.5,i.a=l*i.a+(1-l)*o.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=AI(this._rgb,e._rgb,n)),this}clone(){return new Us(this.rgb)}alpha(e){return this._rgb.a=Zn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Js(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return fa(this._rgb,2,e),this}darken(e){return fa(this._rgb,2,-e),this}saturate(e){return fa(this._rgb,1,e),this}desaturate(e){return fa(this._rgb,1,-e),this}rotate(e){return bI(this._rgb,e),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Cn(){}const DI=(()=>{let t=0;return()=>t++})();function Be(t){return t===null||typeof t>"u"}function nt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function be(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ot(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function on(t,e){return Ot(t)?t:e}function ke(t,e){return typeof t>"u"?e:t}const LI=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Py=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function je(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ae(t,e,n,i){let o,r,l;if(nt(t))for(r=t.length,o=0;o<r;o++)e.call(n,t[o],o);else if(be(t))for(l=Object.keys(t),r=l.length,o=0;o<r;o++)e.call(n,t[l[o]],l[o])}function Fa(t,e){let n,i,o,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(o=t[n],r=e[n],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function Ua(t){if(nt(t))return t.map(Ua);if(be(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let o=0;for(;o<i;++o)e[n[o]]=Ua(t[n[o]]);return e}return t}function Iy(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function FI(t,e,n,i){if(!Iy(t))return;const o=e[t],r=n[t];be(o)&&be(r)?Vs(o,r,i):e[t]=Ua(r)}function Vs(t,e,n){const i=nt(e)?e:[e],o=i.length;if(!be(t))return t;n=n||{};const r=n.merger||FI;let l;for(let d=0;d<o;++d){if(l=i[d],!be(l))continue;const h=Object.keys(l);for(let p=0,g=h.length;p<g;++p)r(h[p],t,l,n)}return t}function As(t,e){return Vs(t,e,{merger:UI})}function UI(t,e,n){if(!Iy(t))return;const i=e[t],o=n[t];be(i)&&be(o)?As(i,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ua(o))}const lg={"":t=>t,x:t=>t.x,y:t=>t.y};function VI(t){const e=t.split("."),n=[];let i="";for(const o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function jI(t){const e=VI(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Mi(t,e){return(lg[e]||(lg[e]=jI(e)))(t)}function ud(t){return t.charAt(0).toUpperCase()+t.slice(1)}const js=t=>typeof t<"u",ti=t=>typeof t=="function",ug=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function BI(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ze=Math.PI,Xe=2*Ze,Va=Number.POSITIVE_INFINITY,zI=Ze/180,it=Ze/2,yi=Ze/4,cg=Ze*2/3,Ay=Math.log10,ei=Math.sign;function Na(t,e,n){return Math.abs(t-e)<n}function dg(t){const e=Math.round(t);t=Na(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ay(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function OI(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((o,r)=>o-r).pop(),e}function ja(t){return!isNaN(parseFloat(t))&&isFinite(t)}function HI(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function $I(t,e,n){let i,o,r;for(i=0,o=t.length;i<o;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function wn(t){return t*(Ze/180)}function qI(t){return t*(180/Ze)}function fg(t){if(!Ot(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Ry(t,e){const n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Ze&&(r+=Xe),{angle:r,distance:o}}function GI(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vi(t){return(t%Xe+Xe)%Xe}function Ba(t,e,n,i){const o=vi(t),r=vi(e),l=vi(n),d=vi(r-o),h=vi(l-o),p=vi(o-r),g=vi(o-l);return o===r||o===l||i&&r===l||d>h&&p<g}function Nt(t,e,n){return Math.max(e,Math.min(n,t))}function WI(t){return Nt(t,-32768,32767)}function Ti(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function cd(t,e,n){n=n||(l=>t[l]<e);let i=t.length-1,o=0,r;for(;i-o>1;)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const Bc=(t,e,n,i)=>cd(t,n,i?o=>{const r=t[o][e];return r<n||r===n&&t[o+1][e]===n}:o=>t[o][e]<n),JI=(t,e,n)=>cd(t,n,i=>t[i][e]>=n);function YI(t,e,n){let i=0,o=t.length;for(;i<o&&t[i]<e;)i++;for(;o>i&&t[o-1]>n;)o--;return i>0||o<t.length?t.slice(i,o):t}const Dy=["push","pop","shift","splice","unshift"];function KI(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Dy.forEach(n=>{const i="_onData"+ud(n),o=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const l=o.apply(this,r);return t._chartjs.listeners.forEach(d=>{typeof d[i]=="function"&&d[i](...r)}),l}})})}function hg(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(Dy.forEach(r=>{delete t[r]}),delete t._chartjs)}function Ly(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Fy=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Uy(t,e){let n=[],i=!1;return function(...o){n=o,i||(i=!0,Fy.call(window,()=>{i=!1,t.apply(e,n)}))}}function QI(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const dd=t=>t==="start"?"left":t==="end"?"right":"center",ht=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,XI=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,ha=t=>t===0||t===1,pg=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Xe/n)),mg=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Xe/n)+1,Rs={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*it)+1,easeOutSine:t=>Math.sin(t*it),easeInOutSine:t=>-.5*(Math.cos(Ze*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ha(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ha(t)?t:pg(t,.075,.3),easeOutElastic:t=>ha(t)?t:mg(t,.075,.3),easeInOutElastic(t){return ha(t)?t:t<.5?.5*pg(t*2,.1125,.45):.5+.5*mg(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Rs.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Rs.easeInBounce(t*2)*.5:Rs.easeOutBounce(t*2-1)*.5+.5};function Vy(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function gg(t){return Vy(t)?t:new Us(t)}function lc(t){return Vy(t)?t:new Us(t).saturate(.5).darken(.1).hexString()}const ZI=["x","y","borderWidth","radius","tension"],eA=["color","borderColor","backgroundColor"];function tA(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:eA},numbers:{type:"number",properties:ZI}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function nA(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const xg=new Map;function iA(t,e){e=e||{};const n=t+JSON.stringify(e);let i=xg.get(n);return i||(i=new Intl.NumberFormat(t,e),xg.set(n,i)),i}function fd(t,e,n){return iA(e,n).format(t)}const oA={values(t){return nt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let o,r=t;if(n.length>1){const p=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(p<1e-4||p>1e15)&&(o="scientific"),r=sA(t,n)}const l=Ay(Math.abs(r)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:o,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),fd(t,i,h)}};function sA(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var jy={formatters:oA};function rA(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Pi=Object.create(null),zc=Object.create(null);function Ds(t,e){if(!e)return t;const n=e.split(".");for(let i=0,o=n.length;i<o;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function uc(t,e,n){return typeof e=="string"?Vs(Ds(t,e),n):Vs(Ds(t,""),e)}class aA{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>lc(o.backgroundColor),this.hoverBorderColor=(i,o)=>lc(o.borderColor),this.hoverColor=(i,o)=>lc(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return uc(this,e,n)}get(e){return Ds(this,e)}describe(e,n){return uc(zc,e,n)}override(e,n){return uc(Pi,e,n)}route(e,n,i,o){const r=Ds(this,e),l=Ds(this,i),d="_"+n;Object.defineProperties(r,{[d]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[d],p=l[o];return be(h)?Object.assign({},p,h):ke(h,p)},set(h){this[d]=h}}})}apply(e){e.forEach(n=>n(this))}}var Ke=new aA({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[tA,nA,rA]);function lA(t){return!t||Be(t.size)||Be(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function yg(t,e,n,i,o){let r=e[o];return r||(r=e[o]=t.measureText(o).width,n.push(o)),r>i&&(i=r),i}function Ci(t,e,n){const i=t.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((e-o)*i)/i+o}function vg(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Cg(t,e,n,i){By(t,e,n,i,null)}function By(t,e,n,i,o){let r,l,d,h,p,g,y,C;const S=e.pointStyle,w=e.rotation,b=e.radius;let N=(w||0)*zI;if(S&&typeof S=="object"&&(r=S.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(N),t.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),S){default:o?t.ellipse(n,i,o/2,b,0,0,Xe):t.arc(n,i,b,0,Xe),t.closePath();break;case"triangle":g=o?o/2:b,t.moveTo(n+Math.sin(N)*g,i-Math.cos(N)*b),N+=cg,t.lineTo(n+Math.sin(N)*g,i-Math.cos(N)*b),N+=cg,t.lineTo(n+Math.sin(N)*g,i-Math.cos(N)*b),t.closePath();break;case"rectRounded":p=b*.516,h=b-p,l=Math.cos(N+yi)*h,y=Math.cos(N+yi)*(o?o/2-p:h),d=Math.sin(N+yi)*h,C=Math.sin(N+yi)*(o?o/2-p:h),t.arc(n-y,i-d,p,N-Ze,N-it),t.arc(n+C,i-l,p,N-it,N),t.arc(n+y,i+d,p,N,N+it),t.arc(n-C,i+l,p,N+it,N+Ze),t.closePath();break;case"rect":if(!w){h=Math.SQRT1_2*b,g=o?o/2:h,t.rect(n-g,i-h,2*g,2*h);break}N+=yi;case"rectRot":y=Math.cos(N)*(o?o/2:b),l=Math.cos(N)*b,d=Math.sin(N)*b,C=Math.sin(N)*(o?o/2:b),t.moveTo(n-y,i-d),t.lineTo(n+C,i-l),t.lineTo(n+y,i+d),t.lineTo(n-C,i+l),t.closePath();break;case"crossRot":N+=yi;case"cross":y=Math.cos(N)*(o?o/2:b),l=Math.cos(N)*b,d=Math.sin(N)*b,C=Math.sin(N)*(o?o/2:b),t.moveTo(n-y,i-d),t.lineTo(n+y,i+d),t.moveTo(n+C,i-l),t.lineTo(n-C,i+l);break;case"star":y=Math.cos(N)*(o?o/2:b),l=Math.cos(N)*b,d=Math.sin(N)*b,C=Math.sin(N)*(o?o/2:b),t.moveTo(n-y,i-d),t.lineTo(n+y,i+d),t.moveTo(n+C,i-l),t.lineTo(n-C,i+l),N+=yi,y=Math.cos(N)*(o?o/2:b),l=Math.cos(N)*b,d=Math.sin(N)*b,C=Math.sin(N)*(o?o/2:b),t.moveTo(n-y,i-d),t.lineTo(n+y,i+d),t.moveTo(n+C,i-l),t.lineTo(n-C,i+l);break;case"line":l=o?o/2:Math.cos(N)*b,d=Math.sin(N)*b,t.moveTo(n-l,i-d),t.lineTo(n+l,i+d);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(N)*(o?o/2:b),i+Math.sin(N)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function zy(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function hd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function pd(t){t.restore()}function uA(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Be(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function cA(t,e,n,i,o){if(o.strikethrough||o.underline){const r=t.measureText(i),l=e-r.actualBoundingBoxLeft,d=e+r.actualBoundingBoxRight,h=n-r.actualBoundingBoxAscent,p=n+r.actualBoundingBoxDescent,g=o.strikethrough?(h+p)/2:p;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(l,g),t.lineTo(d,g),t.stroke()}}function dA(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Bs(t,e,n,i,o,r={}){const l=nt(e)?e:[e],d=r.strokeWidth>0&&r.strokeColor!=="";let h,p;for(t.save(),t.font=o.string,uA(t,r),h=0;h<l.length;++h)p=l[h],r.backdrop&&dA(t,r.backdrop),d&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Be(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(p,n,i,r.maxWidth)),t.fillText(p,n,i,r.maxWidth),cA(t,n,i,p,r),i+=Number(o.lineHeight);t.restore()}function za(t,e){const{x:n,y:i,w:o,h:r,radius:l}=e;t.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*Ze,Ze,!0),t.lineTo(n,i+r-l.bottomLeft),t.arc(n+l.bottomLeft,i+r-l.bottomLeft,l.bottomLeft,Ze,it,!0),t.lineTo(n+o-l.bottomRight,i+r),t.arc(n+o-l.bottomRight,i+r-l.bottomRight,l.bottomRight,it,0,!0),t.lineTo(n+o,i+l.topRight),t.arc(n+o-l.topRight,i+l.topRight,l.topRight,0,-it,!0),t.lineTo(n+l.topLeft,i)}const fA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,hA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pA(t,e){const n=(""+t).match(fA);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const mA=t=>+t||0;function md(t,e){const n={},i=be(e),o=i?Object.keys(e):e,r=be(t)?i?l=>ke(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of o)n[l]=mA(r(l));return n}function Oy(t){return md(t,{top:"y",right:"x",bottom:"y",left:"x"})}function yo(t){return md(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ht(t){const e=Oy(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function mt(t,e){t=t||{},e=e||Ke.font;let n=ke(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=ke(t.style,e.style);i&&!(""+i).match(hA)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:ke(t.family,e.family),lineHeight:pA(ke(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:ke(t.weight,e.weight),string:""};return o.string=lA(o),o}function pa(t,e,n,i){let o,r,l;for(o=0,r=t.length;o<r;++o)if(l=t[o],l!==void 0&&l!==void 0)return l}function gA(t,e,n){const{min:i,max:o}=t,r=Py(e,(o-i)/2),l=(d,h)=>n&&d===0?0:d+h;return{min:l(i,-Math.abs(r)),max:l(o,r)}}function Po(t,e){return Object.assign(Object.create(t),e)}function gd(t,e=[""],n,i,o=()=>t[0]){const r=n||t;typeof i>"u"&&(i=Gy("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:o,override:d=>gd([d,...t],e,r,i)};return new Proxy(l,{deleteProperty(d,h){return delete d[h],delete d._keys,delete t[0][h],!0},get(d,h){return $y(d,h,()=>wA(h,e,t,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,h){return Sg(d).includes(h)},ownKeys(d){return Sg(d)},set(d,h,p){const g=d._storage||(d._storage=o());return d[h]=g[h]=p,delete d._keys,!0}})}function To(t,e,n,i){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Hy(t,i),setContext:r=>To(t,r,n,i),override:r=>To(t.override(r),e,n,i)};return new Proxy(o,{deleteProperty(r,l){return delete r[l],delete t[l],!0},get(r,l,d){return $y(r,l,()=>yA(r,l,d))},getOwnPropertyDescriptor(r,l){return r._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(r,l,d){return t[l]=d,delete r[l],!0}})}function Hy(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:n,indexable:i,isScriptable:ti(n)?n:()=>n,isIndexable:ti(i)?i:()=>i}}const xA=(t,e)=>t?t+ud(e):e,xd=(t,e)=>be(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function $y(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function yA(t,e,n){const{_proxy:i,_context:o,_subProxy:r,_descriptors:l}=t;let d=i[e];return ti(d)&&l.isScriptable(e)&&(d=vA(e,d,t,n)),nt(d)&&d.length&&(d=CA(e,d,t,l.isIndexable)),xd(e,d)&&(d=To(d,o,r&&r[e],l)),d}function vA(t,e,n,i){const{_proxy:o,_context:r,_subProxy:l,_stack:d}=n;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let h=e(r,l||i);return d.delete(t),xd(t,h)&&(h=yd(o._scopes,o,t,h)),h}function CA(t,e,n,i){const{_proxy:o,_context:r,_subProxy:l,_descriptors:d}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(be(e[0])){const h=e,p=o._scopes.filter(g=>g!==h);e=[];for(const g of h){const y=yd(p,o,t,g);e.push(To(y,r,l&&l[t],d))}}return e}function qy(t,e,n){return ti(t)?t(e,n):t}const _A=(t,e)=>t===!0?e:typeof t=="string"?Mi(e,t):void 0;function SA(t,e,n,i,o){for(const r of e){const l=_A(n,r);if(l){t.add(l);const d=qy(l._fallback,n,o);if(typeof d<"u"&&d!==n&&d!==i)return d}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function yd(t,e,n,i){const o=e._rootScopes,r=qy(e._fallback,n,i),l=[...t,...o],d=new Set;d.add(i);let h=_g(d,l,n,r||n,i);return h===null||typeof r<"u"&&r!==n&&(h=_g(d,l,r,h,i),h===null)?!1:gd(Array.from(d),[""],o,r,()=>TA(e,n,i))}function _g(t,e,n,i,o){for(;n;)n=SA(t,e,n,i,o);return n}function TA(t,e,n){const i=t._getTarget();e in i||(i[e]={});const o=i[e];return nt(o)&&be(n)?n:o||{}}function wA(t,e,n,i){let o;for(const r of e)if(o=Gy(xA(r,t),n),typeof o<"u")return xd(t,o)?yd(n,i,t,o):o}function Gy(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Sg(t){let e=t._keys;return e||(e=t._keys=bA(t._scopes)),e}function bA(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}function vd(){return typeof window<"u"&&typeof document<"u"}function Cd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Oa(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const nl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function NA(t,e){return nl(t).getPropertyValue(e)}const EA=["top","right","bottom","left"];function Ni(t,e,n){const i={};n=n?"-"+n:"";for(let o=0;o<4;o++){const r=EA[o];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const kA=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function MA(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:o,offsetY:r}=i;let l=!1,d,h;if(kA(o,r,t.target))d=o,h=r;else{const p=e.getBoundingClientRect();d=i.clientX-p.left,h=i.clientY-p.top,l=!0}return{x:d,y:h,box:l}}function Si(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,o=nl(n),r=o.boxSizing==="border-box",l=Ni(o,"padding"),d=Ni(o,"border","width"),{x:h,y:p,box:g}=MA(t,n),y=l.left+(g&&d.left),C=l.top+(g&&d.top);let{width:S,height:w}=e;return r&&(S-=l.width+d.width,w-=l.height+d.height),{x:Math.round((h-y)/S*n.width/i),y:Math.round((p-C)/w*n.height/i)}}function PA(t,e,n){let i,o;if(e===void 0||n===void 0){const r=Cd(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const l=r.getBoundingClientRect(),d=nl(r),h=Ni(d,"border","width"),p=Ni(d,"padding");e=l.width-p.width-h.width,n=l.height-p.height-h.height,i=Oa(d.maxWidth,r,"clientWidth"),o=Oa(d.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||Va,maxHeight:o||Va}}const ma=t=>Math.round(t*10)/10;function IA(t,e,n,i){const o=nl(t),r=Ni(o,"margin"),l=Oa(o.maxWidth,t,"clientWidth")||Va,d=Oa(o.maxHeight,t,"clientHeight")||Va,h=PA(t,e,n);let{width:p,height:g}=h;if(o.boxSizing==="content-box"){const C=Ni(o,"border","width"),S=Ni(o,"padding");p-=S.width+C.width,g-=S.height+C.height}return p=Math.max(0,p-r.width),g=Math.max(0,i?p/i:g-r.height),p=ma(Math.min(p,l,h.maxWidth)),g=ma(Math.min(g,d,h.maxHeight)),p&&!g&&(g=ma(p/2)),(e!==void 0||n!==void 0)&&i&&h.height&&g>h.height&&(g=h.height,p=ma(Math.floor(g*i))),{width:p,height:g}}function Tg(t,e,n){const i=e||1,o=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||l.height!==o||l.width!==r?(t.currentDevicePixelRatio=i,l.height=o,l.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const AA=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};vd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function wg(t,e){const n=NA(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const RA=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},DA=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function vo(t,e,n){return t?RA(e,n):DA()}function Wy(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Jy(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class LA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,o){const r=n.listeners[o],l=n.duration;r.forEach(d=>d({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Fy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const r=i.items;let l=r.length-1,d=!1,h;for(;l>=0;--l)h=r[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),d=!0):(r[l]=r[r.length-1],r.pop());d&&(o.draw(),this._notify(o,i,e,"progress")),r.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var _n=new LA;const bg="transparent",FA={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=gg(t||bg),o=i.valid&&gg(e||bg);return o&&o.valid?o.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class UA{constructor(e,n,i,o){const r=n[i];o=pa([e.to,o,r,e.from]);const l=pa([e.from,r,o]);this._active=!0,this._fn=e.fn||FA[e.type||typeof l],this._easing=Rs[e.easing]||Rs.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const o=this._target[this._prop],r=i-this._start,l=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=pa([e.to,n,o,e.from]),this._from=pa([e.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,o=this._prop,r=this._from,l=this._loop,d=this._to;let h;if(this._active=r!==d&&(l||n<i),!this._active){this._target[o]=d,this._notify(!0);return}if(n<0){this._target[o]=r;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[o]=this._fn(r,d,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][n]()}}class Yy{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!be(e))return;const n=Object.keys(Ke.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const r=e[o];if(!be(r))return;const l={};for(const d of n)l[d]=r[d];(nt(r.properties)&&r.properties||[o]).forEach(d=>{(d===o||!i.has(d))&&i.set(d,l)})})}_animateOptions(e,n){const i=n.options,o=jA(e,i);if(!o)return[];const r=this._createAnimations(o,i);return i.$shared&&VA(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,o=[],r=e.$animations||(e.$animations={}),l=Object.keys(n),d=Date.now();let h;for(h=l.length-1;h>=0;--h){const p=l[h];if(p.charAt(0)==="$")continue;if(p==="options"){o.push(...this._animateOptions(e,n));continue}const g=n[p];let y=r[p];const C=i.get(p);if(y)if(C&&y.active()){y.update(C,g,d);continue}else y.cancel();if(!C||!C.duration){e[p]=g;continue}r[p]=y=new UA(C,e,p,g),o.push(y)}return o}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return _n.add(this._chart,i),!0}}function VA(t,e){const n=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const r=t[i[o]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function jA(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Ng(t,e){const n=t&&t.options||{},i=n.reverse,o=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:o,end:i?o:r}}function BA(t,e,n){if(n===!1)return!1;const i=Ng(t,n),o=Ng(e,n);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function zA(t){let e,n,i,o;return be(t)?(e=t.top,n=t.right,i=t.bottom,o=t.left):e=n=i=o=t,{top:e,right:n,bottom:i,left:o,disabled:t===!1}}function Ky(t,e){const n=[],i=t._getSortedDatasetMetas(e);let o,r;for(o=0,r=i.length;o<r;++o)n.push(i[o].index);return n}function Eg(t,e,n,i={}){const o=t.keys,r=i.mode==="single";let l,d,h,p;if(e!==null){for(l=0,d=o.length;l<d;++l){if(h=+o[l],h===n){if(i.all)continue;break}p=t.values[h],Ot(p)&&(r||e===0||ei(e)===ei(p))&&(e+=p)}return e}}function OA(t){const e=Object.keys(t),n=new Array(e.length);let i,o,r;for(i=0,o=e.length;i<o;++i)r=e[i],n[i]={x:r,y:t[r]};return n}function kg(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function HA(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function $A(t){const{min:e,max:n,minDefined:i,maxDefined:o}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function qA(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Mg(t,e,n,i){for(const o of e.getMatchingVisibleMetas(i).reverse()){const r=t[o.index];if(n&&r>0||!n&&r<0)return o.index}return null}function Pg(t,e){const{chart:n,_cachedMeta:i}=t,o=n._stacks||(n._stacks={}),{iScale:r,vScale:l,index:d}=i,h=r.axis,p=l.axis,g=HA(r,l,i),y=e.length;let C;for(let S=0;S<y;++S){const w=e[S],{[h]:b,[p]:N}=w,M=w._stacks||(w._stacks={});C=M[p]=qA(o,g,b),C[d]=N,C._top=Mg(C,l,!0,i.type),C._bottom=Mg(C,l,!1,i.type);const I=C._visualValues||(C._visualValues={});I[d]=N}}function cc(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function GA(t,e){return Po(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function WA(t,e,n){return Po(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ss(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const o of e){const r=o._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const dc=t=>t==="reset"||t==="none",Ig=(t,e)=>e?t:Object.assign({},t),JA=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Ky(n,!0),values:null};class Co{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=kg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ss(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),o=(y,C,S,w)=>y==="x"?C:y==="r"?w:S,r=n.xAxisID=ke(i.xAxisID,cc(e,"x")),l=n.yAxisID=ke(i.yAxisID,cc(e,"y")),d=n.rAxisID=ke(i.rAxisID,cc(e,"r")),h=n.indexAxis,p=n.iAxisID=o(h,r,l,d),g=n.vAxisID=o(h,l,r,d);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(p),n.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&hg(this._data,this),e._stacked&&Ss(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(be(n))this._data=OA(n);else if(i!==n){if(i){hg(i,this);const o=this._cachedMeta;Ss(o),o._parsed=[]}n&&Object.isExtensible(n)&&KI(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const r=n._stacked;n._stacked=kg(n.vScale,n),n.stack!==i.stack&&(o=!0,Ss(n),n.stack=i.stack),this._resyncElements(e),(o||r!==n._stacked)&&Pg(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:o}=this,{iScale:r,_stacked:l}=i,d=r.axis;let h=e===0&&n===o.length?!0:i._sorted,p=e>0&&i._parsed[e-1],g,y,C;if(this._parsing===!1)i._parsed=o,i._sorted=!0,C=o;else{nt(o[e])?C=this.parseArrayData(i,o,e,n):be(o[e])?C=this.parseObjectData(i,o,e,n):C=this.parsePrimitiveData(i,o,e,n);const S=()=>y[d]===null||p&&y[d]<p[d];for(g=0;g<n;++g)i._parsed[g+e]=y=C[g],h&&(S()&&(h=!1),p=y);i._sorted=h}l&&Pg(this,C)}parsePrimitiveData(e,n,i,o){const{iScale:r,vScale:l}=e,d=r.axis,h=l.axis,p=r.getLabels(),g=r===l,y=new Array(o);let C,S,w;for(C=0,S=o;C<S;++C)w=C+i,y[C]={[d]:g||r.parse(p[w],w),[h]:l.parse(n[w],w)};return y}parseArrayData(e,n,i,o){const{xScale:r,yScale:l}=e,d=new Array(o);let h,p,g,y;for(h=0,p=o;h<p;++h)g=h+i,y=n[g],d[h]={x:r.parse(y[0],g),y:l.parse(y[1],g)};return d}parseObjectData(e,n,i,o){const{xScale:r,yScale:l}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,p=new Array(o);let g,y,C,S;for(g=0,y=o;g<y;++g)C=g+i,S=n[C],p[g]={x:r.parse(Mi(S,d),C),y:l.parse(Mi(S,h),C)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const o=this.chart,r=this._cachedMeta,l=n[e.axis],d={keys:Ky(o,!0),values:n._stacks[e.axis]._visualValues};return Eg(d,l,r.index,{mode:i})}updateRangeFromParsed(e,n,i,o){const r=i[n.axis];let l=r===null?NaN:r;const d=o&&i._stacks[n.axis];o&&d&&(o.values=d,l=Eg(o,r,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const i=this._cachedMeta,o=i._parsed,r=i._sorted&&e===i.iScale,l=o.length,d=this._getOtherScale(e),h=JA(n,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=$A(d);let C,S;function w(){S=o[C];const b=S[d.axis];return!Ot(S[e.axis])||g>b||y<b}for(C=0;C<l&&!(!w()&&(this.updateRangeFromParsed(p,e,S,h),r));++C);if(r){for(C=l-1;C>=0;--C)if(!w()){this.updateRangeFromParsed(p,e,S,h);break}}return p}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let o,r,l;for(o=0,r=n.length;o<r;++o)l=n[o][e.axis],Ot(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,o=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=zA(ke(this.options.clip,BA(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,o=i.data||[],r=n.chartArea,l=[],d=this._drawStart||0,h=this._drawCount||o.length-d,p=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,r,d,h),g=d;g<d+h;++g){const y=o[g];y.hidden||(y.active&&p?l.push(y):y.draw(e,r))}for(g=0;g<l.length;++g)l[g].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const o=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];r=l.$context||(l.$context=WA(this.getContext(),e,l)),r.parsed=this.getParsed(e),r.raw=o.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=GA(this.chart.getContext(),this.index)),r.dataset=o,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const o=n==="active",r=this._cachedDataOpts,l=e+"-"+n,d=r[l],h=this.enableOptionSharing&&js(i);if(d)return Ig(d,h);const p=this.chart.config,g=p.datasetElementScopeKeys(this._type,e),y=o?[`${e}Hover`,"hover",e,""]:[e,""],C=p.getOptionScopes(this.getDataset(),g),S=Object.keys(Ke.elements[e]),w=()=>this.getContext(i,o,n),b=p.resolveNamedOptions(C,S,w,y);return b.$shared&&(b.$shared=h,r[l]=Object.freeze(Ig(b,h))),b}_resolveAnimations(e,n,i){const o=this.chart,r=this._cachedDataOpts,l=`animation-${n}`,d=r[l];if(d)return d;let h;if(o.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,n),C=g.getOptionScopes(this.getDataset(),y);h=g.createResolver(C,this.getContext(e,i,n))}const p=new Yy(o,h&&h.animations);return h&&h._cacheable&&(r[l]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||dc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),o=this._sharedOptions,r=this.getSharedOptions(i),l=this.includeOptions(n,r)||r!==o;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:l}}updateElement(e,n,i,o){dc(o)?Object.assign(e,i):this._resolveAnimations(n,o).update(e,i)}updateSharedOptions(e,n,i){e&&!dc(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,o){e.active=o;const r=this.getStyle(n,o);this._resolveAnimations(n,i,o).update(e,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[d,h,p]of this._syncList)this[d](h,p);this._syncList=[];const o=i.length,r=n.length,l=Math.min(r,o);l&&this.parse(0,l),r>o?this._insertElements(o,r-o,e):r<o&&this._removeElements(r,o-r)}_insertElements(e,n,i=!0){const o=this._cachedMeta,r=o.data,l=e+n;let d;const h=p=>{for(p.length+=n,d=p.length-1;d>=l;d--)p[d]=p[d-n]};for(h(r),d=e;d<l;++d)r[d]=new this.dataElementType;this._parsing&&h(o._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,o){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,n);i._stacked&&Ss(i,o)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,o]=e;this[n](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}de(Co,"defaults",{}),de(Co,"datasetElementType",null),de(Co,"dataElementType",null);function YA(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let o=0,r=n.length;o<r;o++)i=i.concat(n[o].controller.getAllParsedValues(t));t._cache.$bar=Ly(i.sort((o,r)=>o-r))}return t._cache.$bar}function KA(t){const e=t.iScale,n=YA(e,t.type);let i=e._length,o,r,l,d;const h=()=>{l===32767||l===-32768||(js(d)&&(i=Math.min(i,Math.abs(l-d)||i)),d=l)};for(o=0,r=n.length;o<r;++o)l=e.getPixelForValue(n[o]),h();for(d=void 0,o=0,r=e.ticks.length;o<r;++o)l=e.getPixelForTick(o),h();return i}function QA(t,e,n,i){const o=n.barThickness;let r,l;return Be(o)?(r=e.min*n.categoryPercentage,l=n.barPercentage):(r=o*i,l=1),{chunk:r/i,ratio:l,start:e.pixels[t]-r/2}}function XA(t,e,n,i){const o=e.pixels,r=o[t];let l=t>0?o[t-1]:null,d=t<o.length-1?o[t+1]:null;const h=n.categoryPercentage;l===null&&(l=r-(d===null?e.end-e.start:d-r)),d===null&&(d=r+r-l);const p=r-(r-Math.min(l,d))/2*h;return{chunk:Math.abs(d-l)/2*h/i,ratio:n.barPercentage,start:p}}function ZA(t,e,n,i){const o=n.parse(t[0],i),r=n.parse(t[1],i),l=Math.min(o,r),d=Math.max(o,r);let h=l,p=d;Math.abs(l)>Math.abs(d)&&(h=d,p=l),e[n.axis]=p,e._custom={barStart:h,barEnd:p,start:o,end:r,min:l,max:d}}function Qy(t,e,n,i){return nt(t)?ZA(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Ag(t,e,n,i){const o=t.iScale,r=t.vScale,l=o.getLabels(),d=o===r,h=[];let p,g,y,C;for(p=n,g=n+i;p<g;++p)C=e[p],y={},y[o.axis]=d||o.parse(l[p],p),h.push(Qy(C,y,r,p));return h}function fc(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function eR(t,e,n){return t!==0?ei(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function tR(t){let e,n,i,o,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(o="end",r="start"):(o="start",r="end"),{start:n,end:i,reverse:e,top:o,bottom:r}}function nR(t,e,n,i){let o=e.borderSkipped;const r={};if(!o){t.borderSkipped=r;return}if(o===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:d,reverse:h,top:p,bottom:g}=tR(t);o==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?o=p:(n._bottom||0)===i?o=g:(r[Rg(g,l,d,h)]=!0,o=p)),r[Rg(o,l,d,h)]=!0,t.borderSkipped=r}function Rg(t,e,n,i){return i?(t=iR(t,e,n),t=Dg(t,n,e)):t=Dg(t,e,n),t}function iR(t,e,n){return t===e?n:t===n?e:t}function Dg(t,e,n){return t==="start"?e:t==="end"?n:t}function oR(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ea extends Co{parsePrimitiveData(e,n,i,o){return Ag(e,n,i,o)}parseArrayData(e,n,i,o){return Ag(e,n,i,o)}parseObjectData(e,n,i,o){const{iScale:r,vScale:l}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,p=r.axis==="x"?d:h,g=l.axis==="x"?d:h,y=[];let C,S,w,b;for(C=i,S=i+o;C<S;++C)b=n[C],w={},w[r.axis]=r.parse(Mi(b,p),C),y.push(Qy(Mi(b,g),w,l,C));return y}updateRangeFromParsed(e,n,i,o){super.updateRangeFromParsed(e,n,i,o);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:o}=n,r=this.getParsed(e),l=r._custom,d=fc(l)?"["+l.start+", "+l.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,o){const r=o==="reset",{index:l,_cachedMeta:{vScale:d}}=this,h=d.getBasePixel(),p=d.isHorizontal(),g=this._getRuler(),{sharedOptions:y,includeOptions:C}=this._getSharedOptions(n,o);for(let S=n;S<n+i;S++){const w=this.getParsed(S),b=r||Be(w[d.axis])?{base:h,head:h}:this._calculateBarValuePixels(S),N=this._calculateBarIndexPixels(S,g),M=(w._stacks||{})[d.axis],I={horizontal:p,base:b.base,enableBorderRadius:!M||fc(w._custom)||l===M._top||l===M._bottom,x:p?b.head:N.center,y:p?N.center:b.head,height:p?N.size:Math.abs(b.size),width:p?Math.abs(b.size):N.size};C&&(I.options=y||this.resolveDataElementOptions(S,e[S].active?"active":o));const A=I.options||e[S].options;nR(I,A,M,l),oR(I,A,g.ratio),this.updateElement(e[S],S,I,o)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=i.options.stacked,l=[],d=h=>{const p=h.controller.getParsed(n),g=p&&p[h.vScale.axis];if(Be(g)||isNaN(g))return!0};for(const h of o)if(!(n!==void 0&&d(h))&&((r===!1||l.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&l.push(h.stack),h.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const o=this._getStacks(e,i),r=n!==void 0?o.indexOf(n):-1;return r===-1?o.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,o=[];let r,l;for(r=0,l=n.data.length;r<l;++r)o.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const d=e.barThickness;return{min:d||KA(n),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:o},options:{base:r,minBarLength:l}}=this,d=r||0,h=this.getParsed(e),p=h._custom,g=fc(p);let y=h[n.axis],C=0,S=i?this.applyStack(n,h,i):y,w,b;S!==y&&(C=S-y,S=y),g&&(y=p.barStart,S=p.barEnd-p.barStart,y!==0&&ei(y)!==ei(p.barEnd)&&(C=0),C+=y);const N=!Be(r)&&!g?r:C;let M=n.getPixelForValue(N);if(this.chart.getDataVisibility(e)?w=n.getPixelForValue(C+S):w=M,b=w-M,Math.abs(b)<l){b=eR(b,n,d)*l,y===d&&(M-=b/2);const I=n.getPixelForDecimal(0),A=n.getPixelForDecimal(1),D=Math.min(I,A),L=Math.max(I,A);M=Math.max(Math.min(M,L),D),w=M+b,i&&!g&&(h._stacks[n.axis]._visualValues[o]=n.getValueForPixel(w)-n.getValueForPixel(M))}if(M===n.getPixelForValue(d)){const I=ei(b)*n.getLineWidthForValue(d)/2;M+=I,b-=I}return{size:b,base:M,head:w,center:w+b/2}}_calculateBarIndexPixels(e,n){const i=n.scale,o=this.options,r=o.skipNull,l=ke(o.maxBarThickness,1/0);let d,h;if(n.grouped){const p=r?this._getStackCount(e):n.stackCount,g=o.barThickness==="flex"?XA(e,n,o,p):QA(e,n,o,p),y=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);d=g.start+g.chunk*y+g.chunk/2,h=Math.min(l,g.chunk*g.ratio)}else d=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(l,n.min*n.ratio);return{base:d-h/2,head:d+h/2,center:d,size:h}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,o=i.length;let r=0;for(;r<o;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}de(Ea,"id","bar"),de(Ea,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),de(Ea,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function sR(t,e,n){let i=1,o=1,r=0,l=0;if(e<Xe){const d=t,h=d+e,p=Math.cos(d),g=Math.sin(d),y=Math.cos(h),C=Math.sin(h),S=(A,D,L)=>Ba(A,d,h,!0)?1:Math.max(D,D*n,L,L*n),w=(A,D,L)=>Ba(A,d,h,!0)?-1:Math.min(D,D*n,L,L*n),b=S(0,p,y),N=S(it,g,C),M=w(Ze,p,y),I=w(Ze+it,g,C);i=(b-M)/2,o=(N-I)/2,r=-(b+M)/2,l=-(N+I)/2}return{ratioX:i,ratioY:o,offsetX:r,offsetY:l}}class ho extends Co{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let r=h=>+i[h];if(be(i[e])){const{key:h="value"}=this._parsing;r=p=>+Mi(i[p],h)}let l,d;for(l=e,d=e+n;l<d;++l)o._parsed[l]=r(l)}}_getRotation(){return wn(this.options.rotation-90)}_getCircumference(){return wn(this.options.circumference)}_getRotationExtents(){let e=Xe,n=-Xe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const o=this.chart.getDatasetMeta(i).controller,r=o._getRotation(),l=o._getCircumference();e=Math.min(e,r),n=Math.max(n,r+l)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,o=this._cachedMeta,r=o.data,l=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,d=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(LI(this.options.cutout,d),1),p=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:C,ratioY:S,offsetX:w,offsetY:b}=sR(y,g,h),N=(i.width-l)/C,M=(i.height-l)/S,I=Math.max(Math.min(N,M)/2,0),A=Py(this.options.radius,I),D=Math.max(A*h,0),L=(A-D)/this._getVisibleDatasetWeightTotal();this.offsetX=w*A,this.offsetY=b*A,o.total=this.calculateTotal(),this.outerRadius=A-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*p,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,o=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*r/Xe)}updateElements(e,n,i,o){const r=o==="reset",l=this.chart,d=l.chartArea,p=l.options.animation,g=(d.left+d.right)/2,y=(d.top+d.bottom)/2,C=r&&p.animateScale,S=C?0:this.innerRadius,w=C?0:this.outerRadius,{sharedOptions:b,includeOptions:N}=this._getSharedOptions(n,o);let M=this._getRotation(),I;for(I=0;I<n;++I)M+=this._circumference(I,r);for(I=n;I<n+i;++I){const A=this._circumference(I,r),D=e[I],L={x:g+this.offsetX,y:y+this.offsetY,startAngle:M,endAngle:M+A,circumference:A,outerRadius:w,innerRadius:S};N&&(L.options=b||this.resolveDataElementOptions(I,D.active?"active":o)),M+=A,this.updateElement(D,I,L,o)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,o;for(o=0;o<n.length;o++){const r=e._parsed[o];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Xe*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,o=i.data.labels||[],r=fd(n._parsed[e],i.options.locale);return{label:o[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let o,r,l,d,h;if(!e){for(o=0,r=i.data.datasets.length;o<r;++o)if(i.isDatasetVisible(o)){l=i.getDatasetMeta(o),e=l.data,d=l.controller;break}}if(!e)return 0;for(o=0,r=e.length;o<r;++o)h=d.resolveDataElementOptions(o),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,o=e.length;i<o;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(ke(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}de(ho,"id","doughnut"),de(ho,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),de(ho,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),de(ho,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:o}}=e.legend.options;return n.labels.map((r,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:o,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Oc extends ho{}de(Oc,"id","pie"),de(Oc,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function _i(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class _d{constructor(e){de(this,"options");this.options=e||{}}static override(e){Object.assign(_d.prototype,e)}init(){}formats(){return _i()}parse(){return _i()}format(){return _i()}add(){return _i()}diff(){return _i()}startOf(){return _i()}endOf(){return _i()}}var rR={_date:_d};function aR(t,e,n,i){const{controller:o,data:r,_sorted:l}=t,d=o._cachedMeta.iScale;if(d&&e===d.axis&&e!=="r"&&l&&r.length){const h=d._reversePixels?JI:Bc;if(i){if(o._sharedOptions){const p=r[0],g=typeof p.getRange=="function"&&p.getRange(e);if(g){const y=h(r,e,n-g),C=h(r,e,n+g);return{lo:y.lo,hi:C.hi}}}}else return h(r,e,n)}return{lo:0,hi:r.length-1}}function il(t,e,n,i,o){const r=t.getSortedVisibleDatasetMetas(),l=n[e];for(let d=0,h=r.length;d<h;++d){const{index:p,data:g}=r[d],{lo:y,hi:C}=aR(r[d],e,l,o);for(let S=y;S<=C;++S){const w=g[S];w.skip||i(w,p,S)}}}function lR(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,o){const r=e?Math.abs(i.x-o.x):0,l=n?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(l,2))}}function hc(t,e,n,i,o){const r=[];return!o&&!t.isPointInArea(e)||il(t,n,e,function(d,h,p){!o&&!zy(d,t.chartArea,0)||d.inRange(e.x,e.y,i)&&r.push({element:d,datasetIndex:h,index:p})},!0),r}function uR(t,e,n,i){let o=[];function r(l,d,h){const{startAngle:p,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:y}=Ry(l,{x:e.x,y:e.y});Ba(y,p,g)&&o.push({element:l,datasetIndex:d,index:h})}return il(t,n,e,r),o}function cR(t,e,n,i,o,r){let l=[];const d=lR(n);let h=Number.POSITIVE_INFINITY;function p(g,y,C){const S=g.inRange(e.x,e.y,o);if(i&&!S)return;const w=g.getCenterPoint(o);if(!(!!r||t.isPointInArea(w))&&!S)return;const N=d(e,w);N<h?(l=[{element:g,datasetIndex:y,index:C}],h=N):N===h&&l.push({element:g,datasetIndex:y,index:C})}return il(t,n,e,p),l}function pc(t,e,n,i,o,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?uR(t,e,n,o):cR(t,e,n,i,o,r)}function Lg(t,e,n,i,o){const r=[],l=n==="x"?"inXRange":"inYRange";let d=!1;return il(t,n,e,(h,p,g)=>{h[l](e[n],o)&&(r.push({element:h,datasetIndex:p,index:g}),d=d||h.inRange(e.x,e.y,o))}),i&&!d?[]:r}var dR={modes:{index(t,e,n,i){const o=Si(e,t),r=n.axis||"x",l=n.includeInvisible||!1,d=n.intersect?hc(t,o,r,i,l):pc(t,o,r,!1,i,l),h=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(p=>{const g=d[0].index,y=p.data[g];y&&!y.skip&&h.push({element:y,datasetIndex:p.index,index:g})}),h):[]},dataset(t,e,n,i){const o=Si(e,t),r=n.axis||"xy",l=n.includeInvisible||!1;let d=n.intersect?hc(t,o,r,i,l):pc(t,o,r,!1,i,l);if(d.length>0){const h=d[0].datasetIndex,p=t.getDatasetMeta(h).data;d=[];for(let g=0;g<p.length;++g)d.push({element:p[g],datasetIndex:h,index:g})}return d},point(t,e,n,i){const o=Si(e,t),r=n.axis||"xy",l=n.includeInvisible||!1;return hc(t,o,r,i,l)},nearest(t,e,n,i){const o=Si(e,t),r=n.axis||"xy",l=n.includeInvisible||!1;return pc(t,o,r,n.intersect,i,l)},x(t,e,n,i){const o=Si(e,t);return Lg(t,o,"x",n.intersect,i)},y(t,e,n,i){const o=Si(e,t);return Lg(t,o,"y",n.intersect,i)}}};const Xy=["left","top","right","bottom"];function Ts(t,e){return t.filter(n=>n.pos===e)}function Fg(t,e){return t.filter(n=>Xy.indexOf(n.pos)===-1&&n.box.axis===e)}function ws(t,e){return t.sort((n,i)=>{const o=e?i:n,r=e?n:i;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function fR(t){const e=[];let n,i,o,r,l,d;for(n=0,i=(t||[]).length;n<i;++n)o=t[n],{position:r,options:{stack:l,stackWeight:d=1}}=o,e.push({index:n,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&r+l,stackWeight:d});return e}function hR(t){const e={};for(const n of t){const{stack:i,pos:o,stackWeight:r}=n;if(!i||!Xy.includes(o))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=r}return e}function pR(t,e){const n=hR(t),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e;let r,l,d;for(r=0,l=t.length;r<l;++r){d=t[r];const{fullSize:h}=d.box,p=n[d.stack],g=p&&d.stackWeight/p.weight;d.horizontal?(d.width=g?g*i:h&&e.availableWidth,d.height=o):(d.width=i,d.height=g?g*o:h&&e.availableHeight)}return n}function mR(t){const e=fR(t),n=ws(e.filter(p=>p.box.fullSize),!0),i=ws(Ts(e,"left"),!0),o=ws(Ts(e,"right")),r=ws(Ts(e,"top"),!0),l=ws(Ts(e,"bottom")),d=Fg(e,"x"),h=Fg(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:o.concat(h).concat(l).concat(d),chartArea:Ts(e,"chartArea"),vertical:i.concat(o).concat(h),horizontal:r.concat(l).concat(d)}}function Ug(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Zy(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function gR(t,e,n,i){const{pos:o,box:r}=n,l=t.maxPadding;if(!be(o)){n.size&&(t[o]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?r.height:r.width),n.size=y.size/y.count,t[o]+=n.size}r.getPadding&&Zy(l,r.getPadding());const d=Math.max(0,e.outerWidth-Ug(l,t,"left","right")),h=Math.max(0,e.outerHeight-Ug(l,t,"top","bottom")),p=d!==t.w,g=h!==t.h;return t.w=d,t.h=h,n.horizontal?{same:p,other:g}:{same:g,other:p}}function xR(t){const e=t.maxPadding;function n(i){const o=Math.max(e[i]-t[i],0);return t[i]+=o,o}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function yR(t,e){const n=e.maxPadding;function i(o){const r={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{r[l]=Math.max(e[l],n[l])}),r}return i(t?["left","right"]:["top","bottom"])}function Ms(t,e,n,i){const o=[];let r,l,d,h,p,g;for(r=0,l=t.length,p=0;r<l;++r){d=t[r],h=d.box,h.update(d.width||e.w,d.height||e.h,yR(d.horizontal,e));const{same:y,other:C}=gR(e,n,d,i);p|=y&&o.length,g=g||C,h.fullSize||o.push(d)}return p&&Ms(o,e,n,i)||g}function ga(t,e,n,i,o){t.top=n,t.left=e,t.right=e+i,t.bottom=n+o,t.width=i,t.height=o}function Vg(t,e,n,i){const o=n.padding;let{x:r,y:l}=e;for(const d of t){const h=d.box,p=i[d.stack]||{placed:0,weight:1},g=d.stackWeight/p.weight||1;if(d.horizontal){const y=e.w*g,C=p.size||h.height;js(p.start)&&(l=p.start),h.fullSize?ga(h,o.left,l,n.outerWidth-o.right-o.left,C):ga(h,e.left+p.placed,l,y,C),p.start=l,p.placed+=y,l=h.bottom}else{const y=e.h*g,C=p.size||h.width;js(p.start)&&(r=p.start),h.fullSize?ga(h,r,o.top,C,n.outerHeight-o.bottom-o.top):ga(h,r,e.top+p.placed,C,y),p.start=r,p.placed+=y,r=h.right}}e.x=r,e.y=l}var Bt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const o=Ht(t.options.layout.padding),r=Math.max(e-o.width,0),l=Math.max(n-o.height,0),d=mR(t.boxes),h=d.vertical,p=d.horizontal;Ae(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const g=h.reduce((b,N)=>N.box.options&&N.box.options.display===!1?b:b+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:r,availableHeight:l,vBoxMaxWidth:r/2/g,hBoxMaxHeight:l/2}),C=Object.assign({},o);Zy(C,Ht(i));const S=Object.assign({maxPadding:C,w:r,h:l,x:o.left,y:o.top},o),w=pR(h.concat(p),y);Ms(d.fullSize,S,y,w),Ms(h,S,y,w),Ms(p,S,y,w)&&Ms(h,S,y,w),xR(S),Vg(d.leftAndTop,S,y,w),S.x+=S.w,S.y+=S.h,Vg(d.rightAndBottom,S,y,w),t.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Ae(d.chartArea,b=>{const N=b.box;Object.assign(N,t.chartArea),N.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class ev{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,o){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,o?Math.floor(n/o):i)}}isAttached(e){return!0}updateConfig(e){}}class vR extends ev{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ka="$chartjs",CR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jg=t=>t===null||t==="";function _R(t,e){const n=t.style,i=t.getAttribute("height"),o=t.getAttribute("width");if(t[ka]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",jg(o)){const r=wg(t,"width");r!==void 0&&(t.width=r)}if(jg(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=wg(t,"height");r!==void 0&&(t.height=r)}return t}const tv=AA?{passive:!0}:!1;function SR(t,e,n){t&&t.addEventListener(e,n,tv)}function TR(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,tv)}function wR(t,e){const n=CR[t.type]||t.type,{x:i,y:o}=Si(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:o!==void 0?o:null}}function Ha(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function bR(t,e,n){const i=t.canvas,o=new MutationObserver(r=>{let l=!1;for(const d of r)l=l||Ha(d.addedNodes,i),l=l&&!Ha(d.removedNodes,i);l&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function NR(t,e,n){const i=t.canvas,o=new MutationObserver(r=>{let l=!1;for(const d of r)l=l||Ha(d.removedNodes,i),l=l&&!Ha(d.addedNodes,i);l&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const zs=new Map;let Bg=0;function nv(){const t=window.devicePixelRatio;t!==Bg&&(Bg=t,zs.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function ER(t,e){zs.size||window.addEventListener("resize",nv),zs.set(t,e)}function kR(t){zs.delete(t),zs.size||window.removeEventListener("resize",nv)}function MR(t,e,n){const i=t.canvas,o=i&&Cd(i);if(!o)return;const r=Uy((d,h)=>{const p=o.clientWidth;n(d,h),p<o.clientWidth&&n()},window),l=new ResizeObserver(d=>{const h=d[0],p=h.contentRect.width,g=h.contentRect.height;p===0&&g===0||r(p,g)});return l.observe(o),ER(t,r),l}function mc(t,e,n){n&&n.disconnect(),e==="resize"&&kR(t)}function PR(t,e,n){const i=t.canvas,o=Uy(r=>{t.ctx!==null&&n(wR(r,t))},t);return SR(i,e,o),o}class IR extends ev{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(_R(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[ka])return!1;const i=n[ka].initial;["height","width"].forEach(r=>{const l=i[r];Be(l)?n.removeAttribute(r):n.setAttribute(r,l)});const o=i.style||{};return Object.keys(o).forEach(r=>{n.style[r]=o[r]}),n.width=n.width,delete n[ka],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const o=e.$proxies||(e.$proxies={}),l={attach:bR,detach:NR,resize:MR}[n]||PR;o[n]=l(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),o=i[n];if(!o)return;({attach:mc,detach:mc,resize:mc}[n]||TR)(e,n,o),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,o){return IA(e,n,i,o)}isAttached(e){const n=Cd(e);return!!(n&&n.isConnected)}}function AR(t){return!vd()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?vR:IR}class bn{constructor(){de(this,"x");de(this,"y");de(this,"active",!1);de(this,"options");de(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ja(this.x)&&ja(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const o={};return e.forEach(r=>{o[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),o}}de(bn,"defaults",{}),de(bn,"defaultRoutes");function RR(t,e){const n=t.options.ticks,i=DR(t),o=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?FR(e):[],l=r.length,d=r[0],h=r[l-1],p=[];if(l>o)return UR(e,p,r,l/o),p;const g=LR(r,e,o);if(l>0){let y,C;const S=l>1?Math.round((h-d)/(l-1)):null;for(xa(e,p,g,Be(S)?0:d-S,d),y=0,C=l-1;y<C;y++)xa(e,p,g,r[y],r[y+1]);return xa(e,p,g,h,Be(S)?e.length:h+S),p}return xa(e,p,g),p}function DR(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),o=t._maxLength/n;return Math.floor(Math.min(i,o))}function LR(t,e,n){const i=VR(t),o=e.length/n;if(!i)return Math.max(o,1);const r=OI(i);for(let l=0,d=r.length-1;l<d;l++){const h=r[l];if(h>o)return h}return Math.max(o,1)}function FR(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function UR(t,e,n,i){let o=0,r=n[0],l;for(i=Math.ceil(i),l=0;l<t.length;l++)l===r&&(e.push(t[l]),o++,r=n[o*i])}function xa(t,e,n,i,o){const r=ke(i,0),l=Math.min(ke(o,t.length),t.length);let d=0,h,p,g;for(n=Math.ceil(n),o&&(h=o-i,n=h/Math.floor(h/n)),g=r;g<0;)d++,g=Math.round(r+d*n);for(p=Math.max(r,0);p<l;p++)p===g&&(e.push(t[p]),d++,g=Math.round(r+d*n))}function VR(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const jR=t=>t==="left"?"right":t==="right"?"left":t,zg=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Og=(t,e)=>Math.min(e||t,t);function Hg(t,e){const n=[],i=t.length/e,o=t.length;let r=0;for(;r<o;r+=i)n.push(t[Math.floor(r)]);return n}function BR(t,e,n){const i=t.ticks.length,o=Math.min(e,i-1),r=t._startPixel,l=t._endPixel,d=1e-6;let h=t.getPixelForTick(o),p;if(!(n&&(i===1?p=Math.max(h-r,l-h):e===0?p=(t.getPixelForTick(1)-h)/2:p=(h-t.getPixelForTick(o-1))/2,h+=o<e?p:-p,h<r-d||h>l+d)))return h}function zR(t,e){Ae(t,n=>{const i=n.gc,o=i.length/2;let r;if(o>e){for(r=0;r<o;++r)delete n.data[i[r]];i.splice(0,o)}})}function bs(t){return t.drawTicks?t.tickLength:0}function $g(t,e){if(!t.display)return 0;const n=mt(t.font,e),i=Ht(t.padding);return(nt(t.text)?t.text.length:1)*n.lineHeight+i.height}function OR(t,e){return Po(t,{scale:e,type:"scale"})}function HR(t,e,n){return Po(t,{tick:n,index:e,type:"tick"})}function $R(t,e,n){let i=dd(t);return(n&&e!=="right"||!n&&e==="right")&&(i=jR(i)),i}function qR(t,e,n,i){const{top:o,left:r,bottom:l,right:d,chart:h}=t,{chartArea:p,scales:g}=h;let y=0,C,S,w;const b=l-o,N=d-r;if(t.isHorizontal()){if(S=ht(i,r,d),be(n)){const M=Object.keys(n)[0],I=n[M];w=g[M].getPixelForValue(I)+b-e}else n==="center"?w=(p.bottom+p.top)/2+b-e:w=zg(t,n,e);C=d-r}else{if(be(n)){const M=Object.keys(n)[0],I=n[M];S=g[M].getPixelForValue(I)-N+e}else n==="center"?S=(p.left+p.right)/2-N+e:S=zg(t,n,e);w=ht(i,l,o),y=n==="left"?-it:it}return{titleX:S,titleY:w,maxWidth:C,rotation:y}}class Io extends bn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:o}=this;return e=on(e,Number.POSITIVE_INFINITY),n=on(n,Number.NEGATIVE_INFINITY),i=on(i,Number.POSITIVE_INFINITY),o=on(o,Number.NEGATIVE_INFINITY),{min:on(e,i),max:on(n,o),minDefined:Ot(e),maxDefined:Ot(n)}}getMinMax(e){let{min:n,max:i,minDefined:o,maxDefined:r}=this.getUserBounds(),l;if(o&&r)return{min:n,max:i};const d=this.getMatchingVisibleMetas();for(let h=0,p=d.length;h<p;++h)l=d[h].controller.getMinMax(this,e),o||(n=Math.min(n,l.min)),r||(i=Math.max(i,l.max));return n=r&&n>i?i:n,i=o&&n>i?n:i,{min:on(n,on(i,n)),max:on(i,on(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){je(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:o,grace:r,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gA(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?Hg(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=RR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){je(this.options.afterUpdate,[this])}beforeSetDimensions(){je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){je(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),je(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,o,r;for(i=0,o=e.length;i<o;i++)r=e[i],r.label=je(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Og(this.ticks.length,e.ticks.maxTicksLimit),o=n.minRotation||0,r=n.maxRotation;let l=o,d,h,p;if(!this._isVisible()||!n.display||o>=r||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const g=this._getLabelSizes(),y=g.widest.width,C=g.highest.height,S=Nt(this.chart.width-y,0,this.maxWidth);d=e.offset?this.maxWidth/i:S/(i-1),y+6>d&&(d=S/(i-(e.offset?.5:1)),h=this.maxHeight-bs(e.grid)-n.padding-$g(e.title,this.chart.options.font),p=Math.sqrt(y*y+C*C),l=qI(Math.min(Math.asin(Nt((g.highest.height+6)/d,-1,1)),Math.asin(Nt(h/p,-1,1))-Math.asin(Nt(C/p,-1,1)))),l=Math.max(o,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){je(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:o,grid:r}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){const h=$g(o,n.options.font);if(d?(e.width=this.maxWidth,e.height=bs(r)+h):(e.height=this.maxHeight,e.width=bs(r)+h),i.display&&this.ticks.length){const{first:p,last:g,widest:y,highest:C}=this._getLabelSizes(),S=i.padding*2,w=wn(this.labelRotation),b=Math.cos(w),N=Math.sin(w);if(d){const M=i.mirror?0:N*y.width+b*C.height;e.height=Math.min(this.maxHeight,e.height+M+S)}else{const M=i.mirror?0:b*y.width+N*C.height;e.width=Math.min(this.maxWidth,e.width+M+S)}this._calculatePadding(p,g,N,b)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,o){const{ticks:{align:r,padding:l},position:d}=this.options,h=this.labelRotation!==0,p=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let C=0,S=0;h?p?(C=o*e.width,S=i*n.height):(C=i*e.height,S=o*n.width):r==="start"?S=n.width:r==="end"?C=e.width:r!=="inner"&&(C=e.width/2,S=n.width/2),this.paddingLeft=Math.max((C-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((S-y+l)*this.width/(this.width-y),0)}else{let g=n.height/2,y=e.height/2;r==="start"?(g=0,y=e.height):r==="end"&&(g=n.height,y=0),this.paddingTop=g+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){je(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Be(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Hg(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:o,_longestTextCache:r}=this,l=[],d=[],h=Math.floor(n/Og(n,i));let p=0,g=0,y,C,S,w,b,N,M,I,A,D,L;for(y=0;y<n;y+=h){if(w=e[y].label,b=this._resolveTickFontOptions(y),o.font=N=b.string,M=r[N]=r[N]||{data:{},gc:[]},I=b.lineHeight,A=D=0,!Be(w)&&!nt(w))A=yg(o,M.data,M.gc,A,w),D=I;else if(nt(w))for(C=0,S=w.length;C<S;++C)L=w[C],!Be(L)&&!nt(L)&&(A=yg(o,M.data,M.gc,A,L),D+=I);l.push(A),d.push(D),p=Math.max(A,p),g=Math.max(D,g)}zR(r,n);const z=l.indexOf(p),$=d.indexOf(g),B=O=>({width:l[O]||0,height:d[O]||0});return{first:B(0),last:B(n-1),widest:B(z),highest:B($),widths:l,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return WI(this._alignToPixels?Ci(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=HR(this.getContext(),e,i))}return this.$context||(this.$context=OR(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=wn(this.labelRotation),i=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),r=this._getLabelSizes(),l=e.autoSkipPadding||0,d=r?r.widest.width+l:0,h=r?r.highest.height+l:0;return this.isHorizontal()?h*i>d*o?d/i:h/o:h*o<d*i?h/i:d/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,o=this.options,{grid:r,position:l,border:d}=o,h=r.offset,p=this.isHorizontal(),y=this.ticks.length+(h?1:0),C=bs(r),S=[],w=d.setContext(this.getContext()),b=w.display?w.width:0,N=b/2,M=function(ye){return Ci(i,ye,b)};let I,A,D,L,z,$,B,O,Q,K,ae,Se;if(l==="top")I=M(this.bottom),$=this.bottom-C,O=I-N,K=M(e.top)+N,Se=e.bottom;else if(l==="bottom")I=M(this.top),K=e.top,Se=M(e.bottom)-N,$=I+N,O=this.top+C;else if(l==="left")I=M(this.right),z=this.right-C,B=I-N,Q=M(e.left)+N,ae=e.right;else if(l==="right")I=M(this.left),Q=e.left,ae=M(e.right)-N,z=I+N,B=this.left+C;else if(n==="x"){if(l==="center")I=M((e.top+e.bottom)/2+.5);else if(be(l)){const ye=Object.keys(l)[0],ge=l[ye];I=M(this.chart.scales[ye].getPixelForValue(ge))}K=e.top,Se=e.bottom,$=I+N,O=$+C}else if(n==="y"){if(l==="center")I=M((e.left+e.right)/2);else if(be(l)){const ye=Object.keys(l)[0],ge=l[ye];I=M(this.chart.scales[ye].getPixelForValue(ge))}z=I-N,B=z-C,Q=e.left,ae=e.right}const Re=ke(o.ticks.maxTicksLimit,y),fe=Math.max(1,Math.ceil(y/Re));for(A=0;A<y;A+=fe){const ye=this.getContext(A),ge=r.setContext(ye),Y=d.setContext(ye),te=ge.lineWidth,Z=ge.color,F=Y.dash||[],H=Y.dashOffset,pe=ge.tickWidth,me=ge.tickColor,Ce=ge.tickBorderDash||[],ve=ge.tickBorderDashOffset;D=BR(this,A,h),D!==void 0&&(L=Ci(i,D,te),p?z=B=Q=ae=L:$=O=K=Se=L,S.push({tx1:z,ty1:$,tx2:B,ty2:O,x1:Q,y1:K,x2:ae,y2:Se,width:te,color:Z,borderDash:F,borderDashOffset:H,tickWidth:pe,tickColor:me,tickBorderDash:Ce,tickBorderDashOffset:ve}))}return this._ticksLength=y,this._borderValue=I,S}_computeLabelItems(e){const n=this.axis,i=this.options,{position:o,ticks:r}=i,l=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:p,padding:g,mirror:y}=r,C=bs(i.grid),S=C+g,w=y?-g:S,b=-wn(this.labelRotation),N=[];let M,I,A,D,L,z,$,B,O,Q,K,ae,Se="middle";if(o==="top")z=this.bottom-w,$=this._getXAxisLabelAlignment();else if(o==="bottom")z=this.top+w,$=this._getXAxisLabelAlignment();else if(o==="left"){const fe=this._getYAxisLabelAlignment(C);$=fe.textAlign,L=fe.x}else if(o==="right"){const fe=this._getYAxisLabelAlignment(C);$=fe.textAlign,L=fe.x}else if(n==="x"){if(o==="center")z=(e.top+e.bottom)/2+S;else if(be(o)){const fe=Object.keys(o)[0],ye=o[fe];z=this.chart.scales[fe].getPixelForValue(ye)+S}$=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")L=(e.left+e.right)/2-S;else if(be(o)){const fe=Object.keys(o)[0],ye=o[fe];L=this.chart.scales[fe].getPixelForValue(ye)}$=this._getYAxisLabelAlignment(C).textAlign}n==="y"&&(h==="start"?Se="top":h==="end"&&(Se="bottom"));const Re=this._getLabelSizes();for(M=0,I=d.length;M<I;++M){A=d[M],D=A.label;const fe=r.setContext(this.getContext(M));B=this.getPixelForTick(M)+r.labelOffset,O=this._resolveTickFontOptions(M),Q=O.lineHeight,K=nt(D)?D.length:1;const ye=K/2,ge=fe.color,Y=fe.textStrokeColor,te=fe.textStrokeWidth;let Z=$;l?(L=B,$==="inner"&&(M===I-1?Z=this.options.reverse?"left":"right":M===0?Z=this.options.reverse?"right":"left":Z="center"),o==="top"?p==="near"||b!==0?ae=-K*Q+Q/2:p==="center"?ae=-Re.highest.height/2-ye*Q+Q:ae=-Re.highest.height+Q/2:p==="near"||b!==0?ae=Q/2:p==="center"?ae=Re.highest.height/2-ye*Q:ae=Re.highest.height-K*Q,y&&(ae*=-1),b!==0&&!fe.showLabelBackdrop&&(L+=Q/2*Math.sin(b))):(z=B,ae=(1-K)*Q/2);let F;if(fe.showLabelBackdrop){const H=Ht(fe.backdropPadding),pe=Re.heights[M],me=Re.widths[M];let Ce=ae-H.top,ve=0-H.left;switch(Se){case"middle":Ce-=pe/2;break;case"bottom":Ce-=pe;break}switch($){case"center":ve-=me/2;break;case"right":ve-=me;break;case"inner":M===I-1?ve-=me:M>0&&(ve-=me/2);break}F={left:ve,top:Ce,width:me+H.width,height:pe+H.height,color:fe.backdropColor}}N.push({label:D,font:O,textOffset:ae,options:{rotation:b,color:ge,strokeColor:Y,strokeWidth:te,textAlign:Z,textBaseline:Se,translation:[L,z],backdrop:F}})}return N}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-wn(this.labelRotation))return e==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:o,padding:r}}=this.options,l=this._getLabelSizes(),d=e+r,h=l.widest.width;let p,g;return n==="left"?o?(g=this.right+r,i==="near"?p="left":i==="center"?(p="center",g+=h/2):(p="right",g+=h)):(g=this.right-d,i==="near"?p="right":i==="center"?(p="center",g-=h/2):(p="left",g=this.left)):n==="right"?o?(g=this.left+r,i==="near"?p="right":i==="center"?(p="center",g-=h/2):(p="left",g-=h)):(g=this.left+d,i==="near"?p="left":i==="center"?(p="center",g+=h/2):(p="right",g=this.right)):p="right",{textAlign:p,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:o,width:r,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,o,r,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(r=>r.value===e);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,l;const d=(h,p,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(n.display)for(r=0,l=o.length;r<l;++r){const h=o[r];n.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:o}}=this,r=i.setContext(this.getContext()),l=i.display?r.width:0;if(!l)return;const d=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,g,y,C;this.isHorizontal()?(p=Ci(e,this.left,l)-l/2,g=Ci(e,this.right,d)+d/2,y=C=h):(y=Ci(e,this.top,l)-l/2,C=Ci(e,this.bottom,d)+d/2,p=g=h),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(p,y),n.lineTo(g,C),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&hd(i,o);const r=this.getLabelItems(e);for(const l of r){const d=l.options,h=l.font,p=l.label,g=l.textOffset;Bs(i,p,0,g,h,d)}o&&pd(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:o}}=this;if(!i.display)return;const r=mt(i.font),l=Ht(i.padding),d=i.align;let h=r.lineHeight/2;n==="bottom"||n==="center"||be(n)?(h+=l.bottom,nt(i.text)&&(h+=r.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:p,titleY:g,maxWidth:y,rotation:C}=qR(this,h,n,d);Bs(e,i.text,0,0,r,{color:i.color,maxWidth:y,rotation:C,textAlign:$R(d,n,o),textBaseline:"middle",translation:[p,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=ke(e.grid&&e.grid.z,-1),o=ke(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Io.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let r,l;for(r=0,l=n.length;r<l;++r){const d=n[r];d[i]===this.id&&(!e||d.type===e)&&o.push(d)}return o}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return mt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ya{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;JR(n)&&(i=this.register(n));const o=this.items,r=e.id,l=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in o||(o[r]=e,GR(e,l,i),this.override&&Ke.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,o=this.scope;i in n&&delete n[i],o&&i in Ke[o]&&(delete Ke[o][i],this.override&&delete Pi[i])}}function GR(t,e,n){const i=Vs(Object.create(null),[n?Ke.get(n):{},Ke.get(e),t.defaults]);Ke.set(e,i),t.defaultRoutes&&WR(e,t.defaultRoutes),t.descriptors&&Ke.describe(e,t.descriptors)}function WR(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),o=i.pop(),r=[t].concat(i).join("."),l=e[n].split("."),d=l.pop(),h=l.join(".");Ke.route(r,o,h,d)})}function JR(t){return"id"in t&&"defaults"in t}class YR{constructor(){this.controllers=new ya(Co,"datasets",!0),this.elements=new ya(bn,"elements"),this.plugins=new ya(Object,"plugins"),this.scales=new ya(Io,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(o=>{const r=i||this._getRegistryForType(o);i||r.isForType(o)||r===this.plugins&&o.id?this._exec(e,r,o):Ae(o,l=>{const d=i||this._getRegistryForType(l);this._exec(e,d,l)})})}_exec(e,n,i){const o=ud(e);je(i["before"+o],[],i),n[e](i),je(i["after"+o],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const o=n.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}}var rn=new YR;class KR{constructor(){this._init=[]}notify(e,n,i,o){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=o?this._descriptors(e).filter(o):this._descriptors(e),l=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,i,o){o=o||{};for(const r of e){const l=r.plugin,d=l[i],h=[n,o,r.options];if(je(d,h,l)===!1&&o.cancelable)return!1}return!0}invalidate(){Be(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,o=ke(i.options&&i.options.plugins,{}),r=QR(i);return o===!1&&!n?[]:ZR(e,r,o,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,o=(r,l)=>r.filter(d=>!l.some(h=>d.plugin.id===h.plugin.id));this._notify(o(n,i),e,"stop"),this._notify(o(i,n),e,"start")}}function QR(t){const e={},n=[],i=Object.keys(rn.plugins.items);for(let r=0;r<i.length;r++)n.push(rn.getPlugin(i[r]));const o=t.plugins||[];for(let r=0;r<o.length;r++){const l=o[r];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function XR(t,e){return!e&&t===!1?null:t===!0?{}:t}function ZR(t,{plugins:e,localIds:n},i,o){const r=[],l=t.getContext();for(const d of e){const h=d.id,p=XR(i[h],o);p!==null&&r.push({plugin:d,options:eD(t.config,{plugin:d,local:n[h]},p,l)})}return r}function eD(t,{plugin:e,local:n},i,o){const r=t.pluginScopeKeys(e),l=t.getOptionScopes(i,r);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hc(t,e){const n=Ke.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function tD(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function nD(t,e){return t===e?"_index_":"_value_"}function qg(t){if(t==="x"||t==="y"||t==="r")return t}function iD(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function $c(t,...e){if(qg(t))return t;for(const n of e){const i=n.axis||iD(n.position)||t.length>1&&qg(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Gg(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function oD(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Gg(t,"x",n[0])||Gg(t,"y",n[0])}return{}}function sD(t,e){const n=Pi[t.type]||{scales:{}},i=e.scales||{},o=Hc(t.type,e),r=Object.create(null);return Object.keys(i).forEach(l=>{const d=i[l];if(!be(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=$c(l,d,oD(l,t),Ke.scales[d.type]),p=nD(h,o),g=n.scales||{};r[l]=As(Object.create(null),[{axis:h},d,g[h],g[p]])}),t.data.datasets.forEach(l=>{const d=l.type||t.type,h=l.indexAxis||Hc(d,e),g=(Pi[d]||{}).scales||{};Object.keys(g).forEach(y=>{const C=tD(y,h),S=l[C+"AxisID"]||C;r[S]=r[S]||Object.create(null),As(r[S],[{axis:C},i[S],g[y]])})}),Object.keys(r).forEach(l=>{const d=r[l];As(d,[Ke.scales[d.type],Ke.scale])}),r}function iv(t){const e=t.options||(t.options={});e.plugins=ke(e.plugins,{}),e.scales=sD(t,e)}function ov(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function rD(t){return t=t||{},t.data=ov(t.data),iv(t),t}const Wg=new Map,sv=new Set;function va(t,e){let n=Wg.get(t);return n||(n=e(),Wg.set(t,n),sv.add(n)),n}const Ns=(t,e,n)=>{const i=Mi(e,n);i!==void 0&&t.add(i)};class aD{constructor(e){this._config=rD(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ov(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),iv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return va(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return va(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return va(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return va(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let o=i.get(e);return(!o||n)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,n,i){const{options:o,type:r}=this,l=this._cachedScopes(e,i),d=l.get(n);if(d)return d;const h=new Set;n.forEach(g=>{e&&(h.add(e),g.forEach(y=>Ns(h,e,y))),g.forEach(y=>Ns(h,o,y)),g.forEach(y=>Ns(h,Pi[r]||{},y)),g.forEach(y=>Ns(h,Ke,y)),g.forEach(y=>Ns(h,zc,y))});const p=Array.from(h);return p.length===0&&p.push(Object.create(null)),sv.has(n)&&l.set(n,p),p}chartOptionScopes(){const{options:e,type:n}=this;return[e,Pi[n]||{},Ke.datasets[n]||{},{type:n},Ke,zc]}resolveNamedOptions(e,n,i,o=[""]){const r={$shared:!0},{resolver:l,subPrefixes:d}=Jg(this._resolverCache,e,o);let h=l;if(uD(l,n)){r.$shared=!1,i=ti(i)?i():i;const p=this.createResolver(e,i,d);h=To(l,i,p)}for(const p of n)r[p]=h[p];return r}createResolver(e,n,i=[""],o){const{resolver:r}=Jg(this._resolverCache,e,i);return be(n)?To(r,n,void 0,o):r}}function Jg(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const o=n.join();let r=i.get(o);return r||(r={resolver:gd(e,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},i.set(o,r)),r}const lD=t=>be(t)&&Object.getOwnPropertyNames(t).some(e=>ti(t[e]));function uD(t,e){const{isScriptable:n,isIndexable:i}=Hy(t);for(const o of e){const r=n(o),l=i(o),d=(l||r)&&t[o];if(r&&(ti(d)||lD(d))||l&&nt(d))return!0}return!1}var cD="4.4.2";const dD=["top","bottom","left","right","chartArea"];function Yg(t,e){return t==="top"||t==="bottom"||dD.indexOf(t)===-1&&e==="x"}function Kg(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Qg(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),je(n&&n.onComplete,[t],e)}function fD(t){const e=t.chart,n=e.options.animation;je(n&&n.onProgress,[t],e)}function rv(t){return vd()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ma={},Xg=t=>{const e=rv(t);return Object.values(Ma).filter(n=>n.canvas===e).pop()};function hD(t,e,n){const i=Object.keys(t);for(const o of i){const r=+o;if(r>=e){const l=t[o];delete t[o],(n>0||r>e)&&(t[r+n]=l)}}}function pD(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Ca(t,e,n){return t.options.clip?t[n]:e[n]}function mD(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Ca(n,e,"left"),right:Ca(n,e,"right"),top:Ca(i,e,"top"),bottom:Ca(i,e,"bottom")}:e}var Wn;let Ao=(Wn=class{static register(...e){rn.add(...e),Zg()}static unregister(...e){rn.remove(...e),Zg()}constructor(e,n){const i=this.config=new aD(n),o=rv(e),r=Xg(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||AR(o)),this.platform.updateConfig(i);const d=this.platform.acquireContext(o,l.aspectRatio),h=d&&d.canvas,p=h&&h.height,g=h&&h.width;if(this.id=DI(),this.ctx=d,this.canvas=h,this.width=g,this.height=p,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new KR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=QI(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Ma[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}_n.listen(this,"complete",Qg),_n.listen(this,"progress",fD),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:o,_aspectRatio:r}=this;return Be(e)?n&&r?r:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return rn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Tg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vg(this.canvas,this.ctx),this}stop(){return _n.stop(this),this}resize(e,n){_n.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,o=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(o,e,n,r),d=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Tg(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),je(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ae(n,(i,o)=>{i.id=o})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,o=Object.keys(i).reduce((l,d)=>(l[d]=!1,l),{});let r=[];n&&(r=r.concat(Object.keys(n).map(l=>{const d=n[l],h=$c(l,d),p=h==="r",g=h==="x";return{options:d,dposition:p?"chartArea":g?"bottom":"left",dtype:p?"radialLinear":g?"category":"linear"}}))),Ae(r,l=>{const d=l.options,h=d.id,p=$c(h,d),g=ke(d.type,l.dtype);(d.position===void 0||Yg(d.position,p)!==Yg(l.dposition))&&(d.position=l.dposition),o[h]=!0;let y=null;if(h in i&&i[h].type===g)y=i[h];else{const C=rn.getScale(g);y=new C({id:h,type:g,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(d,e)}),Ae(o,(l,d)=>{l||delete i[d]}),Ae(i,l=>{Bt.configure(this,l,l.options),Bt.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((o,r)=>o.index-r.index),i>n){for(let o=n;o<i;++o)this._destroyDatasetMeta(o);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Kg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,o)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=n.length;i<o;i++){const r=n[i];let l=this.getDatasetMeta(i);const d=r.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=d,l.indexAxis=r.indexAxis||Hc(d,this.options),l.order=r.order||0,l.index=i,l.label=""+r.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=rn.getController(d),{datasetElementType:p,dataElementType:g}=Ke.datasets[d];Object.assign(h,{dataElementType:rn.getElement(g),datasetElementType:p&&rn.getElement(p)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Ae(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let p=0,g=this.data.datasets.length;p<g;p++){const{controller:y}=this.getDatasetMeta(p),C=!o&&r.indexOf(y)===-1;y.buildOrUpdateElements(C),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),o||Ae(r,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Kg("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Ae(this.scales,e=>{Bt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!ug(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:r}of n){const l=i==="_removeElements"?-r:r;hD(e,o,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(l=>l[0]===r).map((l,d)=>d+","+l.splice(1).join(","))),o=i(0);for(let r=1;r<n;r++)if(!ug(o,i(r)))return;return Array.from(o).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Bt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ae(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,r)=>{o._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,ti(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(_n.has(this)?this.attached&&!_n.running(this)&&_n.start(this):(this.draw(),Qg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resize(i,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let o,r;for(o=0,r=n.length;o<r;++o){const l=n[o];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,o=!i.disabled,r=mD(e,this.chartArea),l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(o&&hd(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),o&&pd(n),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return zy(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,o){const r=dR.modes[n];return typeof r=="function"?r(this,e,i,o):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let o=i.filter(r=>r&&r._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=Po(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const o=i?"show":"hide",r=this.getDatasetMeta(e),l=r.controller._resolveAnimations(void 0,o);js(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(r,{visible:i}),this.update(d=>d.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),_n.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),vg(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ma[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,l)=>{n.addEventListener(this,r,l),e[r]=l},o=(r,l,d)=>{r.offsetX=l,r.offsetY=d,this._eventHandler(r)};Ae(this.options.events,r=>i(r,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(h,p)=>{n.addEventListener(this,h,p),e[h]=p},o=(h,p)=>{e[h]&&(n.removeEventListener(this,h,p),delete e[h])},r=(h,p)=>{this.canvas&&this.resize(h,p)};let l;const d=()=>{o("attach",d),this.attached=!0,this.resize(),i("resize",r),i("detach",l)};l=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),i("attach",d)},n.isAttached(this.canvas)?d():l()}unbindEvents(){Ae(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ae(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const o=i?"set":"remove";let r,l,d,h;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),d=0,h=e.length;d<h;++d){l=e[d];const p=l&&this.getDatasetMeta(l.datasetIndex).controller;p&&p[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:l})=>{const d=this.getDatasetMeta(r);if(!d)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:d.data[l],index:l}});!Fa(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const o=this.options.hover,r=(h,p)=>h.filter(g=>!p.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),l=r(n,e),d=i?e:r(e,n);l.length&&this.updateHoverStyle(l,o.mode,!1),d.length&&o.mode&&this.updateHoverStyle(d,o.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:o=[],options:r}=this,l=n,d=this._getActiveElements(e,o,i,l),h=BI(e),p=pD(e,this._lastEvent,i,h);i&&(this._lastEvent=null,je(r.onHover,[e,d,this],this),h&&je(r.onClick,[e,d,this],this));const g=!Fa(d,o);return(g||n)&&(this._active=d,this._updateHoverStyles(d,o,n)),this._lastEvent=p,g}_getActiveElements(e,n,i,o){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,o)}},de(Wn,"defaults",Ke),de(Wn,"instances",Ma),de(Wn,"overrides",Pi),de(Wn,"registry",rn),de(Wn,"version",cD),de(Wn,"getChart",Xg),Wn);function Zg(){return Ae(Ao.instances,t=>t._plugins.invalidate())}function gD(t,e,n){const{startAngle:i,pixelMargin:o,x:r,y:l,outerRadius:d,innerRadius:h}=e;let p=o/d;t.beginPath(),t.arc(r,l,d,i-p,n+p),h>o?(p=o/h,t.arc(r,l,h,n+p,i-p,!0)):t.arc(r,l,o,n+it,i-it),t.closePath(),t.clip()}function xD(t){return md(t,["outerStart","outerEnd","innerStart","innerEnd"])}function yD(t,e,n,i){const o=xD(t.options.borderRadius),r=(n-e)/2,l=Math.min(r,i*e/2),d=h=>{const p=(n-Math.min(r,h))*i/2;return Nt(h,0,Math.min(r,p))};return{outerStart:d(o.outerStart),outerEnd:d(o.outerEnd),innerStart:Nt(o.innerStart,0,l),innerEnd:Nt(o.innerEnd,0,l)}}function ao(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function $a(t,e,n,i,o,r){const{x:l,y:d,startAngle:h,pixelMargin:p,innerRadius:g}=e,y=Math.max(e.outerRadius+i+n-p,0),C=g>0?g+i+n+p:0;let S=0;const w=o-h;if(i){const fe=g>0?g-i:0,ye=y>0?y-i:0,ge=(fe+ye)/2,Y=ge!==0?w*ge/(ge+i):w;S=(w-Y)/2}const b=Math.max(.001,w*y-n/Ze)/y,N=(w-b)/2,M=h+N+S,I=o-N-S,{outerStart:A,outerEnd:D,innerStart:L,innerEnd:z}=yD(e,C,y,I-M),$=y-A,B=y-D,O=M+A/$,Q=I-D/B,K=C+L,ae=C+z,Se=M+L/K,Re=I-z/ae;if(t.beginPath(),r){const fe=(O+Q)/2;if(t.arc(l,d,y,O,fe),t.arc(l,d,y,fe,Q),D>0){const te=ao(B,Q,l,d);t.arc(te.x,te.y,D,Q,I+it)}const ye=ao(ae,I,l,d);if(t.lineTo(ye.x,ye.y),z>0){const te=ao(ae,Re,l,d);t.arc(te.x,te.y,z,I+it,Re+Math.PI)}const ge=(I-z/C+(M+L/C))/2;if(t.arc(l,d,C,I-z/C,ge,!0),t.arc(l,d,C,ge,M+L/C,!0),L>0){const te=ao(K,Se,l,d);t.arc(te.x,te.y,L,Se+Math.PI,M-it)}const Y=ao($,M,l,d);if(t.lineTo(Y.x,Y.y),A>0){const te=ao($,O,l,d);t.arc(te.x,te.y,A,M-it,O)}}else{t.moveTo(l,d);const fe=Math.cos(O)*y+l,ye=Math.sin(O)*y+d;t.lineTo(fe,ye);const ge=Math.cos(Q)*y+l,Y=Math.sin(Q)*y+d;t.lineTo(ge,Y)}t.closePath()}function vD(t,e,n,i,o){const{fullCircles:r,startAngle:l,circumference:d}=e;let h=e.endAngle;if(r){$a(t,e,n,i,h,o);for(let p=0;p<r;++p)t.fill();isNaN(d)||(h=l+(d%Xe||Xe))}return $a(t,e,n,i,h,o),t.fill(),h}function CD(t,e,n,i,o){const{fullCircles:r,startAngle:l,circumference:d,options:h}=e,{borderWidth:p,borderJoinStyle:g,borderDash:y,borderDashOffset:C}=h,S=h.borderAlign==="inner";if(!p)return;t.setLineDash(y||[]),t.lineDashOffset=C,S?(t.lineWidth=p*2,t.lineJoin=g||"round"):(t.lineWidth=p,t.lineJoin=g||"bevel");let w=e.endAngle;if(r){$a(t,e,n,i,w,o);for(let b=0;b<r;++b)t.stroke();isNaN(d)||(w=l+(d%Xe||Xe))}S&&gD(t,e,w),r||($a(t,e,n,i,w,o),t.stroke())}class po extends bn{constructor(n){super();de(this,"circumference");de(this,"endAngle");de(this,"fullCircles");de(this,"innerRadius");de(this,"outerRadius");de(this,"pixelMargin");de(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,o){const r=this.getProps(["x","y"],o),{angle:l,distance:d}=Ry(r,{x:n,y:i}),{startAngle:h,endAngle:p,innerRadius:g,outerRadius:y,circumference:C}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),S=(this.options.spacing+this.options.borderWidth)/2,b=ke(C,p-h)>=Xe||Ba(l,h,p),N=Ti(d,g+S,y+S);return b&&N}getCenterPoint(n){const{x:i,y:o,startAngle:r,endAngle:l,innerRadius:d,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:p,spacing:g}=this.options,y=(r+l)/2,C=(d+h+g+p)/2;return{x:i+Math.cos(y)*C,y:o+Math.sin(y)*C}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:o}=this,r=(i.offset||0)/4,l=(i.spacing||0)/2,d=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=o>Xe?Math.floor(o/Xe):0,o===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*r,Math.sin(h)*r);const p=1-Math.sin(Math.min(Ze,o||0)),g=r*p;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,vD(n,this,g,l,d),CD(n,this,g,l,d),n.restore()}}de(po,"id","arc"),de(po,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),de(po,"defaultRoutes",{backgroundColor:"backgroundColor"}),de(po,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function av(t,e){const{x:n,y:i,base:o,width:r,height:l}=t.getProps(["x","y","base","width","height"],e);let d,h,p,g,y;return t.horizontal?(y=l/2,d=Math.min(n,o),h=Math.max(n,o),p=i-y,g=i+y):(y=r/2,d=n-y,h=n+y,p=Math.min(i,o),g=Math.max(i,o)),{left:d,top:p,right:h,bottom:g}}function Qn(t,e,n,i){return t?0:Nt(e,n,i)}function _D(t,e,n){const i=t.options.borderWidth,o=t.borderSkipped,r=Oy(i);return{t:Qn(o.top,r.top,0,n),r:Qn(o.right,r.right,0,e),b:Qn(o.bottom,r.bottom,0,n),l:Qn(o.left,r.left,0,e)}}function SD(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,r=yo(o),l=Math.min(e,n),d=t.borderSkipped,h=i||be(o);return{topLeft:Qn(!h||d.top||d.left,r.topLeft,0,l),topRight:Qn(!h||d.top||d.right,r.topRight,0,l),bottomLeft:Qn(!h||d.bottom||d.left,r.bottomLeft,0,l),bottomRight:Qn(!h||d.bottom||d.right,r.bottomRight,0,l)}}function TD(t){const e=av(t),n=e.right-e.left,i=e.bottom-e.top,o=_D(t,n/2,i/2),r=SD(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+o.l,y:e.top+o.t,w:n-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function gc(t,e,n,i){const o=e===null,r=n===null,d=t&&!(o&&r)&&av(t,i);return d&&(o||Ti(e,d.left,d.right))&&(r||Ti(n,d.top,d.bottom))}function wD(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function bD(t,e){t.rect(e.x,e.y,e.w,e.h)}function xc(t,e,n={}){const i=t.x!==n.x?-e:0,o=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,l=(t.y+t.h!==n.y+n.h?e:0)-o;return{x:t.x+i,y:t.y+o,w:t.w+r,h:t.h+l,radius:t.radius}}class _o extends bn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:o}}=this,{inner:r,outer:l}=TD(this),d=wD(l.radius)?za:bD;e.save(),(l.w!==r.w||l.h!==r.h)&&(e.beginPath(),d(e,xc(l,n,r)),e.clip(),d(e,xc(r,-n,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),d(e,xc(r,n)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,n,i){return gc(this,e,n,i)}inXRange(e,n){return gc(this,e,null,n)}inYRange(e,n){return gc(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+o)/2:n,y:r?i:(i+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}de(_o,"id","bar"),de(_o,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),de(_o,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const ex=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},ND=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class tx extends bn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=je(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,o=mt(i.font),r=o.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=ex(i,r);let p,g;n.font=o.string,this.isHorizontal()?(p=this.maxWidth,g=this._fitRows(l,r,d,h)+10):(g=this.maxHeight,p=this._fitCols(l,o,d,h)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,o){const{ctx:r,maxWidth:l,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],g=o+d;let y=e;r.textAlign="left",r.textBaseline="middle";let C=-1,S=-g;return this.legendItems.forEach((w,b)=>{const N=i+n/2+r.measureText(w.text).width;(b===0||p[p.length-1]+N+2*d>l)&&(y+=g,p[p.length-(b>0?0:1)]=0,S+=g,C++),h[b]={left:0,top:S,row:C,width:N,height:o},p[p.length-1]+=N+d}),y}_fitCols(e,n,i,o){const{ctx:r,maxHeight:l,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],g=l-e;let y=d,C=0,S=0,w=0,b=0;return this.legendItems.forEach((N,M)=>{const{itemWidth:I,itemHeight:A}=ED(i,n,r,N,o);M>0&&S+A+2*d>g&&(y+=C+d,p.push({width:C,height:S}),w+=C+d,b++,C=S=0),h[M]={left:w,top:S,col:b,width:I,height:A},C=Math.max(C,I),S+=A+d}),y+=C,p.push({width:C,height:S}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:o},rtl:r}}=this,l=vo(r,this.left,this.width);if(this.isHorizontal()){let d=0,h=ht(i,this.left+o,this.right-this.lineWidths[d]);for(const p of n)d!==p.row&&(d=p.row,h=ht(i,this.left+o,this.right-this.lineWidths[d])),p.top+=this.top+e+o,p.left=l.leftForLtr(l.x(h),p.width),h+=p.width+o}else{let d=0,h=ht(i,this.top+e+o,this.bottom-this.columnSizes[d].height);for(const p of n)p.col!==d&&(d=p.col,h=ht(i,this.top+e+o,this.bottom-this.columnSizes[d].height)),p.top=h,p.left+=this.left+o,p.left=l.leftForLtr(l.x(p.left),p.width),h+=p.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;hd(e,this),this._draw(),pd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:o}=this,{align:r,labels:l}=e,d=Ke.color,h=vo(e.rtl,this.left,this.width),p=mt(l.font),{padding:g}=l,y=p.size,C=y/2;let S;this.drawTitle(),o.textAlign=h.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=p.string;const{boxWidth:w,boxHeight:b,itemHeight:N}=ex(l,y),M=function(z,$,B){if(isNaN(w)||w<=0||isNaN(b)||b<0)return;o.save();const O=ke(B.lineWidth,1);if(o.fillStyle=ke(B.fillStyle,d),o.lineCap=ke(B.lineCap,"butt"),o.lineDashOffset=ke(B.lineDashOffset,0),o.lineJoin=ke(B.lineJoin,"miter"),o.lineWidth=O,o.strokeStyle=ke(B.strokeStyle,d),o.setLineDash(ke(B.lineDash,[])),l.usePointStyle){const Q={radius:b*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:O},K=h.xPlus(z,w/2),ae=$+C;By(o,Q,K,ae,l.pointStyleWidth&&w)}else{const Q=$+Math.max((y-b)/2,0),K=h.leftForLtr(z,w),ae=yo(B.borderRadius);o.beginPath(),Object.values(ae).some(Se=>Se!==0)?za(o,{x:K,y:Q,w,h:b,radius:ae}):o.rect(K,Q,w,b),o.fill(),O!==0&&o.stroke()}o.restore()},I=function(z,$,B){Bs(o,B.text,z,$+N/2,p,{strikethrough:B.hidden,textAlign:h.textAlign(B.textAlign)})},A=this.isHorizontal(),D=this._computeTitleHeight();A?S={x:ht(r,this.left+g,this.right-i[0]),y:this.top+g+D,line:0}:S={x:this.left+g,y:ht(r,this.top+D+g,this.bottom-n[0].height),line:0},Wy(this.ctx,e.textDirection);const L=N+g;this.legendItems.forEach((z,$)=>{o.strokeStyle=z.fontColor,o.fillStyle=z.fontColor;const B=o.measureText(z.text).width,O=h.textAlign(z.textAlign||(z.textAlign=l.textAlign)),Q=w+C+B;let K=S.x,ae=S.y;h.setWidth(this.width),A?$>0&&K+Q+g>this.right&&(ae=S.y+=L,S.line++,K=S.x=ht(r,this.left+g,this.right-i[S.line])):$>0&&ae+L>this.bottom&&(K=S.x=K+n[S.line].width+g,S.line++,ae=S.y=ht(r,this.top+D+g,this.bottom-n[S.line].height));const Se=h.x(K);if(M(Se,ae,z),K=XI(O,K+w+C,A?K+Q:this.right,e.rtl),I(h.x(K),ae,z),A)S.x+=Q+g;else if(typeof z.text!="string"){const Re=p.lineHeight;S.y+=lv(z,Re)+g}else S.y+=L}),Jy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=mt(n.font),o=Ht(n.padding);if(!n.display)return;const r=vo(e.rtl,this.left,this.width),l=this.ctx,d=n.position,h=i.size/2,p=o.top+h;let g,y=this.left,C=this.width;if(this.isHorizontal())C=Math.max(...this.lineWidths),g=this.top+p,y=ht(e.align,y,this.right-C);else{const w=this.columnSizes.reduce((b,N)=>Math.max(b,N.height),0);g=p+ht(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const S=ht(d,y,y+C);l.textAlign=r.textAlign(dd(d)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,Bs(l,n.text,S,g,i)}_computeTitleHeight(){const e=this.options.title,n=mt(e.font),i=Ht(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,o,r;if(Ti(e,this.left,this.right)&&Ti(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(o=r[i],Ti(e,o.left,o.left+o.width)&&Ti(n,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!PD(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,r=ND(o,i);o&&!r&&je(n.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!r&&je(n.onHover,[e,i,this],this)}else i&&je(n.onClick,[e,i,this],this)}}function ED(t,e,n,i,o){const r=kD(i,t,e,n),l=MD(o,i,e.lineHeight);return{itemWidth:r,itemHeight:l}}function kD(t,e,n,i){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((r,l)=>r.length>l.length?r:l)),e+n.size/2+i.measureText(o).width}function MD(t,e,n){let i=t;return typeof e.text!="string"&&(i=lv(e,n)),i}function lv(t,e){const n=t.text?t.text.length:0;return e*n}function PD(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Sd={id:"legend",_element:tx,start(t,e,n){const i=t.legend=new tx({ctx:t.ctx,options:n,chart:t});Bt.configure(t,i,n),Bt.addBox(t,i)},stop(t){Bt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Bt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,o=n.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:o,color:r,useBorderRadius:l,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(n?0:void 0),g=Ht(p.borderWidth);return{text:e[h.index].label,fillStyle:p.backgroundColor,fontColor:r,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:o||p.textAlign,borderRadius:l&&(d||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class uv extends bn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const o=nt(i.text)?i.text.length:1;this._padding=Ht(i.padding);const r=o*mt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:o,right:r,options:l}=this,d=l.align;let h=0,p,g,y;return this.isHorizontal()?(g=ht(d,i,r),y=n+e,p=r-i):(l.position==="left"?(g=i+e,y=ht(d,o,n),h=Ze*-.5):(g=r-e,y=ht(d,n,o),h=Ze*.5),p=o-n),{titleX:g,titleY:y,maxWidth:p,rotation:h}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=mt(n.font),r=i.lineHeight/2+this._padding.top,{titleX:l,titleY:d,maxWidth:h,rotation:p}=this._drawArgs(r);Bs(e,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:p,textAlign:dd(n.align),textBaseline:"middle",translation:[l,d]})}}function ID(t,e){const n=new uv({ctx:t.ctx,options:e,chart:t});Bt.configure(t,n,e),Bt.addBox(t,n),t.titleBlock=n}var Td={id:"title",_element:uv,start(t,e,n){ID(t,n)},stop(t){const e=t.titleBlock;Bt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Bt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ps={average(t){if(!t.length)return!1;let e,n,i=new Set,o=0,r=0;for(e=0,n=t.length;e<n;++e){const d=t[e].element;if(d&&d.hasValue()){const h=d.tooltipPosition();i.add(h.x),o+=h.y,++r}}return{x:[...i].reduce((d,h)=>d+h)/i.size,y:o/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,o=Number.POSITIVE_INFINITY,r,l,d;for(r=0,l=t.length;r<l;++r){const h=t[r].element;if(h&&h.hasValue()){const p=h.getCenterPoint(),g=GI(e,p);g<o&&(o=g,d=h)}}if(d){const h=d.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function sn(t,e){return e&&(nt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Sn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function AD(t,e){const{element:n,datasetIndex:i,index:o}=e,r=t.getDatasetMeta(i).controller,{label:l,value:d}=r.getLabelAndValue(o);return{chart:t,label:l,parsed:r.getParsed(o),raw:t.data.datasets[i].data[o],formattedValue:d,dataset:r.getDataset(),dataIndex:o,datasetIndex:i,element:n}}function nx(t,e){const n=t.chart.ctx,{body:i,footer:o,title:r}=t,{boxWidth:l,boxHeight:d}=e,h=mt(e.bodyFont),p=mt(e.titleFont),g=mt(e.footerFont),y=r.length,C=o.length,S=i.length,w=Ht(e.padding);let b=w.height,N=0,M=i.reduce((D,L)=>D+L.before.length+L.lines.length+L.after.length,0);if(M+=t.beforeBody.length+t.afterBody.length,y&&(b+=y*p.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),M){const D=e.displayColors?Math.max(d,h.lineHeight):h.lineHeight;b+=S*D+(M-S)*h.lineHeight+(M-1)*e.bodySpacing}C&&(b+=e.footerMarginTop+C*g.lineHeight+(C-1)*e.footerSpacing);let I=0;const A=function(D){N=Math.max(N,n.measureText(D).width+I)};return n.save(),n.font=p.string,Ae(t.title,A),n.font=h.string,Ae(t.beforeBody.concat(t.afterBody),A),I=e.displayColors?l+2+e.boxPadding:0,Ae(i,D=>{Ae(D.before,A),Ae(D.lines,A),Ae(D.after,A)}),I=0,n.font=g.string,Ae(t.footer,A),n.restore(),N+=w.width,{width:N,height:b}}function RD(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function DD(t,e,n,i){const{x:o,width:r}=i,l=n.caretSize+n.caretPadding;if(t==="left"&&o+r+l>e.width||t==="right"&&o-r-l<0)return!0}function LD(t,e,n,i){const{x:o,width:r}=n,{width:l,chartArea:{left:d,right:h}}=t;let p="center";return i==="center"?p=o<=(d+h)/2?"left":"right":o<=r/2?p="left":o>=l-r/2&&(p="right"),DD(p,t,e,n)&&(p="center"),p}function ix(t,e,n){const i=n.yAlign||e.yAlign||RD(t,n);return{xAlign:n.xAlign||e.xAlign||LD(t,e,n,i),yAlign:i}}function FD(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function UD(t,e,n){let{y:i,height:o}=t;return e==="top"?i+=n:e==="bottom"?i-=o+n:i-=o/2,i}function ox(t,e,n,i){const{caretSize:o,caretPadding:r,cornerRadius:l}=t,{xAlign:d,yAlign:h}=n,p=o+r,{topLeft:g,topRight:y,bottomLeft:C,bottomRight:S}=yo(l);let w=FD(e,d);const b=UD(e,h,p);return h==="center"?d==="left"?w+=p:d==="right"&&(w-=p):d==="left"?w-=Math.max(g,C)+o:d==="right"&&(w+=Math.max(y,S)+o),{x:Nt(w,0,i.width-e.width),y:Nt(b,0,i.height-e.height)}}function _a(t,e,n){const i=Ht(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function sx(t){return sn([],Sn(t))}function VD(t,e,n){return Po(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function rx(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const cv={beforeTitle:Cn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Cn,beforeBody:Cn,beforeLabel:Cn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Be(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Cn,afterBody:Cn,beforeFooter:Cn,footer:Cn,afterFooter:Cn};function wt(t,e,n,i){const o=t[e].call(n,i);return typeof o>"u"?cv[e].call(n,i):o}class qc extends bn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&n.options.animation&&i.animations,r=new Yy(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=VD(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,o=wt(i,"beforeTitle",this,e),r=wt(i,"title",this,e),l=wt(i,"afterTitle",this,e);let d=[];return d=sn(d,Sn(o)),d=sn(d,Sn(r)),d=sn(d,Sn(l)),d}getBeforeBody(e,n){return sx(wt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,o=[];return Ae(e,r=>{const l={before:[],lines:[],after:[]},d=rx(i,r);sn(l.before,Sn(wt(d,"beforeLabel",this,r))),sn(l.lines,wt(d,"label",this,r)),sn(l.after,Sn(wt(d,"afterLabel",this,r))),o.push(l)}),o}getAfterBody(e,n){return sx(wt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,o=wt(i,"beforeFooter",this,e),r=wt(i,"footer",this,e),l=wt(i,"afterFooter",this,e);let d=[];return d=sn(d,Sn(o)),d=sn(d,Sn(r)),d=sn(d,Sn(l)),d}_createItems(e){const n=this._active,i=this.chart.data,o=[],r=[],l=[];let d=[],h,p;for(h=0,p=n.length;h<p;++h)d.push(AD(this.chart,n[h]));return e.filter&&(d=d.filter((g,y,C)=>e.filter(g,y,C,i))),e.itemSort&&(d=d.sort((g,y)=>e.itemSort(g,y,i))),Ae(d,g=>{const y=rx(e.callbacks,g);o.push(wt(y,"labelColor",this,g)),r.push(wt(y,"labelPointStyle",this,g)),l.push(wt(y,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=r,this.labelTextColors=l,this.dataPoints=d,d}update(e,n){const i=this.options.setContext(this.getContext()),o=this._active;let r,l=[];if(!o.length)this.opacity!==0&&(r={opacity:0});else{const d=Ps[i.position].call(this,o,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=nx(this,i),p=Object.assign({},d,h),g=ix(this.chart,i,p),y=ox(i,p,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,r={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,o){const r=this.getCaretPosition(e,i,o);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:o,yAlign:r}=this,{caretSize:l,cornerRadius:d}=i,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:y}=yo(d),{x:C,y:S}=e,{width:w,height:b}=n;let N,M,I,A,D,L;return r==="center"?(D=S+b/2,o==="left"?(N=C,M=N-l,A=D+l,L=D-l):(N=C+w,M=N+l,A=D-l,L=D+l),I=N):(o==="left"?M=C+Math.max(h,g)+l:o==="right"?M=C+w-Math.max(p,y)-l:M=this.caretX,r==="top"?(A=S,D=A-l,N=M-l,I=M+l):(A=S+b,D=A+l,N=M+l,I=M-l),L=A),{x1:N,x2:M,x3:I,y1:A,y2:D,y3:L}}drawTitle(e,n,i){const o=this.title,r=o.length;let l,d,h;if(r){const p=vo(i.rtl,this.x,this.width);for(e.x=_a(this,i.titleAlign,i),n.textAlign=p.textAlign(i.titleAlign),n.textBaseline="middle",l=mt(i.titleFont),d=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<r;++h)n.fillText(o[h],p.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+d,h+1===r&&(e.y+=i.titleMarginBottom-d)}}_drawColorBox(e,n,i,o,r){const l=this.labelColors[i],d=this.labelPointStyles[i],{boxHeight:h,boxWidth:p}=r,g=mt(r.bodyFont),y=_a(this,"left",r),C=o.x(y),S=h<g.lineHeight?(g.lineHeight-h)/2:0,w=n.y+S;if(r.usePointStyle){const b={radius:Math.min(p,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},N=o.leftForLtr(C,p)+p/2,M=w+h/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Cg(e,b,N,M),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Cg(e,b,N,M)}else{e.lineWidth=be(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const b=o.leftForLtr(C,p),N=o.leftForLtr(o.xPlus(C,1),p-2),M=yo(l.borderRadius);Object.values(M).some(I=>I!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,za(e,{x:b,y:w,w:p,h,radius:M}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),za(e,{x:N,y:w+1,w:p-2,h:h-2,radius:M}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(b,w,p,h),e.strokeRect(b,w,p,h),e.fillStyle=l.backgroundColor,e.fillRect(N,w+1,p-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:o}=this,{bodySpacing:r,bodyAlign:l,displayColors:d,boxHeight:h,boxWidth:p,boxPadding:g}=i,y=mt(i.bodyFont);let C=y.lineHeight,S=0;const w=vo(i.rtl,this.x,this.width),b=function(B){n.fillText(B,w.x(e.x+S),e.y+C/2),e.y+=C+r},N=w.textAlign(l);let M,I,A,D,L,z,$;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,e.x=_a(this,N,i),n.fillStyle=i.bodyColor,Ae(this.beforeBody,b),S=d&&N!=="right"?l==="center"?p/2+g:p+2+g:0,D=0,z=o.length;D<z;++D){for(M=o[D],I=this.labelTextColors[D],n.fillStyle=I,Ae(M.before,b),A=M.lines,d&&A.length&&(this._drawColorBox(n,e,D,w,i),C=Math.max(y.lineHeight,h)),L=0,$=A.length;L<$;++L)b(A[L]),C=y.lineHeight;Ae(M.after,b)}S=0,C=y.lineHeight,Ae(this.afterBody,b),e.y-=r}drawFooter(e,n,i){const o=this.footer,r=o.length;let l,d;if(r){const h=vo(i.rtl,this.x,this.width);for(e.x=_a(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=mt(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,d=0;d<r;++d)n.fillText(o[d],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,n,i,o){const{xAlign:r,yAlign:l}=this,{x:d,y:h}=e,{width:p,height:g}=i,{topLeft:y,topRight:C,bottomLeft:S,bottomRight:w}=yo(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(d+y,h),l==="top"&&this.drawCaret(e,n,i,o),n.lineTo(d+p-C,h),n.quadraticCurveTo(d+p,h,d+p,h+C),l==="center"&&r==="right"&&this.drawCaret(e,n,i,o),n.lineTo(d+p,h+g-w),n.quadraticCurveTo(d+p,h+g,d+p-w,h+g),l==="bottom"&&this.drawCaret(e,n,i,o),n.lineTo(d+S,h+g),n.quadraticCurveTo(d,h+g,d,h+g-S),l==="center"&&r==="left"&&this.drawCaret(e,n,i,o),n.lineTo(d,h+y),n.quadraticCurveTo(d,h,d+y,h),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,o=i&&i.x,r=i&&i.y;if(o||r){const l=Ps[e.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=nx(this,e),h=Object.assign({},l,this._size),p=ix(n,e,h),g=ox(e,h,p,n);(o._to!==g.x||r._to!==g.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ht(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,o,n),Wy(e,n.textDirection),r.y+=l.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),Jy(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,o=e.map(({datasetIndex:d,index:h})=>{const p=this.chart.getDatasetMeta(d);if(!p)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:p.data[h],index:h}}),r=!Fa(i,o),l=this._positionChanged(o,n);(r||l)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,r=this._active||[],l=this._getActiveElements(e,r,n,i),d=this._positionChanged(l,e),h=n||!Fa(l,r)||d;return h&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),h}_getActiveElements(e,n,i,o){const r=this.options;if(e.type==="mouseout")return[];if(!o)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:i,caretY:o,options:r}=this,l=Ps[r.position].call(this,e,n);return l!==!1&&(i!==l.x||o!==l.y)}}de(qc,"positioners",Ps);var wd={id:"tooltip",_element:qc,positioners:Ps,afterInit(t,e,n){n&&(t.tooltip=new qc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const jD=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function BD(t,e,n,i){const o=t.indexOf(e);if(o===-1)return jD(t,e,n,i);const r=t.lastIndexOf(e);return o!==r?n:o}const zD=(t,e)=>t===null?null:Nt(Math.round(t),0,e);function ax(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Os extends Io{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:o,label:r}of n)i[o]===r&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Be(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:BD(i,e,ke(n,e),this._addedLabels),zD(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,o=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=n;l++)o.push({value:l});return o}getLabelForValue(e){return ax.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}de(Os,"id","category"),de(Os,"defaults",{ticks:{callback:ax}});function OD(t,e){const n=[],{bounds:o,step:r,min:l,max:d,precision:h,count:p,maxTicks:g,maxDigits:y,includeBounds:C}=t,S=r||1,w=g-1,{min:b,max:N}=e,M=!Be(l),I=!Be(d),A=!Be(p),D=(N-b)/(y+1);let L=dg((N-b)/w/S)*S,z,$,B,O;if(L<1e-14&&!M&&!I)return[{value:b},{value:N}];O=Math.ceil(N/L)-Math.floor(b/L),O>w&&(L=dg(O*L/w/S)*S),Be(h)||(z=Math.pow(10,h),L=Math.ceil(L*z)/z),o==="ticks"?($=Math.floor(b/L)*L,B=Math.ceil(N/L)*L):($=b,B=N),M&&I&&r&&HI((d-l)/r,L/1e3)?(O=Math.round(Math.min((d-l)/L,g)),L=(d-l)/O,$=l,B=d):A?($=M?l:$,B=I?d:B,O=p-1,L=(B-$)/O):(O=(B-$)/L,Na(O,Math.round(O),L/1e3)?O=Math.round(O):O=Math.ceil(O));const Q=Math.max(fg(L),fg($));z=Math.pow(10,Be(h)?Q:h),$=Math.round($*z)/z,B=Math.round(B*z)/z;let K=0;for(M&&(C&&$!==l?(n.push({value:l}),$<l&&K++,Na(Math.round(($+K*L)*z)/z,l,lx(l,D,t))&&K++):$<l&&K++);K<O;++K){const ae=Math.round(($+K*L)*z)/z;if(I&&ae>d)break;n.push({value:ae})}return I&&C&&B!==d?n.length&&Na(n[n.length-1].value,d,lx(d,D,t))?n[n.length-1].value=d:n.push({value:d}):(!I||B===d)&&n.push({value:B}),n}function lx(t,e,{horizontal:n,minRotation:i}){const o=wn(i),r=(n?Math.sin(o):Math.cos(o))||.001,l=.75*e*(""+t).length;return Math.min(e/r,l)}class HD extends Io{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Be(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:o,max:r}=this;const l=h=>o=n?o:h,d=h=>r=i?r:h;if(e){const h=ei(o),p=ei(r);h<0&&p<0?d(0):h>0&&p>0&&l(0)}if(o===r){let h=r===0?1:Math.abs(r*.05);d(r+h),e||l(o-h)}this.min=o,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,l=OD(o,r);return e.bounds==="ticks"&&$I(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const o=(i-n)/Math.max(e.length-1,1)/2;n-=o,i+=o}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return fd(e,this.chart.options.locale,this.options.ticks.format)}}class Hs extends HD{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ot(e)?e:0,this.max=Ot(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=wn(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}de(Hs,"id","linear"),de(Hs,"defaults",{ticks:{callback:jy.formatters.numeric}});const ol={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bt=Object.keys(ol);function ux(t,e){return t-e}function cx(t,e){if(Be(e))return null;const n=t._adapter,{parser:i,round:o,isoWeekday:r}=t._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),Ot(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(o&&(l=o==="week"&&(ja(r)||r===!0)?n.startOf(l,"isoWeek",r):n.startOf(l,o)),+l)}function dx(t,e,n,i){const o=bt.length;for(let r=bt.indexOf(t);r<o-1;++r){const l=ol[bt[r]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(d*l.size))<=i)return bt[r]}return bt[o-1]}function $D(t,e,n,i,o){for(let r=bt.length-1;r>=bt.indexOf(n);r--){const l=bt[r];if(ol[l].common&&t._adapter.diff(o,i,l)>=e-1)return l}return bt[n?bt.indexOf(n):0]}function qD(t){for(let e=bt.indexOf(t)+1,n=bt.length;e<n;++e)if(ol[bt[e]].common)return bt[e]}function fx(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:o}=cd(n,e),r=n[i]>=e?n[i]:n[o];t[r]=!0}}function GD(t,e,n,i){const o=t._adapter,r=+o.startOf(e[0].value,i),l=e[e.length-1].value;let d,h;for(d=r;d<=l;d=+o.add(d,1,i))h=n[d],h>=0&&(e[h].major=!0);return e}function hx(t,e,n){const i=[],o={},r=e.length;let l,d;for(l=0;l<r;++l)d=e[l],o[d]=l,i.push({value:d,major:!1});return r===0||!n?i:GD(t,i,o,n)}class qa extends Io{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),o=this._adapter=new rR._date(e.adapters.date);o.init(n),As(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:cx(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:o,max:r,minDefined:l,maxDefined:d}=this.getUserBounds();function h(p){!l&&!isNaN(p.min)&&(o=Math.min(o,p.min)),!d&&!isNaN(p.max)&&(r=Math.max(r,p.max))}(!l||!d)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),o=Ot(o)&&!isNaN(o)?o:+n.startOf(Date.now(),i),r=Ot(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(o,r-1),this.max=Math.max(o+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const r=this.min,l=this.max,d=YI(o,r,l);return this._unit=n.unit||(i.autoSkip?dx(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):$D(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:qD(this._unit),this.initOffsets(o),e.reverse&&d.reverse(),hx(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,o,r;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=Nt(n,0,l),i=Nt(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,o=this.options,r=o.time,l=r.unit||dx(r.minUnit,n,i,this._getLabelCapacity(n)),d=ke(o.ticks.stepSize,1),h=l==="week"?r.isoWeekday:!1,p=ja(h)||h===!0,g={};let y=n,C,S;if(p&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,p?"day":l),e.diff(i,n,l)>1e5*d)throw new Error(n+" and "+i+" are too far apart with stepSize of "+d+" "+l);const w=o.ticks.source==="data"&&this.getDataTimestamps();for(C=y,S=0;C<i;C=+e.add(C,d,l),S++)fx(g,C,w);return(C===i||o.bounds==="ticks"||S===1)&&fx(g,C,w),Object.keys(g).sort(ux).map(b=>+b)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const o=this.options.time.displayFormats,r=this._unit,l=n||o[r];return this._adapter.format(e,l)}_tickFormatFunction(e,n,i,o){const r=this.options,l=r.ticks.callback;if(l)return je(l,[e,n,i],this);const d=r.time.displayFormats,h=this._unit,p=this._majorUnit,g=h&&d[h],y=p&&d[p],C=i[n],S=p&&y&&C&&C.major;return this._adapter.format(e,o||(S?y:g))}generateTickLabels(e){let n,i,o;for(n=0,i=e.length;n<i;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,o=wn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(o),l=Math.sin(o),d=this._resolveTickFontOptions(0).size;return{w:i*r+d*l,h:i*l+d*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,o=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,hx(this,[e],this._majorUnit),o),l=this._getLabelSize(r),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,i=o.length;n<i;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const o=this.getLabels();for(n=0,i=o.length;n<i;++n)e.push(cx(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ly(e.sort(ux))}}de(qa,"id","time"),de(qa,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Sa(t,e,n){let i=0,o=t.length-1,r,l,d,h;n?(e>=t[i].pos&&e<=t[o].pos&&({lo:i,hi:o}=Bc(t,"pos",e)),{pos:r,time:d}=t[i],{pos:l,time:h}=t[o]):(e>=t[i].time&&e<=t[o].time&&({lo:i,hi:o}=Bc(t,"time",e)),{time:r,pos:d}=t[i],{time:l,pos:h}=t[o]);const p=l-r;return p?d+(h-d)*(e-r)/p:d}class px extends qa{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Sa(n,this.min),this._tableRange=Sa(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,o=[],r=[];let l,d,h,p,g;for(l=0,d=e.length;l<d;++l)p=e[l],p>=n&&p<=i&&o.push(p);if(o.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,d=o.length;l<d;++l)g=o[l+1],h=o[l-1],p=o[l],Math.round((g+h)/2)!==p&&r.push({time:p,pos:l/(d-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((o,r)=>o-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Sa(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Sa(this._table,i*this._tableRange+this._minPos,!0)}}de(px,"id","timeseries"),de(px,"defaults",qa.defaults);const dv="label";function mx(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function WD(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function fv(t,e){t.labels=e}function hv(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dv;const i=[];t.datasets=e.map(o=>{const r=t.datasets.find(l=>l[n]===o[n]);return!r||!o.data||i.includes(r)?{...o}:(i.push(r),Object.assign(r,o),r)})}function JD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dv;const n={labels:[],datasets:[]};return fv(n,t.labels),hv(n,t.datasets,e),n}function YD(t,e){const{height:n=150,width:i=300,redraw:o=!1,datasetIdKey:r,type:l,data:d,options:h,plugins:p=[],fallbackContent:g,updateMode:y,...C}=t,S=k.useRef(null),w=k.useRef(),b=()=>{S.current&&(w.current=new Ao(S.current,{type:l,data:JD(d,r),options:h&&{...h},plugins:p}),mx(e,w.current))},N=()=>{mx(e,null),w.current&&(w.current.destroy(),w.current=null)};return k.useEffect(()=>{!o&&w.current&&h&&WD(w.current,h)},[o,h]),k.useEffect(()=>{!o&&w.current&&fv(w.current.config.data,d.labels)},[o,d.labels]),k.useEffect(()=>{!o&&w.current&&d.datasets&&hv(w.current.config.data,d.datasets,r)},[o,d.datasets]),k.useEffect(()=>{w.current&&(o?(N(),setTimeout(b)):w.current.update(y))},[o,h,d.labels,d.datasets,y]),k.useEffect(()=>{w.current&&(N(),setTimeout(b))},[l]),k.useEffect(()=>(b(),()=>N()),[]),$s.createElement("canvas",Object.assign({ref:S,role:"img",height:n,width:i},C),g)}const KD=k.forwardRef(YD);function bd(t,e){return Ao.register(e),k.forwardRef((n,i)=>$s.createElement(KD,Object.assign({},n,{ref:i,type:t})))}const wi=bd("bar",Ea),Nd=bd("doughnut",ho),pv=bd("pie",Oc),yc=({title:t,chartType:e,data:n,className:i})=>{const o=e==="pie"?pv:Nd,r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{boxWidth:12,padding:15,font:{size:12}}}}};return m.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border border-slate-200/80 ${i}`,children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-4",children:t}),m.jsx("div",{className:"h-64",children:m.jsx(o,{data:n,options:r})})]})};Ao.register(Os,Hs,_o,Td,wd,Sd,po);const At={blue:"#3b82f6",pink:"#ec4899",gray:"#6b7280",teal:"#14b8a6",green:"#22c55e",yellow:"#eab308",orange:"#f97316",red:"#ef4444",purple:"#8b5cf6",indigo:"#6366f1",cyan:"#06b6d4",lime:"#a3e635"},QD=["#3b82f6","#ec4899","#6b7280","#14b8a6","#22c55e","#eab308","#f97316","#ef4444","#8b5cf6","#6366f1","#06b6d4","#a3e635"],XD=QD.map(t=>`${t}B3`),ZD=()=>{const[t,e]=k.useState(null),[n,i]=k.useState(!0);if(k.useEffect(()=>{xe.getFullAdminDashboardData().then(N=>{e(N),i(!1)}).catch(N=>{console.error("Failed to load dashboard data:",N),i(!1)})},[]),n)return m.jsx("p",{className:"text-center text-slate-500 mt-10",children:"Carregando dashboard aprimorado..."});if(!t||!t.analytics)return m.jsx("p",{className:"text-center text-red-500 mt-10",children:"Falha ao carregar os dados do dashboard."});const{analytics:o,totalTourists:r,totalRoutes:l,totalCheckIns:d,totalHotelCheckIns:h,botUsage:p}=t,g={demographics:(o==null?void 0:o.demographics)||{byGender:{Masculino:0,Feminino:0,Outro:0},ageRanges:{"18-25":0,"26-35":0,"36-45":0,"46-60":0,"60+":0},byNationality:{Brasil:0,Argentina:0,Uruguai:0}},travelBehavior:(o==null?void 0:o.travelBehavior)||{byReason:{Turismo:0,Negócios:0,Família:0}}},y=p||{totalInteractions:0,satisfaction:0,commonQuestions:[]},C={labels:Object.keys(g.demographics.byGender),datasets:[{data:Object.values(g.demographics.byGender),backgroundColor:[At.blue,At.pink,At.gray]}]},S={labels:Object.keys(g.demographics.ageRanges),datasets:[{data:Object.values(g.demographics.ageRanges),backgroundColor:[At.teal,At.green,At.yellow,At.orange,At.red]}]},w={labels:Object.keys(g.demographics.byNationality),datasets:[{label:"Visitantes por Origem",data:Object.values(g.demographics.byNationality),backgroundColor:At.purple}]},b={labels:Object.keys(g.travelBehavior.byReason),datasets:[{data:Object.values(g.travelBehavior.byReason),backgroundColor:[At.indigo,At.cyan,At.lime]}]};return m.jsxs("div",{className:"space-y-6 pb-10",children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Dashboard da Secretaria"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-5",children:[m.jsx(so,{icon:bi,title:"Turistas (App)",value:r||0,color:"#3b82f6"}),m.jsx(so,{icon:jx,title:"Check-ins (Hoteis)",value:h||0,color:"#10b981"}),m.jsx(so,{icon:bc,title:"Check-ins (POIs)",value:d||0,color:"#f97316"}),m.jsx(so,{icon:Qt,title:"Rotas Criadas",value:l||0,color:"#8b5cf6"}),m.jsx(so,{icon:Ka,title:"Interações (Bot)",value:y.totalInteractions,color:"#14b8a6"}),m.jsx(so,{icon:Vx,title:"Satisfação (Bot)",value:y.satisfaction,color:"#6366f1"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsx(yc,{title:"Gênero",chartType:"pie",data:C}),m.jsx(yc,{title:"Faixa Etária",chartType:"doughnut",data:S}),m.jsx(yc,{title:"Motivo da Viagem",chartType:"pie",data:b})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[m.jsxs("div",{className:"lg:col-span-3 bg-white p-6 rounded-xl shadow-sm border border-slate-200/80",children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-4",children:"Origem dos Visitantes"}),m.jsx("div",{className:"h-80",children:m.jsx(wi,{data:w,options:{maintainAspectRatio:!1,indexAxis:"y"}})})]}),m.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-slate-200/80",children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-4",children:"Perguntas Frequentes (Bot)"}),m.jsxs("ul",{className:"space-y-3 text-slate-600",children:[y.commonQuestions.map((N,M)=>m.jsxs("li",{className:"flex justify-between items-center text-sm",children:[m.jsx("span",{children:N.question||"Pergunta não disponível"}),m.jsx("span",{className:"font-bold text-slate-800 bg-slate-100 px-2 py-1 rounded-md",children:N.count||0})]},N.question||M)),y.commonQuestions.length===0&&m.jsx("li",{className:"text-center text-slate-400 py-4",children:"Nenhuma pergunta registrada"})]})]})]})]})},eL=()=>{const[t,e]=k.useState([]),[n,i]=k.useState(!0),o=k.useCallback(()=>{i(!0),xe.getRoutes().then(l=>{e(l),i(!1)})},[]);k.useEffect(()=>{o()},[o]);const r=async(l,d)=>{window.confirm(`Tem certeza que deseja excluir a rota "${d}"?`)&&(await xe.deleteRoute(l),o())};return n?m.jsx("p",{children:"Carregando rotas..."}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Gerenciar Rotas"}),m.jsxs(an,{to:"/admin/routes/new",className:"bg-brand-green text-white font-bold py-2.5 px-5 rounded-lg flex items-center gap-2 hover:bg-brand-dark-green transition-colors shadow-sm",children:[m.jsx(Qc,{size:20}),m.jsx("span",{children:"Nova Rota"})]})]}),m.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200/80",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"border-b border-slate-200",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Nome da Rota"}),m.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Descrição"}),m.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600 text-center",children:"Paradas"}),m.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600 text-center",children:"Ações"})]})}),m.jsx("tbody",{children:t.map(l=>m.jsxs("tr",{className:"border-b border-slate-200/80 hover:bg-slate-50",children:[m.jsx("td",{className:"p-4 font-medium text-slate-800",children:l.name}),m.jsx("td",{className:"p-4 text-sm text-slate-600 max-w-sm",children:l.description}),m.jsx("td",{className:"p-4 text-center",children:m.jsxs("div",{className:"inline-flex items-center gap-2 bg-slate-100 px-3 py-1 rounded-full text-sm font-medium text-slate-700",children:[m.jsx(Qt,{size:16}),l.pointsOfInterest.length]})}),m.jsx("td",{className:"p-4",children:m.jsxs("div",{className:"flex justify-center gap-2",children:[m.jsx(an,{to:`/admin/routes/edit/${l.id}`,className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full transition-colors",children:m.jsx(Qa,{size:18})}),m.jsx("button",{onClick:()=>r(l.id,l.name),className:"p-2 text-slate-500 hover:text-brand-red hover:bg-red-100 rounded-full transition-colors",children:m.jsx(Zc,{size:18})})]})})]},l.id))})]})})]})},gx=()=>{const{routeId:t}=Kc(),e=ni(),n=!!t,[i,o]=k.useState(""),[r,l]=k.useState(""),[d,h]=k.useState(""),[p,g]=k.useState(new Set),[y,C]=k.useState([]),[S,w]=k.useState(!0),[b,N]=k.useState(!1);k.useEffect(()=>{(async()=>{w(!0);const D=await xe.getPointsOfInterest();if(C(D),n){const L=await xe.getRouteById(t);L&&(o(L.name),l(L.description),h(L.imageUrl||""),g(new Set(L.pointsOfInterest)))}w(!1)})()},[t,n]);const M=A=>{const D=new Set(p);D.has(A)?D.delete(A):D.add(A),g(D)},I=async A=>{A.preventDefault(),N(!0);const D={name:i,description:r,imageUrl:d,pointsOfInterest:Array.from(p)};n?await xe.updateRoute(t,D):await xe.createRoute(D),N(!1),e("/admin/routes")};return S?m.jsx("p",{children:"Carregando editor..."}):m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold mb-6 text-brand-dark-green",children:n?"Editar Rota":"Criar Nova Rota"}),m.jsxs("form",{onSubmit:I,className:"bg-white p-8 rounded-lg shadow-md space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome da Rota"}),m.jsx("input",{type:"text",id:"name",value:i,onChange:A=>o(A.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descrição"}),m.jsx("textarea",{id:"description",value:r,onChange:A=>l(A.target.value),required:!0,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700",children:"URL da Imagem da Rota"}),m.jsx("input",{type:"text",id:"imageUrl",value:d,onChange:A=>h(A.target.value),placeholder:"Deixe em branco para usar a imagem do primeiro ponto",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Pontos Turísticos"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto p-4 border rounded-lg",children:y.map(A=>m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:`poi-${A.id}`,checked:p.has(A.id),onChange:()=>M(A.id),className:"h-4 w-4 text-brand-green border-gray-300 rounded focus:ring-brand-green"}),m.jsx("label",{htmlFor:`poi-${A.id}`,className:"ml-3 text-sm text-gray-700",children:A.name})]},A.id))})]}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:()=>e("/admin/routes"),className:"bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),m.jsx("button",{type:"submit",disabled:b,className:"bg-brand-green text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-dark-green transition-colors disabled:bg-gray-400",children:b?"Salvando...":"Salvar Rota"})]})]})]})},vc=({icon:t,title:e,value:n,isText:i=!1})=>m.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200/80",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("p",{className:"text-slate-500 text-sm font-medium",children:e}),m.jsx("div",{className:"text-brand-green",children:m.jsx(t,{size:24})})]}),m.jsx("p",{className:`mt-2 font-bold ${i?"text-xl":"text-4xl"} text-slate-800`,children:n})]}),tL=["#02a343","#6cbc3a","#063f1f","#f2e9c6","#d82b2b","#ffe815"],Ta=["#063f1f","#02a343","#6cbc3a","#a5d6a7","#c8e6c9"],lo=(t,e,n,i=tL)=>({labels:t,datasets:[{label:n,data:e,backgroundColor:i.slice(0,t.length),borderColor:"#ffffff",borderWidth:2}]}),uo=(t,e="bottom")=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:e,labels:{boxWidth:12,padding:15,font:{size:12}}},title:{display:!0,text:t,font:{size:16,weight:"bold"},color:"#334155",padding:{bottom:20}}},scales:{y:{grid:{color:"#e2e8f0"},ticks:{color:"#64748b"}},x:{grid:{display:!1},ticks:{color:"#64748b"}}}}),co=({title:t,icon:e,children:n})=>m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200/80",children:[m.jsxs("h2",{className:"text-xl font-semibold mb-4 text-slate-700 flex items-center gap-3",children:[m.jsx(e,{className:"text-brand-green",size:24}),t]}),m.jsxs("div",{className:"h-80",children:[" ",n]})]}),nL=()=>{const[t,e]=k.useState(null),[n,i]=k.useState(null),[o,r]=k.useState(!0);if(k.useEffect(()=>{(async()=>{const[y,C]=await Promise.all([xe.getAnalyticsData(),xe.getAnalyticsSummary()]);e(y),i(C),r(!1)})()},[]),o)return m.jsx("p",{children:"Carregando análises..."});if(!t||!n)return m.jsx("p",{children:"Não foi possível carregar os dados."});const{demographics:l,travelBehavior:d,satisfaction:h,routeAnalytics:p}=t;return m.jsxs("div",{className:"space-y-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Business Intelligence"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx(vc,{icon:bi,title:"Visitantes Únicos",value:n.totalVisitors}),m.jsx(vc,{icon:Nc,title:"Satisfação Média (Cidade)",value:`${n.avgCityRating} / 5.0`,isText:!0}),m.jsx(vc,{icon:ed,title:"Rota Mais Popular",value:n.mostPopularRoute,isText:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8",children:[m.jsx(co,{title:"Distribuição por Gênero",icon:bi,children:m.jsx(Nd,{data:lo(Object.keys(l.byGender),Object.values(l.byGender),"Gênero"),options:uo("","right")})}),m.jsx(co,{title:"Distribuição por Faixa Etária",icon:bi,children:m.jsx(wi,{data:lo(Object.keys(l.ageRanges),Object.values(l.ageRanges),"Faixa Etária",Ta),options:uo("")})}),m.jsx(co,{title:"Motivo da Viagem",icon:qS,children:m.jsx(pv,{data:lo(Object.keys(d.byReason),Object.values(d.byReason),"Motivo"),options:uo("","right")})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsx(co,{title:"Opinião sobre Pontos Turísticos",icon:Qt,children:m.jsx(wi,{data:lo(["Péssimo","Ruim","Boa","Muito boa","Ótima"],["Péssimo","Ruim","Boa","Muito boa","Ótima"].map(g=>h.poi[g]||0),"Avaliações",Ta),options:uo("")})}),m.jsx(co,{title:"Opinião sobre a Cidade",icon:Nc,children:m.jsx(wi,{data:lo(["Péssimo","Ruim","Boa","Muito boa","Ótima"],["Péssimo","Ruim","Boa","Muito boa","Ótima"].map(g=>h.city[g]||0),"Avaliações",Ta),options:uo("")})})]}),m.jsx(co,{title:"Rotas Completadas por Turistas",icon:$x,children:m.jsx(wi,{data:lo(Object.keys(p.completionsByRoute),Object.values(p.completionsByRoute),"Conclusões",Ta),options:uo("")})})]})},iL=()=>{const[t,e]=k.useState([]),[n,i]=k.useState(!0),o=k.useCallback(()=>{i(!0),xe.getPointsOfInterest().then(l=>{e(l),i(!1)})},[]);k.useEffect(()=>{o()},[o]);const r=async(l,d)=>{window.confirm(`Tem certeza que deseja excluir o ponto turístico "${d}"? Isso também o removerá de todas as rotas.`)&&(await xe.deletePointOfInterest(l),o())};return n?m.jsx("p",{children:"Carregando pontos turísticos..."}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Gerenciar Pontos Turísticos"}),m.jsxs(an,{to:"/admin/pois/new",className:"bg-brand-green text-white font-bold py-2.5 px-5 rounded-lg flex items-center gap-2 hover:bg-brand-dark-green transition-colors shadow-sm",children:[m.jsx(Qc,{size:20}),m.jsx("span",{children:"Novo Ponto"})]})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200/80 overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"border-b border-slate-200 bg-slate-50/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Nome do Ponto"}),m.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Descrição Curta"}),m.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600 text-center",children:"Pontos"}),m.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600 text-center",children:"Ações"})]})}),m.jsx("tbody",{children:t.map(l=>m.jsxs("tr",{className:"border-b border-slate-200/80 hover:bg-slate-50",children:[m.jsxs("td",{className:"p-4 font-medium text-slate-800 flex items-center gap-4",children:[m.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-16 h-12 object-cover rounded-md"}),m.jsx("span",{children:l.name})]}),m.jsx("td",{className:"p-4 text-sm text-slate-600 max-w-sm truncate",children:l.description}),m.jsx("td",{className:"p-4 text-center",children:m.jsxs("div",{className:"inline-flex items-center gap-1 bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium",children:[m.jsx(ln,{size:16}),l.points]})}),m.jsx("td",{className:"p-4",children:m.jsxs("div",{className:"flex justify-center gap-2",children:[m.jsx(an,{to:`/admin/pois/edit/${l.id}`,className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full transition-colors",children:m.jsx(Qa,{size:18})}),m.jsx("button",{onClick:()=>r(l.id,l.name),className:"p-2 text-slate-500 hover:text-brand-red hover:bg-red-100 rounded-full transition-colors",children:m.jsx(Zc,{size:18})})]})})]},l.id))})]})})})]})},xx=()=>{const{poiId:t}=Kc(),e=ni(),n=!!t,[i,o]=k.useState({name:"",description:"",longDescription:"",imageUrl:"",points:10,lat:0,lng:0}),[r,l]=k.useState(!0),[d,h]=k.useState(!1);k.useEffect(()=>{n?(l(!0),xe.getPointOfInterestById(t).then(C=>{C&&o({name:C.name,description:C.description,longDescription:C.longDescription,imageUrl:C.imageUrl,points:C.points,lat:C.lat,lng:C.lng}),l(!1)})):l(!1)},[t,n]);const p=C=>{const{name:S,value:w,type:b}=C.target;o(N=>({...N,[S]:b==="number"?parseFloat(w)||0:w}))},g=async C=>{C.preventDefault(),h(!0);const S={...i,points:Number(i.points),lat:Number(i.lat),lng:Number(i.lng)};n?await xe.updatePointOfInterest(t,S):await xe.createPointOfInterest(S),h(!1),e("/admin/pois")};if(r)return m.jsx("p",{children:"Carregando editor..."});const y="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green";return m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold mb-6 text-brand-dark-green",children:n?"Editar Ponto Turístico":"Criar Novo Ponto Turístico"}),m.jsxs("form",{onSubmit:g,className:"bg-white p-8 rounded-lg shadow-md space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome"}),m.jsx("input",{type:"text",name:"name",value:i.name,onChange:p,required:!0,className:y})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descrição Curta"}),m.jsx("input",{type:"text",name:"description",value:i.description,onChange:p,required:!0,className:y})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700",children:"URL da Imagem"}),m.jsx("input",{type:"text",name:"imageUrl",value:i.imageUrl,onChange:p,required:!0,className:y})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"longDescription",className:"block text-sm font-medium text-gray-700",children:"Descrição Longa"}),m.jsx("textarea",{name:"longDescription",value:i.longDescription,onChange:p,required:!0,rows:4,className:y})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"points",className:"block text-sm font-medium text-gray-700",children:"Pontos"}),m.jsx("input",{type:"number",name:"points",value:i.points,onChange:p,required:!0,className:y})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"lat",className:"block text-sm font-medium text-gray-700",children:"Latitude"}),m.jsx("input",{type:"number",step:"any",name:"lat",value:i.lat,onChange:p,required:!0,className:y})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"lng",className:"block text-sm font-medium text-gray-700",children:"Longitude"}),m.jsx("input",{type:"number",step:"any",name:"lng",value:i.lng,onChange:p,required:!0,className:y})]})]}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:()=>e("/admin/pois"),className:"bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),m.jsx("button",{type:"submit",disabled:d,className:"bg-brand-green text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-dark-green transition-colors disabled:bg-gray-400",children:d?"Salvando...":"Salvar Ponto"})]})]})]})},oL=()=>{const[t,e]=k.useState([]),[n,i]=k.useState(!0),[o,r]=k.useState("");k.useEffect(()=>{xe.getAllTouristsData().then(d=>{e(d),i(!1)})},[]);const l=t.filter(d=>d.name.toLowerCase().includes(o.toLowerCase())||d.email.toLowerCase().includes(o.toLowerCase()));return n?m.jsx("p",{children:"Carregando dados dos turistas..."}):m.jsxs("div",{className:"space-y-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Gerenciar Turistas"}),m.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:m.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",className:"w-full p-2 border rounded-md",value:o,onChange:d=>r(d.target.value)})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:m.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[m.jsx("thead",{className:"bg-slate-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Nome"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Contato"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Pontos"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:l.map(d=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(hT,{className:"h-5 w-5 text-slate-400 mr-3"}),m.jsx("span",{className:"font-medium text-slate-800",children:d.name})]})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:[m.jsxs("div",{className:"flex items-center mb-1",children:[m.jsx(RS,{className:"h-4 w-4 text-slate-400 mr-2"}),m.jsx("span",{children:d.email})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(HS,{className:"h-4 w-4 text-slate-400 mr-2"}),m.jsx("span",{children:d.phone})]})]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center text-sm font-semibold text-amber-600",children:[m.jsx(Ei,{className:"h-5 w-5 mr-2"}),m.jsx("span",{children:d.points})]})})]},d.id))})]})})]})},sL=()=>{const[t,e]=k.useState([]),[n,i]=k.useState(!0),[o,r]=k.useState(!1),[l,d]=k.useState(null);k.useEffect(()=>{h()},[]);const h=()=>{i(!0),xe.getChallenges().then(S=>{e(S),i(!1)})},p=(S=null)=>{d(S),r(!0)},g=()=>{r(!1),d(null)},y=async S=>{l?await xe.updateChallenge(l.id,S):await xe.createChallenge(S),h(),g()},C=async S=>{window.confirm("Tem certeza que deseja excluir este desafio?")&&(await xe.deleteChallenge(S),h())};return n?m.jsx("p",{children:"Carregando desafios..."}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Gerenciar Desafios e Eventos"}),m.jsxs("button",{onClick:()=>p(),className:"bg-green-500 text-white px-4 py-2 rounded-lg shadow hover:bg-green-600 flex items-center",children:[m.jsx(Qc,{className:"h-5 w-5 mr-2"}),"Novo Desafio"]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(S=>m.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border flex flex-col justify-between",children:[m.jsxs("div",{children:[m.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${S.type==="event"?"bg-indigo-100 text-indigo-800":"bg-amber-100 text-amber-800"}`,children:S.type==="event"?"Evento":"Desafio"}),m.jsx("h3",{className:"text-xl font-bold text-slate-800 mt-3",children:S.title}),m.jsx("p",{className:"text-slate-600 text-sm my-2",children:S.description}),m.jsxs("div",{className:"flex items-center text-amber-600 font-semibold",children:[m.jsx(Ei,{className:"h-4 w-4 mr-1"})," ",S.points," pontos"]}),S.type==="event"&&S.startDate&&m.jsxs("div",{className:"flex items-center text-slate-500 text-sm mt-2",children:[m.jsx(Aa,{className:"h-4 w-4 mr-1"}),new Date(S.startDate).toLocaleDateString()]})]}),m.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[m.jsx("button",{onClick:()=>p(S),className:"p-2 text-slate-500 hover:text-blue-600",children:m.jsx(Qa,{className:"h-5 w-5"})}),m.jsx("button",{onClick:()=>C(S.id),className:"p-2 text-slate-500 hover:text-red-600",children:m.jsx(Zc,{className:"h-5 w-5"})})]})]},S.id))}),o&&m.jsx(rL,{challenge:l,onSave:y,onClose:g})]})},rL=({challenge:t,onSave:e,onClose:n})=>{const[i,o]=k.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",points:(t==null?void 0:t.points)||0,type:(t==null?void 0:t.type)||"challenge",startDate:t!=null&&t.startDate?t.startDate.split("T")[0]:"",endDate:t!=null&&t.endDate?t.endDate.split("T")[0]:""}),r=d=>{const{name:h,value:p}=d.target;o(g=>({...g,[h]:p}))},l=d=>{d.preventDefault();const h={...i,points:Number(i.points),startDate:i.type==="event"&&i.startDate?new Date(i.startDate).toISOString():void 0,endDate:i.type==="event"&&i.endDate?new Date(i.endDate).toISOString():void 0};e(h)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold mb-6",children:[t?"Editar":"Novo"," Desafio/Evento"]}),m.jsxs("form",{onSubmit:l,className:"space-y-4",children:[m.jsx("input",{type:"text",name:"title",value:i.title,onChange:r,placeholder:"Título",className:"w-full p-2 border rounded",required:!0}),m.jsx("textarea",{name:"description",value:i.description,onChange:r,placeholder:"Descrição",className:"w-full p-2 border rounded",required:!0}),m.jsx("input",{type:"number",name:"points",value:i.points,onChange:r,placeholder:"Pontos",className:"w-full p-2 border rounded",required:!0}),m.jsxs("select",{name:"type",value:i.type,onChange:r,className:"w-full p-2 border rounded",children:[m.jsx("option",{value:"challenge",children:"Desafio"}),m.jsx("option",{value:"event",children:"Evento"})]}),i.type==="event"&&m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("input",{type:"date",name:"startDate",value:i.startDate,onChange:r,className:"w-full p-2 border rounded"}),m.jsx("input",{type:"date",name:"endDate",value:i.endDate,onChange:r,className:"w-full p-2 border rounded"})]}),m.jsxs("div",{className:"flex justify-end space-x-4",children:[m.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-slate-200 rounded",children:"Cancelar"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-500 text-white rounded",children:"Salvar"})]})]})]})})};Ao.register(Os,Hs,_o,Td,wd,Sd);const aL=()=>{const[t,e]=k.useState(null),[n,i]=k.useState([]),[o,r]=k.useState("all"),[l,d]=k.useState(!0);if(k.useEffect(()=>{xe.getAllHotelsAnalytics().then(p=>{e(p),i(p.allCheckIns),d(!1)}).catch(console.error)},[]),k.useEffect(()=>{t&&i(o==="all"?t.allCheckIns:t.allCheckIns.filter(p=>p.hotelId===o))},[o,t]),l)return m.jsx("div",{className:"text-center py-10",children:"Carregando análises..."});if(!t)return m.jsx("div",{className:"text-center py-10 text-red-500",children:"Não foi possível carregar as análises."});const h={labels:t.summary.map(p=>p.hotelName),datasets:[{label:"Total de Hóspedes",data:t.summary.map(p=>p.totalGuests),backgroundColor:"rgba(54, 162, 235, 0.6)"},{label:"Avaliação Média",data:t.summary.map(p=>parseFloat(p.avgRating)||0),backgroundColor:"rgba(75, 192, 192, 0.6)"}]};return m.jsxs("div",{className:"space-y-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Análise da Rede Hoteleira"}),m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Visão Geral"}),m.jsx("div",{style:{height:"400px"},children:m.jsx(wi,{data:h,options:{responsive:!0,maintainAspectRatio:!1}})})]}),m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Detalhes dos Check-ins"}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"hotel-filter",className:"block text-sm font-medium text-gray-700",children:"Filtrar por Hotel"}),m.jsxs("select",{id:"hotel-filter",value:o,onChange:p=>r(p.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[m.jsx("option",{value:"all",children:"Todos os Hotéis"}),t.summary.map(p=>m.jsx("option",{value:p.hotelId,children:p.hotelName},p.hotelId))]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full bg-white",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Hotel"}),m.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Turista"}),m.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Data"}),m.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Origem"}),m.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Motivo"})]})}),m.jsx("tbody",{children:n.map(p=>{var g;return m.jsxs("tr",{children:[m.jsx("td",{className:"py-2 px-4 border-b",children:(g=t.summary.find(y=>y.hotelId===p.hotelId))==null?void 0:g.hotelName}),m.jsx("td",{className:"py-2 px-4 border-b",children:p.touristName}),m.jsx("td",{className:"py-2 px-4 border-b",children:new Date(p.checkInDate).toLocaleDateString()}),m.jsx("td",{className:"py-2 px-4 border-b",children:p.originCity}),m.jsx("td",{className:"py-2 px-4 border-b",children:p.travelReason})]},p.id)})})]})})]})]})};Ao.register(po,wd,Sd,Os,Hs,_o,Td);const Cc=({title:t,value:e,icon:n})=>m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg flex items-center space-x-4 border border-gray-200/80",children:[m.jsx("div",{className:"bg-brand-light-green/30 text-brand-green p-4 rounded-full",children:n}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t}),m.jsx("p",{className:"text-3xl font-bold text-brand-dark-green",children:e})]})]}),yx=({title:t,children:e})=>m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200/80",children:[m.jsx("h3",{className:"text-xl font-bold text-brand-dark-green mb-4",children:t}),m.jsx("div",{className:"h-64 flex items-center justify-center",children:e})]}),lL=()=>{const{user:t}=dn(),[e,n]=k.useState(null),[i,o]=k.useState(!0);if(k.useEffect(()=>{t!=null&&t.id&&xe.getHotelDashboardData(t.id).then(h=>{n(h),o(!1)}).catch(h=>{console.error("Failed to load hotel dashboard:",h),o(!1)})},[t]),i)return m.jsx("div",{className:"text-center py-20 font-medium text-gray-600",children:"Carregando dashboard do hotel..."});if(!e)return m.jsx("div",{className:"text-center py-20 font-bold text-red-600",children:"Não foi possível carregar os dados do hotel."});const r={labels:Object.keys(e.travelBehavior.byReason),datasets:[{data:Object.values(e.travelBehavior.byReason),backgroundColor:XD,borderColor:At,borderWidth:2}]},l={labels:Object.keys(e.demographics.byOrigin),datasets:[{label:"Hóspedes",data:Object.values(e.demographics.byOrigin),backgroundColor:"rgba(108, 188, 58, 0.7)",borderColor:"rgba(108, 188, 58, 1)",borderWidth:1}]},d={responsive:!0,maintainAspectRatio:!1};return m.jsxs("div",{className:"space-y-8",children:[m.jsx("h1",{className:"text-4xl font-bold text-brand-dark-green font-display tracking-wide",children:"Dashboard do Hotel"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.jsx(Cc,{title:"Total de Hóspedes",value:e.totalGuests,icon:m.jsx(bi,{size:28})}),m.jsx(Cc,{title:"Check-ins Hoje",value:0,icon:m.jsx(Y_,{size:28})}),m.jsx(Cc,{title:"Principal Origem",value:Object.keys(e.demographics.byOrigin)[0]||"N/A",icon:m.jsx(Qt,{size:28})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[m.jsx("div",{className:"lg:col-span-2",children:m.jsx(yx,{title:"Motivo da Viagem",children:m.jsx(Nd,{data:r,options:d})})}),m.jsx("div",{className:"lg:col-span-3",children:m.jsx(yx,{title:"Origem dos Hóspedes",children:m.jsx(wi,{data:l,options:{...d,indexAxis:"y"}})})})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200/80",children:[m.jsx("h3",{className:"text-xl font-bold text-brand-dark-green mb-4",children:"Últimos Check-ins"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full bg-white",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"py-3 px-4 border-b text-left text-sm font-semibold text-gray-600 uppercase",children:"Nome do Turista"}),m.jsx("th",{className:"py-3 px-4 border-b text-left text-sm font-semibold text-gray-600 uppercase",children:"Data do Check-in"}),m.jsx("th",{className:"py-3 px-4 border-b text-left text-sm font-semibold text-gray-600 uppercase",children:"Origem"}),m.jsx("th",{className:"py-3 px-4 border-b text-left text-sm font-semibold text-gray-600 uppercase",children:"Motivo"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200",children:e.recentCheckIns.map(h=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"py-3 px-4",children:h.touristName}),m.jsx("td",{className:"py-3 px-4",children:new Date(h.checkInDate).toLocaleDateString()}),m.jsx("td",{className:"py-3 px-4",children:h.originCity}),m.jsx("td",{className:"py-3 px-4",children:h.travelReason})]},h.id))})]})})]})]})},Es=({label:t,name:e,options:n,value:i,onChange:o,required:r})=>m.jsxs("fieldset",{children:[m.jsx("legend",{className:"block text-sm font-medium text-gray-700 mb-2",children:t}),m.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:n.map(l=>m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:`${e}-${l.replace(/\s/g,"")}`,name:e,type:"radio",value:l,checked:i===l,onChange:d=>o(d.target.value),required:r,className:"h-4 w-4 text-brand-green border-gray-300 focus:ring-brand-green"}),m.jsx("label",{htmlFor:`${e}-${l.replace(/\s/g,"")}`,className:"ml-2 block text-sm text-gray-900",children:l})]},l))})]}),uL=()=>{const{user:t}=dn();ni();const e={touristName:"",phone:"",profession:"",nationality:"Brasileira",birthDate:"",gender:"Masculino",idDocument:"",originCity:"",travelReason:"Turismo",transportMean:"Automóvel",discoveryChannel:"Rede Social",poiOpinion:"Boa",cityOpinion:"Boa",checkInDate:new Date().toISOString().slice(0,16),checkOutDate:""},[n,i]=k.useState(e),[o,r]=k.useState(!1),[l,d]=k.useState(!1),h=C=>{const{name:S,value:w}=C.target;i(b=>({...b,[S]:w}))},p=(C,S)=>{i(w=>({...w,[C]:S}))},g=async C=>{if(C.preventDefault(),!t)return;r(!0),d(!1);const S={...n,checkInDate:new Date(n.checkInDate).toISOString(),checkOutDate:new Date(n.checkOutDate).toISOString()};await xe.createHotelCheckIn(t.id,S),r(!1),d(!0),i(e),setTimeout(()=>d(!1),3e3)},y="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-brand-green focus:border-brand-green";return m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold mb-6 text-brand-dark-green",children:"Registrar Check-in de Hóspede"}),m.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-md",children:[l&&m.jsx("div",{className:"bg-brand-green text-white p-4 rounded-lg mb-6 text-center",children:"Check-in registrado com sucesso!"}),m.jsxs("form",{onSubmit:g,className:"space-y-8",children:[m.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border p-4 rounded-lg",children:[m.jsx("legend",{className:"text-lg font-semibold px-2",children:"Informações Pessoais"}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{htmlFor:"touristName",className:"block text-sm font-medium text-gray-700",children:"Nome Completo"}),m.jsx("input",{type:"text",name:"touristName",value:n.touristName,onChange:h,required:!0,className:y})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Telefone"}),m.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:h,required:!0,className:y})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"profession",className:"block text-sm font-medium text-gray-700",children:"Profissão"}),m.jsx("input",{type:"text",name:"profession",value:n.profession,onChange:h,required:!0,className:y})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"nationality",className:"block text-sm font-medium text-gray-700",children:"Nacionalidade"}),m.jsx("input",{type:"text",name:"nationality",value:n.nationality,onChange:h,required:!0,className:y})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"birthDate",className:"block text-sm font-medium text-gray-700",children:"Data de Nascimento"}),m.jsx("input",{type:"date",name:"birthDate",value:n.birthDate,onChange:h,required:!0,className:y})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700",children:"Sexo"}),m.jsxs("select",{name:"gender",value:n.gender,onChange:h,required:!0,className:y,children:[m.jsx("option",{children:"Masculino"}),m.jsx("option",{children:"Feminino"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"idDocument",className:"block text-sm font-medium text-gray-700",children:"Documento de Identidade"}),m.jsx("input",{type:"text",name:"idDocument",value:n.idDocument,onChange:h,required:!0,className:y})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"originCity",className:"block text-sm font-medium text-gray-700",children:"Local de Origem (Cidade/Estado)"}),m.jsx("input",{type:"text",name:"originCity",value:n.originCity,onChange:h,required:!0,className:y})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"checkInDate",className:"block text-sm font-medium text-gray-700",children:"Data e Hora do Check-in"}),m.jsx("input",{type:"datetime-local",name:"checkInDate",value:n.checkInDate,onChange:h,required:!0,className:y})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"checkOutDate",className:"block text-sm font-medium text-gray-700",children:"Data do Check-out"}),m.jsx("input",{type:"date",name:"checkOutDate",value:n.checkOutDate,onChange:h,required:!0,className:y})]})]}),m.jsxs("fieldset",{className:"space-y-6 border p-4 rounded-lg",children:[m.jsx("legend",{className:"text-lg font-semibold px-2",children:"Sobre a Viagem"}),m.jsx(Es,{label:"Motivo da Viagem",name:"travelReason",options:["Turismo","Negócio","Convenção","Férias","Outros"],value:n.travelReason,onChange:C=>p("travelReason",C),required:!0}),m.jsx(Es,{label:"Meio de Transporte",name:"transportMean",options:["Automóvel","Ônibus","Outros"],value:n.transportMean,onChange:C=>p("transportMean",C),required:!0}),m.jsx(Es,{label:"Como conheceu Caçapava do Sul?",name:"discoveryChannel",options:["Site","Jornal","TV","Indicação de amigos","Rede Social","Outros"],value:n.discoveryChannel,onChange:C=>p("discoveryChannel",C),required:!0}),m.jsx(Es,{label:"Qual a opinião sobre os Pontos Turísticos?",name:"poiOpinion",options:["Péssimo","Ruim","Boa","Muito boa","Ótima"],value:n.poiOpinion,onChange:C=>p("poiOpinion",C),required:!0}),m.jsx(Es,{label:"Qual a opinião sobre a cidade como um todo?",name:"cityOpinion",options:["Péssimo","Ruim","Boa","Muito boa","Ótima"],value:n.cityOpinion,onChange:C=>p("cityOpinion",C),required:!0})]}),m.jsx("div",{className:"flex justify-end gap-4 pt-4",children:m.jsx("button",{type:"submit",disabled:o,className:"bg-brand-green text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-dark-green transition-colors disabled:bg-gray-400",children:o?"Registrando...":"Registrar Check-in"})})]})]})]})},cL=()=>m.jsx(j_,{children:m.jsx(T_,{children:m.jsxs(m_,{children:[m.jsx(Ee,{path:"/login",element:m.jsx(z_,{})}),m.jsxs(Ee,{path:"/admin",element:m.jsx(sc,{roles:["secretaria"],children:m.jsx(BP,{children:m.jsx(oc,{})})}),children:[m.jsx(Ee,{index:!0,element:m.jsx(ZD,{})}),m.jsx(Ee,{path:"routes",element:m.jsx(eL,{})}),m.jsx(Ee,{path:"routes/new",element:m.jsx(gx,{})}),m.jsx(Ee,{path:"routes/edit/:routeId",element:m.jsx(gx,{})}),m.jsx(Ee,{path:"pois",element:m.jsx(iL,{})}),m.jsx(Ee,{path:"pois/new",element:m.jsx(xx,{})}),m.jsx(Ee,{path:"pois/edit/:poiId",element:m.jsx(xx,{})}),m.jsx(Ee,{path:"analytics",element:m.jsx(nL,{})}),m.jsx(Ee,{path:"tourists",element:m.jsx(oL,{})}),m.jsx(Ee,{path:"challenges",element:m.jsx(sL,{})}),m.jsx(Ee,{path:"hotel-analytics",element:m.jsx(aL,{})})]}),m.jsxs(Ee,{path:"/hotel",element:m.jsx(sc,{roles:["hotel"],children:m.jsx(zP,{children:m.jsx(oc,{})})}),children:[m.jsx(Ee,{index:!0,element:m.jsx(lL,{})}),m.jsx(Ee,{path:"checkin",element:m.jsx(uL,{})})]}),m.jsxs(Ee,{path:"/",element:m.jsx(sc,{roles:["tourist"],children:m.jsx(B_,{children:m.jsx(jP,{children:m.jsx(oc,{})})})}),children:[m.jsx(Ee,{index:!0,element:m.jsx(OP,{})}),m.jsx(Ee,{path:"routes",element:m.jsx(HP,{})}),m.jsx(Ee,{path:"routes/:routeId",element:m.jsx(ZP,{})}),m.jsx(Ee,{path:"profile",element:m.jsx(WP,{})}),m.jsx(Ee,{path:"leaderboard",element:m.jsx(YP,{})}),m.jsx(Ee,{path:"map",element:m.jsx(eI,{})}),m.jsx(Ee,{path:"itinerary",element:m.jsx(nI,{})}),m.jsx(Ee,{path:"challenges",element:m.jsx(iI,{})}),m.jsx(Ee,{path:"gallery",element:m.jsx(sI,{})}),m.jsx(Ee,{path:"about",element:m.jsx(rI,{})}),m.jsx(Ee,{path:"attractions",element:m.jsx(uI,{})}),m.jsx(Ee,{path:"restaurants",element:m.jsx(cI,{})}),m.jsx(Ee,{path:"olive-oils",element:m.jsx(dI,{})})]})]})})}),mv=document.getElementById("root");if(!mv)throw new Error("Could not find root element to mount to");const dL=wC.createRoot(mv);dL.render(m.jsx($s.StrictMode,{children:m.jsx(cL,{})}));
