var cC=Object.defineProperty;var dC=(t,e,n)=>e in t?cC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ce=(t,e,n)=>dC(t,typeof e!="symbol"?e+"":e,n);function fC(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const r=Object.getOwnPropertyDescriptor(i,o);r&&Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function Ty(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xu={exports:{}},ys={},Qu={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function hC(){if(Tp)return _e;Tp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function C(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function M(F,H,pe){this.props=F,this.context=H,this.refs=E,this.updater=pe||T}M.prototype.isReactComponent={},M.prototype.setState=function(F,H){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,H,"setState")},M.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function N(){}N.prototype=M.prototype;function P(F,H,pe){this.props=F,this.context=H,this.refs=E,this.updater=pe||T}var R=P.prototype=new N;R.constructor=P,w(R,M.prototype),R.isPureReactComponent=!0;var D=Array.isArray,L=Object.prototype.hasOwnProperty,O={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function J(F,H,pe){var me,Ce={},ve=null,De=null;if(H!=null)for(me in H.ref!==void 0&&(De=H.ref),H.key!==void 0&&(ve=""+H.key),H)L.call(H,me)&&!z.hasOwnProperty(me)&&(Ce[me]=H[me]);var Ne=arguments.length-2;if(Ne===1)Ce.children=pe;else if(1<Ne){for(var He=Array(Ne),kt=0;kt<Ne;kt++)He[kt]=arguments[kt+2];Ce.children=He}if(F&&F.defaultProps)for(me in Ne=F.defaultProps,Ne)Ce[me]===void 0&&(Ce[me]=Ne[me]);return{$$typeof:t,type:F,key:ve,ref:De,props:Ce,_owner:O.current}}function j(F,H){return{$$typeof:t,type:F.type,key:H,ref:F.ref,props:F.props,_owner:F._owner}}function Q(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function X(F){var H={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return H[pe]})}var ae=/\/+/g;function Te(F,H){return typeof F=="object"&&F!==null&&F.key!=null?X(""+F.key):H.toString(36)}function Ae(F,H,pe,me,Ce){var ve=typeof F;(ve==="undefined"||ve==="boolean")&&(F=null);var De=!1;if(F===null)De=!0;else switch(ve){case"string":case"number":De=!0;break;case"object":switch(F.$$typeof){case t:case e:De=!0}}if(De)return De=F,Ce=Ce(De),F=me===""?"."+Te(De,0):me,D(Ce)?(pe="",F!=null&&(pe=F.replace(ae,"$&/")+"/"),Ae(Ce,H,pe,"",function(kt){return kt})):Ce!=null&&(Q(Ce)&&(Ce=j(Ce,pe+(!Ce.key||De&&De.key===Ce.key?"":(""+Ce.key).replace(ae,"$&/")+"/")+F)),H.push(Ce)),1;if(De=0,me=me===""?".":me+":",D(F))for(var Ne=0;Ne<F.length;Ne++){ve=F[Ne];var He=me+Te(ve,Ne);De+=Ae(ve,H,pe,He,Ce)}else if(He=C(F),typeof He=="function")for(F=He.call(F),Ne=0;!(ve=F.next()).done;)ve=ve.value,He=me+Te(ve,Ne++),De+=Ae(ve,H,pe,He,Ce);else if(ve==="object")throw H=String(F),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return De}function de(F,H,pe){if(F==null)return F;var me=[],Ce=0;return Ae(F,me,"","",function(ve){return H.call(pe,ve,Ce++)}),me}function ye(F){if(F._status===-1){var H=F._result;H=H(),H.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=H)}if(F._status===1)return F._result.default;throw F._result}var ge={current:null},Y={transition:null},te={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:Y,ReactCurrentOwner:O};function Z(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:de,forEach:function(F,H,pe){de(F,function(){H.apply(this,arguments)},pe)},count:function(F){var H=0;return de(F,function(){H++}),H},toArray:function(F){return de(F,function(H){return H})||[]},only:function(F){if(!Q(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},_e.Component=M,_e.Fragment=n,_e.Profiler=o,_e.PureComponent=P,_e.StrictMode=i,_e.Suspense=h,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,_e.act=Z,_e.cloneElement=function(F,H,pe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var me=w({},F.props),Ce=F.key,ve=F.ref,De=F._owner;if(H!=null){if(H.ref!==void 0&&(ve=H.ref,De=O.current),H.key!==void 0&&(Ce=""+H.key),F.type&&F.type.defaultProps)var Ne=F.type.defaultProps;for(He in H)L.call(H,He)&&!z.hasOwnProperty(He)&&(me[He]=H[He]===void 0&&Ne!==void 0?Ne[He]:H[He])}var He=arguments.length-2;if(He===1)me.children=pe;else if(1<He){Ne=Array(He);for(var kt=0;kt<He;kt++)Ne[kt]=arguments[kt+2];me.children=Ne}return{$$typeof:t,type:F.type,key:Ce,ref:ve,props:me,_owner:De}},_e.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:r,_context:F},F.Consumer=F},_e.createElement=J,_e.createFactory=function(F){var H=J.bind(null,F);return H.type=F,H},_e.createRef=function(){return{current:null}},_e.forwardRef=function(F){return{$$typeof:d,render:F}},_e.isValidElement=Q,_e.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ye}},_e.memo=function(F,H){return{$$typeof:p,type:F,compare:H===void 0?null:H}},_e.startTransition=function(F){var H=Y.transition;Y.transition={};try{F()}finally{Y.transition=H}},_e.unstable_act=Z,_e.useCallback=function(F,H){return ge.current.useCallback(F,H)},_e.useContext=function(F){return ge.current.useContext(F)},_e.useDebugValue=function(){},_e.useDeferredValue=function(F){return ge.current.useDeferredValue(F)},_e.useEffect=function(F,H){return ge.current.useEffect(F,H)},_e.useId=function(){return ge.current.useId()},_e.useImperativeHandle=function(F,H,pe){return ge.current.useImperativeHandle(F,H,pe)},_e.useInsertionEffect=function(F,H){return ge.current.useInsertionEffect(F,H)},_e.useLayoutEffect=function(F,H){return ge.current.useLayoutEffect(F,H)},_e.useMemo=function(F,H){return ge.current.useMemo(F,H)},_e.useReducer=function(F,H,pe){return ge.current.useReducer(F,H,pe)},_e.useRef=function(F){return ge.current.useRef(F)},_e.useState=function(F){return ge.current.useState(F)},_e.useSyncExternalStore=function(F,H,pe){return ge.current.useSyncExternalStore(F,H,pe)},_e.useTransition=function(){return ge.current.useTransition()},_e.version="18.3.1",_e}var Sp;function jc(){return Sp||(Sp=1,Qu.exports=hC()),Qu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function pC(){if(wp)return ys;wp=1;var t=jc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function l(d,h,p){var y,x={},C=null,T=null;p!==void 0&&(C=""+p),h.key!==void 0&&(C=""+h.key),h.ref!==void 0&&(T=h.ref);for(y in h)i.call(h,y)&&!r.hasOwnProperty(y)&&(x[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)x[y]===void 0&&(x[y]=h[y]);return{$$typeof:e,type:d,key:C,ref:T,props:x,_owner:o.current}}return ys.Fragment=n,ys.jsx=l,ys.jsxs=l,ys}var Ep;function mC(){return Ep||(Ep=1,Xu.exports=pC()),Xu.exports}var g=mC(),b=jc();const $s=Ty(b),gC=fC({__proto__:null,default:$s},[b]);var sa={},Zu={exports:{}},St={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function yC(){return Mp||(Mp=1,(function(t){function e(Y,te){var Z=Y.length;Y.push(te);e:for(;0<Z;){var F=Z-1>>>1,H=Y[F];if(0<o(H,te))Y[F]=te,Y[Z]=H,Z=F;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var te=Y[0],Z=Y.pop();if(Z!==te){Y[0]=Z;e:for(var F=0,H=Y.length,pe=H>>>1;F<pe;){var me=2*(F+1)-1,Ce=Y[me],ve=me+1,De=Y[ve];if(0>o(Ce,Z))ve<H&&0>o(De,Ce)?(Y[F]=De,Y[ve]=Z,F=ve):(Y[F]=Ce,Y[me]=Z,F=me);else if(ve<H&&0>o(De,Z))Y[F]=De,Y[ve]=Z,F=ve;else break e}}return te}function o(Y,te){var Z=Y.sortIndex-te.sortIndex;return Z!==0?Z:Y.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var h=[],p=[],y=1,x=null,C=3,T=!1,w=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Y){for(var te=n(p);te!==null;){if(te.callback===null)i(p);else if(te.startTime<=Y)i(p),te.sortIndex=te.expirationTime,e(h,te);else break;te=n(p)}}function D(Y){if(E=!1,R(Y),!w)if(n(h)!==null)w=!0,ye(L);else{var te=n(p);te!==null&&ge(D,te.startTime-Y)}}function L(Y,te){w=!1,E&&(E=!1,N(J),J=-1),T=!0;var Z=C;try{for(R(te),x=n(h);x!==null&&(!(x.expirationTime>te)||Y&&!X());){var F=x.callback;if(typeof F=="function"){x.callback=null,C=x.priorityLevel;var H=F(x.expirationTime<=te);te=t.unstable_now(),typeof H=="function"?x.callback=H:x===n(h)&&i(h),R(te)}else i(h);x=n(h)}if(x!==null)var pe=!0;else{var me=n(p);me!==null&&ge(D,me.startTime-te),pe=!1}return pe}finally{x=null,C=Z,T=!1}}var O=!1,z=null,J=-1,j=5,Q=-1;function X(){return!(t.unstable_now()-Q<j)}function ae(){if(z!==null){var Y=t.unstable_now();Q=Y;var te=!0;try{te=z(!0,Y)}finally{te?Te():(O=!1,z=null)}}else O=!1}var Te;if(typeof P=="function")Te=function(){P(ae)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,de=Ae.port2;Ae.port1.onmessage=ae,Te=function(){de.postMessage(null)}}else Te=function(){M(ae,0)};function ye(Y){z=Y,O||(O=!0,Te())}function ge(Y,te){J=M(function(){Y(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){w||T||(w=!0,ye(L))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(Y){switch(C){case 1:case 2:case 3:var te=3;break;default:te=C}var Z=C;C=te;try{return Y()}finally{C=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Z=C;C=Y;try{return te()}finally{C=Z}},t.unstable_scheduleCallback=function(Y,te,Z){var F=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?F+Z:F):Z=F,Y){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Z+H,Y={id:y++,callback:te,priorityLevel:Y,startTime:Z,expirationTime:H,sortIndex:-1},Z>F?(Y.sortIndex=Z,e(p,Y),n(h)===null&&Y===n(p)&&(E?(N(J),J=-1):E=!0,ge(D,Z-F))):(Y.sortIndex=H,e(h,Y),w||T||(w=!0,ye(L))),Y},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(Y){var te=C;return function(){var Z=C;C=te;try{return Y.apply(this,arguments)}finally{C=Z}}}})(tc)),tc}var kp;function xC(){return kp||(kp=1,ec.exports=yC()),ec.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function vC(){if(bp)return St;bp=1;var t=jc(),e=xC();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function r(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(o[s]=a,s=0;s<a.length;s++)i.add(a[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function C(s){return h.call(x,s)?!0:h.call(y,s)?!1:p.test(s)?x[s]=!0:(y[s]=!0,!1)}function T(s,a,f,m){if(f!==null&&f.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,a,f,m){if(a===null||typeof a>"u"||T(s,a,f,m))return!0;if(m)return!1;if(f!==null)switch(f.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function E(s,a,f,m,v,_,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=f,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=S}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){M[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];M[a]=new E(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){M[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){M[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){M[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){M[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){M[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){M[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){M[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(N,P);M[a]=new E(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(N,P);M[a]=new E(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(N,P);M[a]=new E(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){M[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),M.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){M[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,a,f,m){var v=M.hasOwnProperty(a)?M[a]:null;(v!==null?v.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,f,v,m)&&(f=null),m||v===null?C(a)&&(f===null?s.removeAttribute(a):s.setAttribute(a,""+f)):v.mustUseProperty?s[v.propertyName]=f===null?v.type===3?!1:"":f:(a=v.attributeName,m=v.attributeNamespace,f===null?s.removeAttribute(a):(v=v.type,f=v===3||v===4&&f===!0?"":""+f,m?s.setAttributeNS(m,a,f):s.setAttribute(a,f))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),O=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),X=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),Y=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Object.assign,F;function H(s){if(F===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+s}var pe=!1;function me(s,a){if(!s||pe)return"";pe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(B){var m=B}Reflect.construct(s,[],a)}else{try{a.call()}catch(B){m=B}s.call(a.prototype)}else{try{throw Error()}catch(B){m=B}s()}}catch(B){if(B&&m&&typeof B.stack=="string"){for(var v=B.stack.split(`
`),_=m.stack.split(`
`),S=v.length-1,k=_.length-1;1<=S&&0<=k&&v[S]!==_[k];)k--;for(;1<=S&&0<=k;S--,k--)if(v[S]!==_[k]){if(S!==1||k!==1)do if(S--,k--,0>k||v[S]!==_[k]){var I=`
`+v[S].replace(" at new "," at ");return s.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",s.displayName)),I}while(1<=S&&0<=k);break}}}finally{pe=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?H(s):""}function Ce(s){switch(s.tag){case 5:return H(s.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return s=me(s.type,!1),s;case 11:return s=me(s.type.render,!1),s;case 1:return s=me(s.type,!0),s;default:return""}}function ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case O:return"Portal";case j:return"Profiler";case J:return"StrictMode";case Te:return"Suspense";case Ae:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case X:return(s.displayName||"Context")+".Consumer";case Q:return(s._context.displayName||"Context")+".Provider";case ae:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case de:return a=s.displayName||null,a!==null?a:ve(s.type)||"Memo";case ye:a=s._payload,s=s._init;try{return ve(s(a))}catch{}}return null}function De(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(a);case 8:return a===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ne(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function He(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function kt(s){var a=He(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,_=f.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(S){m=""+S,_.call(this,S)}}),Object.defineProperty(s,a,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(S){m=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ys(s){s._valueTracker||(s._valueTracker=kt(s))}function kd(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var f=a.getValue(),m="";return s&&(m=He(s)?s.checked?"true":"false":s.value),s=m,s!==f?(a.setValue(s),!0):!1}function Ks(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ol(s,a){var f=a.checked;return Z({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function bd(s,a){var f=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;f=Ne(a.value!=null?a.value:f),s._wrapperState={initialChecked:m,initialValue:f,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Nd(s,a){a=a.checked,a!=null&&R(s,"checked",a,!1)}function sl(s,a){Nd(s,a);var f=Ne(a.value),m=a.type;if(f!=null)m==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?rl(s,a.type,f):a.hasOwnProperty("defaultValue")&&rl(s,a.type,Ne(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Id(s,a,f){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,f||a===s.value||(s.value=a),s.defaultValue=a}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function rl(s,a,f){(a!=="number"||Ks(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var Ao=Array.isArray;function Ri(s,a,f,m){if(s=s.options,a){a={};for(var v=0;v<f.length;v++)a["$"+f[v]]=!0;for(f=0;f<s.length;f++)v=a.hasOwnProperty("$"+s[f].value),s[f].selected!==v&&(s[f].selected=v),v&&m&&(s[f].defaultSelected=!0)}else{for(f=""+Ne(f),a=null,v=0;v<s.length;v++){if(s[v].value===f){s[v].selected=!0,m&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function al(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Pd(s,a){var f=a.value;if(f==null){if(f=a.children,a=a.defaultValue,f!=null){if(a!=null)throw Error(n(92));if(Ao(f)){if(1<f.length)throw Error(n(93));f=f[0]}a=f}a==null&&(a=""),f=a}s._wrapperState={initialValue:Ne(f)}}function Ad(s,a){var f=Ne(a.value),m=Ne(a.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),a.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),m!=null&&(s.defaultValue=""+m)}function Rd(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Dd(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ll(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Dd(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Xs,Ld=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,f,m,v){MSApp.execUnsafeLocalFunction(function(){return s(a,f,m,v)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Xs=Xs||document.createElement("div"),Xs.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Xs.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Ro(s,a){if(a){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=a;return}}s.textContent=a}var Do={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pv=["Webkit","ms","Moz","O"];Object.keys(Do).forEach(function(s){pv.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Do[a]=Do[s]})});function Fd(s,a,f){return a==null||typeof a=="boolean"||a===""?"":f||typeof a!="number"||a===0||Do.hasOwnProperty(s)&&Do[s]?(""+a).trim():a+"px"}function Ud(s,a){s=s.style;for(var f in a)if(a.hasOwnProperty(f)){var m=f.indexOf("--")===0,v=Fd(f,a[f],m);f==="float"&&(f="cssFloat"),m?s.setProperty(f,v):s[f]=v}}var mv=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(s,a){if(a){if(mv[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function cl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=null;function fl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var hl=null,Di=null,Li=null;function Vd(s){if(s=ns(s)){if(typeof hl!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Cr(a),hl(s.stateNode,s.type,a))}}function Bd(s){Di?Li?Li.push(s):Li=[s]:Di=s}function Od(){if(Di){var s=Di,a=Li;if(Li=Di=null,Vd(s),a)for(s=0;s<a.length;s++)Vd(a[s])}}function Hd(s,a){return s(a)}function zd(){}var pl=!1;function $d(s,a,f){if(pl)return s(a,f);pl=!0;try{return Hd(s,a,f)}finally{pl=!1,(Di!==null||Li!==null)&&(zd(),Od())}}function Lo(s,a){var f=s.stateNode;if(f===null)return null;var m=Cr(f);if(m===null)return null;f=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(n(231,a,typeof f));return f}var ml=!1;if(d)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){ml=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{ml=!1}function gv(s,a,f,m,v,_,S,k,I){var B=Array.prototype.slice.call(arguments,3);try{a.apply(f,B)}catch(q){this.onError(q)}}var Uo=!1,Qs=null,Zs=!1,gl=null,yv={onError:function(s){Uo=!0,Qs=s}};function xv(s,a,f,m,v,_,S,k,I){Uo=!1,Qs=null,gv.apply(yv,arguments)}function vv(s,a,f,m,v,_,S,k,I){if(xv.apply(this,arguments),Uo){if(Uo){var B=Qs;Uo=!1,Qs=null}else throw Error(n(198));Zs||(Zs=!0,gl=B)}}function ti(s){var a=s,f=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(f=a.return),s=a.return;while(s)}return a.tag===3?f:null}function qd(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Gd(s){if(ti(s)!==s)throw Error(n(188))}function Cv(s){var a=s.alternate;if(!a){if(a=ti(s),a===null)throw Error(n(188));return a!==s?null:s}for(var f=s,m=a;;){var v=f.return;if(v===null)break;var _=v.alternate;if(_===null){if(m=v.return,m!==null){f=m;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===f)return Gd(v),s;if(_===m)return Gd(v),a;_=_.sibling}throw Error(n(188))}if(f.return!==m.return)f=v,m=_;else{for(var S=!1,k=v.child;k;){if(k===f){S=!0,f=v,m=_;break}if(k===m){S=!0,m=v,f=_;break}k=k.sibling}if(!S){for(k=_.child;k;){if(k===f){S=!0,f=_,m=v;break}if(k===m){S=!0,m=_,f=v;break}k=k.sibling}if(!S)throw Error(n(189))}}if(f.alternate!==m)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?s:a}function jd(s){return s=Cv(s),s!==null?Wd(s):null}function Wd(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Wd(s);if(a!==null)return a;s=s.sibling}return null}var Jd=e.unstable_scheduleCallback,Yd=e.unstable_cancelCallback,_v=e.unstable_shouldYield,Tv=e.unstable_requestPaint,We=e.unstable_now,Sv=e.unstable_getCurrentPriorityLevel,yl=e.unstable_ImmediatePriority,Kd=e.unstable_UserBlockingPriority,er=e.unstable_NormalPriority,wv=e.unstable_LowPriority,Xd=e.unstable_IdlePriority,tr=null,Xt=null;function Ev(s){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(tr,s,void 0,(s.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:bv,Mv=Math.log,kv=Math.LN2;function bv(s){return s>>>=0,s===0?32:31-(Mv(s)/kv|0)|0}var nr=64,ir=4194304;function Vo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function or(s,a){var f=s.pendingLanes;if(f===0)return 0;var m=0,v=s.suspendedLanes,_=s.pingedLanes,S=f&268435455;if(S!==0){var k=S&~v;k!==0?m=Vo(k):(_&=S,_!==0&&(m=Vo(_)))}else S=f&~v,S!==0?m=Vo(S):_!==0&&(m=Vo(_));if(m===0)return 0;if(a!==0&&a!==m&&(a&v)===0&&(v=m&-m,_=a&-a,v>=_||v===16&&(_&4194240)!==0))return a;if((m&4)!==0&&(m|=f&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)f=31-qt(a),v=1<<f,m|=s[f],a&=~v;return m}function Nv(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iv(s,a){for(var f=s.suspendedLanes,m=s.pingedLanes,v=s.expirationTimes,_=s.pendingLanes;0<_;){var S=31-qt(_),k=1<<S,I=v[S];I===-1?((k&f)===0||(k&m)!==0)&&(v[S]=Nv(k,a)):I<=a&&(s.expiredLanes|=k),_&=~k}}function xl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Qd(){var s=nr;return nr<<=1,(nr&4194240)===0&&(nr=64),s}function vl(s){for(var a=[],f=0;31>f;f++)a.push(s);return a}function Bo(s,a,f){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-qt(a),s[a]=f}function Pv(s,a){var f=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<f;){var v=31-qt(f),_=1<<v;a[v]=0,m[v]=-1,s[v]=-1,f&=~_}}function Cl(s,a){var f=s.entangledLanes|=a;for(s=s.entanglements;f;){var m=31-qt(f),v=1<<m;v&a|s[m]&a&&(s[m]|=a),f&=~v}}var Ie=0;function Zd(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ef,_l,tf,nf,of,Tl=!1,sr=[],En=null,Mn=null,kn=null,Oo=new Map,Ho=new Map,bn=[],Av="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sf(s,a){switch(s){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":Oo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(a.pointerId)}}function zo(s,a,f,m,v,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:f,eventSystemFlags:m,nativeEvent:_,targetContainers:[v]},a!==null&&(a=ns(a),a!==null&&_l(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function Rv(s,a,f,m,v){switch(a){case"focusin":return En=zo(En,s,a,f,m,v),!0;case"dragenter":return Mn=zo(Mn,s,a,f,m,v),!0;case"mouseover":return kn=zo(kn,s,a,f,m,v),!0;case"pointerover":var _=v.pointerId;return Oo.set(_,zo(Oo.get(_)||null,s,a,f,m,v)),!0;case"gotpointercapture":return _=v.pointerId,Ho.set(_,zo(Ho.get(_)||null,s,a,f,m,v)),!0}return!1}function rf(s){var a=ni(s.target);if(a!==null){var f=ti(a);if(f!==null){if(a=f.tag,a===13){if(a=qd(f),a!==null){s.blockedOn=a,of(s.priority,function(){tf(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rr(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var f=wl(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var m=new f.constructor(f.type,f);dl=m,f.target.dispatchEvent(m),dl=null}else return a=ns(f),a!==null&&_l(a),s.blockedOn=f,!1;a.shift()}return!0}function af(s,a,f){rr(s)&&f.delete(a)}function Dv(){Tl=!1,En!==null&&rr(En)&&(En=null),Mn!==null&&rr(Mn)&&(Mn=null),kn!==null&&rr(kn)&&(kn=null),Oo.forEach(af),Ho.forEach(af)}function $o(s,a){s.blockedOn===a&&(s.blockedOn=null,Tl||(Tl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Dv)))}function qo(s){function a(v){return $o(v,s)}if(0<sr.length){$o(sr[0],s);for(var f=1;f<sr.length;f++){var m=sr[f];m.blockedOn===s&&(m.blockedOn=null)}}for(En!==null&&$o(En,s),Mn!==null&&$o(Mn,s),kn!==null&&$o(kn,s),Oo.forEach(a),Ho.forEach(a),f=0;f<bn.length;f++)m=bn[f],m.blockedOn===s&&(m.blockedOn=null);for(;0<bn.length&&(f=bn[0],f.blockedOn===null);)rf(f),f.blockedOn===null&&bn.shift()}var Fi=D.ReactCurrentBatchConfig,ar=!0;function Lv(s,a,f,m){var v=Ie,_=Fi.transition;Fi.transition=null;try{Ie=1,Sl(s,a,f,m)}finally{Ie=v,Fi.transition=_}}function Fv(s,a,f,m){var v=Ie,_=Fi.transition;Fi.transition=null;try{Ie=4,Sl(s,a,f,m)}finally{Ie=v,Fi.transition=_}}function Sl(s,a,f,m){if(ar){var v=wl(s,a,f,m);if(v===null)Hl(s,a,m,lr,f),sf(s,m);else if(Rv(v,s,a,f,m))m.stopPropagation();else if(sf(s,m),a&4&&-1<Av.indexOf(s)){for(;v!==null;){var _=ns(v);if(_!==null&&ef(_),_=wl(s,a,f,m),_===null&&Hl(s,a,m,lr,f),_===v)break;v=_}v!==null&&m.stopPropagation()}else Hl(s,a,m,null,f)}}var lr=null;function wl(s,a,f,m){if(lr=null,s=fl(m),s=ni(s),s!==null)if(a=ti(s),a===null)s=null;else if(f=a.tag,f===13){if(s=qd(a),s!==null)return s;s=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return lr=s,null}function lf(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sv()){case yl:return 1;case Kd:return 4;case er:case wv:return 16;case Xd:return 536870912;default:return 16}default:return 16}}var Nn=null,El=null,ur=null;function uf(){if(ur)return ur;var s,a=El,f=a.length,m,v="value"in Nn?Nn.value:Nn.textContent,_=v.length;for(s=0;s<f&&a[s]===v[s];s++);var S=f-s;for(m=1;m<=S&&a[f-m]===v[_-m];m++);return ur=v.slice(s,1<m?1-m:void 0)}function cr(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function dr(){return!0}function cf(){return!1}function bt(s){function a(f,m,v,_,S){this._reactName=f,this._targetInst=v,this.type=m,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(f=s[k],this[k]=f?f(_):_[k]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?dr:cf,this.isPropagationStopped=cf,this}return Z(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),a}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=bt(Ui),Go=Z({},Ui,{view:0,detail:0}),Uv=bt(Go),kl,bl,jo,fr=Z({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Il,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==jo&&(jo&&s.type==="mousemove"?(kl=s.screenX-jo.screenX,bl=s.screenY-jo.screenY):bl=kl=0,jo=s),kl)},movementY:function(s){return"movementY"in s?s.movementY:bl}}),df=bt(fr),Vv=Z({},fr,{dataTransfer:0}),Bv=bt(Vv),Ov=Z({},Go,{relatedTarget:0}),Nl=bt(Ov),Hv=Z({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),zv=bt(Hv),$v=Z({},Ui,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),qv=bt($v),Gv=Z({},Ui,{data:0}),ff=bt(Gv),jv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yv(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Jv[s])?!!a[s]:!1}function Il(){return Yv}var Kv=Z({},Go,{key:function(s){if(s.key){var a=jv[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=cr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Wv[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Il,charCode:function(s){return s.type==="keypress"?cr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?cr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Xv=bt(Kv),Qv=Z({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hf=bt(Qv),Zv=Z({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Il}),e0=bt(Zv),t0=Z({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),n0=bt(t0),i0=Z({},fr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),o0=bt(i0),s0=[9,13,27,32],Pl=d&&"CompositionEvent"in window,Wo=null;d&&"documentMode"in document&&(Wo=document.documentMode);var r0=d&&"TextEvent"in window&&!Wo,pf=d&&(!Pl||Wo&&8<Wo&&11>=Wo),mf=" ",gf=!1;function yf(s,a){switch(s){case"keyup":return s0.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Vi=!1;function a0(s,a){switch(s){case"compositionend":return xf(a);case"keypress":return a.which!==32?null:(gf=!0,mf);case"textInput":return s=a.data,s===mf&&gf?null:s;default:return null}}function l0(s,a){if(Vi)return s==="compositionend"||!Pl&&yf(s,a)?(s=uf(),ur=El=Nn=null,Vi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return pf&&a.locale!=="ko"?null:a.data;default:return null}}var u0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!u0[s.type]:a==="textarea"}function Cf(s,a,f,m){Bd(m),a=yr(a,"onChange"),0<a.length&&(f=new Ml("onChange","change",null,f,m),s.push({event:f,listeners:a}))}var Jo=null,Yo=null;function c0(s){Vf(s,0)}function hr(s){var a=$i(s);if(kd(a))return s}function d0(s,a){if(s==="change")return a}var _f=!1;if(d){var Al;if(d){var Rl="oninput"in document;if(!Rl){var Tf=document.createElement("div");Tf.setAttribute("oninput","return;"),Rl=typeof Tf.oninput=="function"}Al=Rl}else Al=!1;_f=Al&&(!document.documentMode||9<document.documentMode)}function Sf(){Jo&&(Jo.detachEvent("onpropertychange",wf),Yo=Jo=null)}function wf(s){if(s.propertyName==="value"&&hr(Yo)){var a=[];Cf(a,Yo,s,fl(s)),$d(c0,a)}}function f0(s,a,f){s==="focusin"?(Sf(),Jo=a,Yo=f,Jo.attachEvent("onpropertychange",wf)):s==="focusout"&&Sf()}function h0(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return hr(Yo)}function p0(s,a){if(s==="click")return hr(a)}function m0(s,a){if(s==="input"||s==="change")return hr(a)}function g0(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Gt=typeof Object.is=="function"?Object.is:g0;function Ko(s,a){if(Gt(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var f=Object.keys(s),m=Object.keys(a);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var v=f[m];if(!h.call(a,v)||!Gt(s[v],a[v]))return!1}return!0}function Ef(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Mf(s,a){var f=Ef(s);s=0;for(var m;f;){if(f.nodeType===3){if(m=s+f.textContent.length,s<=a&&m>=a)return{node:f,offset:a-s};s=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Ef(f)}}function kf(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?kf(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function bf(){for(var s=window,a=Ks();a instanceof s.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)s=a.contentWindow;else break;a=Ks(s.document)}return a}function Dl(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function y0(s){var a=bf(),f=s.focusedElem,m=s.selectionRange;if(a!==f&&f&&f.ownerDocument&&kf(f.ownerDocument.documentElement,f)){if(m!==null&&Dl(f)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in f)f.selectionStart=a,f.selectionEnd=Math.min(s,f.value.length);else if(s=(a=f.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var v=f.textContent.length,_=Math.min(m.start,v);m=m.end===void 0?_:Math.min(m.end,v),!s.extend&&_>m&&(v=m,m=_,_=v),v=Mf(f,_);var S=Mf(f,m);v&&S&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),s.removeAllRanges(),_>m?(s.addRange(a),s.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),s.addRange(a)))}}for(a=[],s=f;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<a.length;f++)s=a[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var x0=d&&"documentMode"in document&&11>=document.documentMode,Bi=null,Ll=null,Xo=null,Fl=!1;function Nf(s,a,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Fl||Bi==null||Bi!==Ks(m)||(m=Bi,"selectionStart"in m&&Dl(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Xo&&Ko(Xo,m)||(Xo=m,m=yr(Ll,"onSelect"),0<m.length&&(a=new Ml("onSelect","select",null,a,f),s.push({event:a,listeners:m}),a.target=Bi)))}function pr(s,a){var f={};return f[s.toLowerCase()]=a.toLowerCase(),f["Webkit"+s]="webkit"+a,f["Moz"+s]="moz"+a,f}var Oi={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionend:pr("Transition","TransitionEnd")},Ul={},If={};d&&(If=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function mr(s){if(Ul[s])return Ul[s];if(!Oi[s])return s;var a=Oi[s],f;for(f in a)if(a.hasOwnProperty(f)&&f in If)return Ul[s]=a[f];return s}var Pf=mr("animationend"),Af=mr("animationiteration"),Rf=mr("animationstart"),Df=mr("transitionend"),Lf=new Map,Ff="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(s,a){Lf.set(s,a),r(a,[s])}for(var Vl=0;Vl<Ff.length;Vl++){var Bl=Ff[Vl],v0=Bl.toLowerCase(),C0=Bl[0].toUpperCase()+Bl.slice(1);In(v0,"on"+C0)}In(Pf,"onAnimationEnd"),In(Af,"onAnimationIteration"),In(Rf,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(Df,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),r("onBeforeInput",["compositionend","keypress","textInput","paste"]),r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function Uf(s,a,f){var m=s.type||"unknown-event";s.currentTarget=f,vv(m,a,void 0,s),s.currentTarget=null}function Vf(s,a){a=(a&4)!==0;for(var f=0;f<s.length;f++){var m=s[f],v=m.event;m=m.listeners;e:{var _=void 0;if(a)for(var S=m.length-1;0<=S;S--){var k=m[S],I=k.instance,B=k.currentTarget;if(k=k.listener,I!==_&&v.isPropagationStopped())break e;Uf(v,k,B),_=I}else for(S=0;S<m.length;S++){if(k=m[S],I=k.instance,B=k.currentTarget,k=k.listener,I!==_&&v.isPropagationStopped())break e;Uf(v,k,B),_=I}}}if(Zs)throw s=gl,Zs=!1,gl=null,s}function Fe(s,a){var f=a[Wl];f===void 0&&(f=a[Wl]=new Set);var m=s+"__bubble";f.has(m)||(Bf(a,s,2,!1),f.add(m))}function Ol(s,a,f){var m=0;a&&(m|=4),Bf(f,s,m,a)}var gr="_reactListening"+Math.random().toString(36).slice(2);function Zo(s){if(!s[gr]){s[gr]=!0,i.forEach(function(f){f!=="selectionchange"&&(_0.has(f)||Ol(f,!1,s),Ol(f,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[gr]||(a[gr]=!0,Ol("selectionchange",!1,a))}}function Bf(s,a,f,m){switch(lf(a)){case 1:var v=Lv;break;case 4:v=Fv;break;default:v=Sl}f=v.bind(null,a,f,s),v=void 0,!ml||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),m?v!==void 0?s.addEventListener(a,f,{capture:!0,passive:v}):s.addEventListener(a,f,!0):v!==void 0?s.addEventListener(a,f,{passive:v}):s.addEventListener(a,f,!1)}function Hl(s,a,f,m,v){var _=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var S=m.tag;if(S===3||S===4){var k=m.stateNode.containerInfo;if(k===v||k.nodeType===8&&k.parentNode===v)break;if(S===4)for(S=m.return;S!==null;){var I=S.tag;if((I===3||I===4)&&(I=S.stateNode.containerInfo,I===v||I.nodeType===8&&I.parentNode===v))return;S=S.return}for(;k!==null;){if(S=ni(k),S===null)return;if(I=S.tag,I===5||I===6){m=_=S;continue e}k=k.parentNode}}m=m.return}$d(function(){var B=_,q=fl(f),G=[];e:{var $=Lf.get(s);if($!==void 0){var ee=Ml,ie=s;switch(s){case"keypress":if(cr(f)===0)break e;case"keydown":case"keyup":ee=Xv;break;case"focusin":ie="focus",ee=Nl;break;case"focusout":ie="blur",ee=Nl;break;case"beforeblur":case"afterblur":ee=Nl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Bv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=e0;break;case Pf:case Af:case Rf:ee=zv;break;case Df:ee=n0;break;case"scroll":ee=Uv;break;case"wheel":ee=o0;break;case"copy":case"cut":case"paste":ee=qv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=hf}var oe=(a&4)!==0,Je=!oe&&s==="scroll",U=oe?$!==null?$+"Capture":null:$;oe=[];for(var A=B,V;A!==null;){V=A;var W=V.stateNode;if(V.tag===5&&W!==null&&(V=W,U!==null&&(W=Lo(A,U),W!=null&&oe.push(es(A,W,V)))),Je)break;A=A.return}0<oe.length&&($=new ee($,ie,null,f,q),G.push({event:$,listeners:oe}))}}if((a&7)===0){e:{if($=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",$&&f!==dl&&(ie=f.relatedTarget||f.fromElement)&&(ni(ie)||ie[un]))break e;if((ee||$)&&($=q.window===q?q:($=q.ownerDocument)?$.defaultView||$.parentWindow:window,ee?(ie=f.relatedTarget||f.toElement,ee=B,ie=ie?ni(ie):null,ie!==null&&(Je=ti(ie),ie!==Je||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ee=null,ie=B),ee!==ie)){if(oe=df,W="onMouseLeave",U="onMouseEnter",A="mouse",(s==="pointerout"||s==="pointerover")&&(oe=hf,W="onPointerLeave",U="onPointerEnter",A="pointer"),Je=ee==null?$:$i(ee),V=ie==null?$:$i(ie),$=new oe(W,A+"leave",ee,f,q),$.target=Je,$.relatedTarget=V,W=null,ni(q)===B&&(oe=new oe(U,A+"enter",ie,f,q),oe.target=V,oe.relatedTarget=Je,W=oe),Je=W,ee&&ie)t:{for(oe=ee,U=ie,A=0,V=oe;V;V=Hi(V))A++;for(V=0,W=U;W;W=Hi(W))V++;for(;0<A-V;)oe=Hi(oe),A--;for(;0<V-A;)U=Hi(U),V--;for(;A--;){if(oe===U||U!==null&&oe===U.alternate)break t;oe=Hi(oe),U=Hi(U)}oe=null}else oe=null;ee!==null&&Of(G,$,ee,oe,!1),ie!==null&&Je!==null&&Of(G,Je,ie,oe,!0)}}e:{if($=B?$i(B):window,ee=$.nodeName&&$.nodeName.toLowerCase(),ee==="select"||ee==="input"&&$.type==="file")var se=d0;else if(vf($))if(_f)se=m0;else{se=h0;var le=f0}else(ee=$.nodeName)&&ee.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(se=p0);if(se&&(se=se(s,B))){Cf(G,se,f,q);break e}le&&le(s,$,B),s==="focusout"&&(le=$._wrapperState)&&le.controlled&&$.type==="number"&&rl($,"number",$.value)}switch(le=B?$i(B):window,s){case"focusin":(vf(le)||le.contentEditable==="true")&&(Bi=le,Ll=B,Xo=null);break;case"focusout":Xo=Ll=Bi=null;break;case"mousedown":Fl=!0;break;case"contextmenu":case"mouseup":case"dragend":Fl=!1,Nf(G,f,q);break;case"selectionchange":if(x0)break;case"keydown":case"keyup":Nf(G,f,q)}var ue;if(Pl)e:{switch(s){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Vi?yf(s,f)&&(fe="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(fe="onCompositionStart");fe&&(pf&&f.locale!=="ko"&&(Vi||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Vi&&(ue=uf()):(Nn=q,El="value"in Nn?Nn.value:Nn.textContent,Vi=!0)),le=yr(B,fe),0<le.length&&(fe=new ff(fe,s,null,f,q),G.push({event:fe,listeners:le}),ue?fe.data=ue:(ue=xf(f),ue!==null&&(fe.data=ue)))),(ue=r0?a0(s,f):l0(s,f))&&(B=yr(B,"onBeforeInput"),0<B.length&&(q=new ff("onBeforeInput","beforeinput",null,f,q),G.push({event:q,listeners:B}),q.data=ue))}Vf(G,a)})}function es(s,a,f){return{instance:s,listener:a,currentTarget:f}}function yr(s,a){for(var f=a+"Capture",m=[];s!==null;){var v=s,_=v.stateNode;v.tag===5&&_!==null&&(v=_,_=Lo(s,f),_!=null&&m.unshift(es(s,_,v)),_=Lo(s,a),_!=null&&m.push(es(s,_,v))),s=s.return}return m}function Hi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Of(s,a,f,m,v){for(var _=a._reactName,S=[];f!==null&&f!==m;){var k=f,I=k.alternate,B=k.stateNode;if(I!==null&&I===m)break;k.tag===5&&B!==null&&(k=B,v?(I=Lo(f,_),I!=null&&S.unshift(es(f,I,k))):v||(I=Lo(f,_),I!=null&&S.push(es(f,I,k)))),f=f.return}S.length!==0&&s.push({event:a,listeners:S})}var T0=/\r\n?/g,S0=/\u0000|\uFFFD/g;function Hf(s){return(typeof s=="string"?s:""+s).replace(T0,`
`).replace(S0,"")}function xr(s,a,f){if(a=Hf(a),Hf(s)!==a&&f)throw Error(n(425))}function vr(){}var zl=null,$l=null;function ql(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gl=typeof setTimeout=="function"?setTimeout:void 0,w0=typeof clearTimeout=="function"?clearTimeout:void 0,zf=typeof Promise=="function"?Promise:void 0,E0=typeof queueMicrotask=="function"?queueMicrotask:typeof zf<"u"?function(s){return zf.resolve(null).then(s).catch(M0)}:Gl;function M0(s){setTimeout(function(){throw s})}function jl(s,a){var f=a,m=0;do{var v=f.nextSibling;if(s.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"){if(m===0){s.removeChild(v),qo(a);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=v}while(f);qo(a)}function Pn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function $f(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(a===0)return s;a--}else f==="/$"&&a++}s=s.previousSibling}return null}var zi=Math.random().toString(36).slice(2),Qt="__reactFiber$"+zi,ts="__reactProps$"+zi,un="__reactContainer$"+zi,Wl="__reactEvents$"+zi,k0="__reactListeners$"+zi,b0="__reactHandles$"+zi;function ni(s){var a=s[Qt];if(a)return a;for(var f=s.parentNode;f;){if(a=f[un]||f[Qt]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(s=$f(s);s!==null;){if(f=s[Qt])return f;s=$f(s)}return a}s=f,f=s.parentNode}return null}function ns(s){return s=s[Qt]||s[un],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function $i(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Cr(s){return s[ts]||null}var Jl=[],qi=-1;function An(s){return{current:s}}function Ue(s){0>qi||(s.current=Jl[qi],Jl[qi]=null,qi--)}function Le(s,a){qi++,Jl[qi]=s.current,s.current=a}var Rn={},ut=An(Rn),xt=An(!1),ii=Rn;function Gi(s,a){var f=s.type.contextTypes;if(!f)return Rn;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var v={},_;for(_ in f)v[_]=a[_];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=v),v}function vt(s){return s=s.childContextTypes,s!=null}function _r(){Ue(xt),Ue(ut)}function qf(s,a,f){if(ut.current!==Rn)throw Error(n(168));Le(ut,a),Le(xt,f)}function Gf(s,a,f){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return f;m=m.getChildContext();for(var v in m)if(!(v in a))throw Error(n(108,De(s)||"Unknown",v));return Z({},f,m)}function Tr(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Rn,ii=ut.current,Le(ut,s),Le(xt,xt.current),!0}function jf(s,a,f){var m=s.stateNode;if(!m)throw Error(n(169));f?(s=Gf(s,a,ii),m.__reactInternalMemoizedMergedChildContext=s,Ue(xt),Ue(ut),Le(ut,s)):Ue(xt),Le(xt,f)}var cn=null,Sr=!1,Yl=!1;function Wf(s){cn===null?cn=[s]:cn.push(s)}function N0(s){Sr=!0,Wf(s)}function Dn(){if(!Yl&&cn!==null){Yl=!0;var s=0,a=Ie;try{var f=cn;for(Ie=1;s<f.length;s++){var m=f[s];do m=m(!0);while(m!==null)}cn=null,Sr=!1}catch(v){throw cn!==null&&(cn=cn.slice(s+1)),Jd(yl,Dn),v}finally{Ie=a,Yl=!1}}return null}var ji=[],Wi=0,wr=null,Er=0,Rt=[],Dt=0,oi=null,dn=1,fn="";function si(s,a){ji[Wi++]=Er,ji[Wi++]=wr,wr=s,Er=a}function Jf(s,a,f){Rt[Dt++]=dn,Rt[Dt++]=fn,Rt[Dt++]=oi,oi=s;var m=dn;s=fn;var v=32-qt(m)-1;m&=~(1<<v),f+=1;var _=32-qt(a)+v;if(30<_){var S=v-v%5;_=(m&(1<<S)-1).toString(32),m>>=S,v-=S,dn=1<<32-qt(a)+v|f<<v|m,fn=_+s}else dn=1<<_|f<<v|m,fn=s}function Kl(s){s.return!==null&&(si(s,1),Jf(s,1,0))}function Xl(s){for(;s===wr;)wr=ji[--Wi],ji[Wi]=null,Er=ji[--Wi],ji[Wi]=null;for(;s===oi;)oi=Rt[--Dt],Rt[Dt]=null,fn=Rt[--Dt],Rt[Dt]=null,dn=Rt[--Dt],Rt[Dt]=null}var Nt=null,It=null,ze=!1,jt=null;function Yf(s,a){var f=Vt(5,null,null,0);f.elementType="DELETED",f.stateNode=a,f.return=s,a=s.deletions,a===null?(s.deletions=[f],s.flags|=16):a.push(f)}function Kf(s,a){switch(s.tag){case 5:var f=s.type;return a=a.nodeType!==1||f.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Nt=s,It=Pn(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Nt=s,It=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(f=oi!==null?{id:dn,overflow:fn}:null,s.memoizedState={dehydrated:a,treeContext:f,retryLane:1073741824},f=Vt(18,null,null,0),f.stateNode=a,f.return=s,s.child=f,Nt=s,It=null,!0):!1;default:return!1}}function Ql(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Zl(s){if(ze){var a=It;if(a){var f=a;if(!Kf(s,a)){if(Ql(s))throw Error(n(418));a=Pn(f.nextSibling);var m=Nt;a&&Kf(s,a)?Yf(m,f):(s.flags=s.flags&-4097|2,ze=!1,Nt=s)}}else{if(Ql(s))throw Error(n(418));s.flags=s.flags&-4097|2,ze=!1,Nt=s}}}function Xf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Nt=s}function Mr(s){if(s!==Nt)return!1;if(!ze)return Xf(s),ze=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!ql(s.type,s.memoizedProps)),a&&(a=It)){if(Ql(s))throw Qf(),Error(n(418));for(;a;)Yf(s,a),a=Pn(a.nextSibling)}if(Xf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(a===0){It=Pn(s.nextSibling);break e}a--}else f!=="$"&&f!=="$!"&&f!=="$?"||a++}s=s.nextSibling}It=null}}else It=Nt?Pn(s.stateNode.nextSibling):null;return!0}function Qf(){for(var s=It;s;)s=Pn(s.nextSibling)}function Ji(){It=Nt=null,ze=!1}function eu(s){jt===null?jt=[s]:jt.push(s)}var I0=D.ReactCurrentBatchConfig;function is(s,a,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var m=f.stateNode}if(!m)throw Error(n(147,s));var v=m,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(S){var k=v.refs;S===null?delete k[_]:k[_]=S},a._stringRef=_,a)}if(typeof s!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,s))}return s}function kr(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Zf(s){var a=s._init;return a(s._payload)}function eh(s){function a(U,A){if(s){var V=U.deletions;V===null?(U.deletions=[A],U.flags|=16):V.push(A)}}function f(U,A){if(!s)return null;for(;A!==null;)a(U,A),A=A.sibling;return null}function m(U,A){for(U=new Map;A!==null;)A.key!==null?U.set(A.key,A):U.set(A.index,A),A=A.sibling;return U}function v(U,A){return U=zn(U,A),U.index=0,U.sibling=null,U}function _(U,A,V){return U.index=V,s?(V=U.alternate,V!==null?(V=V.index,V<A?(U.flags|=2,A):V):(U.flags|=2,A)):(U.flags|=1048576,A)}function S(U){return s&&U.alternate===null&&(U.flags|=2),U}function k(U,A,V,W){return A===null||A.tag!==6?(A=Gu(V,U.mode,W),A.return=U,A):(A=v(A,V),A.return=U,A)}function I(U,A,V,W){var se=V.type;return se===z?q(U,A,V.props.children,W,V.key):A!==null&&(A.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ye&&Zf(se)===A.type)?(W=v(A,V.props),W.ref=is(U,A,V),W.return=U,W):(W=Xr(V.type,V.key,V.props,null,U.mode,W),W.ref=is(U,A,V),W.return=U,W)}function B(U,A,V,W){return A===null||A.tag!==4||A.stateNode.containerInfo!==V.containerInfo||A.stateNode.implementation!==V.implementation?(A=ju(V,U.mode,W),A.return=U,A):(A=v(A,V.children||[]),A.return=U,A)}function q(U,A,V,W,se){return A===null||A.tag!==7?(A=hi(V,U.mode,W,se),A.return=U,A):(A=v(A,V),A.return=U,A)}function G(U,A,V){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Gu(""+A,U.mode,V),A.return=U,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case L:return V=Xr(A.type,A.key,A.props,null,U.mode,V),V.ref=is(U,null,A),V.return=U,V;case O:return A=ju(A,U.mode,V),A.return=U,A;case ye:var W=A._init;return G(U,W(A._payload),V)}if(Ao(A)||te(A))return A=hi(A,U.mode,V,null),A.return=U,A;kr(U,A)}return null}function $(U,A,V,W){var se=A!==null?A.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return se!==null?null:k(U,A,""+V,W);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return V.key===se?I(U,A,V,W):null;case O:return V.key===se?B(U,A,V,W):null;case ye:return se=V._init,$(U,A,se(V._payload),W)}if(Ao(V)||te(V))return se!==null?null:q(U,A,V,W,null);kr(U,V)}return null}function ee(U,A,V,W,se){if(typeof W=="string"&&W!==""||typeof W=="number")return U=U.get(V)||null,k(A,U,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return U=U.get(W.key===null?V:W.key)||null,I(A,U,W,se);case O:return U=U.get(W.key===null?V:W.key)||null,B(A,U,W,se);case ye:var le=W._init;return ee(U,A,V,le(W._payload),se)}if(Ao(W)||te(W))return U=U.get(V)||null,q(A,U,W,se,null);kr(A,W)}return null}function ie(U,A,V,W){for(var se=null,le=null,ue=A,fe=A=0,st=null;ue!==null&&fe<V.length;fe++){ue.index>fe?(st=ue,ue=null):st=ue.sibling;var Me=$(U,ue,V[fe],W);if(Me===null){ue===null&&(ue=st);break}s&&ue&&Me.alternate===null&&a(U,ue),A=_(Me,A,fe),le===null?se=Me:le.sibling=Me,le=Me,ue=st}if(fe===V.length)return f(U,ue),ze&&si(U,fe),se;if(ue===null){for(;fe<V.length;fe++)ue=G(U,V[fe],W),ue!==null&&(A=_(ue,A,fe),le===null?se=ue:le.sibling=ue,le=ue);return ze&&si(U,fe),se}for(ue=m(U,ue);fe<V.length;fe++)st=ee(ue,U,fe,V[fe],W),st!==null&&(s&&st.alternate!==null&&ue.delete(st.key===null?fe:st.key),A=_(st,A,fe),le===null?se=st:le.sibling=st,le=st);return s&&ue.forEach(function($n){return a(U,$n)}),ze&&si(U,fe),se}function oe(U,A,V,W){var se=te(V);if(typeof se!="function")throw Error(n(150));if(V=se.call(V),V==null)throw Error(n(151));for(var le=se=null,ue=A,fe=A=0,st=null,Me=V.next();ue!==null&&!Me.done;fe++,Me=V.next()){ue.index>fe?(st=ue,ue=null):st=ue.sibling;var $n=$(U,ue,Me.value,W);if($n===null){ue===null&&(ue=st);break}s&&ue&&$n.alternate===null&&a(U,ue),A=_($n,A,fe),le===null?se=$n:le.sibling=$n,le=$n,ue=st}if(Me.done)return f(U,ue),ze&&si(U,fe),se;if(ue===null){for(;!Me.done;fe++,Me=V.next())Me=G(U,Me.value,W),Me!==null&&(A=_(Me,A,fe),le===null?se=Me:le.sibling=Me,le=Me);return ze&&si(U,fe),se}for(ue=m(U,ue);!Me.done;fe++,Me=V.next())Me=ee(ue,U,fe,Me.value,W),Me!==null&&(s&&Me.alternate!==null&&ue.delete(Me.key===null?fe:Me.key),A=_(Me,A,fe),le===null?se=Me:le.sibling=Me,le=Me);return s&&ue.forEach(function(uC){return a(U,uC)}),ze&&si(U,fe),se}function Je(U,A,V,W){if(typeof V=="object"&&V!==null&&V.type===z&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case L:e:{for(var se=V.key,le=A;le!==null;){if(le.key===se){if(se=V.type,se===z){if(le.tag===7){f(U,le.sibling),A=v(le,V.props.children),A.return=U,U=A;break e}}else if(le.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ye&&Zf(se)===le.type){f(U,le.sibling),A=v(le,V.props),A.ref=is(U,le,V),A.return=U,U=A;break e}f(U,le);break}else a(U,le);le=le.sibling}V.type===z?(A=hi(V.props.children,U.mode,W,V.key),A.return=U,U=A):(W=Xr(V.type,V.key,V.props,null,U.mode,W),W.ref=is(U,A,V),W.return=U,U=W)}return S(U);case O:e:{for(le=V.key;A!==null;){if(A.key===le)if(A.tag===4&&A.stateNode.containerInfo===V.containerInfo&&A.stateNode.implementation===V.implementation){f(U,A.sibling),A=v(A,V.children||[]),A.return=U,U=A;break e}else{f(U,A);break}else a(U,A);A=A.sibling}A=ju(V,U.mode,W),A.return=U,U=A}return S(U);case ye:return le=V._init,Je(U,A,le(V._payload),W)}if(Ao(V))return ie(U,A,V,W);if(te(V))return oe(U,A,V,W);kr(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,A!==null&&A.tag===6?(f(U,A.sibling),A=v(A,V),A.return=U,U=A):(f(U,A),A=Gu(V,U.mode,W),A.return=U,U=A),S(U)):f(U,A)}return Je}var Yi=eh(!0),th=eh(!1),br=An(null),Nr=null,Ki=null,tu=null;function nu(){tu=Ki=Nr=null}function iu(s){var a=br.current;Ue(br),s._currentValue=a}function ou(s,a,f){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===f)break;s=s.return}}function Xi(s,a){Nr=s,tu=Ki=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Ct=!0),s.firstContext=null)}function Lt(s){var a=s._currentValue;if(tu!==s)if(s={context:s,memoizedValue:a,next:null},Ki===null){if(Nr===null)throw Error(n(308));Ki=s,Nr.dependencies={lanes:0,firstContext:s}}else Ki=Ki.next=s;return a}var ri=null;function su(s){ri===null?ri=[s]:ri.push(s)}function nh(s,a,f,m){var v=a.interleaved;return v===null?(f.next=f,su(a)):(f.next=v.next,v.next=f),a.interleaved=f,hn(s,m)}function hn(s,a){s.lanes|=a;var f=s.alternate;for(f!==null&&(f.lanes|=a),f=s,s=s.return;s!==null;)s.childLanes|=a,f=s.alternate,f!==null&&(f.childLanes|=a),f=s,s=s.return;return f.tag===3?f.stateNode:null}var Ln=!1;function ru(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ih(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function pn(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Fn(s,a,f){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Se&2)!==0){var v=m.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),m.pending=a,hn(s,f)}return v=m.interleaved,v===null?(a.next=a,su(m)):(a.next=v.next,v.next=a),m.interleaved=a,hn(s,f)}function Ir(s,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,f|=m,a.lanes=f,Cl(s,f)}}function oh(s,a){var f=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var v=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var S={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?v=_=S:_=_.next=S,f=f.next}while(f!==null);_===null?v=_=a:_=_.next=a}else v=_=a;f={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:m.shared,effects:m.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=a:s.next=a,f.lastBaseUpdate=a}function Pr(s,a,f,m){var v=s.updateQueue;Ln=!1;var _=v.firstBaseUpdate,S=v.lastBaseUpdate,k=v.shared.pending;if(k!==null){v.shared.pending=null;var I=k,B=I.next;I.next=null,S===null?_=B:S.next=B,S=I;var q=s.alternate;q!==null&&(q=q.updateQueue,k=q.lastBaseUpdate,k!==S&&(k===null?q.firstBaseUpdate=B:k.next=B,q.lastBaseUpdate=I))}if(_!==null){var G=v.baseState;S=0,q=B=I=null,k=_;do{var $=k.lane,ee=k.eventTime;if((m&$)===$){q!==null&&(q=q.next={eventTime:ee,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ie=s,oe=k;switch($=a,ee=f,oe.tag){case 1:if(ie=oe.payload,typeof ie=="function"){G=ie.call(ee,G,$);break e}G=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=oe.payload,$=typeof ie=="function"?ie.call(ee,G,$):ie,$==null)break e;G=Z({},G,$);break e;case 2:Ln=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,$=v.effects,$===null?v.effects=[k]:$.push(k))}else ee={eventTime:ee,lane:$,tag:k.tag,payload:k.payload,callback:k.callback,next:null},q===null?(B=q=ee,I=G):q=q.next=ee,S|=$;if(k=k.next,k===null){if(k=v.shared.pending,k===null)break;$=k,k=$.next,$.next=null,v.lastBaseUpdate=$,v.shared.pending=null}}while(!0);if(q===null&&(I=G),v.baseState=I,v.firstBaseUpdate=B,v.lastBaseUpdate=q,a=v.shared.interleaved,a!==null){v=a;do S|=v.lane,v=v.next;while(v!==a)}else _===null&&(v.shared.lanes=0);ui|=S,s.lanes=S,s.memoizedState=G}}function sh(s,a,f){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],v=m.callback;if(v!==null){if(m.callback=null,m=f,typeof v!="function")throw Error(n(191,v));v.call(m)}}}var os={},Zt=An(os),ss=An(os),rs=An(os);function ai(s){if(s===os)throw Error(n(174));return s}function au(s,a){switch(Le(rs,a),Le(ss,s),Le(Zt,os),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ll(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ll(a,s)}Ue(Zt),Le(Zt,a)}function Qi(){Ue(Zt),Ue(ss),Ue(rs)}function rh(s){ai(rs.current);var a=ai(Zt.current),f=ll(a,s.type);a!==f&&(Le(ss,s),Le(Zt,f))}function lu(s){ss.current===s&&(Ue(Zt),Ue(ss))}var $e=An(0);function Ar(s){for(var a=s;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var uu=[];function cu(){for(var s=0;s<uu.length;s++)uu[s]._workInProgressVersionPrimary=null;uu.length=0}var Rr=D.ReactCurrentDispatcher,du=D.ReactCurrentBatchConfig,li=0,qe=null,Ze=null,it=null,Dr=!1,as=!1,ls=0,P0=0;function ct(){throw Error(n(321))}function fu(s,a){if(a===null)return!1;for(var f=0;f<a.length&&f<s.length;f++)if(!Gt(s[f],a[f]))return!1;return!0}function hu(s,a,f,m,v,_){if(li=_,qe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Rr.current=s===null||s.memoizedState===null?L0:F0,s=f(m,v),as){_=0;do{if(as=!1,ls=0,25<=_)throw Error(n(301));_+=1,it=Ze=null,a.updateQueue=null,Rr.current=U0,s=f(m,v)}while(as)}if(Rr.current=Ur,a=Ze!==null&&Ze.next!==null,li=0,it=Ze=qe=null,Dr=!1,a)throw Error(n(300));return s}function pu(){var s=ls!==0;return ls=0,s}function en(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?qe.memoizedState=it=s:it=it.next=s,it}function Ft(){if(Ze===null){var s=qe.alternate;s=s!==null?s.memoizedState:null}else s=Ze.next;var a=it===null?qe.memoizedState:it.next;if(a!==null)it=a,Ze=s;else{if(s===null)throw Error(n(310));Ze=s,s={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},it===null?qe.memoizedState=it=s:it=it.next=s}return it}function us(s,a){return typeof a=="function"?a(s):a}function mu(s){var a=Ft(),f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=s;var m=Ze,v=m.baseQueue,_=f.pending;if(_!==null){if(v!==null){var S=v.next;v.next=_.next,_.next=S}m.baseQueue=v=_,f.pending=null}if(v!==null){_=v.next,m=m.baseState;var k=S=null,I=null,B=_;do{var q=B.lane;if((li&q)===q)I!==null&&(I=I.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),m=B.hasEagerState?B.eagerState:s(m,B.action);else{var G={lane:q,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};I===null?(k=I=G,S=m):I=I.next=G,qe.lanes|=q,ui|=q}B=B.next}while(B!==null&&B!==_);I===null?S=m:I.next=k,Gt(m,a.memoizedState)||(Ct=!0),a.memoizedState=m,a.baseState=S,a.baseQueue=I,f.lastRenderedState=m}if(s=f.interleaved,s!==null){v=s;do _=v.lane,qe.lanes|=_,ui|=_,v=v.next;while(v!==s)}else v===null&&(f.lanes=0);return[a.memoizedState,f.dispatch]}function gu(s){var a=Ft(),f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=s;var m=f.dispatch,v=f.pending,_=a.memoizedState;if(v!==null){f.pending=null;var S=v=v.next;do _=s(_,S.action),S=S.next;while(S!==v);Gt(_,a.memoizedState)||(Ct=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),f.lastRenderedState=_}return[_,m]}function ah(){}function lh(s,a){var f=qe,m=Ft(),v=a(),_=!Gt(m.memoizedState,v);if(_&&(m.memoizedState=v,Ct=!0),m=m.queue,yu(dh.bind(null,f,m,s),[s]),m.getSnapshot!==a||_||it!==null&&it.memoizedState.tag&1){if(f.flags|=2048,cs(9,ch.bind(null,f,m,v,a),void 0,null),ot===null)throw Error(n(349));(li&30)!==0||uh(f,a,v)}return v}function uh(s,a,f){s.flags|=16384,s={getSnapshot:a,value:f},a=qe.updateQueue,a===null?(a={lastEffect:null,stores:null},qe.updateQueue=a,a.stores=[s]):(f=a.stores,f===null?a.stores=[s]:f.push(s))}function ch(s,a,f,m){a.value=f,a.getSnapshot=m,fh(a)&&hh(s)}function dh(s,a,f){return f(function(){fh(a)&&hh(s)})}function fh(s){var a=s.getSnapshot;s=s.value;try{var f=a();return!Gt(s,f)}catch{return!0}}function hh(s){var a=hn(s,1);a!==null&&Kt(a,s,1,-1)}function ph(s){var a=en();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:s},a.queue=s,s=s.dispatch=D0.bind(null,qe,s),[a.memoizedState,s]}function cs(s,a,f,m){return s={tag:s,create:a,destroy:f,deps:m,next:null},a=qe.updateQueue,a===null?(a={lastEffect:null,stores:null},qe.updateQueue=a,a.lastEffect=s.next=s):(f=a.lastEffect,f===null?a.lastEffect=s.next=s:(m=f.next,f.next=s,s.next=m,a.lastEffect=s)),s}function mh(){return Ft().memoizedState}function Lr(s,a,f,m){var v=en();qe.flags|=s,v.memoizedState=cs(1|a,f,void 0,m===void 0?null:m)}function Fr(s,a,f,m){var v=Ft();m=m===void 0?null:m;var _=void 0;if(Ze!==null){var S=Ze.memoizedState;if(_=S.destroy,m!==null&&fu(m,S.deps)){v.memoizedState=cs(a,f,_,m);return}}qe.flags|=s,v.memoizedState=cs(1|a,f,_,m)}function gh(s,a){return Lr(8390656,8,s,a)}function yu(s,a){return Fr(2048,8,s,a)}function yh(s,a){return Fr(4,2,s,a)}function xh(s,a){return Fr(4,4,s,a)}function vh(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Ch(s,a,f){return f=f!=null?f.concat([s]):null,Fr(4,4,vh.bind(null,a,s),f)}function xu(){}function _h(s,a){var f=Ft();a=a===void 0?null:a;var m=f.memoizedState;return m!==null&&a!==null&&fu(a,m[1])?m[0]:(f.memoizedState=[s,a],s)}function Th(s,a){var f=Ft();a=a===void 0?null:a;var m=f.memoizedState;return m!==null&&a!==null&&fu(a,m[1])?m[0]:(s=s(),f.memoizedState=[s,a],s)}function Sh(s,a,f){return(li&21)===0?(s.baseState&&(s.baseState=!1,Ct=!0),s.memoizedState=f):(Gt(f,a)||(f=Qd(),qe.lanes|=f,ui|=f,s.baseState=!0),a)}function A0(s,a){var f=Ie;Ie=f!==0&&4>f?f:4,s(!0);var m=du.transition;du.transition={};try{s(!1),a()}finally{Ie=f,du.transition=m}}function wh(){return Ft().memoizedState}function R0(s,a,f){var m=On(s);if(f={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null},Eh(s))Mh(a,f);else if(f=nh(s,a,f,m),f!==null){var v=yt();Kt(f,s,m,v),kh(f,a,m)}}function D0(s,a,f){var m=On(s),v={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null};if(Eh(s))Mh(a,v);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var S=a.lastRenderedState,k=_(S,f);if(v.hasEagerState=!0,v.eagerState=k,Gt(k,S)){var I=a.interleaved;I===null?(v.next=v,su(a)):(v.next=I.next,I.next=v),a.interleaved=v;return}}catch{}finally{}f=nh(s,a,v,m),f!==null&&(v=yt(),Kt(f,s,m,v),kh(f,a,m))}}function Eh(s){var a=s.alternate;return s===qe||a!==null&&a===qe}function Mh(s,a){as=Dr=!0;var f=s.pending;f===null?a.next=a:(a.next=f.next,f.next=a),s.pending=a}function kh(s,a,f){if((f&4194240)!==0){var m=a.lanes;m&=s.pendingLanes,f|=m,a.lanes=f,Cl(s,f)}}var Ur={readContext:Lt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},L0={readContext:Lt,useCallback:function(s,a){return en().memoizedState=[s,a===void 0?null:a],s},useContext:Lt,useEffect:gh,useImperativeHandle:function(s,a,f){return f=f!=null?f.concat([s]):null,Lr(4194308,4,vh.bind(null,a,s),f)},useLayoutEffect:function(s,a){return Lr(4194308,4,s,a)},useInsertionEffect:function(s,a){return Lr(4,2,s,a)},useMemo:function(s,a){var f=en();return a=a===void 0?null:a,s=s(),f.memoizedState=[s,a],s},useReducer:function(s,a,f){var m=en();return a=f!==void 0?f(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=R0.bind(null,qe,s),[m.memoizedState,s]},useRef:function(s){var a=en();return s={current:s},a.memoizedState=s},useState:ph,useDebugValue:xu,useDeferredValue:function(s){return en().memoizedState=s},useTransition:function(){var s=ph(!1),a=s[0];return s=A0.bind(null,s[1]),en().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,f){var m=qe,v=en();if(ze){if(f===void 0)throw Error(n(407));f=f()}else{if(f=a(),ot===null)throw Error(n(349));(li&30)!==0||uh(m,a,f)}v.memoizedState=f;var _={value:f,getSnapshot:a};return v.queue=_,gh(dh.bind(null,m,_,s),[s]),m.flags|=2048,cs(9,ch.bind(null,m,_,f,a),void 0,null),f},useId:function(){var s=en(),a=ot.identifierPrefix;if(ze){var f=fn,m=dn;f=(m&~(1<<32-qt(m)-1)).toString(32)+f,a=":"+a+"R"+f,f=ls++,0<f&&(a+="H"+f.toString(32)),a+=":"}else f=P0++,a=":"+a+"r"+f.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},F0={readContext:Lt,useCallback:_h,useContext:Lt,useEffect:yu,useImperativeHandle:Ch,useInsertionEffect:yh,useLayoutEffect:xh,useMemo:Th,useReducer:mu,useRef:mh,useState:function(){return mu(us)},useDebugValue:xu,useDeferredValue:function(s){var a=Ft();return Sh(a,Ze.memoizedState,s)},useTransition:function(){var s=mu(us)[0],a=Ft().memoizedState;return[s,a]},useMutableSource:ah,useSyncExternalStore:lh,useId:wh,unstable_isNewReconciler:!1},U0={readContext:Lt,useCallback:_h,useContext:Lt,useEffect:yu,useImperativeHandle:Ch,useInsertionEffect:yh,useLayoutEffect:xh,useMemo:Th,useReducer:gu,useRef:mh,useState:function(){return gu(us)},useDebugValue:xu,useDeferredValue:function(s){var a=Ft();return Ze===null?a.memoizedState=s:Sh(a,Ze.memoizedState,s)},useTransition:function(){var s=gu(us)[0],a=Ft().memoizedState;return[s,a]},useMutableSource:ah,useSyncExternalStore:lh,useId:wh,unstable_isNewReconciler:!1};function Wt(s,a){if(s&&s.defaultProps){a=Z({},a),s=s.defaultProps;for(var f in s)a[f]===void 0&&(a[f]=s[f]);return a}return a}function vu(s,a,f,m){a=s.memoizedState,f=f(m,a),f=f==null?a:Z({},a,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var Vr={isMounted:function(s){return(s=s._reactInternals)?ti(s)===s:!1},enqueueSetState:function(s,a,f){s=s._reactInternals;var m=yt(),v=On(s),_=pn(m,v);_.payload=a,f!=null&&(_.callback=f),a=Fn(s,_,v),a!==null&&(Kt(a,s,v,m),Ir(a,s,v))},enqueueReplaceState:function(s,a,f){s=s._reactInternals;var m=yt(),v=On(s),_=pn(m,v);_.tag=1,_.payload=a,f!=null&&(_.callback=f),a=Fn(s,_,v),a!==null&&(Kt(a,s,v,m),Ir(a,s,v))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var f=yt(),m=On(s),v=pn(f,m);v.tag=2,a!=null&&(v.callback=a),a=Fn(s,v,m),a!==null&&(Kt(a,s,m,f),Ir(a,s,m))}};function bh(s,a,f,m,v,_,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,_,S):a.prototype&&a.prototype.isPureReactComponent?!Ko(f,m)||!Ko(v,_):!0}function Nh(s,a,f){var m=!1,v=Rn,_=a.contextType;return typeof _=="object"&&_!==null?_=Lt(_):(v=vt(a)?ii:ut.current,m=a.contextTypes,_=(m=m!=null)?Gi(s,v):Rn),a=new a(f,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Vr,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=_),a}function Ih(s,a,f,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,m),a.state!==s&&Vr.enqueueReplaceState(a,a.state,null)}function Cu(s,a,f,m){var v=s.stateNode;v.props=f,v.state=s.memoizedState,v.refs={},ru(s);var _=a.contextType;typeof _=="object"&&_!==null?v.context=Lt(_):(_=vt(a)?ii:ut.current,v.context=Gi(s,_)),v.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(vu(s,a,_,f),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Vr.enqueueReplaceState(v,v.state,null),Pr(s,f,v,m),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function Zi(s,a){try{var f="",m=a;do f+=Ce(m),m=m.return;while(m);var v=f}catch(_){v=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:v,digest:null}}function _u(s,a,f){return{value:s,source:null,stack:f??null,digest:a??null}}function Tu(s,a){try{console.error(a.value)}catch(f){setTimeout(function(){throw f})}}var V0=typeof WeakMap=="function"?WeakMap:Map;function Ph(s,a,f){f=pn(-1,f),f.tag=3,f.payload={element:null};var m=a.value;return f.callback=function(){Gr||(Gr=!0,Uu=m),Tu(s,a)},f}function Ah(s,a,f){f=pn(-1,f),f.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var v=a.value;f.payload=function(){return m(v)},f.callback=function(){Tu(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){Tu(s,a),typeof m!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),f}function Rh(s,a,f){var m=s.pingCache;if(m===null){m=s.pingCache=new V0;var v=new Set;m.set(a,v)}else v=m.get(a),v===void 0&&(v=new Set,m.set(a,v));v.has(f)||(v.add(f),s=Q0.bind(null,s,a,f),a.then(s,s))}function Dh(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Lh(s,a,f,m,v){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(a=pn(-1,1),a.tag=2,Fn(f,a,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var B0=D.ReactCurrentOwner,Ct=!1;function gt(s,a,f,m){a.child=s===null?th(a,null,f,m):Yi(a,s.child,f,m)}function Fh(s,a,f,m,v){f=f.render;var _=a.ref;return Xi(a,v),m=hu(s,a,f,m,_,v),f=pu(),s!==null&&!Ct?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,mn(s,a,v)):(ze&&f&&Kl(a),a.flags|=1,gt(s,a,m,v),a.child)}function Uh(s,a,f,m,v){if(s===null){var _=f.type;return typeof _=="function"&&!qu(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(a.tag=15,a.type=_,Vh(s,a,_,m,v)):(s=Xr(f.type,null,m,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&v)===0){var S=_.memoizedProps;if(f=f.compare,f=f!==null?f:Ko,f(S,m)&&s.ref===a.ref)return mn(s,a,v)}return a.flags|=1,s=zn(_,m),s.ref=a.ref,s.return=a,a.child=s}function Vh(s,a,f,m,v){if(s!==null){var _=s.memoizedProps;if(Ko(_,m)&&s.ref===a.ref)if(Ct=!1,a.pendingProps=m=_,(s.lanes&v)!==0)(s.flags&131072)!==0&&(Ct=!0);else return a.lanes=s.lanes,mn(s,a,v)}return Su(s,a,f,m,v)}function Bh(s,a,f){var m=a.pendingProps,v=m.children,_=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(to,Pt),Pt|=f;else{if((f&1073741824)===0)return s=_!==null?_.baseLanes|f:f,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Le(to,Pt),Pt|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=_!==null?_.baseLanes:f,Le(to,Pt),Pt|=m}else _!==null?(m=_.baseLanes|f,a.memoizedState=null):m=f,Le(to,Pt),Pt|=m;return gt(s,a,v,f),a.child}function Oh(s,a){var f=a.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(a.flags|=512,a.flags|=2097152)}function Su(s,a,f,m,v){var _=vt(f)?ii:ut.current;return _=Gi(a,_),Xi(a,v),f=hu(s,a,f,m,_,v),m=pu(),s!==null&&!Ct?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,mn(s,a,v)):(ze&&m&&Kl(a),a.flags|=1,gt(s,a,f,v),a.child)}function Hh(s,a,f,m,v){if(vt(f)){var _=!0;Tr(a)}else _=!1;if(Xi(a,v),a.stateNode===null)Or(s,a),Nh(a,f,m),Cu(a,f,m,v),m=!0;else if(s===null){var S=a.stateNode,k=a.memoizedProps;S.props=k;var I=S.context,B=f.contextType;typeof B=="object"&&B!==null?B=Lt(B):(B=vt(f)?ii:ut.current,B=Gi(a,B));var q=f.getDerivedStateFromProps,G=typeof q=="function"||typeof S.getSnapshotBeforeUpdate=="function";G||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k!==m||I!==B)&&Ih(a,S,m,B),Ln=!1;var $=a.memoizedState;S.state=$,Pr(a,m,S,v),I=a.memoizedState,k!==m||$!==I||xt.current||Ln?(typeof q=="function"&&(vu(a,f,q,m),I=a.memoizedState),(k=Ln||bh(a,f,k,m,$,I,B))?(G||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=I),S.props=m,S.state=I,S.context=B,m=k):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{S=a.stateNode,ih(s,a),k=a.memoizedProps,B=a.type===a.elementType?k:Wt(a.type,k),S.props=B,G=a.pendingProps,$=S.context,I=f.contextType,typeof I=="object"&&I!==null?I=Lt(I):(I=vt(f)?ii:ut.current,I=Gi(a,I));var ee=f.getDerivedStateFromProps;(q=typeof ee=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k!==G||$!==I)&&Ih(a,S,m,I),Ln=!1,$=a.memoizedState,S.state=$,Pr(a,m,S,v);var ie=a.memoizedState;k!==G||$!==ie||xt.current||Ln?(typeof ee=="function"&&(vu(a,f,ee,m),ie=a.memoizedState),(B=Ln||bh(a,f,B,m,$,ie,I)||!1)?(q||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,ie,I),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,ie,I)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||k===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=ie),S.props=m,S.state=ie,S.context=I,m=B):(typeof S.componentDidUpdate!="function"||k===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),m=!1)}return wu(s,a,f,m,_,v)}function wu(s,a,f,m,v,_){Oh(s,a);var S=(a.flags&128)!==0;if(!m&&!S)return v&&jf(a,f,!1),mn(s,a,_);m=a.stateNode,B0.current=a;var k=S&&typeof f.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&S?(a.child=Yi(a,s.child,null,_),a.child=Yi(a,null,k,_)):gt(s,a,k,_),a.memoizedState=m.state,v&&jf(a,f,!0),a.child}function zh(s){var a=s.stateNode;a.pendingContext?qf(s,a.pendingContext,a.pendingContext!==a.context):a.context&&qf(s,a.context,!1),au(s,a.containerInfo)}function $h(s,a,f,m,v){return Ji(),eu(v),a.flags|=256,gt(s,a,f,m),a.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function Mu(s){return{baseLanes:s,cachePool:null,transitions:null}}function qh(s,a,f){var m=a.pendingProps,v=$e.current,_=!1,S=(a.flags&128)!==0,k;if((k=S)||(k=s!==null&&s.memoizedState===null?!1:(v&2)!==0),k?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),Le($e,v&1),s===null)return Zl(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(S=m.children,s=m.fallback,_?(m=a.mode,_=a.child,S={mode:"hidden",children:S},(m&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=S):_=Qr(S,m,0,null),s=hi(s,m,f,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=Mu(f),a.memoizedState=Eu,s):ku(a,S));if(v=s.memoizedState,v!==null&&(k=v.dehydrated,k!==null))return O0(s,a,S,m,k,v,f);if(_){_=m.fallback,S=a.mode,v=s.child,k=v.sibling;var I={mode:"hidden",children:m.children};return(S&1)===0&&a.child!==v?(m=a.child,m.childLanes=0,m.pendingProps=I,a.deletions=null):(m=zn(v,I),m.subtreeFlags=v.subtreeFlags&14680064),k!==null?_=zn(k,_):(_=hi(_,S,f,null),_.flags|=2),_.return=a,m.return=a,m.sibling=_,a.child=m,m=_,_=a.child,S=s.child.memoizedState,S=S===null?Mu(f):{baseLanes:S.baseLanes|f,cachePool:null,transitions:S.transitions},_.memoizedState=S,_.childLanes=s.childLanes&~f,a.memoizedState=Eu,m}return _=s.child,s=_.sibling,m=zn(_,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=f),m.return=a,m.sibling=null,s!==null&&(f=a.deletions,f===null?(a.deletions=[s],a.flags|=16):f.push(s)),a.child=m,a.memoizedState=null,m}function ku(s,a){return a=Qr({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Br(s,a,f,m){return m!==null&&eu(m),Yi(a,s.child,null,f),s=ku(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function O0(s,a,f,m,v,_,S){if(f)return a.flags&256?(a.flags&=-257,m=_u(Error(n(422))),Br(s,a,S,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=m.fallback,v=a.mode,m=Qr({mode:"visible",children:m.children},v,0,null),_=hi(_,v,S,null),_.flags|=2,m.return=a,_.return=a,m.sibling=_,a.child=m,(a.mode&1)!==0&&Yi(a,s.child,null,S),a.child.memoizedState=Mu(S),a.memoizedState=Eu,_);if((a.mode&1)===0)return Br(s,a,S,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var k=m.dgst;return m=k,_=Error(n(419)),m=_u(_,m,void 0),Br(s,a,S,m)}if(k=(S&s.childLanes)!==0,Ct||k){if(m=ot,m!==null){switch(S&-S){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|S))!==0?0:v,v!==0&&v!==_.retryLane&&(_.retryLane=v,hn(s,v),Kt(m,s,v,-1))}return $u(),m=_u(Error(n(421))),Br(s,a,S,m)}return v.data==="$?"?(a.flags|=128,a.child=s.child,a=Z0.bind(null,s),v._reactRetry=a,null):(s=_.treeContext,It=Pn(v.nextSibling),Nt=a,ze=!0,jt=null,s!==null&&(Rt[Dt++]=dn,Rt[Dt++]=fn,Rt[Dt++]=oi,dn=s.id,fn=s.overflow,oi=a),a=ku(a,m.children),a.flags|=4096,a)}function Gh(s,a,f){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),ou(s.return,a,f)}function bu(s,a,f,m,v){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:v}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=f,_.tailMode=v)}function jh(s,a,f){var m=a.pendingProps,v=m.revealOrder,_=m.tail;if(gt(s,a,m.children,f),m=$e.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Gh(s,f,a);else if(s.tag===19)Gh(s,f,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(Le($e,m),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(f=a.child,v=null;f!==null;)s=f.alternate,s!==null&&Ar(s)===null&&(v=f),f=f.sibling;f=v,f===null?(v=a.child,a.child=null):(v=f.sibling,f.sibling=null),bu(a,!1,v,f,_);break;case"backwards":for(f=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&Ar(s)===null){a.child=v;break}s=v.sibling,v.sibling=f,f=v,v=s}bu(a,!0,f,null,_);break;case"together":bu(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Or(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function mn(s,a,f){if(s!==null&&(a.dependencies=s.dependencies),ui|=a.lanes,(f&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,f=zn(s,s.pendingProps),a.child=f,f.return=a;s.sibling!==null;)s=s.sibling,f=f.sibling=zn(s,s.pendingProps),f.return=a;f.sibling=null}return a.child}function H0(s,a,f){switch(a.tag){case 3:zh(a),Ji();break;case 5:rh(a);break;case 1:vt(a.type)&&Tr(a);break;case 4:au(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,v=a.memoizedProps.value;Le(br,m._currentValue),m._currentValue=v;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(Le($e,$e.current&1),a.flags|=128,null):(f&a.child.childLanes)!==0?qh(s,a,f):(Le($e,$e.current&1),s=mn(s,a,f),s!==null?s.sibling:null);Le($e,$e.current&1);break;case 19:if(m=(f&a.childLanes)!==0,(s.flags&128)!==0){if(m)return jh(s,a,f);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Le($e,$e.current),m)break;return null;case 22:case 23:return a.lanes=0,Bh(s,a,f)}return mn(s,a,f)}var Wh,Nu,Jh,Yh;Wh=function(s,a){for(var f=a.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Nu=function(){},Jh=function(s,a,f,m){var v=s.memoizedProps;if(v!==m){s=a.stateNode,ai(Zt.current);var _=null;switch(f){case"input":v=ol(s,v),m=ol(s,m),_=[];break;case"select":v=Z({},v,{value:void 0}),m=Z({},m,{value:void 0}),_=[];break;case"textarea":v=al(s,v),m=al(s,m),_=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=vr)}ul(f,m);var S;f=null;for(B in v)if(!m.hasOwnProperty(B)&&v.hasOwnProperty(B)&&v[B]!=null)if(B==="style"){var k=v[B];for(S in k)k.hasOwnProperty(S)&&(f||(f={}),f[S]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?_||(_=[]):(_=_||[]).push(B,null));for(B in m){var I=m[B];if(k=v!=null?v[B]:void 0,m.hasOwnProperty(B)&&I!==k&&(I!=null||k!=null))if(B==="style")if(k){for(S in k)!k.hasOwnProperty(S)||I&&I.hasOwnProperty(S)||(f||(f={}),f[S]="");for(S in I)I.hasOwnProperty(S)&&k[S]!==I[S]&&(f||(f={}),f[S]=I[S])}else f||(_||(_=[]),_.push(B,f)),f=I;else B==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,k=k?k.__html:void 0,I!=null&&k!==I&&(_=_||[]).push(B,I)):B==="children"?typeof I!="string"&&typeof I!="number"||(_=_||[]).push(B,""+I):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(I!=null&&B==="onScroll"&&Fe("scroll",s),_||k===I||(_=[])):(_=_||[]).push(B,I))}f&&(_=_||[]).push("style",f);var B=_;(a.updateQueue=B)&&(a.flags|=4)}},Yh=function(s,a,f,m){f!==m&&(a.flags|=4)};function ds(s,a){if(!ze)switch(s.tailMode){case"hidden":a=s.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function dt(s){var a=s.alternate!==null&&s.alternate.child===s.child,f=0,m=0;if(a)for(var v=s.child;v!==null;)f|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)f|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=m,s.childLanes=f,a}function z0(s,a,f){var m=a.pendingProps;switch(Xl(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(a),null;case 1:return vt(a.type)&&_r(),dt(a),null;case 3:return m=a.stateNode,Qi(),Ue(xt),Ue(ut),cu(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Mr(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jt!==null&&(Ou(jt),jt=null))),Nu(s,a),dt(a),null;case 5:lu(a);var v=ai(rs.current);if(f=a.type,s!==null&&a.stateNode!=null)Jh(s,a,f,m,v),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return dt(a),null}if(s=ai(Zt.current),Mr(a)){m=a.stateNode,f=a.type;var _=a.memoizedProps;switch(m[Qt]=a,m[ts]=_,s=(a.mode&1)!==0,f){case"dialog":Fe("cancel",m),Fe("close",m);break;case"iframe":case"object":case"embed":Fe("load",m);break;case"video":case"audio":for(v=0;v<Qo.length;v++)Fe(Qo[v],m);break;case"source":Fe("error",m);break;case"img":case"image":case"link":Fe("error",m),Fe("load",m);break;case"details":Fe("toggle",m);break;case"input":bd(m,_),Fe("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!_.multiple},Fe("invalid",m);break;case"textarea":Pd(m,_),Fe("invalid",m)}ul(f,_),v=null;for(var S in _)if(_.hasOwnProperty(S)){var k=_[S];S==="children"?typeof k=="string"?m.textContent!==k&&(_.suppressHydrationWarning!==!0&&xr(m.textContent,k,s),v=["children",k]):typeof k=="number"&&m.textContent!==""+k&&(_.suppressHydrationWarning!==!0&&xr(m.textContent,k,s),v=["children",""+k]):o.hasOwnProperty(S)&&k!=null&&S==="onScroll"&&Fe("scroll",m)}switch(f){case"input":Ys(m),Id(m,_,!0);break;case"textarea":Ys(m),Rd(m);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(m.onclick=vr)}m=v,a.updateQueue=m,m!==null&&(a.flags|=4)}else{S=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Dd(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=S.createElement(f,{is:m.is}):(s=S.createElement(f),f==="select"&&(S=s,m.multiple?S.multiple=!0:m.size&&(S.size=m.size))):s=S.createElementNS(s,f),s[Qt]=a,s[ts]=m,Wh(s,a,!1,!1),a.stateNode=s;e:{switch(S=cl(f,m),f){case"dialog":Fe("cancel",s),Fe("close",s),v=m;break;case"iframe":case"object":case"embed":Fe("load",s),v=m;break;case"video":case"audio":for(v=0;v<Qo.length;v++)Fe(Qo[v],s);v=m;break;case"source":Fe("error",s),v=m;break;case"img":case"image":case"link":Fe("error",s),Fe("load",s),v=m;break;case"details":Fe("toggle",s),v=m;break;case"input":bd(s,m),v=ol(s,m),Fe("invalid",s);break;case"option":v=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},v=Z({},m,{value:void 0}),Fe("invalid",s);break;case"textarea":Pd(s,m),v=al(s,m),Fe("invalid",s);break;default:v=m}ul(f,v),k=v;for(_ in k)if(k.hasOwnProperty(_)){var I=k[_];_==="style"?Ud(s,I):_==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&Ld(s,I)):_==="children"?typeof I=="string"?(f!=="textarea"||I!=="")&&Ro(s,I):typeof I=="number"&&Ro(s,""+I):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?I!=null&&_==="onScroll"&&Fe("scroll",s):I!=null&&R(s,_,I,S))}switch(f){case"input":Ys(s),Id(s,m,!1);break;case"textarea":Ys(s),Rd(s);break;case"option":m.value!=null&&s.setAttribute("value",""+Ne(m.value));break;case"select":s.multiple=!!m.multiple,_=m.value,_!=null?Ri(s,!!m.multiple,_,!1):m.defaultValue!=null&&Ri(s,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=vr)}switch(f){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return dt(a),null;case 6:if(s&&a.stateNode!=null)Yh(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(f=ai(rs.current),ai(Zt.current),Mr(a)){if(m=a.stateNode,f=a.memoizedProps,m[Qt]=a,(_=m.nodeValue!==f)&&(s=Nt,s!==null))switch(s.tag){case 3:xr(m.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&xr(m.nodeValue,f,(s.mode&1)!==0)}_&&(a.flags|=4)}else m=(f.nodeType===9?f:f.ownerDocument).createTextNode(m),m[Qt]=a,a.stateNode=m}return dt(a),null;case 13:if(Ue($e),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ze&&It!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Qf(),Ji(),a.flags|=98560,_=!1;else if(_=Mr(a),m!==null&&m.dehydrated!==null){if(s===null){if(!_)throw Error(n(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Qt]=a}else Ji(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dt(a),_=!1}else jt!==null&&(Ou(jt),jt=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=f,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||($e.current&1)!==0?et===0&&(et=3):$u())),a.updateQueue!==null&&(a.flags|=4),dt(a),null);case 4:return Qi(),Nu(s,a),s===null&&Zo(a.stateNode.containerInfo),dt(a),null;case 10:return iu(a.type._context),dt(a),null;case 17:return vt(a.type)&&_r(),dt(a),null;case 19:if(Ue($e),_=a.memoizedState,_===null)return dt(a),null;if(m=(a.flags&128)!==0,S=_.rendering,S===null)if(m)ds(_,!1);else{if(et!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(S=Ar(s),S!==null){for(a.flags|=128,ds(_,!1),m=S.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=f,f=a.child;f!==null;)_=f,s=m,_.flags&=14680066,S=_.alternate,S===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=S.childLanes,_.lanes=S.lanes,_.child=S.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=S.memoizedProps,_.memoizedState=S.memoizedState,_.updateQueue=S.updateQueue,_.type=S.type,s=S.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return Le($e,$e.current&1|2),a.child}s=s.sibling}_.tail!==null&&We()>no&&(a.flags|=128,m=!0,ds(_,!1),a.lanes=4194304)}else{if(!m)if(s=Ar(S),s!==null){if(a.flags|=128,m=!0,f=s.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),ds(_,!0),_.tail===null&&_.tailMode==="hidden"&&!S.alternate&&!ze)return dt(a),null}else 2*We()-_.renderingStartTime>no&&f!==1073741824&&(a.flags|=128,m=!0,ds(_,!1),a.lanes=4194304);_.isBackwards?(S.sibling=a.child,a.child=S):(f=_.last,f!==null?f.sibling=S:a.child=S,_.last=S)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=We(),a.sibling=null,f=$e.current,Le($e,m?f&1|2:f&1),a):(dt(a),null);case 22:case 23:return zu(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(Pt&1073741824)!==0&&(dt(a),a.subtreeFlags&6&&(a.flags|=8192)):dt(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function $0(s,a){switch(Xl(a),a.tag){case 1:return vt(a.type)&&_r(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Qi(),Ue(xt),Ue(ut),cu(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return lu(a),null;case 13:if(Ue($e),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ji()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Ue($e),null;case 4:return Qi(),null;case 10:return iu(a.type._context),null;case 22:case 23:return zu(),null;case 24:return null;default:return null}}var Hr=!1,ft=!1,q0=typeof WeakSet=="function"?WeakSet:Set,ne=null;function eo(s,a){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(m){je(s,a,m)}else f.current=null}function Iu(s,a,f){try{f()}catch(m){je(s,a,m)}}var Kh=!1;function G0(s,a){if(zl=ar,s=bf(),Dl(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var v=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var S=0,k=-1,I=-1,B=0,q=0,G=s,$=null;t:for(;;){for(var ee;G!==f||v!==0&&G.nodeType!==3||(k=S+v),G!==_||m!==0&&G.nodeType!==3||(I=S+m),G.nodeType===3&&(S+=G.nodeValue.length),(ee=G.firstChild)!==null;)$=G,G=ee;for(;;){if(G===s)break t;if($===f&&++B===v&&(k=S),$===_&&++q===m&&(I=S),(ee=G.nextSibling)!==null)break;G=$,$=G.parentNode}G=ee}f=k===-1||I===-1?null:{start:k,end:I}}else f=null}f=f||{start:0,end:0}}else f=null;for($l={focusedElem:s,selectionRange:f},ar=!1,ne=a;ne!==null;)if(a=ne,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ne=s;else for(;ne!==null;){a=ne;try{var ie=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var oe=ie.memoizedProps,Je=ie.memoizedState,U=a.stateNode,A=U.getSnapshotBeforeUpdate(a.elementType===a.type?oe:Wt(a.type,oe),Je);U.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var V=a.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(W){je(a,a.return,W)}if(s=a.sibling,s!==null){s.return=a.return,ne=s;break}ne=a.return}return ie=Kh,Kh=!1,ie}function fs(s,a,f){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&s)===s){var _=v.destroy;v.destroy=void 0,_!==void 0&&Iu(a,f,_)}v=v.next}while(v!==m)}}function zr(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&s)===s){var m=f.create;f.destroy=m()}f=f.next}while(f!==a)}}function Pu(s){var a=s.ref;if(a!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof a=="function"?a(s):a.current=s}}function Xh(s){var a=s.alternate;a!==null&&(s.alternate=null,Xh(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Qt],delete a[ts],delete a[Wl],delete a[k0],delete a[b0])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Qh(s){return s.tag===5||s.tag===3||s.tag===4}function Zh(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Qh(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Au(s,a,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?f.nodeType===8?f.parentNode.insertBefore(s,a):f.insertBefore(s,a):(f.nodeType===8?(a=f.parentNode,a.insertBefore(s,f)):(a=f,a.appendChild(s)),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=vr));else if(m!==4&&(s=s.child,s!==null))for(Au(s,a,f),s=s.sibling;s!==null;)Au(s,a,f),s=s.sibling}function Ru(s,a,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?f.insertBefore(s,a):f.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(Ru(s,a,f),s=s.sibling;s!==null;)Ru(s,a,f),s=s.sibling}var at=null,Jt=!1;function Un(s,a,f){for(f=f.child;f!==null;)ep(s,a,f),f=f.sibling}function ep(s,a,f){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(tr,f)}catch{}switch(f.tag){case 5:ft||eo(f,a);case 6:var m=at,v=Jt;at=null,Un(s,a,f),at=m,Jt=v,at!==null&&(Jt?(s=at,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):at.removeChild(f.stateNode));break;case 18:at!==null&&(Jt?(s=at,f=f.stateNode,s.nodeType===8?jl(s.parentNode,f):s.nodeType===1&&jl(s,f),qo(s)):jl(at,f.stateNode));break;case 4:m=at,v=Jt,at=f.stateNode.containerInfo,Jt=!0,Un(s,a,f),at=m,Jt=v;break;case 0:case 11:case 14:case 15:if(!ft&&(m=f.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var _=v,S=_.destroy;_=_.tag,S!==void 0&&((_&2)!==0||(_&4)!==0)&&Iu(f,a,S),v=v.next}while(v!==m)}Un(s,a,f);break;case 1:if(!ft&&(eo(f,a),m=f.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=f.memoizedProps,m.state=f.memoizedState,m.componentWillUnmount()}catch(k){je(f,a,k)}Un(s,a,f);break;case 21:Un(s,a,f);break;case 22:f.mode&1?(ft=(m=ft)||f.memoizedState!==null,Un(s,a,f),ft=m):Un(s,a,f);break;default:Un(s,a,f)}}function tp(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new q0),a.forEach(function(m){var v=eC.bind(null,s,m);f.has(m)||(f.add(m),m.then(v,v))})}}function Yt(s,a){var f=a.deletions;if(f!==null)for(var m=0;m<f.length;m++){var v=f[m];try{var _=s,S=a,k=S;e:for(;k!==null;){switch(k.tag){case 5:at=k.stateNode,Jt=!1;break e;case 3:at=k.stateNode.containerInfo,Jt=!0;break e;case 4:at=k.stateNode.containerInfo,Jt=!0;break e}k=k.return}if(at===null)throw Error(n(160));ep(_,S,v),at=null,Jt=!1;var I=v.alternate;I!==null&&(I.return=null),v.return=null}catch(B){je(v,a,B)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)np(a,s),a=a.sibling}function np(s,a){var f=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Yt(a,s),tn(s),m&4){try{fs(3,s,s.return),zr(3,s)}catch(oe){je(s,s.return,oe)}try{fs(5,s,s.return)}catch(oe){je(s,s.return,oe)}}break;case 1:Yt(a,s),tn(s),m&512&&f!==null&&eo(f,f.return);break;case 5:if(Yt(a,s),tn(s),m&512&&f!==null&&eo(f,f.return),s.flags&32){var v=s.stateNode;try{Ro(v,"")}catch(oe){je(s,s.return,oe)}}if(m&4&&(v=s.stateNode,v!=null)){var _=s.memoizedProps,S=f!==null?f.memoizedProps:_,k=s.type,I=s.updateQueue;if(s.updateQueue=null,I!==null)try{k==="input"&&_.type==="radio"&&_.name!=null&&Nd(v,_),cl(k,S);var B=cl(k,_);for(S=0;S<I.length;S+=2){var q=I[S],G=I[S+1];q==="style"?Ud(v,G):q==="dangerouslySetInnerHTML"?Ld(v,G):q==="children"?Ro(v,G):R(v,q,G,B)}switch(k){case"input":sl(v,_);break;case"textarea":Ad(v,_);break;case"select":var $=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!_.multiple;var ee=_.value;ee!=null?Ri(v,!!_.multiple,ee,!1):$!==!!_.multiple&&(_.defaultValue!=null?Ri(v,!!_.multiple,_.defaultValue,!0):Ri(v,!!_.multiple,_.multiple?[]:"",!1))}v[ts]=_}catch(oe){je(s,s.return,oe)}}break;case 6:if(Yt(a,s),tn(s),m&4){if(s.stateNode===null)throw Error(n(162));v=s.stateNode,_=s.memoizedProps;try{v.nodeValue=_}catch(oe){je(s,s.return,oe)}}break;case 3:if(Yt(a,s),tn(s),m&4&&f!==null&&f.memoizedState.isDehydrated)try{qo(a.containerInfo)}catch(oe){je(s,s.return,oe)}break;case 4:Yt(a,s),tn(s);break;case 13:Yt(a,s),tn(s),v=s.child,v.flags&8192&&(_=v.memoizedState!==null,v.stateNode.isHidden=_,!_||v.alternate!==null&&v.alternate.memoizedState!==null||(Fu=We())),m&4&&tp(s);break;case 22:if(q=f!==null&&f.memoizedState!==null,s.mode&1?(ft=(B=ft)||q,Yt(a,s),ft=B):Yt(a,s),tn(s),m&8192){if(B=s.memoizedState!==null,(s.stateNode.isHidden=B)&&!q&&(s.mode&1)!==0)for(ne=s,q=s.child;q!==null;){for(G=ne=q;ne!==null;){switch($=ne,ee=$.child,$.tag){case 0:case 11:case 14:case 15:fs(4,$,$.return);break;case 1:eo($,$.return);var ie=$.stateNode;if(typeof ie.componentWillUnmount=="function"){m=$,f=$.return;try{a=m,ie.props=a.memoizedProps,ie.state=a.memoizedState,ie.componentWillUnmount()}catch(oe){je(m,f,oe)}}break;case 5:eo($,$.return);break;case 22:if($.memoizedState!==null){sp(G);continue}}ee!==null?(ee.return=$,ne=ee):sp(G)}q=q.sibling}e:for(q=null,G=s;;){if(G.tag===5){if(q===null){q=G;try{v=G.stateNode,B?(_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(k=G.stateNode,I=G.memoizedProps.style,S=I!=null&&I.hasOwnProperty("display")?I.display:null,k.style.display=Fd("display",S))}catch(oe){je(s,s.return,oe)}}}else if(G.tag===6){if(q===null)try{G.stateNode.nodeValue=B?"":G.memoizedProps}catch(oe){je(s,s.return,oe)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===s)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===s)break e;for(;G.sibling===null;){if(G.return===null||G.return===s)break e;q===G&&(q=null),G=G.return}q===G&&(q=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Yt(a,s),tn(s),m&4&&tp(s);break;case 21:break;default:Yt(a,s),tn(s)}}function tn(s){var a=s.flags;if(a&2){try{e:{for(var f=s.return;f!==null;){if(Qh(f)){var m=f;break e}f=f.return}throw Error(n(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(Ro(v,""),m.flags&=-33);var _=Zh(s);Ru(s,_,v);break;case 3:case 4:var S=m.stateNode.containerInfo,k=Zh(s);Au(s,k,S);break;default:throw Error(n(161))}}catch(I){je(s,s.return,I)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function j0(s,a,f){ne=s,ip(s)}function ip(s,a,f){for(var m=(s.mode&1)!==0;ne!==null;){var v=ne,_=v.child;if(v.tag===22&&m){var S=v.memoizedState!==null||Hr;if(!S){var k=v.alternate,I=k!==null&&k.memoizedState!==null||ft;k=Hr;var B=ft;if(Hr=S,(ft=I)&&!B)for(ne=v;ne!==null;)S=ne,I=S.child,S.tag===22&&S.memoizedState!==null?rp(v):I!==null?(I.return=S,ne=I):rp(v);for(;_!==null;)ne=_,ip(_),_=_.sibling;ne=v,Hr=k,ft=B}op(s)}else(v.subtreeFlags&8772)!==0&&_!==null?(_.return=v,ne=_):op(s)}}function op(s){for(;ne!==null;){var a=ne;if((a.flags&8772)!==0){var f=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:ft||zr(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!ft)if(f===null)m.componentDidMount();else{var v=a.elementType===a.type?f.memoizedProps:Wt(a.type,f.memoizedProps);m.componentDidUpdate(v,f.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&sh(a,_,m);break;case 3:var S=a.updateQueue;if(S!==null){if(f=null,a.child!==null)switch(a.child.tag){case 5:f=a.child.stateNode;break;case 1:f=a.child.stateNode}sh(a,S,f)}break;case 5:var k=a.stateNode;if(f===null&&a.flags&4){f=k;var I=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&f.focus();break;case"img":I.src&&(f.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var B=a.alternate;if(B!==null){var q=B.memoizedState;if(q!==null){var G=q.dehydrated;G!==null&&qo(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ft||a.flags&512&&Pu(a)}catch($){je(a,a.return,$)}}if(a===s){ne=null;break}if(f=a.sibling,f!==null){f.return=a.return,ne=f;break}ne=a.return}}function sp(s){for(;ne!==null;){var a=ne;if(a===s){ne=null;break}var f=a.sibling;if(f!==null){f.return=a.return,ne=f;break}ne=a.return}}function rp(s){for(;ne!==null;){var a=ne;try{switch(a.tag){case 0:case 11:case 15:var f=a.return;try{zr(4,a)}catch(I){je(a,f,I)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var v=a.return;try{m.componentDidMount()}catch(I){je(a,v,I)}}var _=a.return;try{Pu(a)}catch(I){je(a,_,I)}break;case 5:var S=a.return;try{Pu(a)}catch(I){je(a,S,I)}}}catch(I){je(a,a.return,I)}if(a===s){ne=null;break}var k=a.sibling;if(k!==null){k.return=a.return,ne=k;break}ne=a.return}}var W0=Math.ceil,$r=D.ReactCurrentDispatcher,Du=D.ReactCurrentOwner,Ut=D.ReactCurrentBatchConfig,Se=0,ot=null,Ke=null,lt=0,Pt=0,to=An(0),et=0,hs=null,ui=0,qr=0,Lu=0,ps=null,_t=null,Fu=0,no=1/0,gn=null,Gr=!1,Uu=null,Vn=null,jr=!1,Bn=null,Wr=0,ms=0,Vu=null,Jr=-1,Yr=0;function yt(){return(Se&6)!==0?We():Jr!==-1?Jr:Jr=We()}function On(s){return(s.mode&1)===0?1:(Se&2)!==0&&lt!==0?lt&-lt:I0.transition!==null?(Yr===0&&(Yr=Qd()),Yr):(s=Ie,s!==0||(s=window.event,s=s===void 0?16:lf(s.type)),s)}function Kt(s,a,f,m){if(50<ms)throw ms=0,Vu=null,Error(n(185));Bo(s,f,m),((Se&2)===0||s!==ot)&&(s===ot&&((Se&2)===0&&(qr|=f),et===4&&Hn(s,lt)),Tt(s,m),f===1&&Se===0&&(a.mode&1)===0&&(no=We()+500,Sr&&Dn()))}function Tt(s,a){var f=s.callbackNode;Iv(s,a);var m=or(s,s===ot?lt:0);if(m===0)f!==null&&Yd(f),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(f!=null&&Yd(f),a===1)s.tag===0?N0(lp.bind(null,s)):Wf(lp.bind(null,s)),E0(function(){(Se&6)===0&&Dn()}),f=null;else{switch(Zd(m)){case 1:f=yl;break;case 4:f=Kd;break;case 16:f=er;break;case 536870912:f=Xd;break;default:f=er}f=gp(f,ap.bind(null,s))}s.callbackPriority=a,s.callbackNode=f}}function ap(s,a){if(Jr=-1,Yr=0,(Se&6)!==0)throw Error(n(327));var f=s.callbackNode;if(io()&&s.callbackNode!==f)return null;var m=or(s,s===ot?lt:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||a)a=Kr(s,m);else{a=m;var v=Se;Se|=2;var _=cp();(ot!==s||lt!==a)&&(gn=null,no=We()+500,di(s,a));do try{K0();break}catch(k){up(s,k)}while(!0);nu(),$r.current=_,Se=v,Ke!==null?a=0:(ot=null,lt=0,a=et)}if(a!==0){if(a===2&&(v=xl(s),v!==0&&(m=v,a=Bu(s,v))),a===1)throw f=hs,di(s,0),Hn(s,m),Tt(s,We()),f;if(a===6)Hn(s,m);else{if(v=s.current.alternate,(m&30)===0&&!J0(v)&&(a=Kr(s,m),a===2&&(_=xl(s),_!==0&&(m=_,a=Bu(s,_))),a===1))throw f=hs,di(s,0),Hn(s,m),Tt(s,We()),f;switch(s.finishedWork=v,s.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:fi(s,_t,gn);break;case 3:if(Hn(s,m),(m&130023424)===m&&(a=Fu+500-We(),10<a)){if(or(s,0)!==0)break;if(v=s.suspendedLanes,(v&m)!==m){yt(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=Gl(fi.bind(null,s,_t,gn),a);break}fi(s,_t,gn);break;case 4:if(Hn(s,m),(m&4194240)===m)break;for(a=s.eventTimes,v=-1;0<m;){var S=31-qt(m);_=1<<S,S=a[S],S>v&&(v=S),m&=~_}if(m=v,m=We()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*W0(m/1960))-m,10<m){s.timeoutHandle=Gl(fi.bind(null,s,_t,gn),m);break}fi(s,_t,gn);break;case 5:fi(s,_t,gn);break;default:throw Error(n(329))}}}return Tt(s,We()),s.callbackNode===f?ap.bind(null,s):null}function Bu(s,a){var f=ps;return s.current.memoizedState.isDehydrated&&(di(s,a).flags|=256),s=Kr(s,a),s!==2&&(a=_t,_t=f,a!==null&&Ou(a)),s}function Ou(s){_t===null?_t=s:_t.push.apply(_t,s)}function J0(s){for(var a=s;;){if(a.flags&16384){var f=a.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var m=0;m<f.length;m++){var v=f[m],_=v.getSnapshot;v=v.value;try{if(!Gt(_(),v))return!1}catch{return!1}}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Hn(s,a){for(a&=~Lu,a&=~qr,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var f=31-qt(a),m=1<<f;s[f]=-1,a&=~m}}function lp(s){if((Se&6)!==0)throw Error(n(327));io();var a=or(s,0);if((a&1)===0)return Tt(s,We()),null;var f=Kr(s,a);if(s.tag!==0&&f===2){var m=xl(s);m!==0&&(a=m,f=Bu(s,m))}if(f===1)throw f=hs,di(s,0),Hn(s,a),Tt(s,We()),f;if(f===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,fi(s,_t,gn),Tt(s,We()),null}function Hu(s,a){var f=Se;Se|=1;try{return s(a)}finally{Se=f,Se===0&&(no=We()+500,Sr&&Dn())}}function ci(s){Bn!==null&&Bn.tag===0&&(Se&6)===0&&io();var a=Se;Se|=1;var f=Ut.transition,m=Ie;try{if(Ut.transition=null,Ie=1,s)return s()}finally{Ie=m,Ut.transition=f,Se=a,(Se&6)===0&&Dn()}}function zu(){Pt=to.current,Ue(to)}function di(s,a){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,w0(f)),Ke!==null)for(f=Ke.return;f!==null;){var m=f;switch(Xl(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&_r();break;case 3:Qi(),Ue(xt),Ue(ut),cu();break;case 5:lu(m);break;case 4:Qi();break;case 13:Ue($e);break;case 19:Ue($e);break;case 10:iu(m.type._context);break;case 22:case 23:zu()}f=f.return}if(ot=s,Ke=s=zn(s.current,null),lt=Pt=a,et=0,hs=null,Lu=qr=ui=0,_t=ps=null,ri!==null){for(a=0;a<ri.length;a++)if(f=ri[a],m=f.interleaved,m!==null){f.interleaved=null;var v=m.next,_=f.pending;if(_!==null){var S=_.next;_.next=v,m.next=S}f.pending=m}ri=null}return s}function up(s,a){do{var f=Ke;try{if(nu(),Rr.current=Ur,Dr){for(var m=qe.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}Dr=!1}if(li=0,it=Ze=qe=null,as=!1,ls=0,Du.current=null,f===null||f.return===null){et=1,hs=a,Ke=null;break}e:{var _=s,S=f.return,k=f,I=a;if(a=lt,k.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var B=I,q=k,G=q.tag;if((q.mode&1)===0&&(G===0||G===11||G===15)){var $=q.alternate;$?(q.updateQueue=$.updateQueue,q.memoizedState=$.memoizedState,q.lanes=$.lanes):(q.updateQueue=null,q.memoizedState=null)}var ee=Dh(S);if(ee!==null){ee.flags&=-257,Lh(ee,S,k,_,a),ee.mode&1&&Rh(_,B,a),a=ee,I=B;var ie=a.updateQueue;if(ie===null){var oe=new Set;oe.add(I),a.updateQueue=oe}else ie.add(I);break e}else{if((a&1)===0){Rh(_,B,a),$u();break e}I=Error(n(426))}}else if(ze&&k.mode&1){var Je=Dh(S);if(Je!==null){(Je.flags&65536)===0&&(Je.flags|=256),Lh(Je,S,k,_,a),eu(Zi(I,k));break e}}_=I=Zi(I,k),et!==4&&(et=2),ps===null?ps=[_]:ps.push(_),_=S;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var U=Ph(_,I,a);oh(_,U);break e;case 1:k=I;var A=_.type,V=_.stateNode;if((_.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Vn===null||!Vn.has(V)))){_.flags|=65536,a&=-a,_.lanes|=a;var W=Ah(_,k,a);oh(_,W);break e}}_=_.return}while(_!==null)}fp(f)}catch(se){a=se,Ke===f&&f!==null&&(Ke=f=f.return);continue}break}while(!0)}function cp(){var s=$r.current;return $r.current=Ur,s===null?Ur:s}function $u(){(et===0||et===3||et===2)&&(et=4),ot===null||(ui&268435455)===0&&(qr&268435455)===0||Hn(ot,lt)}function Kr(s,a){var f=Se;Se|=2;var m=cp();(ot!==s||lt!==a)&&(gn=null,di(s,a));do try{Y0();break}catch(v){up(s,v)}while(!0);if(nu(),Se=f,$r.current=m,Ke!==null)throw Error(n(261));return ot=null,lt=0,et}function Y0(){for(;Ke!==null;)dp(Ke)}function K0(){for(;Ke!==null&&!_v();)dp(Ke)}function dp(s){var a=mp(s.alternate,s,Pt);s.memoizedProps=s.pendingProps,a===null?fp(s):Ke=a,Du.current=null}function fp(s){var a=s;do{var f=a.alternate;if(s=a.return,(a.flags&32768)===0){if(f=z0(f,a,Pt),f!==null){Ke=f;return}}else{if(f=$0(f,a),f!==null){f.flags&=32767,Ke=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{et=6,Ke=null;return}}if(a=a.sibling,a!==null){Ke=a;return}Ke=a=s}while(a!==null);et===0&&(et=5)}function fi(s,a,f){var m=Ie,v=Ut.transition;try{Ut.transition=null,Ie=1,X0(s,a,f,m)}finally{Ut.transition=v,Ie=m}return null}function X0(s,a,f,m){do io();while(Bn!==null);if((Se&6)!==0)throw Error(n(327));f=s.finishedWork;var v=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var _=f.lanes|f.childLanes;if(Pv(s,_),s===ot&&(Ke=ot=null,lt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||jr||(jr=!0,gp(er,function(){return io(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=Ut.transition,Ut.transition=null;var S=Ie;Ie=1;var k=Se;Se|=4,Du.current=null,G0(s,f),np(f,s),y0($l),ar=!!zl,$l=zl=null,s.current=f,j0(f),Tv(),Se=k,Ie=S,Ut.transition=_}else s.current=f;if(jr&&(jr=!1,Bn=s,Wr=v),_=s.pendingLanes,_===0&&(Vn=null),Ev(f.stateNode),Tt(s,We()),a!==null)for(m=s.onRecoverableError,f=0;f<a.length;f++)v=a[f],m(v.value,{componentStack:v.stack,digest:v.digest});if(Gr)throw Gr=!1,s=Uu,Uu=null,s;return(Wr&1)!==0&&s.tag!==0&&io(),_=s.pendingLanes,(_&1)!==0?s===Vu?ms++:(ms=0,Vu=s):ms=0,Dn(),null}function io(){if(Bn!==null){var s=Zd(Wr),a=Ut.transition,f=Ie;try{if(Ut.transition=null,Ie=16>s?16:s,Bn===null)var m=!1;else{if(s=Bn,Bn=null,Wr=0,(Se&6)!==0)throw Error(n(331));var v=Se;for(Se|=4,ne=s.current;ne!==null;){var _=ne,S=_.child;if((ne.flags&16)!==0){var k=_.deletions;if(k!==null){for(var I=0;I<k.length;I++){var B=k[I];for(ne=B;ne!==null;){var q=ne;switch(q.tag){case 0:case 11:case 15:fs(8,q,_)}var G=q.child;if(G!==null)G.return=q,ne=G;else for(;ne!==null;){q=ne;var $=q.sibling,ee=q.return;if(Xh(q),q===B){ne=null;break}if($!==null){$.return=ee,ne=$;break}ne=ee}}}var ie=_.alternate;if(ie!==null){var oe=ie.child;if(oe!==null){ie.child=null;do{var Je=oe.sibling;oe.sibling=null,oe=Je}while(oe!==null)}}ne=_}}if((_.subtreeFlags&2064)!==0&&S!==null)S.return=_,ne=S;else e:for(;ne!==null;){if(_=ne,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:fs(9,_,_.return)}var U=_.sibling;if(U!==null){U.return=_.return,ne=U;break e}ne=_.return}}var A=s.current;for(ne=A;ne!==null;){S=ne;var V=S.child;if((S.subtreeFlags&2064)!==0&&V!==null)V.return=S,ne=V;else e:for(S=A;ne!==null;){if(k=ne,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:zr(9,k)}}catch(se){je(k,k.return,se)}if(k===S){ne=null;break e}var W=k.sibling;if(W!==null){W.return=k.return,ne=W;break e}ne=k.return}}if(Se=v,Dn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(tr,s)}catch{}m=!0}return m}finally{Ie=f,Ut.transition=a}}return!1}function hp(s,a,f){a=Zi(f,a),a=Ph(s,a,1),s=Fn(s,a,1),a=yt(),s!==null&&(Bo(s,1,a),Tt(s,a))}function je(s,a,f){if(s.tag===3)hp(s,s,f);else for(;a!==null;){if(a.tag===3){hp(a,s,f);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Vn===null||!Vn.has(m))){s=Zi(f,s),s=Ah(a,s,1),a=Fn(a,s,1),s=yt(),a!==null&&(Bo(a,1,s),Tt(a,s));break}}a=a.return}}function Q0(s,a,f){var m=s.pingCache;m!==null&&m.delete(a),a=yt(),s.pingedLanes|=s.suspendedLanes&f,ot===s&&(lt&f)===f&&(et===4||et===3&&(lt&130023424)===lt&&500>We()-Fu?di(s,0):Lu|=f),Tt(s,a)}function pp(s,a){a===0&&((s.mode&1)===0?a=1:(a=ir,ir<<=1,(ir&130023424)===0&&(ir=4194304)));var f=yt();s=hn(s,a),s!==null&&(Bo(s,a,f),Tt(s,f))}function Z0(s){var a=s.memoizedState,f=0;a!==null&&(f=a.retryLane),pp(s,f)}function eC(s,a){var f=0;switch(s.tag){case 13:var m=s.stateNode,v=s.memoizedState;v!==null&&(f=v.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),pp(s,f)}var mp;mp=function(s,a,f){if(s!==null)if(s.memoizedProps!==a.pendingProps||xt.current)Ct=!0;else{if((s.lanes&f)===0&&(a.flags&128)===0)return Ct=!1,H0(s,a,f);Ct=(s.flags&131072)!==0}else Ct=!1,ze&&(a.flags&1048576)!==0&&Jf(a,Er,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Or(s,a),s=a.pendingProps;var v=Gi(a,ut.current);Xi(a,f),v=hu(null,a,m,s,v,f);var _=pu();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,vt(m)?(_=!0,Tr(a)):_=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,ru(a),v.updater=Vr,a.stateNode=v,v._reactInternals=a,Cu(a,m,s,f),a=wu(null,a,m,!0,_,f)):(a.tag=0,ze&&_&&Kl(a),gt(null,a,v,f),a=a.child),a;case 16:m=a.elementType;e:{switch(Or(s,a),s=a.pendingProps,v=m._init,m=v(m._payload),a.type=m,v=a.tag=nC(m),s=Wt(m,s),v){case 0:a=Su(null,a,m,s,f);break e;case 1:a=Hh(null,a,m,s,f);break e;case 11:a=Fh(null,a,m,s,f);break e;case 14:a=Uh(null,a,m,Wt(m.type,s),f);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Wt(m,v),Su(s,a,m,v,f);case 1:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Wt(m,v),Hh(s,a,m,v,f);case 3:e:{if(zh(a),s===null)throw Error(n(387));m=a.pendingProps,_=a.memoizedState,v=_.element,ih(s,a),Pr(a,m,null,f);var S=a.memoizedState;if(m=S.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){v=Zi(Error(n(423)),a),a=$h(s,a,m,f,v);break e}else if(m!==v){v=Zi(Error(n(424)),a),a=$h(s,a,m,f,v);break e}else for(It=Pn(a.stateNode.containerInfo.firstChild),Nt=a,ze=!0,jt=null,f=th(a,null,m,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ji(),m===v){a=mn(s,a,f);break e}gt(s,a,m,f)}a=a.child}return a;case 5:return rh(a),s===null&&Zl(a),m=a.type,v=a.pendingProps,_=s!==null?s.memoizedProps:null,S=v.children,ql(m,v)?S=null:_!==null&&ql(m,_)&&(a.flags|=32),Oh(s,a),gt(s,a,S,f),a.child;case 6:return s===null&&Zl(a),null;case 13:return qh(s,a,f);case 4:return au(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=Yi(a,null,m,f):gt(s,a,m,f),a.child;case 11:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Wt(m,v),Fh(s,a,m,v,f);case 7:return gt(s,a,a.pendingProps,f),a.child;case 8:return gt(s,a,a.pendingProps.children,f),a.child;case 12:return gt(s,a,a.pendingProps.children,f),a.child;case 10:e:{if(m=a.type._context,v=a.pendingProps,_=a.memoizedProps,S=v.value,Le(br,m._currentValue),m._currentValue=S,_!==null)if(Gt(_.value,S)){if(_.children===v.children&&!xt.current){a=mn(s,a,f);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var k=_.dependencies;if(k!==null){S=_.child;for(var I=k.firstContext;I!==null;){if(I.context===m){if(_.tag===1){I=pn(-1,f&-f),I.tag=2;var B=_.updateQueue;if(B!==null){B=B.shared;var q=B.pending;q===null?I.next=I:(I.next=q.next,q.next=I),B.pending=I}}_.lanes|=f,I=_.alternate,I!==null&&(I.lanes|=f),ou(_.return,f,a),k.lanes|=f;break}I=I.next}}else if(_.tag===10)S=_.type===a.type?null:_.child;else if(_.tag===18){if(S=_.return,S===null)throw Error(n(341));S.lanes|=f,k=S.alternate,k!==null&&(k.lanes|=f),ou(S,f,a),S=_.sibling}else S=_.child;if(S!==null)S.return=_;else for(S=_;S!==null;){if(S===a){S=null;break}if(_=S.sibling,_!==null){_.return=S.return,S=_;break}S=S.return}_=S}gt(s,a,v.children,f),a=a.child}return a;case 9:return v=a.type,m=a.pendingProps.children,Xi(a,f),v=Lt(v),m=m(v),a.flags|=1,gt(s,a,m,f),a.child;case 14:return m=a.type,v=Wt(m,a.pendingProps),v=Wt(m.type,v),Uh(s,a,m,v,f);case 15:return Vh(s,a,a.type,a.pendingProps,f);case 17:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Wt(m,v),Or(s,a),a.tag=1,vt(m)?(s=!0,Tr(a)):s=!1,Xi(a,f),Nh(a,m,v),Cu(a,m,v,f),wu(null,a,m,!0,s,f);case 19:return jh(s,a,f);case 22:return Bh(s,a,f)}throw Error(n(156,a.tag))};function gp(s,a){return Jd(s,a)}function tC(s,a,f,m){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(s,a,f,m){return new tC(s,a,f,m)}function qu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function nC(s){if(typeof s=="function")return qu(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ae)return 11;if(s===de)return 14}return 2}function zn(s,a){var f=s.alternate;return f===null?(f=Vt(s.tag,a,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=a,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,a=s.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function Xr(s,a,f,m,v,_){var S=2;if(m=s,typeof s=="function")qu(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case z:return hi(f.children,v,_,a);case J:S=8,v|=8;break;case j:return s=Vt(12,f,a,v|2),s.elementType=j,s.lanes=_,s;case Te:return s=Vt(13,f,a,v),s.elementType=Te,s.lanes=_,s;case Ae:return s=Vt(19,f,a,v),s.elementType=Ae,s.lanes=_,s;case ge:return Qr(f,v,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Q:S=10;break e;case X:S=9;break e;case ae:S=11;break e;case de:S=14;break e;case ye:S=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Vt(S,f,a,v),a.elementType=s,a.type=m,a.lanes=_,a}function hi(s,a,f,m){return s=Vt(7,s,m,a),s.lanes=f,s}function Qr(s,a,f,m){return s=Vt(22,s,m,a),s.elementType=ge,s.lanes=f,s.stateNode={isHidden:!1},s}function Gu(s,a,f){return s=Vt(6,s,null,a),s.lanes=f,s}function ju(s,a,f){return a=Vt(4,s.children!==null?s.children:[],s.key,a),a.lanes=f,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function iC(s,a,f,m,v){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vl(0),this.expirationTimes=vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Wu(s,a,f,m,v,_,S,k,I){return s=new iC(s,a,f,k,I),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Vt(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:m,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},ru(_),s}function oC(s,a,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:m==null?null:""+m,children:s,containerInfo:a,implementation:f}}function yp(s){if(!s)return Rn;s=s._reactInternals;e:{if(ti(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(vt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var f=s.type;if(vt(f))return Gf(s,f,a)}return a}function xp(s,a,f,m,v,_,S,k,I){return s=Wu(f,m,!0,s,v,_,S,k,I),s.context=yp(null),f=s.current,m=yt(),v=On(f),_=pn(m,v),_.callback=a??null,Fn(f,_,v),s.current.lanes=v,Bo(s,v,m),Tt(s,m),s}function Zr(s,a,f,m){var v=a.current,_=yt(),S=On(v);return f=yp(f),a.context===null?a.context=f:a.pendingContext=f,a=pn(_,S),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=Fn(v,a,S),s!==null&&(Kt(s,v,S,_),Ir(s,v,S)),S}function ea(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function vp(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<a?f:a}}function Ju(s,a){vp(s,a),(s=s.alternate)&&vp(s,a)}function sC(){return null}var Cp=typeof reportError=="function"?reportError:function(s){console.error(s)};function Yu(s){this._internalRoot=s}ta.prototype.render=Yu.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Zr(s,a,null,null)},ta.prototype.unmount=Yu.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;ci(function(){Zr(null,s,null,null)}),a[un]=null}};function ta(s){this._internalRoot=s}ta.prototype.unstable_scheduleHydration=function(s){if(s){var a=nf();s={blockedOn:null,target:s,priority:a};for(var f=0;f<bn.length&&a!==0&&a<bn[f].priority;f++);bn.splice(f,0,s),f===0&&rf(s)}};function Ku(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function na(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function _p(){}function rC(s,a,f,m,v){if(v){if(typeof m=="function"){var _=m;m=function(){var B=ea(S);_.call(B)}}var S=xp(a,m,s,0,null,!1,!1,"",_p);return s._reactRootContainer=S,s[un]=S.current,Zo(s.nodeType===8?s.parentNode:s),ci(),S}for(;v=s.lastChild;)s.removeChild(v);if(typeof m=="function"){var k=m;m=function(){var B=ea(I);k.call(B)}}var I=Wu(s,0,!1,null,null,!1,!1,"",_p);return s._reactRootContainer=I,s[un]=I.current,Zo(s.nodeType===8?s.parentNode:s),ci(function(){Zr(a,I,f,m)}),I}function ia(s,a,f,m,v){var _=f._reactRootContainer;if(_){var S=_;if(typeof v=="function"){var k=v;v=function(){var I=ea(S);k.call(I)}}Zr(a,S,s,v)}else S=rC(f,a,s,v,m);return ea(S)}ef=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var f=Vo(a.pendingLanes);f!==0&&(Cl(a,f|1),Tt(a,We()),(Se&6)===0&&(no=We()+500,Dn()))}break;case 13:ci(function(){var m=hn(s,1);if(m!==null){var v=yt();Kt(m,s,1,v)}}),Ju(s,1)}},_l=function(s){if(s.tag===13){var a=hn(s,134217728);if(a!==null){var f=yt();Kt(a,s,134217728,f)}Ju(s,134217728)}},tf=function(s){if(s.tag===13){var a=On(s),f=hn(s,a);if(f!==null){var m=yt();Kt(f,s,a,m)}Ju(s,a)}},nf=function(){return Ie},of=function(s,a){var f=Ie;try{return Ie=s,a()}finally{Ie=f}},hl=function(s,a,f){switch(a){case"input":if(sl(s,f),a=f.name,f.type==="radio"&&a!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<f.length;a++){var m=f[a];if(m!==s&&m.form===s.form){var v=Cr(m);if(!v)throw Error(n(90));kd(m),sl(m,v)}}}break;case"textarea":Ad(s,f);break;case"select":a=f.value,a!=null&&Ri(s,!!f.multiple,a,!1)}},Hd=Hu,zd=ci;var aC={usingClientEntryPoint:!1,Events:[ns,$i,Cr,Bd,Od,Hu]},gs={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lC={bundleType:gs.bundleType,version:gs.version,rendererPackageName:gs.rendererPackageName,rendererConfig:gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=jd(s),s===null?null:s.stateNode},findFiberByHostInstance:gs.findFiberByHostInstance||sC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oa.isDisabled&&oa.supportsFiber)try{tr=oa.inject(lC),Xt=oa}catch{}}return St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aC,St.createPortal=function(s,a){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ku(a))throw Error(n(200));return oC(s,a,null,f)},St.createRoot=function(s,a){if(!Ku(s))throw Error(n(299));var f=!1,m="",v=Cp;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Wu(s,1,!1,null,null,f,!1,m,v),s[un]=a.current,Zo(s.nodeType===8?s.parentNode:s),new Yu(a)},St.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=jd(a),s=s===null?null:s.stateNode,s},St.flushSync=function(s){return ci(s)},St.hydrate=function(s,a,f){if(!na(a))throw Error(n(200));return ia(null,s,a,!0,f)},St.hydrateRoot=function(s,a,f){if(!Ku(s))throw Error(n(405));var m=f!=null&&f.hydratedSources||null,v=!1,_="",S=Cp;if(f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(S=f.onRecoverableError)),a=xp(a,null,s,1,f??null,v,!1,_,S),s[un]=a.current,Zo(s),m)for(s=0;s<m.length;s++)f=m[s],v=f._getVersion,v=v(f._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[f,v]:a.mutableSourceEagerHydrationData.push(f,v);return new ta(a)},St.render=function(s,a,f){if(!na(a))throw Error(n(200));return ia(null,s,a,!1,f)},St.unmountComponentAtNode=function(s){if(!na(s))throw Error(n(40));return s._reactRootContainer?(ci(function(){ia(null,null,s,!1,function(){s._reactRootContainer=null,s[un]=null})}),!0):!1},St.unstable_batchedUpdates=Hu,St.unstable_renderSubtreeIntoContainer=function(s,a,f,m){if(!na(f))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return ia(s,a,f,!1,m)},St.version="18.3.1-next-f1338f8080-20240426",St}var Np;function Sy(){if(Np)return Zu.exports;Np=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zu.exports=vC(),Zu.exports}var Ip;function CC(){if(Ip)return sa;Ip=1;var t=Sy();return sa.createRoot=t.createRoot,sa.hydrateRoot=t.hydrateRoot,sa}var _C=CC();const TC=Ty(_C);Sy();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ds(){return Ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ds.apply(this,arguments)}var Gn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gn||(Gn={}));const Pp="popstate";function SC(t){t===void 0&&(t={});function e(o,r){let{pathname:l="/",search:d="",hash:h=""}=Ii(o.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Cc("",{pathname:l,search:d,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(o,r){let l=o.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let h=o.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof r=="string"?r:Ia(r))}function i(o,r){Wc(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(r)+")")}return EC(e,n,i,t)}function Ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wC(){return Math.random().toString(36).substr(2,8)}function Ap(t,e){return{usr:t.state,key:t.key,idx:e}}function Cc(t,e,n,i){return n===void 0&&(n=null),Ds({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ii(e):e,{state:n,key:e&&e.key||i||wC()})}function Ia(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function EC(t,e,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:r=!1}=i,l=o.history,d=Gn.Pop,h=null,p=y();p==null&&(p=0,l.replaceState(Ds({},l.state,{idx:p}),""));function y(){return(l.state||{idx:null}).idx}function x(){d=Gn.Pop;let M=y(),N=M==null?null:M-p;p=M,h&&h({action:d,location:E.location,delta:N})}function C(M,N){d=Gn.Push;let P=Cc(E.location,M,N);n&&n(P,M),p=y()+1;let R=Ap(P,p),D=E.createHref(P);try{l.pushState(R,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(D)}r&&h&&h({action:d,location:E.location,delta:1})}function T(M,N){d=Gn.Replace;let P=Cc(E.location,M,N);n&&n(P,M),p=y();let R=Ap(P,p),D=E.createHref(P);l.replaceState(R,"",D),r&&h&&h({action:d,location:E.location,delta:0})}function w(M){let N=o.location.origin!=="null"?o.location.origin:o.location.href,P=typeof M=="string"?M:Ia(M);return P=P.replace(/ $/,"%20"),Ge(N,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,N)}let E={get action(){return d},get location(){return t(o,l)},listen(M){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Pp,x),h=M,()=>{o.removeEventListener(Pp,x),h=null}},createHref(M){return e(o,M)},createURL:w,encodeLocation(M){let N=w(M);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:C,replace:T,go(M){return l.go(M)}};return E}var Rp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rp||(Rp={}));function MC(t,e,n){return n===void 0&&(n="/"),kC(t,e,n)}function kC(t,e,n,i){let o=typeof e=="string"?Ii(e):e,r=_o(o.pathname||"/",n);if(r==null)return null;let l=wy(t);bC(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let p=BC(r);d=UC(l[h],p)}return d}function wy(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(r,l,d)=>{let h={relativePath:d===void 0?r.path||"":d,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};h.relativePath.startsWith("/")&&(Ge(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let p=Yn([i,h.relativePath]),y=n.concat(h);r.children&&r.children.length>0&&(Ge(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),wy(r.children,e,y,p)),!(r.path==null&&!r.index)&&e.push({path:p,score:LC(p,r.index),routesMeta:y})};return t.forEach((r,l)=>{var d;if(r.path===""||!((d=r.path)!=null&&d.includes("?")))o(r,l);else for(let h of Ey(r.path))o(r,l,h)}),e}function Ey(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return o?[r,""]:[r];let l=Ey(i.join("/")),d=[];return d.push(...l.map(h=>h===""?r:[r,h].join("/"))),o&&d.push(...l),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function bC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:FC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const NC=/^:[\w-]+$/,IC=3,PC=2,AC=1,RC=10,DC=-2,Dp=t=>t==="*";function LC(t,e){let n=t.split("/"),i=n.length;return n.some(Dp)&&(i+=DC),e&&(i+=PC),n.filter(o=>!Dp(o)).reduce((o,r)=>o+(NC.test(r)?IC:r===""?AC:RC),i)}function FC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function UC(t,e,n){let{routesMeta:i}=t,o={},r="/",l=[];for(let d=0;d<i.length;++d){let h=i[d],p=d===i.length-1,y=r==="/"?e:e.slice(r.length)||"/",x=_c({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),C=h.route;if(!x)return null;Object.assign(o,x.params),l.push({params:o,pathname:Yn([r,x.pathname]),pathnameBase:$C(Yn([r,x.pathnameBase])),route:C}),x.pathnameBase!=="/"&&(r=Yn([r,x.pathnameBase]))}return l}function _c(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=VC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let r=o[0],l=r.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,y,x)=>{let{paramName:C,isOptional:T}=y;if(C==="*"){let E=d[x]||"";l=r.slice(0,r.length-E.length).replace(/(.)\/+$/,"$1")}const w=d[x];return T&&!w?p[C]=void 0:p[C]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:r,pathnameBase:l,pattern:t}}function VC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Wc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function BC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _o(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function OC(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Ii(t):t;return{pathname:n?n.startsWith("/")?n:HC(n,e):e,search:qC(i),hash:GC(o)}}function HC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function nc(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jc(t,e){let n=zC(t);return e?n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Yc(t,e,n,i){i===void 0&&(i=!1);let o;typeof t=="string"?o=Ii(t):(o=Ds({},t),Ge(!o.pathname||!o.pathname.includes("?"),nc("?","pathname","search",o)),Ge(!o.pathname||!o.pathname.includes("#"),nc("#","pathname","hash",o)),Ge(!o.search||!o.search.includes("#"),nc("#","search","hash",o)));let r=t===""||o.pathname==="",l=r?"/":o.pathname,d;if(l==null)d=n;else{let x=e.length-1;if(!i&&l.startsWith("..")){let C=l.split("/");for(;C[0]==="..";)C.shift(),x-=1;o.pathname=C.join("/")}d=x>=0?e[x]:"/"}let h=OC(o,d),p=l&&l!=="/"&&l.endsWith("/"),y=(r||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}const Yn=t=>t.join("/").replace(/\/\/+/g,"/"),$C=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const My=["post","put","patch","delete"];new Set(My);const WC=["get",...My];new Set(WC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ls.apply(this,arguments)}const Ga=b.createContext(null),ky=b.createContext(null),Sn=b.createContext(null),ja=b.createContext(null),rn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),by=b.createContext(null);function JC(t,e){let{relative:n}=e===void 0?{}:e;So()||Ge(!1);let{basename:i,navigator:o}=b.useContext(Sn),{hash:r,pathname:l,search:d}=Wa(t,{relative:n}),h=l;return i!=="/"&&(h=l==="/"?i:Yn([i,l])),o.createHref({pathname:h,search:d,hash:r})}function So(){return b.useContext(ja)!=null}function an(){return So()||Ge(!1),b.useContext(ja).location}function Ny(t){b.useContext(Sn).static||b.useLayoutEffect(t)}function Zn(){let{isDataRoute:t}=b.useContext(rn);return t?u_():YC()}function YC(){So()||Ge(!1);let t=b.useContext(Ga),{basename:e,future:n,navigator:i}=b.useContext(Sn),{matches:o}=b.useContext(rn),{pathname:r}=an(),l=JSON.stringify(Jc(o,n.v7_relativeSplatPath)),d=b.useRef(!1);return Ny(()=>{d.current=!0}),b.useCallback(function(p,y){if(y===void 0&&(y={}),!d.current)return;if(typeof p=="number"){i.go(p);return}let x=Yc(p,JSON.parse(l),r,y.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Yn([e,x.pathname])),(y.replace?i.replace:i.push)(x,y.state,y)},[e,i,l,r,t])}const KC=b.createContext(null);function XC(t){let e=b.useContext(rn).outlet;return e&&b.createElement(KC.Provider,{value:t},e)}function Kc(){let{matches:t}=b.useContext(rn),e=t[t.length-1];return e?e.params:{}}function Wa(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=b.useContext(Sn),{matches:o}=b.useContext(rn),{pathname:r}=an(),l=JSON.stringify(Jc(o,i.v7_relativeSplatPath));return b.useMemo(()=>Yc(t,JSON.parse(l),r,n==="path"),[t,l,r,n])}function QC(t,e){return ZC(t,e)}function ZC(t,e,n,i){So()||Ge(!1);let{navigator:o}=b.useContext(Sn),{matches:r}=b.useContext(rn),l=r[r.length-1],d=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let p=an(),y;if(e){var x;let M=typeof e=="string"?Ii(e):e;h==="/"||(x=M.pathname)!=null&&x.startsWith(h)||Ge(!1),y=M}else y=p;let C=y.pathname||"/",T=C;if(h!=="/"){let M=h.replace(/^\//,"").split("/");T="/"+C.replace(/^\//,"").split("/").slice(M.length).join("/")}let w=MC(t,{pathname:T}),E=o_(w&&w.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Yn([h,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?h:Yn([h,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),r,n,i);return e&&E?b.createElement(ja.Provider,{value:{location:Ls({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Gn.Pop}},E):E}function e_(){let t=l_(),e=jC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:o},n):null,null)}const t_=b.createElement(e_,null);class n_ extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(rn.Provider,{value:this.props.routeContext},b.createElement(by.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i_(t){let{routeContext:e,match:n,children:i}=t,o=b.useContext(Ga);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(rn.Provider,{value:e},i)}function o_(t,e,n,i){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=i)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,d=(o=n)==null?void 0:o.errors;if(d!=null){let y=l.findIndex(x=>x.route.id&&(d==null?void 0:d[x.route.id])!==void 0);y>=0||Ge(!1),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,p=-1;if(n&&i&&i.v7_partialHydration)for(let y=0;y<l.length;y++){let x=l[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=y),x.route.id){let{loaderData:C,errors:T}=n,w=x.route.loader&&C[x.route.id]===void 0&&(!T||T[x.route.id]===void 0);if(x.route.lazy||w){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((y,x,C)=>{let T,w=!1,E=null,M=null;n&&(T=d&&x.route.id?d[x.route.id]:void 0,E=x.route.errorElement||t_,h&&(p<0&&C===0?(c_("route-fallback"),w=!0,M=null):p===C&&(w=!0,M=x.route.hydrateFallbackElement||null)));let N=e.concat(l.slice(0,C+1)),P=()=>{let R;return T?R=E:w?R=M:x.route.Component?R=b.createElement(x.route.Component,null):x.route.element?R=x.route.element:R=y,b.createElement(i_,{match:x,routeContext:{outlet:y,matches:N,isDataRoute:n!=null},children:R})};return n&&(x.route.ErrorBoundary||x.route.errorElement||C===0)?b.createElement(n_,{location:n.location,revalidation:n.revalidation,component:E,error:T,children:P(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):P()},null)}var Iy=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Iy||{}),Py=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Py||{});function s_(t){let e=b.useContext(Ga);return e||Ge(!1),e}function r_(t){let e=b.useContext(ky);return e||Ge(!1),e}function a_(t){let e=b.useContext(rn);return e||Ge(!1),e}function Ay(t){let e=a_(),n=e.matches[e.matches.length-1];return n.route.id||Ge(!1),n.route.id}function l_(){var t;let e=b.useContext(by),n=r_(),i=Ay();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function u_(){let{router:t}=s_(Iy.UseNavigateStable),e=Ay(Py.UseNavigateStable),n=b.useRef(!1);return Ny(()=>{n.current=!0}),b.useCallback(function(o,r){r===void 0&&(r={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Ls({fromRouteId:e},r)))},[t,e])}const Lp={};function c_(t,e,n){Lp[t]||(Lp[t]=!0)}function d_(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function xs(t){let{to:e,replace:n,state:i,relative:o}=t;So()||Ge(!1);let{future:r,static:l}=b.useContext(Sn),{matches:d}=b.useContext(rn),{pathname:h}=an(),p=Zn(),y=Yc(e,Jc(d,r.v7_relativeSplatPath),h,o==="path"),x=JSON.stringify(y);return b.useEffect(()=>p(JSON.parse(x),{replace:n,state:i,relative:o}),[p,x,o,n,i]),null}function ic(t){return XC(t.context)}function Re(t){Ge(!1)}function f_(t){let{basename:e="/",children:n=null,location:i,navigationType:o=Gn.Pop,navigator:r,static:l=!1,future:d}=t;So()&&Ge(!1);let h=e.replace(/^\/*/,"/"),p=b.useMemo(()=>({basename:h,navigator:r,static:l,future:Ls({v7_relativeSplatPath:!1},d)}),[h,d,r,l]);typeof i=="string"&&(i=Ii(i));let{pathname:y="/",search:x="",hash:C="",state:T=null,key:w="default"}=i,E=b.useMemo(()=>{let M=_o(y,h);return M==null?null:{location:{pathname:M,search:x,hash:C,state:T,key:w},navigationType:o}},[h,y,x,C,T,w,o]);return E==null?null:b.createElement(Sn.Provider,{value:p},b.createElement(ja.Provider,{children:n,value:E}))}function h_(t){let{children:e,location:n}=t;return QC(Tc(e),n)}new Promise(()=>{});function Tc(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(i,o)=>{if(!b.isValidElement(i))return;let r=[...e,o];if(i.type===b.Fragment){n.push.apply(n,Tc(i.props.children,r));return}i.type!==Re&&Ge(!1),!i.props.index||!i.props.children||Ge(!1);let l={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Tc(i.props.children,r)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pa.apply(this,arguments)}function Ry(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,r;for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function p_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function m_(t,e){return t.button===0&&(!e||e==="_self")&&!p_(t)}const g_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],x_="6";try{window.__reactRouterVersion=x_}catch{}const v_=b.createContext({isTransitioning:!1}),C_="startTransition",Fp=gC[C_];function __(t){let{basename:e,children:n,future:i,window:o}=t,r=b.useRef();r.current==null&&(r.current=SC({window:o,v5Compat:!0}));let l=r.current,[d,h]=b.useState({action:l.action,location:l.location}),{v7_startTransition:p}=i||{},y=b.useCallback(x=>{p&&Fp?Fp(()=>h(x)):h(x)},[h,p]);return b.useLayoutEffect(()=>l.listen(y),[l,y]),b.useEffect(()=>d_(i),[i]),b.createElement(f_,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:l,future:i})}const T_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ei=b.forwardRef(function(e,n){let{onClick:i,relative:o,reloadDocument:r,replace:l,state:d,target:h,to:p,preventScrollReset:y,viewTransition:x}=e,C=Ry(e,g_),{basename:T}=b.useContext(Sn),w,E=!1;if(typeof p=="string"&&S_.test(p)&&(w=p,T_))try{let R=new URL(window.location.href),D=p.startsWith("//")?new URL(R.protocol+p):new URL(p),L=_o(D.pathname,T);D.origin===R.origin&&L!=null?p=L+D.search+D.hash:E=!0}catch{}let M=JC(p,{relative:o}),N=E_(p,{replace:l,state:d,target:h,preventScrollReset:y,relative:o,viewTransition:x});function P(R){i&&i(R),R.defaultPrevented||N(R)}return b.createElement("a",Pa({},C,{href:w||M,onClick:E||r?i:P,ref:n,target:h}))}),rt=b.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:o=!1,className:r="",end:l=!1,style:d,to:h,viewTransition:p,children:y}=e,x=Ry(e,y_),C=Wa(h,{relative:x.relative}),T=an(),w=b.useContext(ky),{navigator:E,basename:M}=b.useContext(Sn),N=w!=null&&M_(C)&&p===!0,P=E.encodeLocation?E.encodeLocation(C).pathname:C.pathname,R=T.pathname,D=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;o||(R=R.toLowerCase(),D=D?D.toLowerCase():null,P=P.toLowerCase()),D&&M&&(D=_o(D,M)||D);const L=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let O=R===P||!l&&R.startsWith(P)&&R.charAt(L)==="/",z=D!=null&&(D===P||!l&&D.startsWith(P)&&D.charAt(P.length)==="/"),J={isActive:O,isPending:z,isTransitioning:N},j=O?i:void 0,Q;typeof r=="function"?Q=r(J):Q=[r,O?"active":null,z?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let X=typeof d=="function"?d(J):d;return b.createElement(Ei,Pa({},x,{"aria-current":j,className:Q,ref:n,style:X,to:h,viewTransition:p}),typeof y=="function"?y(J):y)});var Sc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Sc||(Sc={}));var Up;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Up||(Up={}));function w_(t){let e=b.useContext(Ga);return e||Ge(!1),e}function E_(t,e){let{target:n,replace:i,state:o,preventScrollReset:r,relative:l,viewTransition:d}=e===void 0?{}:e,h=Zn(),p=an(),y=Wa(t,{relative:l});return b.useCallback(x=>{if(m_(x,n)){x.preventDefault();let C=i!==void 0?i:Ia(p)===Ia(y);h(t,{replace:C,state:o,preventScrollReset:r,relative:l,viewTransition:d})}},[p,h,y,i,o,n,t,r,l,d])}function M_(t,e){e===void 0&&(e={});let n=b.useContext(v_);n==null&&Ge(!1);let{basename:i}=w_(Sc.useViewTransitionState),o=Wa(t,{relative:e.relative});if(!n.isTransitioning)return!1;let r=_o(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=_o(n.nextLocation.pathname,i)||n.nextLocation.pathname;return _c(o.pathname,l)!=null||_c(o.pathname,r)!=null}const k_=[{id:"poi-1",name:"Pedra do Segredo",description:"Formação rochosa icônica com vista panorâmica.",longDescription:"A Pedra do Segredo é um dos mais belos e misteriosos pontos turísticos de Caçapava do Sul. A subida é recompensada com uma vista de 360 graus da região, perfeita para fotos e contemplação.",imageUrl:"https://i.ytimg.com/vi/bYf2-T20W0g/maxresdefault.jpg",points:25,lat:-30.5694,lng:-53.4913},{id:"poi-2",name:"Minas do Camaquã",description:"Complexo mineiro histórico e paisagens deslumbrantes.",longDescription:"Explore as ruínas do maior complexo de mineração de cobre do Brasil. O local oferece uma viagem no tempo, com prédios antigos, equipamentos e uma paisagem única moldada pela atividade mineradora.",imageUrl:"https://www.minasdocamaqua.com.br/wp-content/uploads/2019/08/Pr%C3%A9dio-do-escrit%C3%B3rio-da-CBC-1.jpg",points:30,lat:-30.7303,lng:-53.7664},{id:"poi-3",name:"Cascata do Salso",description:"Queda d'água refrescante em meio à natureza.",longDescription:"Uma bela cascata de fácil acesso, ideal para um banho refrescante nos dias quentes. O som da água e a vegetação ao redor criam um ambiente perfeito para relaxar e se conectar com a natureza.",imageUrl:"https://media-cdn.tripadvisor.com/media/photo-s/0d/18/0a/73/cascata-do-salso.jpg",points:20,lat:-30.5054,lng:-53.4116},{id:"poi-4",name:"Forte Dom Pedro II",description:"Marco histórico da Revolução Farroupilha.",longDescription:"Construído em 1848, o Forte Dom Pedro II é um importante sítio histórico. Suas muralhas de pedra contam histórias de batalhas e da importância estratégica de Caçapava do Sul no passado.",imageUrl:"https://live.staticflickr.com/832/42079148484_f04a796d8e_b.jpg",points:15,lat:-30.5144,lng:-53.4883},{id:"poi-5",name:"Casa de Ulhôa Cintra",description:"Centro de cultura e história local.",longDescription:"Este casarão histórico, antiga residência do Visconde de Jaguari, hoje abriga um centro cultural com exposições que narram a rica história de Caçapava do Sul e seus personagens ilustres.",imageUrl:"https://www.jornalfolhadacidade.com.br/img/noticias/casa-de-ulhoa-cintra-e-tema-de-audiencia-publica.jpg",points:10,lat:-30.515,lng:-53.4891},{id:"poi-6",name:"Igreja Matriz Nossa Sra. da Assunção",description:"Imponente igreja gótica no coração da cidade.",longDescription:"Com sua arquitetura gótica impressionante, a Igreja Matriz é um marco de fé e arte. Seus vitrais e detalhes arquitetônicos encantam visitantes e fiéis, sendo um dos cartões-postais da cidade.",imageUrl:"https://live.staticflickr.com/7120/7424597086_e5491104e7_b.jpg",points:10,lat:-30.5148,lng:-53.4899},{id:"poi-7",name:"Guaritas",description:"Formações rochosas que parecem sentinelas.",longDescription:"O Parque das Guaritas é um santuário geológico com formações de arenito que se assemelham a torres e guardiões. Um lugar de energia única, perfeito para trekking e observação de estrelas.",imageUrl:"https://www.cacapavadosul.rs.gov.br/arquivos/noticias/guaritas-uma-das-7-maravilhas-do-rs_16112022120026.jpeg",points:25,lat:-30.7397,lng:-53.4682},{id:"poi-8",name:"Churrascaria Rodeio",description:"O autêntico churrasco gaúcho.",longDescription:"Experimente o verdadeiro sabor do pampa na Churrascaria Rodeio. Com cortes de carne nobres e um buffet completo de pratos tradicionais, é uma parada obrigatória para os amantes da boa gastronomia.",imageUrl:"https://media-cdn.tripadvisor.com/media/photo-s/07/9e/29/46/churrascaria-rodeio.jpg",points:15,lat:-30.5201,lng:-53.4925},{id:"poi-9",name:"Doçaria Pelotense",description:"Doces tradicionais para adoçar a vida.",longDescription:"Uma vitrine repleta de delícias que representam a famosa tradição dos doces de Pelotas. Quindins, pastéis de nata e outras iguarias feitas com receitas de família.",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR611m9H1o0X2B-w5Zg9C1W7L9o_hB9bF3nQ&s",points:10,lat:-30.5135,lng:-53.487}],Ja=[{id:"route-1",name:"Belezas Naturais",description:"Explore paisagens de tirar o fôlego, de formações rochosas a cascatas refrescantes.",pointsOfInterest:["poi-1","poi-3","poi-7"],imageUrl:"https://www.aventurebox.com/wp-content/uploads/2021/10/trekking-nas-guaritas-3.jpg"},{id:"route-2",name:"Riqueza Histórica",description:"Viaje no tempo conhecendo os locais que marcaram a história da região.",pointsOfInterest:["poi-2","poi-4","poi-5","poi-6"],imageUrl:"https://i0.wp.com/serrasdonovosul.com/wp-content/uploads/2022/01/forte-dom-pedro-II.jpg?fit=800%2C533&ssl=1"},{id:"route-3",name:"Sabores da Terra",description:"Uma rota para os amantes da boa comida, do churrasco gaúcho aos doces tradicionais.",pointsOfInterest:["poi-8","poi-9"],imageUrl:"https://img.freepik.com/fotos-premium/churrasco-gaucho-tradicional-picanha-e-outras-carnes-na-grelha_801454-1595.jpg"}];var vy;const b_=new Set(((vy=Ja.find(t=>t.id==="route-1"))==null?void 0:vy.pointsOfInterest)||[]);var Cy;const N_=new Set(((Cy=Ja.find(t=>t.id==="route-2"))==null?void 0:Cy.pointsOfInterest)||[]);var _y;const I_=new Set(((_y=Ja.find(t=>t.id==="route-3"))==null?void 0:_y.pointsOfInterest)||[]),P_=[{id:"badge-1",name:"Explorador da Natureza",description:"Visitou todos os pontos da rota Belezas Naturais.",icon:"Mountain",criteria:t=>Array.from(b_).every(e=>t.has(e))},{id:"badge-2",name:"Historiador",description:"Visitou todos os pontos da rota Riqueza Histórica.",icon:"BookOpen",criteria:t=>Array.from(N_).every(e=>t.has(e))},{id:"badge-5",name:"Bom de Garfo",description:"Visitou todos os pontos da rota Sabores da Terra.",icon:"Utensils",criteria:t=>Array.from(I_).every(e=>t.has(e))},{id:"badge-3",name:"Pioneiro",description:"Realizou seu primeiro check-in.",icon:"Star",criteria:t=>t.size===1},{id:"badge-4",name:"Mestre Desbravador",description:"Visitou todos os pontos turísticos disponíveis.",icon:"Leaf",criteria:(t,e)=>e?t.size===e.size:!1}],A_=[{id:"user-1",name:"Ana Exploradora",email:"turista@email.com",password:"senha123",role:"tourist",avatarUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",points:55,visited:[{pointId:"poi-1",date:"2023-10-26T10:00:00Z"},{pointId:"poi-4",date:"2023-10-26T14:30:00Z"}],badges:["badge-3"],routeProgress:[]},{id:"user-4",name:"Carlos Viajante",email:"carlos@email.com",password:"senha123",role:"tourist",avatarUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",points:120,visited:[],badges:[],routeProgress:[]},{id:"user-5",name:"Mariana Aventureira",email:"mariana@email.com",password:"senha123",role:"tourist",avatarUrl:"https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",points:85,visited:[],badges:[],routeProgress:[]},{id:"user-6",name:"João Gaúcho",email:"joao@email.com",password:"senha123",role:"tourist",avatarUrl:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",points:20,visited:[],badges:[],routeProgress:[]},{id:"user-2",name:"Hotel Plaza",email:"hotel@email.com",password:"senha123",role:"hotel",avatarUrl:"https://picsum.photos/seed/hotel/200",points:0,visited:[],badges:[],routeProgress:[]},{id:"user-hotel-2",name:"Pousada Charme",email:"pousada@email.com",password:"senha123",role:"hotel",avatarUrl:"https://picsum.photos/seed/pousada/200",points:0,visited:[],badges:[],routeProgress:[]},{id:"user-3",name:"Admin da Cidade",email:"secretaria@email.com",password:"senha123",role:"secretaria",avatarUrl:"https://picsum.photos/seed/admin/200",points:0,visited:[],badges:[],routeProgress:[]}],R_=[{id:"checkin-1",hotelId:"user-2",touristName:"Carlos Viajante",phone:"55999999999",profession:"Engenheiro",nationality:"Brasileira",birthDate:"1990-05-15",gender:"Masculino",idDocument:"123456789",originCity:"Porto Alegre/RS",travelReason:"Turismo",transportMean:"Automóvel",discoveryChannel:"Indicação de amigos",poiOpinion:"Muito boa",cityOpinion:"Ótima",checkInDate:"2023-10-25T14:00:00Z",checkOutDate:"2023-10-28T11:00:00Z"},{id:"checkin-2",hotelId:"user-2",touristName:"Mariana Aventureira",phone:"21988888888",profession:"Designer",nationality:"Brasileira",birthDate:"1995-08-20",gender:"Feminino",idDocument:"987654321",originCity:"Rio de Janeiro/RJ",travelReason:"Férias",transportMean:"Ônibus",discoveryChannel:"Rede Social",poiOpinion:"Ótima",cityOpinion:"Ótima",checkInDate:"2023-10-20T16:00:00Z",checkOutDate:"2023-10-24T12:00:00Z"},{id:"checkin-3",hotelId:"user-hotel-2",touristName:"Ana Exploradora",phone:"11977777777",profession:"Jornalista",nationality:"Brasileira",birthDate:"1988-11-30",gender:"Feminino",idDocument:"555555555",originCity:"São Paulo/SP",travelReason:"Negócio",transportMean:"Outros",discoveryChannel:"Site",poiOpinion:"Ótima",cityOpinion:"Ótima",checkInDate:"2023-11-01T18:00:00Z",checkOutDate:"2023-11-05T10:00:00Z"}],D_=[{id:"challenge-1",title:"Maratona Fotográfica",description:"Tire uma foto em 3 pontos de interesse diferentes em um único dia.",points:50,type:"challenge"},{id:"challenge-2",title:"Festival de Inverno",description:"Participe do evento de abertura do Festival de Inverno na praça central.",points:30,type:"event",startDate:"2025-07-20T18:00:00Z",endDate:"2025-07-20T22:00:00Z"},{id:"challenge-3",title:"Caçador de Lendas",description:"Visite o Forte Dom Pedro II e a Pedra do Segredo para desvendar mistérios.",points:40,type:"challenge",relatedPoiIds:["poi-1","poi-4"]}],L_=[{id:"photo-1",userId:"user-1",userName:"Ana Exploradora",userAvatarUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",imageUrl:"https://www.aventurebox.com/wp-content/uploads/2021/10/trekking-nas-guaritas-3.jpg",caption:"Vista incrível da Pedra do Segredo! 🤩 #CaçapavaDoSul",poiId:"poi-1",timestamp:"2025-08-17T16:30:00Z",likes:["user-4","user-5"]},{id:"photo-2",userId:"user-4",userName:"Carlos Viajante",userAvatarUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",imageUrl:"https://i0.wp.com/serrasdonovosul.com/wp-content/uploads/2022/01/forte-dom-pedro-II.jpg?fit=800%2C533&ssl=1",caption:"Conhecendo um pouco da história do Brasil no Forte Dom Pedro II.",poiId:"poi-4",timestamp:"2025-08-16T11:00:00Z",likes:["user-1"]}],pi=(t,e)=>{try{const n=sessionStorage.getItem(t);if(n){const i=JSON.parse(n);return i!==null?i:e}return e}catch(n){return console.error(`Error reading from sessionStorage key "${t}":`,n),e}},mi=(t,e)=>{try{sessionStorage.setItem(t,JSON.stringify(e))}catch(n){console.error(`Error writing to sessionStorage key "${t}":`,n)}};class F_{constructor(){this.users=pi("db_users",A_),this.routes=pi("db_routes",Ja),this.pois=pi("db_pois",k_),this.badges=pi("db_badges",P_),this.checkIns=pi("db_checkins",R_),this.challenges=pi("db_challenges",D_),this.photos=pi("db_photos",L_)}save(){mi("db_users",this.users),mi("db_routes",this.routes),mi("db_pois",this.pois),mi("db_badges",this.badges),mi("db_checkins",this.checkIns),mi("db_challenges",this.challenges),mi("db_photos",this.photos)}}let K=new F_;const we=t=>new Promise(e=>setTimeout(e,t)),xe={async login(t,e){await we(300);const n=K.users.find(i=>i.email.toLowerCase()===t.toLowerCase());if(n&&n.password===e){const{password:i,...o}=n;return o}return null},async getUserById(t){await we(50);const e=K.users.find(n=>n.id===t);return e?{...e}:null},async getLeaderboard(){return await we(200),[...K.users].filter(t=>t.role==="tourist").sort((t,e)=>e.points-t.points)},async updateUser(t,e){await we(150);const n=K.users.findIndex(i=>i.id===t);return n>-1?(K.users[n]={...K.users[n],...e},K.save(),{...K.users[n]}):null},async getRoutes(){return await we(100),[...K.routes]},async getRouteById(t){await we(50);const e=K.routes.find(n=>n.id===t);return e?{...e}:null},async createRoute(t){await we(200);const e={id:`route-${Date.now()}`,...t};return K.routes.push(e),K.save(),e},async updateRoute(t,e){await we(200);const n=K.routes.findIndex(i=>i.id===t);return n>-1?(K.routes[n]={...K.routes[n],...e},K.save(),{...K.routes[n]}):null},async deleteRoute(t){return await we(300),K.routes=K.routes.filter(e=>e.id!==t),K.save(),!0},async getPointsOfInterest(){return await we(100),[...K.pois]},async getPointOfInterestById(t){await we(50);const e=K.pois.find(n=>n.id===t);return e?{...e}:null},async createPointOfInterest(t){await we(200);const e={id:`poi-${Date.now()}`,...t};return K.pois.push(e),K.save(),e},async updatePointOfInterest(t,e){await we(200);const n=K.pois.findIndex(i=>i.id===t);return n>-1?(K.pois[n]={...K.pois[n],...e},K.save(),{...K.pois[n]}):null},async deletePointOfInterest(t){return await we(300),K.pois=K.pois.filter(e=>e.id!==t),K.routes.forEach(e=>{e.pointsOfInterest=e.pointsOfInterest.filter(n=>n!==t)}),K.save(),!0},async checkIn(t,e){await we(500);const n=K.users.findIndex(p=>p.id===t),i=K.pois.find(p=>p.id===e);if(n===-1||!i)return{success:!1,message:"Usuário ou Ponto de Interesse não encontrado.",newBadges:[]};const o=K.users[n];if(o.visited.some(p=>p.pointId===e))return{success:!1,message:"Você já fez check-in neste local.",newBadges:[]};o.visited.push({pointId:e,date:new Date().toISOString()}),o.points+=i.points;const r=[],l=new Set(o.visited.map(p=>p.pointId)),d=new Set(K.pois.map(p=>p.id));K.badges.forEach(p=>{!o.badges.includes(p.id)&&p.criteria(l,d)&&(o.badges.push(p.id),r.push(p))}),K.save();let h=`Check-in realizado! Você ganhou ${i.points} pontos.`;return r.length>0&&(h+=` E ${r.length} nova(s) conquista(s)!`),{success:!0,message:h,newBadges:r}},async getBadgesForUser(t){await we(100);const e=K.users.find(n=>n.id===t);return e?K.badges.filter(n=>e.badges.includes(n.id)):[]},async getAllBadges(){return await we(50),[...K.badges]},async getChallenges(){return await we(100),[...K.challenges]},async createChallenge(t){await we(200);const e={id:`challenge-${Date.now()}`,...t};return K.challenges.push(e),K.save(),e},async updateChallenge(t,e){await we(200);const n=K.challenges.findIndex(i=>i.id===t);return n>-1?(K.challenges[n]={...K.challenges[n],...e},K.save(),{...K.challenges[n]}):null},async deleteChallenge(t){return await we(300),K.challenges=K.challenges.filter(e=>e.id!==t),K.save(),!0},async getPhotos(){return await we(150),[...K.photos].sort((t,e)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime())},async createPhoto(t){await we(300);const e=await this.getUserById(t.userId);if(!e)throw new Error("User not found");const n={id:`photo-${Date.now()}`,...t,userName:e.name,userAvatarUrl:e.avatarUrl,timestamp:new Date().toISOString(),likes:[]};return K.photos.push(n),await this.updateUser(t.userId,{points:e.points+15}),K.save(),n},async likePhoto(t,e){await we(100);const n=K.photos.findIndex(r=>r.id===t);if(n===-1)return null;const i=K.photos[n],o=await this.getUserById(i.userId);return o?i.userId===e||i.likes.includes(e)?i:(i.likes.push(e),await this.updateUser(i.userId,{points:o.points+2}),K.save(),{...i}):null},async getHotelDashboardData(t){await we(300);const e=K.checkIns.filter(l=>l.hotelId===t);if(e.length===0)return{totalGuests:0,satisfaction:{city:{},poi:{}},demographics:{byOrigin:{}},travelBehavior:{byReason:{}},recentCheckIns:[]};const n={city:{},poi:{}},i={byOrigin:{}},o={byReason:{}},r=(l,d)=>{l[d]=(l[d]||0)+1};return e.forEach(l=>{r(n.city,l.cityOpinion),r(n.poi,l.poiOpinion),r(i.byOrigin,l.originCity),r(o.byReason,l.travelReason)}),{totalGuests:e.length,satisfaction:n,demographics:i,travelBehavior:o,recentCheckIns:e.slice(0,5).sort((l,d)=>new Date(d.checkInDate).getTime()-new Date(l.checkInDate).getTime())}},async getAllHotelsAnalytics(){return await we(400),{summary:K.users.filter(n=>n.role==="hotel").map(n=>{const i=K.checkIns.filter(h=>h.hotelId===n.id),o=i.length,r={Péssimo:1,Ruim:2,Boa:3,"Muito boa":4,Ótima:5},l=i.reduce((h,p)=>h+(r[p.cityOpinion]||3),0),d=o>0?(l/o).toFixed(1):"N/A";return{hotelId:n.id,hotelName:n.name,totalGuests:o,avgRating:d}}),allCheckIns:[...K.checkIns]}},async getHotelCheckIns(t){return await we(150),K.checkIns.filter(e=>e.hotelId===t)},async createHotelCheckIn(t,e){await we(300);const n={id:`checkin-${Date.now()}`,hotelId:t,...e};return K.checkIns.push(n),K.save(),n},async getAdminStats(){var r;await we(200);const t=K.users.reduce((l,d)=>l+d.visited.length,0),e={};K.users.forEach(l=>{l.visited.forEach(d=>{e[d.pointId]=(e[d.pointId]||0)+1})});const n=Object.entries(e).sort((l,d)=>d[1]-l[1])[0],i=n?n[0]:null,o=i?(r=K.pois.find(l=>l.id===i))==null?void 0:r.name:"Nenhum";return{totalTourists:K.users.filter(l=>l.role==="tourist").length,totalRoutes:K.routes.length,totalCheckIns:t,mostVisitedPoi:o}},async getAnalyticsSummary(){if(await we(150),K.checkIns.length===0)return{totalVisitors:0,avgCityRating:"N/A",mostPopularRoute:"N/A"};const t=new Set(K.checkIns.map(l=>l.touristName)).size,e={Péssimo:1,Ruim:2,Boa:3,"Muito boa":4,Ótima:5},i=(K.checkIns.reduce((l,d)=>l+(e[d.cityOpinion]||3),0)/K.checkIns.length).toFixed(1),r=Object.entries({"Belezas Naturais":1,"Riqueza Histórica":0,"Sabores da Terra":0}).sort((l,d)=>d[1]-l[1])[0][0]||"N/A";return{totalVisitors:t,avgCityRating:i,mostPopularRoute:r}},async getAnalyticsData(){await we(400);const t={demographics:{byGender:{},ageRanges:{},byNationality:{}},travelBehavior:{byReason:{},byTransport:{},byDiscovery:{}},satisfaction:{poi:{},city:{}},routeAnalytics:{completionsByRoute:{"Belezas Naturais":1,"Riqueza Histórica":0,"Sabores da Terra":0},mostPopularRoute:"Belezas Naturais"}},e=(n,i)=>{n[i]=(n[i]||0)+1};return K.checkIns.forEach(n=>{e(t.demographics.byGender,n.gender),e(t.demographics.byNationality,n.nationality);const i=new Date().getFullYear()-new Date(n.birthDate).getFullYear();i<20?e(t.demographics.ageRanges,"0-19"):i<30?e(t.demographics.ageRanges,"20-29"):i<40?e(t.demographics.ageRanges,"30-39"):i<50?e(t.demographics.ageRanges,"40-49"):e(t.demographics.ageRanges,"50+"),e(t.travelBehavior.byReason,n.travelReason),e(t.travelBehavior.byTransport,n.transportMean),e(t.travelBehavior.byDiscovery,n.discoveryChannel),e(t.satisfaction.poi,n.poiOpinion),e(t.satisfaction.city,n.cityOpinion)}),t},async getFullAdminDashboardData(){await we(450);const t=await this.getAdminStats(),e=await this.getAnalyticsData(),n={totalInteractions:1245,commonQuestions:[{question:"Horários da Cascata",count:230},{question:"Onde comer?",count:180},{question:"Roteiro de 1 dia",count:150}],satisfaction:"92%"},i=K.checkIns.length;return{...t,analytics:e,totalHotelCheckIns:i,botUsage:n}},async getAllTouristsData(){await we(200);const t=K.users.filter(n=>n.role==="tourist"),e=K.checkIns.reduce((n,i)=>(n[i.touristName.toLowerCase()]=i,n),{});return t.map(n=>{const i=e[n.name.toLowerCase()];return{id:n.id,name:n.name,email:n.email,points:n.points,phone:i?i.phone:"N/A"}})}},Dy=b.createContext(void 0),U_=({children:t})=>{const[e,n]=b.useState(null);b.useEffect(()=>{try{const l=sessionStorage.getItem("user");l&&n(JSON.parse(l))}catch(l){console.error("Failed to parse user from sessionStorage",l),n(null)}},[]);const i=async(l,d)=>{try{const h=await xe.login(l,d);return h?(sessionStorage.setItem("user",JSON.stringify(h)),n(h),{success:!0,role:h.role}):{success:!1}}catch(h){return console.error("AuthContext: Erro durante o login:",h),{success:!1}}},o=()=>{sessionStorage.removeItem("user"),n(null)},r=b.useMemo(()=>({user:e,isAuthenticated:!!e,login:i,logout:o}),[e]);return g.jsx(Dy.Provider,{value:r,children:t})},ln=()=>{const t=b.useContext(Dy);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Ly=b.createContext(void 0),V_=({children:t})=>{const{user:e}=ln(),[n,i]=b.useState(null);b.useEffect(()=>{(e==null?void 0:e.role)==="tourist"&&xe.getUserById(e.id).then(h=>{h&&i(h)})},[e]);const o=b.useCallback(()=>new Set((n==null?void 0:n.visited.map(h=>h.pointId))||[]),[n]),r=b.useCallback(async h=>{if(!n)return{success:!1,message:"Usuário não encontrado.",newBadges:[]};const p=await xe.checkIn(n.id,h);if(p.success){const y=await xe.getUserById(n.id);y&&i(y)}return p},[n]),l=b.useCallback(async(h,p)=>{if(!n)return null;const y=await xe.updateUser(n.id,{name:h,avatarUrl:p});return y&&i(y),y},[n]),d=b.useMemo(()=>({currentUser:n,checkIn:r,getVisitedIds:o,updateUserProfile:l}),[n,r,o,l]);return g.jsx(Ly.Provider,{value:d,children:t})},qs=()=>{const t=b.useContext(Ly);if(t===void 0)throw new Error("useGamification must be used within a GamificationProvider");return t},oc=({children:t,roles:e})=>{const{user:n,isAuthenticated:i}=ln(),o=an();if(!i||!n)return g.jsx(xs,{to:"/login",state:{from:o},replace:!0});if(!e.includes(n.role))switch(n.role){case"tourist":return g.jsx(xs,{to:"/",replace:!0});case"secretaria":return g.jsx(xs,{to:"/admin",replace:!0});case"hotel":return g.jsx(xs,{to:"/hotel",replace:!0});default:return g.jsx(xs,{to:"/login",replace:!0})}return g.jsx(g.Fragment,{children:t})},Gs=t=>g.jsx("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:g.jsx("path",{d:"M51.8743 14.8393L53.9161 11.25L59.7348 13.985L64.2123 10L68.3228 15.0185L70.9304 20.2161L75.4078 26.2917L72.2344 31.8477L73.9602 38.8188L71.3526 44.9965L73.9602 51.5326L69.2139 55.3379L70.9304 60.5355L66.5511 67.5066L61.8048 72.8833L54.673 80.2128L50.9975 88.75L45.5458 84.7656L39.3601 88.3916L32.2283 83.0149L29.6207 77.2798L25.1432 74.5447L26.502 68.367L24.4602 60.9939L29.2065 56.4424L26.869 49.7547L30.3776 43.2186L28.2588 34.6729L33.7104 29.3998L39.7271 31.1305L44.8285 24.5944L47.4361 19.3968L51.8743 14.8393Z",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})}),B_=()=>{var T,w;const[t,e]=b.useState(""),[n,i]=b.useState(""),[o,r]=b.useState(""),[l,d]=b.useState(!1),{login:h}=ln(),p=Zn(),x=((w=(T=an().state)==null?void 0:T.from)==null?void 0:w.pathname)||"/",C=async E=>{E.preventDefault(),r(""),d(!0);const M=await h(t,n);if(d(!1),M.success)switch(M.role){case"tourist":p(x==="/login"||x.startsWith("/admin")||x.startsWith("/hotel")?"/":x,{replace:!0});break;case"secretaria":p("/admin");break;case"hotel":p("/hotel");break;default:p("/")}else r("Email ou senha inválidos. Por favor, tente novamente.")};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-brand-dark-green p-4",children:g.jsxs("div",{className:"w-full max-w-md",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"inline-block w-24 h-24 text-brand-light-green",children:g.jsx(Gs,{})}),g.jsxs("div",{className:"text-brand-beige",children:[g.jsx("div",{className:"font-display tracking-wider text-3xl leading-none",children:"VISITE"}),g.jsx("div",{className:"font-black text-4xl leading-none -mt-1",children:"CAÇAPAVA"}),g.jsx("div",{className:"font-semibold text-xl leading-none",children:"DO SUL"})]})]}),g.jsxs("div",{className:"bg-brand-beige p-8 rounded-2xl shadow-2xl",children:[g.jsx("h2",{className:"text-2xl font-bold text-center text-brand-dark-green mb-6",children:"Login"}),g.jsxs("form",{onSubmit:C,className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),g.jsx("input",{id:"email",type:"email",autoComplete:"email",value:t,onChange:E=>e(E.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-green focus:border-brand-green sm:text-sm"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),g.jsx("input",{id:"password",type:"password",autoComplete:"current-password",value:n,onChange:E=>i(E.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-green focus:border-brand-green sm:text-sm"})]}),o&&g.jsx("p",{className:"text-brand-red text-sm",children:o}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-brand-green hover:bg-brand-dark-green focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-light-green disabled:bg-gray-400",children:l?"Entrando...":"Entrar"})})]}),g.jsxs("div",{className:"mt-6 p-4 bg-green-50 border-l-4 border-brand-green rounded-r-lg text-sm",children:[g.jsx("p",{className:"font-bold",children:"Para demonstração, use:"}),g.jsxs("ul",{className:"list-disc list-inside mt-1 text-gray-700",children:[g.jsxs("li",{children:[g.jsx("strong",{className:"font-semibold",children:"Turista:"})," turista@email.com"]}),g.jsxs("li",{children:[g.jsx("strong",{className:"font-semibold",children:"Hotel:"})," hotel@email.com"]}),g.jsxs("li",{children:[g.jsx("strong",{className:"font-semibold",children:"Admin:"})," secretaria@email.com"]})]}),g.jsxs("p",{className:"mt-2",children:["A senha para todos é: ",g.jsx("strong",{className:"font-semibold",children:"senha123"})]})]})]})]})})};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H_=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Vp=t=>{const e=H_(t);return e.charAt(0).toUpperCase()+e.slice(1)},Fy=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),z_=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:r,iconNode:l,...d},h)=>b.createElement("svg",{ref:h,...$_,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Fy("lucide",o),...!r&&!z_(d)&&{"aria-hidden":"true"},...d},[...l.map(([p,y])=>b.createElement(p,y)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(t,e)=>{const n=b.forwardRef(({className:i,...o},r)=>b.createElement(q_,{ref:r,iconNode:e,className:Fy(`lucide-${O_(Vp(t))}`,`lucide-${t}`,i),...o}));return n.displayName=Vp(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Mi=he("award",G_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],W_=he("bed-double",j_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Uy=he("book-open",J_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Ya=he("bot",Y_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wc=he("calendar",K_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M10 5V3",key:"1y54qe"}],["path",{d:"M14 5V3",key:"m6isi"}],["path",{d:"M15 21v-3a3 3 0 0 0-6 0v3",key:"lbp5hj"}],["path",{d:"M18 3v8",key:"2ollhf"}],["path",{d:"M18 5H6",key:"98imr9"}],["path",{d:"M22 11H2",key:"1lmjae"}],["path",{d:"M22 9v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9",key:"1rly83"}],["path",{d:"M6 3v8",key:"csox7g"}]],Q_=he("castle",X_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Vy=he("chart-no-axes-column",Z_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],tT=he("chevrons-right",eT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ec=he("circle-check-big",nT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oT=he("compass",iT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],rT=he("crown",sT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],lT=he("feather",aT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],cT=he("flag",uT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Mc=he("heart",dT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],By=he("hotel",fT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],pT=he("house",hT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],gT=he("info",mT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xT=he("layout-dashboard",yT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],CT=he("leaf",vT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],TT=he("loader",_T);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Oy=he("log-out",ST);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ET=he("mail",wT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ei=he("map-pin",MT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],bT=he("medal",kT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],IT=he("menu",NT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Hy=he("message-square",PT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],zy=he("mountain",AT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],DT=he("phone",RT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],FT=he("plane",LT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xc=he("plus",UT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],BT=he("rotate-ccw",VT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],$y=he("route",OT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Qc=he("send",HT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],qy=he("sparkles",zT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ka=he("square-pen",$T);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],js=he("star",qT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],jT=he("sun",GT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zc=he("trash-2",WT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],YT=he("trees",JT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],XT=he("triangle-alert",KT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ed=he("trophy",QT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],eS=he("user-plus",ZT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nS=he("user",tS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Si=he("users",iS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],sS=he("utensils",oS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xa=he("x",rS);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aS,lS;function uS(){return{geminiUrl:aS,vertexUrl:lS}}function cS(t,e,n,i){var o,r;if(!(t!=null&&t.baseUrl)){const l=uS();return e?(o=l.vertexUrl)!==null&&o!==void 0?o:n:(r=l.geminiUrl)!==null&&r!==void 0?r:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pi{}function re(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const r=e[o];return r!=null?String(r):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function c(t,e,n){for(let r=0;r<e.length-1;r++){const l=e[r];if(l.endsWith("[]")){const d=l.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[d])){const h=t[d];if(Array.isArray(n))for(let p=0;p<h.length;p++){const y=h[p];c(y,e.slice(r+1),n[p])}else for(const p of h)c(p,e.slice(r+1),n)}return}else if(l.endsWith("[0]")){const d=l.slice(0,-3);d in t||(t[d]=[{}]);const h=t[d];c(h[0],e.slice(r+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function u(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const r=t[o];return Array.isArray(r)?r.map(l=>u(l,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bp;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Bp||(Bp={}));var Op;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Op||(Op={}));var jn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(jn||(jn={}));var Hp;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Hp||(Hp={}));var zp;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(zp||(zp={}));var $p;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})($p||($p={}));var qp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qp||(qp={}));var Gp;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Gp||(Gp={}));var jp;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(jp||(jp={}));var Wp;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Wp||(Wp={}));var Jp;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Jp||(Jp={}));var Yp;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Yp||(Yp={}));var Kp;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Kp||(Kp={}));var Xp;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Xp||(Xp={}));var Qp;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Qp||(Qp={}));var Aa;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Aa||(Aa={}));var Zp;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Zp||(Zp={}));var bc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(bc||(bc={}));var em;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(em||(em={}));var tm;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(tm||(tm={}));var nm;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(nm||(nm={}));var im;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(im||(im={}));var om;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(om||(om={}));var sm;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sm||(sm={}));var rm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(rm||(rm={}));var am;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(am||(am={}));var lm;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(lm||(lm={}));var um;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(um||(um={}));var cm;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(cm||(cm={}));var dm;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(dm||(dm={}));var fm;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(fm||(fm={}));var hm;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(hm||(hm={}));var pm;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(pm||(pm={}));var mm;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(mm||(mm={}));var gm;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(gm||(gm={}));var ym;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(ym||(ym={}));var xm;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(xm||(xm={}));var vm;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vm||(vm={}));var Cm;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Cm||(Cm={}));var _m;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_m||(_m={}));var Tm;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Tm||(Tm={}));var Sm;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Sm||(Sm={}));var wm;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(wm||(wm={}));var co;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(co||(co={}));class Nc{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class vs{get text(){var e,n,i,o,r,l,d,h;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",y=!1;const x=[];for(const C of(h=(d=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[T,w]of Object.entries(C))T!=="text"&&T!=="thought"&&(w!==null||w!==void 0)&&x.push(T);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;y=!0,p+=C.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?p:void 0}get data(){var e,n,i,o,r,l,d,h;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const y=[];for(const x of(h=(d=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[C,T]of Object.entries(x))C!=="inlineData"&&(T!==null||T!==void 0)&&y.push(C);x.inlineData&&typeof x.inlineData.data=="string"&&(p+=atob(x.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,n,i,o,r,l,d,h;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(h=(d=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,n,i,o,r,l,d,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(h=(d=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((y==null?void 0:y.length)!==0)return(p=y==null?void 0:y[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,n,i,o,r,l,d,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(h=(d=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((y==null?void 0:y.length)!==0)return(p=y==null?void 0:y[0])===null||p===void 0?void 0:p.output}}class Em{}class Mm{}class dS{}class fS{}class hS{}class km{}class bm{}class Nm{}class pS{}class Im{}class Pm{}class Am{}class Rm{}class mS{}class gS{}class yS{}class Dm{}class xS{get text(){var e,n,i;let o="",r=!1;const l=[];for(const d of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(d))h!=="text"&&h!=="thought"&&p!==null&&l.push(h);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;r=!0,o+=d.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?o:void 0}get data(){var e,n,i;let o="";const r=[];for(const l of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[d,h]of Object.entries(l))d!=="inlineData"&&h!==null&&r.push(d);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class Ra{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const i=new Ra;if(i.name=e.name,i.metadata=e.metadata,i.done=e.done,i.error=e.error,n){const o=e.response;if(o){const r=new Im,l=o.videos;r.generatedVideos=l==null?void 0:l.map(d=>({video:{uri:d.gcsUri,videoBytes:d.bytesBase64Encoded?kc(d.bytesBase64Encoded):void 0,mimeType:d.mimeType}})),r.raiMediaFilteredCount=o.raiMediaFilteredCount,r.raiMediaFilteredReasons=o.raiMediaFilteredReasons,i.response=r}}else{const o=e.response;if(o){const r=new Im,l=o.generateVideoResponse,d=l==null?void 0:l.generatedSamples;r.generatedVideos=d==null?void 0:d.map(h=>{const p=h.video;return{video:{uri:p==null?void 0:p.uri,videoBytes:p!=null&&p.encodedVideo?kc(p==null?void 0:p.encodedVideo):void 0,mimeType:h.encoding}}}),r.raiMediaFilteredCount=l==null?void 0:l.raiMediaFilteredCount,r.raiMediaFilteredReasons=l==null?void 0:l.raiMediaFilteredReasons,i.response=r}}return i}}class vS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function be(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Gy(t,e){const n=be(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function jy(t){return Array.isArray(t)?t.map(e=>Da(e)):[Da(t)]}function Da(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Wy(t){const e=Da(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Jy(t){const e=Da(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Lm(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Yy(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Lm(e)):[Lm(t)]}function Ic(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Fm(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Um(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function pt(t){if(t==null)throw new Error("ContentUnion is required");return Ic(t)?t:{role:"user",parts:Yy(t)}}function Ky(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=pt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=pt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>pt(n)):[pt(e)]}function Ht(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Fm(t)||Um(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pt(t)]}const e=[],n=[],i=Ic(t[0]);for(const o of t){const r=Ic(o);if(r!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)e.push(o);else{if(Fm(o)||Um(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:Yy(n)}),e}function CS(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(jn).includes(n[0].toUpperCase())?n[0].toUpperCase():jn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(jn).includes(i.toUpperCase())?i.toUpperCase():jn.TYPE_UNSPECIFIED})}}function po(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=t.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,t=r[1]):r[1].type==="null"&&(e.nullable=!0,t=r[0])),t.type instanceof Array&&CS(t.type,e);for(const[l,d]of Object.entries(t))if(d!=null)if(l=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(jn).includes(d.toUpperCase())?d.toUpperCase():jn.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=po(d);else if(i.includes(l)){const h=[];for(const p of d){if(p.type=="null"){e.nullable=!0;continue}h.push(po(p))}e[l]=h}else if(o.includes(l)){const h={};for(const[p,y]of Object.entries(d))h[p]=po(y);e[l]=h}else{if(l==="additionalProperties")continue;e[l]=d}return e}function td(t){return po(t)}function nd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function id(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function wo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=po(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=po(e.response));return t}function Eo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function _S(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function wn(t,e){if(typeof e!="string")throw new Error("name must be a string");return _S(t,e,"cachedContents")}function Xy(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ai(t){return kc(t)}function TS(t){return t!=null&&typeof t=="object"&&"name"in t}function SS(t){return t!=null&&typeof t=="object"&&"video"in t}function wS(t){return t!=null&&typeof t=="object"&&"uri"in t}function Qy(t){var e;let n;if(TS(t)&&(n=t.name),!(wS(t)&&(n=t.uri,n===void 0))&&!(SS(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Zy(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function ex(t){for(const e of["models","tunedModels","publisherModels"])if(ES(t,e))return t[e];return[]}function ES(t,e){return t!==null&&typeof t=="object"&&e in t}function MS(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function kS(t,e={}){const n=[],i=new Set;for(const o of t){const r=o.name;if(i.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);i.add(r);const l=MS(o,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function tx(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function bS(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Mo(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function nx(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NS(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function IS(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function PS(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function AS(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],NS(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],IS(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],PS(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&c(e,["text"],x),e}function ix(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>AS(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function RS(t){const e={},n=u(t,["anyOf"]);n!=null&&c(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&c(e,["default"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["enum"]);r!=null&&c(e,["enum"],r);const l=u(t,["example"]);l!=null&&c(e,["example"],l);const d=u(t,["format"]);d!=null&&c(e,["format"],d);const h=u(t,["items"]);h!=null&&c(e,["items"],h);const p=u(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const y=u(t,["maxLength"]);y!=null&&c(e,["maxLength"],y);const x=u(t,["maxProperties"]);x!=null&&c(e,["maxProperties"],x);const C=u(t,["maximum"]);C!=null&&c(e,["maximum"],C);const T=u(t,["minItems"]);T!=null&&c(e,["minItems"],T);const w=u(t,["minLength"]);w!=null&&c(e,["minLength"],w);const E=u(t,["minProperties"]);E!=null&&c(e,["minProperties"],E);const M=u(t,["minimum"]);M!=null&&c(e,["minimum"],M);const N=u(t,["nullable"]);N!=null&&c(e,["nullable"],N);const P=u(t,["pattern"]);P!=null&&c(e,["pattern"],P);const R=u(t,["properties"]);R!=null&&c(e,["properties"],R);const D=u(t,["propertyOrdering"]);D!=null&&c(e,["propertyOrdering"],D);const L=u(t,["required"]);L!=null&&c(e,["required"],L);const O=u(t,["title"]);O!=null&&c(e,["title"],O);const z=u(t,["type"]);return z!=null&&c(e,["type"],z),e}function DS(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&c(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&c(e,["threshold"],i),e}function LS(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&c(e,["parametersJsonSchema"],l);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function FS(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function US(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],FS(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function VS(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function BS(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],VS(n)),e}function OS(){return{}}function HS(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function zS(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>LS(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],US(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],BS(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],OS());const l=u(t,["computerUse"]);l!=null&&c(e,["computerUse"],HS(l));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function $S(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function qS(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function GS(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],qS(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function jS(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],$S(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],GS(i)),e}function WS(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function ox(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],WS(n)),e}function JS(t){const e={},n=u(t,["speaker"]);n!=null&&c(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&c(e,["voiceConfig"],ox(i)),e}function YS(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>JS(o))),c(e,["speakerVoiceConfigs"],i)}return e}function KS(t){const e={},n=u(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],ox(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&c(e,["multiSpeakerVoiceConfig"],YS(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function XS(t){const e={},n=u(t,["includeThoughts"]);n!=null&&c(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&c(e,["thinkingBudget"],i),e}function QS(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&c(n,["systemInstruction"],ix(pt(o)));const r=u(e,["temperature"]);r!=null&&c(i,["temperature"],r);const l=u(e,["topP"]);l!=null&&c(i,["topP"],l);const d=u(e,["topK"]);d!=null&&c(i,["topK"],d);const h=u(e,["candidateCount"]);h!=null&&c(i,["candidateCount"],h);const p=u(e,["maxOutputTokens"]);p!=null&&c(i,["maxOutputTokens"],p);const y=u(e,["stopSequences"]);y!=null&&c(i,["stopSequences"],y);const x=u(e,["responseLogprobs"]);x!=null&&c(i,["responseLogprobs"],x);const C=u(e,["logprobs"]);C!=null&&c(i,["logprobs"],C);const T=u(e,["presencePenalty"]);T!=null&&c(i,["presencePenalty"],T);const w=u(e,["frequencyPenalty"]);w!=null&&c(i,["frequencyPenalty"],w);const E=u(e,["seed"]);E!=null&&c(i,["seed"],E);const M=u(e,["responseMimeType"]);M!=null&&c(i,["responseMimeType"],M);const N=u(e,["responseSchema"]);N!=null&&c(i,["responseSchema"],RS(td(N)));const P=u(e,["responseJsonSchema"]);if(P!=null&&c(i,["responseJsonSchema"],P),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=u(e,["safetySettings"]);if(n!==void 0&&R!=null){let X=R;Array.isArray(X)&&(X=X.map(ae=>DS(ae))),c(n,["safetySettings"],X)}const D=u(e,["tools"]);if(n!==void 0&&D!=null){let X=Eo(D);Array.isArray(X)&&(X=X.map(ae=>zS(wo(ae)))),c(n,["tools"],X)}const L=u(e,["toolConfig"]);if(n!==void 0&&L!=null&&c(n,["toolConfig"],jS(L)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=u(e,["cachedContent"]);n!==void 0&&O!=null&&c(n,["cachedContent"],wn(t,O));const z=u(e,["responseModalities"]);z!=null&&c(i,["responseModalities"],z);const J=u(e,["mediaResolution"]);J!=null&&c(i,["mediaResolution"],J);const j=u(e,["speechConfig"]);if(j!=null&&c(i,["speechConfig"],KS(nd(j))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=u(e,["thinkingConfig"]);return Q!=null&&c(i,["thinkingConfig"],XS(Q)),i}function ZS(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["request","model"],be(t,i));const o=u(e,["contents"]);if(o!=null){let l=Ht(o);Array.isArray(l)&&(l=l.map(d=>ix(d))),c(n,["request","contents"],l)}const r=u(e,["config"]);return r!=null&&c(n,["request","generationConfig"],QS(t,r,n)),n}function ew(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=u(e,["fileName"]);i!=null&&c(n,["fileName"],i);const o=u(e,["inlinedRequests"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>ZS(t,l))),c(n,["requests","requests"],r)}return n}function tw(t,e){const n={},i=u(t,["displayName"]);if(e!==void 0&&i!=null&&c(e,["batch","displayName"],i),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function nw(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["src"]);o!=null&&c(n,["batch","inputConfig"],ew(t,tx(t,o)));const r=u(e,["config"]);return r!=null&&c(n,["config"],tw(r,n)),n}function iw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Mo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function ow(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Mo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function sw(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);if(e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function rw(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],sw(n,e)),e}function aw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Mo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function lw(t){const e={},n=u(t,["format"]);n!=null&&c(e,["instancesFormat"],n);const i=u(t,["gcsUri"]);i!=null&&c(e,["gcsSource","uris"],i);const o=u(t,["bigqueryUri"]);if(o!=null&&c(e,["bigquerySource","inputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function uw(t){const e={},n=u(t,["format"]);n!=null&&c(e,["predictionsFormat"],n);const i=u(t,["gcsUri"]);i!=null&&c(e,["gcsDestination","outputUriPrefix"],i);const o=u(t,["bigqueryUri"]);if(o!=null&&c(e,["bigqueryDestination","outputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function cw(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);const o=u(t,["dest"]);return e!==void 0&&o!=null&&c(e,["outputConfig"],uw(bS(o))),n}function dw(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["model"],be(t,i));const o=u(e,["src"]);o!=null&&c(n,["inputConfig"],lw(tx(t,o)));const r=u(e,["config"]);return r!=null&&c(n,["config"],cw(r,n)),n}function fw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Mo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function hw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Mo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function pw(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&c(e,["_query","pageToken"],o);const r=u(t,["filter"]);return e!==void 0&&r!=null&&c(e,["_query","filter"],r),n}function mw(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],pw(n,e)),e}function gw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Mo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function yw(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function xw(t){const e={},n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function vw(t){const e={},n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Cw(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],yw(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],xw(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],vw(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&c(e,["text"],x),e}function _w(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Cw(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function Tw(t){const e={},n=u(t,["citationSources"]);return n!=null&&c(e,["citations"],n),e}function Sw(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&c(e,["urlRetrievalStatus"],i),e}function ww(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Sw(o))),c(e,["urlMetadata"],i)}return e}function Ew(t){const e={},n=u(t,["content"]);n!=null&&c(e,["content"],_w(n));const i=u(t,["citationMetadata"]);i!=null&&c(e,["citationMetadata"],Tw(i));const o=u(t,["tokenCount"]);o!=null&&c(e,["tokenCount"],o);const r=u(t,["finishReason"]);r!=null&&c(e,["finishReason"],r);const l=u(t,["urlContextMetadata"]);l!=null&&c(e,["urlContextMetadata"],ww(l));const d=u(t,["avgLogprobs"]);d!=null&&c(e,["avgLogprobs"],d);const h=u(t,["groundingMetadata"]);h!=null&&c(e,["groundingMetadata"],h);const p=u(t,["index"]);p!=null&&c(e,["index"],p);const y=u(t,["logprobsResult"]);y!=null&&c(e,["logprobsResult"],y);const x=u(t,["safetyRatings"]);return x!=null&&c(e,["safetyRatings"],x),e}function Mw(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>Ew(p))),c(e,["candidates"],h)}const o=u(t,["modelVersion"]);o!=null&&c(e,["modelVersion"],o);const r=u(t,["promptFeedback"]);r!=null&&c(e,["promptFeedback"],r);const l=u(t,["responseId"]);l!=null&&c(e,["responseId"],l);const d=u(t,["usageMetadata"]);return d!=null&&c(e,["usageMetadata"],d),e}function sx(t){const e={},n=u(t,["details"]);n!=null&&c(e,["details"],n);const i=u(t,["code"]);i!=null&&c(e,["code"],i);const o=u(t,["message"]);return o!=null&&c(e,["message"],o),e}function kw(t){const e={},n=u(t,["response"]);n!=null&&c(e,["response"],Mw(n));const i=u(t,["error"]);return i!=null&&c(e,["error"],sx(i)),e}function bw(t){const e={},n=u(t,["responsesFile"]);n!=null&&c(e,["fileName"],n);const i=u(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>kw(r))),c(e,["inlinedResponses"],o)}return e}function Pc(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["metadata","displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["metadata","state"]);o!=null&&c(e,["state"],nx(o));const r=u(t,["metadata","createTime"]);r!=null&&c(e,["createTime"],r);const l=u(t,["metadata","endTime"]);l!=null&&c(e,["endTime"],l);const d=u(t,["metadata","updateTime"]);d!=null&&c(e,["updateTime"],d);const h=u(t,["metadata","model"]);h!=null&&c(e,["model"],h);const p=u(t,["metadata","output"]);return p!=null&&c(e,["dest"],bw(p)),e}function Nw(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["operations"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Pc(l))),c(e,["batchJobs"],r)}return e}function Iw(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["done"]);o!=null&&c(e,["done"],o);const r=u(t,["error"]);return r!=null&&c(e,["error"],sx(r)),e}function rx(t){const e={},n=u(t,["details"]);n!=null&&c(e,["details"],n);const i=u(t,["code"]);i!=null&&c(e,["code"],i);const o=u(t,["message"]);return o!=null&&c(e,["message"],o),e}function Pw(t){const e={},n=u(t,["instancesFormat"]);n!=null&&c(e,["format"],n);const i=u(t,["gcsSource","uris"]);i!=null&&c(e,["gcsUri"],i);const o=u(t,["bigquerySource","inputUri"]);return o!=null&&c(e,["bigqueryUri"],o),e}function Aw(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&c(e,["format"],n);const i=u(t,["gcsDestination","outputUriPrefix"]);i!=null&&c(e,["gcsUri"],i);const o=u(t,["bigqueryDestination","outputUri"]);return o!=null&&c(e,["bigqueryUri"],o),e}function Ac(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["state"]);o!=null&&c(e,["state"],nx(o));const r=u(t,["error"]);r!=null&&c(e,["error"],rx(r));const l=u(t,["createTime"]);l!=null&&c(e,["createTime"],l);const d=u(t,["startTime"]);d!=null&&c(e,["startTime"],d);const h=u(t,["endTime"]);h!=null&&c(e,["endTime"],h);const p=u(t,["updateTime"]);p!=null&&c(e,["updateTime"],p);const y=u(t,["model"]);y!=null&&c(e,["model"],y);const x=u(t,["inputConfig"]);x!=null&&c(e,["src"],Pw(x));const C=u(t,["outputConfig"]);return C!=null&&c(e,["dest"],Aw(C)),e}function Rw(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["batchPredictionJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Ac(l))),c(e,["batchJobs"],r)}return e}function Dw(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["done"]);o!=null&&c(e,["done"],o);const r=u(t,["error"]);return r!=null&&c(e,["error"],rx(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ki;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ki||(ki={}));class Ws{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,r;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!i||Object.keys(i).length===0?l={config:{}}:typeof i=="object"?l=Object.assign({},i):l=i,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(r=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lw extends Pi{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const o=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${o}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Ws(ki.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=dw(this.apiClient,e);return d=re("batchPredictionJobs",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>Ac(y))}else{const p=nw(this.apiClient,e);return d=re("{model}:batchGenerateContent",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>Pc(y))}}async get(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=fw(this.apiClient,e);return d=re("batchPredictionJobs/{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>Ac(y))}else{const p=iw(this.apiClient,e);return d=re("batches/{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>Pc(y))}}async cancel(e){var n,i,o,r;let l="",d={};if(this.apiClient.isVertexAI()){const h=hw(this.apiClient,e);l=re("batchPredictionJobs/{name}:cancel",h._url),d=h._query,delete h.config,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const h=ow(this.apiClient,e);l=re("batches/{name}:cancel",h._url),d=h._query,delete h.config,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=mw(e);return d=re("batchPredictionJobs",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=Rw(y),C=new Dm;return Object.assign(C,x),C})}else{const p=rw(e);return d=re("batches",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=Nw(y),C=new Dm;return Object.assign(C,x),C})}}async delete(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=gw(this.apiClient,e);return d=re("batchPredictionJobs/{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>Dw(y))}else{const p=aw(this.apiClient,e);return d=re("batches/{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>Iw(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fw(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function Uw(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Vw(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Bw(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],Fw(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],Uw(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],Vw(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&c(e,["text"],x),e}function Vm(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Bw(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function Ow(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&c(e,["parametersJsonSchema"],l);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function Hw(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function zw(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],Hw(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function $w(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function qw(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],$w(n)),e}function Gw(){return{}}function jw(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function Ww(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Ow(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],zw(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],qw(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],Gw());const l=u(t,["computerUse"]);l!=null&&c(e,["computerUse"],jw(l));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function Jw(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function Yw(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function Kw(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],Yw(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function Xw(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],Jw(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],Kw(i)),e}function Qw(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&c(e,["expireTime"],o);const r=u(t,["displayName"]);e!==void 0&&r!=null&&c(e,["displayName"],r);const l=u(t,["contents"]);if(e!==void 0&&l!=null){let y=Ht(l);Array.isArray(y)&&(y=y.map(x=>Vm(x))),c(e,["contents"],y)}const d=u(t,["systemInstruction"]);e!==void 0&&d!=null&&c(e,["systemInstruction"],Vm(pt(d)));const h=u(t,["tools"]);if(e!==void 0&&h!=null){let y=h;Array.isArray(y)&&(y=y.map(x=>Ww(x))),c(e,["tools"],y)}const p=u(t,["toolConfig"]);if(e!==void 0&&p!=null&&c(e,["toolConfig"],Xw(p)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Zw(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["model"],Gy(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],Qw(o,n)),n}function e1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],wn(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function t1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],wn(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function n1(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&c(e,["expireTime"],o),n}function i1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],wn(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],n1(o,n)),n}function o1(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),n}function s1(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],o1(n,e)),e}function r1(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function a1(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function l1(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function u1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],r1(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],a1(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],l1(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&c(e,["text"],x),e}function Bm(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>u1(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function c1(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&c(e,["description"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["parameters"]);o!=null&&c(e,["parameters"],o);const r=u(t,["parametersJsonSchema"]);r!=null&&c(e,["parametersJsonSchema"],r);const l=u(t,["response"]);l!=null&&c(e,["response"],l);const d=u(t,["responseJsonSchema"]);return d!=null&&c(e,["responseJsonSchema"],d),e}function d1(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function f1(t){const e={},n=u(t,["timeRangeFilter"]);n!=null&&c(e,["timeRangeFilter"],d1(n));const i=u(t,["excludeDomains"]);return i!=null&&c(e,["excludeDomains"],i),e}function h1(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function p1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],h1(n)),e}function m1(t){const e={},n=u(t,["excludeDomains"]);return n!=null&&c(e,["excludeDomains"],n),e}function g1(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&c(e,["apiKeyString"],n),e}function y1(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&c(e,["apiKeyConfig"],g1(n));const i=u(t,["authType"]);i!=null&&c(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&c(e,["googleServiceAccountConfig"],o);const r=u(t,["httpBasicAuthConfig"]);r!=null&&c(e,["httpBasicAuthConfig"],r);const l=u(t,["oauthConfig"]);l!=null&&c(e,["oauthConfig"],l);const d=u(t,["oidcConfig"]);return d!=null&&c(e,["oidcConfig"],d),e}function x1(t){const e={},n=u(t,["authConfig"]);return n!=null&&c(e,["authConfig"],y1(n)),e}function v1(){return{}}function C1(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function _1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let x=n;Array.isArray(x)&&(x=x.map(C=>c1(C))),c(e,["functionDeclarations"],x)}const i=u(t,["retrieval"]);i!=null&&c(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],f1(o));const r=u(t,["googleSearchRetrieval"]);r!=null&&c(e,["googleSearchRetrieval"],p1(r));const l=u(t,["enterpriseWebSearch"]);l!=null&&c(e,["enterpriseWebSearch"],m1(l));const d=u(t,["googleMaps"]);d!=null&&c(e,["googleMaps"],x1(d)),u(t,["urlContext"])!=null&&c(e,["urlContext"],v1());const p=u(t,["computerUse"]);p!=null&&c(e,["computerUse"],C1(p));const y=u(t,["codeExecution"]);return y!=null&&c(e,["codeExecution"],y),e}function T1(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function S1(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function w1(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],S1(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function E1(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],T1(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],w1(i)),e}function M1(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&c(e,["expireTime"],o);const r=u(t,["displayName"]);e!==void 0&&r!=null&&c(e,["displayName"],r);const l=u(t,["contents"]);if(e!==void 0&&l!=null){let x=Ht(l);Array.isArray(x)&&(x=x.map(C=>Bm(C))),c(e,["contents"],x)}const d=u(t,["systemInstruction"]);e!==void 0&&d!=null&&c(e,["systemInstruction"],Bm(pt(d)));const h=u(t,["tools"]);if(e!==void 0&&h!=null){let x=h;Array.isArray(x)&&(x=x.map(C=>_1(C))),c(e,["tools"],x)}const p=u(t,["toolConfig"]);e!==void 0&&p!=null&&c(e,["toolConfig"],E1(p));const y=u(t,["kmsKeyName"]);return e!==void 0&&y!=null&&c(e,["encryption_spec","kmsKeyName"],y),n}function k1(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["model"],Gy(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],M1(o,n)),n}function b1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],wn(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function N1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],wn(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function I1(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&c(e,["expireTime"],o),n}function P1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],wn(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],I1(o,n)),n}function A1(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),n}function R1(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],A1(n,e)),e}function wa(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["model"]);o!=null&&c(e,["model"],o);const r=u(t,["createTime"]);r!=null&&c(e,["createTime"],r);const l=u(t,["updateTime"]);l!=null&&c(e,["updateTime"],l);const d=u(t,["expireTime"]);d!=null&&c(e,["expireTime"],d);const h=u(t,["usageMetadata"]);return h!=null&&c(e,["usageMetadata"],h),e}function D1(){return{}}function L1(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>wa(l))),c(e,["cachedContents"],r)}return e}function Ea(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["model"]);o!=null&&c(e,["model"],o);const r=u(t,["createTime"]);r!=null&&c(e,["createTime"],r);const l=u(t,["updateTime"]);l!=null&&c(e,["updateTime"],l);const d=u(t,["expireTime"]);d!=null&&c(e,["expireTime"],d);const h=u(t,["usageMetadata"]);return h!=null&&c(e,["usageMetadata"],h),e}function F1(){return{}}function U1(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Ea(l))),c(e,["cachedContents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V1 extends Pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ws(ki.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=k1(this.apiClient,e);return d=re("cachedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>Ea(y))}else{const p=Zw(this.apiClient,e);return d=re("cachedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>wa(y))}}async get(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=b1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>Ea(y))}else{const p=e1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>wa(y))}}async delete(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=N1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(()=>{const y=F1(),x=new Am;return Object.assign(x,y),x})}else{const p=t1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(()=>{const y=D1(),x=new Am;return Object.assign(x,y),x})}}async update(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=P1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>Ea(y))}else{const p=i1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>wa(y))}}async listInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=R1(e);return d=re("cachedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=U1(y),C=new Rm;return Object.assign(C,x),C})}else{const p=s1(e);return d=re("cachedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=L1(y),C=new Rm;return Object.assign(C,x),C})}}}function Om(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ve(t){return this instanceof Ve?(this.v=t,this):new Ve(t)}function mo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(T){return function(w){return Promise.resolve(w).then(T,x)}}function d(T,w){i[T]&&(o[T]=function(E){return new Promise(function(M,N){r.push([T,E,M,N])>1||h(T,E)})},w&&(o[T]=w(o[T])))}function h(T,w){try{p(i[T](w))}catch(E){C(r[0][3],E)}}function p(T){T.value instanceof Ve?Promise.resolve(T.value.v).then(y,x):C(r[0][2],T)}function y(T){h("next",T)}function x(T){h("throw",T)}function C(T,w){T(w),r.shift(),r.length&&h(r[0][0],r[0][1])}}function Is(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Om=="function"?Om(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=t[r]&&function(l){return new Promise(function(d,h){l=t[r](l),o(d,h,l.done,l.value)})}}function o(r,l,d,h){Promise.resolve(h).then(function(p){r({value:p,done:d})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B1(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ax(n)}function ax(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function O1(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Hm(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let r=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),r&&!ax(t[i])&&(r=!1),i++;r?e.push(...o):e.pop()}return e}class H1{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new z1(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class z1{constructor(e,n,i,o={},r=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=r,this.sendPromise=Promise.resolve(),O1(r)}async sendMessage(e){var n;await this.sendPromise;const i=pt(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var r,l,d;const h=await o,p=(l=(r=h.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content,y=h.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let C=[];y!=null&&(C=(d=y.slice(x))!==null&&d!==void 0?d:[]);const T=p?[p]:[];this.recordHistory(i,T,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=pt(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const r=await o;return this.processStreamResponse(r,i)}getHistory(e=!1){const n=e?Hm(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return mo(this,arguments,function*(){var l,d,h,p;const y=[];try{for(var x=!0,C=Is(e),T;T=yield Ve(C.next()),l=T.done,!l;x=!0){p=T.value,x=!1;const w=p;if(B1(w)){const E=(o=(i=w.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;E!==void 0&&y.push(E)}yield yield Ve(w)}}catch(w){d={error:w}}finally{try{!x&&!l&&(h=C.return)&&(yield Ve(h.call(C)))}finally{if(d)throw d.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(r=>r.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Hm(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qa extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Qa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $1(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),n}function q1(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],$1(n,e)),e}function G1(t){const e={},n=u(t,["details"]);n!=null&&c(e,["details"],n);const i=u(t,["message"]);i!=null&&c(e,["message"],i);const o=u(t,["code"]);return o!=null&&c(e,["code"],o),e}function j1(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["mimeType"]);o!=null&&c(e,["mimeType"],o);const r=u(t,["sizeBytes"]);r!=null&&c(e,["sizeBytes"],r);const l=u(t,["createTime"]);l!=null&&c(e,["createTime"],l);const d=u(t,["expirationTime"]);d!=null&&c(e,["expirationTime"],d);const h=u(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const p=u(t,["sha256Hash"]);p!=null&&c(e,["sha256Hash"],p);const y=u(t,["uri"]);y!=null&&c(e,["uri"],y);const x=u(t,["downloadUri"]);x!=null&&c(e,["downloadUri"],x);const C=u(t,["state"]);C!=null&&c(e,["state"],C);const T=u(t,["source"]);T!=null&&c(e,["source"],T);const w=u(t,["videoMetadata"]);w!=null&&c(e,["videoMetadata"],w);const E=u(t,["error"]);return E!=null&&c(e,["error"],G1(E)),e}function W1(t){const e={},n=u(t,["file"]);n!=null&&c(e,["file"],j1(n));const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function J1(t){const e={},n=u(t,["name"]);n!=null&&c(e,["_url","file"],Qy(n));const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function Y1(t){const e={},n=u(t,["name"]);n!=null&&c(e,["_url","file"],Qy(n));const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function K1(t){const e={},n=u(t,["details"]);n!=null&&c(e,["details"],n);const i=u(t,["message"]);i!=null&&c(e,["message"],i);const o=u(t,["code"]);return o!=null&&c(e,["code"],o),e}function Rc(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["mimeType"]);o!=null&&c(e,["mimeType"],o);const r=u(t,["sizeBytes"]);r!=null&&c(e,["sizeBytes"],r);const l=u(t,["createTime"]);l!=null&&c(e,["createTime"],l);const d=u(t,["expirationTime"]);d!=null&&c(e,["expirationTime"],d);const h=u(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const p=u(t,["sha256Hash"]);p!=null&&c(e,["sha256Hash"],p);const y=u(t,["uri"]);y!=null&&c(e,["uri"],y);const x=u(t,["downloadUri"]);x!=null&&c(e,["downloadUri"],x);const C=u(t,["state"]);C!=null&&c(e,["state"],C);const T=u(t,["source"]);T!=null&&c(e,["source"],T);const w=u(t,["videoMetadata"]);w!=null&&c(e,["videoMetadata"],w);const E=u(t,["error"]);return E!=null&&c(e,["error"],K1(E)),e}function X1(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Rc(l))),c(e,["files"],r)}return e}function Q1(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function Z1(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eE extends Pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ws(ki.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Rc(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=q1(e);return r=re("files",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=X1(h),y=new mS;return Object.assign(y,p),y})}}async createInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=W1(e);return r=re("upload/v1beta/files",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const p=Q1(h),y=new gS;return Object.assign(y,p),y})}}async get(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=J1(e);return r=re("files/{file}",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Rc(h))}}async delete(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Y1(e);return r=re("files/{file}",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(()=>{const h=Z1(),p=new yS;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tE(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function lx(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],tE(n)),e}function nE(t){const e={},n=u(t,["speaker"]);n!=null&&c(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&c(e,["voiceConfig"],lx(i)),e}function iE(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nE(o))),c(e,["speakerVoiceConfigs"],i)}return e}function oE(t){const e={},n=u(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],lx(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&c(e,["multiSpeakerVoiceConfig"],iE(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function sE(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function rE(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function aE(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function lE(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],sE(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],rE(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],aE(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&c(e,["text"],x),e}function uE(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>lE(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function cE(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&c(e,["parametersJsonSchema"],l);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function dE(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function fE(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],dE(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function hE(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function pE(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],hE(n)),e}function mE(){return{}}function gE(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function yE(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>cE(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],fE(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],pE(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],mE());const l=u(t,["computerUse"]);l!=null&&c(e,["computerUse"],gE(l));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function xE(t){const e={},n=u(t,["handle"]);if(n!=null&&c(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zm(){return{}}function vE(t){const e={},n=u(t,["disabled"]);n!=null&&c(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&c(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&c(e,["endOfSpeechSensitivity"],o);const r=u(t,["prefixPaddingMs"]);r!=null&&c(e,["prefixPaddingMs"],r);const l=u(t,["silenceDurationMs"]);return l!=null&&c(e,["silenceDurationMs"],l),e}function CE(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&c(e,["automaticActivityDetection"],vE(n));const i=u(t,["activityHandling"]);i!=null&&c(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&c(e,["turnCoverage"],o),e}function _E(t){const e={},n=u(t,["targetTokens"]);return n!=null&&c(e,["targetTokens"],n),e}function TE(t){const e={},n=u(t,["triggerTokens"]);n!=null&&c(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&c(e,["slidingWindow"],_E(i)),e}function SE(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&c(e,["proactiveAudio"],n),e}function wE(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","responseModalities"],o);const r=u(t,["temperature"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","temperature"],r);const l=u(t,["topP"]);e!==void 0&&l!=null&&c(e,["setup","generationConfig","topP"],l);const d=u(t,["topK"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","topK"],d);const h=u(t,["maxOutputTokens"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","maxOutputTokens"],h);const p=u(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const y=u(t,["seed"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","seed"],y);const x=u(t,["speechConfig"]);e!==void 0&&x!=null&&c(e,["setup","generationConfig","speechConfig"],oE(id(x)));const C=u(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],C);const T=u(t,["systemInstruction"]);e!==void 0&&T!=null&&c(e,["setup","systemInstruction"],uE(pt(T)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let L=Eo(w);Array.isArray(L)&&(L=L.map(O=>yE(wo(O)))),c(e,["setup","tools"],L)}const E=u(t,["sessionResumption"]);e!==void 0&&E!=null&&c(e,["setup","sessionResumption"],xE(E));const M=u(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&c(e,["setup","inputAudioTranscription"],zm());const N=u(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&c(e,["setup","outputAudioTranscription"],zm());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&c(e,["setup","realtimeInputConfig"],CE(P));const R=u(t,["contextWindowCompression"]);e!==void 0&&R!=null&&c(e,["setup","contextWindowCompression"],TE(R));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&c(e,["setup","proactivity"],SE(D)),n}function EE(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["setup","model"],be(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],wE(o,n)),n}function ME(){return{}}function kE(){return{}}function bE(t){const e={},n=u(t,["media"]);n!=null&&c(e,["mediaChunks"],jy(n));const i=u(t,["audio"]);i!=null&&c(e,["audio"],Jy(i));const o=u(t,["audioStreamEnd"]);o!=null&&c(e,["audioStreamEnd"],o);const r=u(t,["video"]);r!=null&&c(e,["video"],Wy(r));const l=u(t,["text"]);return l!=null&&c(e,["text"],l),u(t,["activityStart"])!=null&&c(e,["activityStart"],ME()),u(t,["activityEnd"])!=null&&c(e,["activityEnd"],kE()),e}function ux(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["weight"]);return i!=null&&c(e,["weight"],i),e}function NE(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ux(o))),c(e,["weightedPrompts"],i)}return e}function cx(t){const e={},n=u(t,["temperature"]);n!=null&&c(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&c(e,["topK"],i);const o=u(t,["seed"]);o!=null&&c(e,["seed"],o);const r=u(t,["guidance"]);r!=null&&c(e,["guidance"],r);const l=u(t,["bpm"]);l!=null&&c(e,["bpm"],l);const d=u(t,["density"]);d!=null&&c(e,["density"],d);const h=u(t,["brightness"]);h!=null&&c(e,["brightness"],h);const p=u(t,["scale"]);p!=null&&c(e,["scale"],p);const y=u(t,["muteBass"]);y!=null&&c(e,["muteBass"],y);const x=u(t,["muteDrums"]);x!=null&&c(e,["muteDrums"],x);const C=u(t,["onlyBassAndDrums"]);C!=null&&c(e,["onlyBassAndDrums"],C);const T=u(t,["musicGenerationMode"]);return T!=null&&c(e,["musicGenerationMode"],T),e}function IE(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&c(e,["musicGenerationConfig"],cx(n)),e}function dx(t){const e={},n=u(t,["model"]);return n!=null&&c(e,["model"],n),e}function fx(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ux(o))),c(e,["weightedPrompts"],i)}return e}function Dc(t){const e={},n=u(t,["setup"]);n!=null&&c(e,["setup"],dx(n));const i=u(t,["clientContent"]);i!=null&&c(e,["clientContent"],fx(i));const o=u(t,["musicGenerationConfig"]);o!=null&&c(e,["musicGenerationConfig"],cx(o));const r=u(t,["playbackControl"]);return r!=null&&c(e,["playbackControl"],r),e}function PE(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function AE(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],PE(n)),e}function RE(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&c(e,["voiceConfig"],AE(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function DE(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function LE(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function FE(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function UE(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],DE(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],LE(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],FE(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&c(e,["text"],x),e}function VE(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>UE(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function BE(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&c(e,["description"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["parameters"]);o!=null&&c(e,["parameters"],o);const r=u(t,["parametersJsonSchema"]);r!=null&&c(e,["parametersJsonSchema"],r);const l=u(t,["response"]);l!=null&&c(e,["response"],l);const d=u(t,["responseJsonSchema"]);return d!=null&&c(e,["responseJsonSchema"],d),e}function OE(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function HE(t){const e={},n=u(t,["timeRangeFilter"]);n!=null&&c(e,["timeRangeFilter"],OE(n));const i=u(t,["excludeDomains"]);return i!=null&&c(e,["excludeDomains"],i),e}function zE(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function $E(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],zE(n)),e}function qE(t){const e={},n=u(t,["excludeDomains"]);return n!=null&&c(e,["excludeDomains"],n),e}function GE(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&c(e,["apiKeyString"],n),e}function jE(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&c(e,["apiKeyConfig"],GE(n));const i=u(t,["authType"]);i!=null&&c(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&c(e,["googleServiceAccountConfig"],o);const r=u(t,["httpBasicAuthConfig"]);r!=null&&c(e,["httpBasicAuthConfig"],r);const l=u(t,["oauthConfig"]);l!=null&&c(e,["oauthConfig"],l);const d=u(t,["oidcConfig"]);return d!=null&&c(e,["oidcConfig"],d),e}function WE(t){const e={},n=u(t,["authConfig"]);return n!=null&&c(e,["authConfig"],jE(n)),e}function JE(){return{}}function YE(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function KE(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let x=n;Array.isArray(x)&&(x=x.map(C=>BE(C))),c(e,["functionDeclarations"],x)}const i=u(t,["retrieval"]);i!=null&&c(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],HE(o));const r=u(t,["googleSearchRetrieval"]);r!=null&&c(e,["googleSearchRetrieval"],$E(r));const l=u(t,["enterpriseWebSearch"]);l!=null&&c(e,["enterpriseWebSearch"],qE(l));const d=u(t,["googleMaps"]);d!=null&&c(e,["googleMaps"],WE(d)),u(t,["urlContext"])!=null&&c(e,["urlContext"],JE());const p=u(t,["computerUse"]);p!=null&&c(e,["computerUse"],YE(p));const y=u(t,["codeExecution"]);return y!=null&&c(e,["codeExecution"],y),e}function XE(t){const e={},n=u(t,["handle"]);n!=null&&c(e,["handle"],n);const i=u(t,["transparent"]);return i!=null&&c(e,["transparent"],i),e}function $m(){return{}}function QE(t){const e={},n=u(t,["disabled"]);n!=null&&c(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&c(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&c(e,["endOfSpeechSensitivity"],o);const r=u(t,["prefixPaddingMs"]);r!=null&&c(e,["prefixPaddingMs"],r);const l=u(t,["silenceDurationMs"]);return l!=null&&c(e,["silenceDurationMs"],l),e}function ZE(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&c(e,["automaticActivityDetection"],QE(n));const i=u(t,["activityHandling"]);i!=null&&c(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&c(e,["turnCoverage"],o),e}function eM(t){const e={},n=u(t,["targetTokens"]);return n!=null&&c(e,["targetTokens"],n),e}function tM(t){const e={},n=u(t,["triggerTokens"]);n!=null&&c(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&c(e,["slidingWindow"],eM(i)),e}function nM(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&c(e,["proactiveAudio"],n),e}function iM(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","responseModalities"],o);const r=u(t,["temperature"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","temperature"],r);const l=u(t,["topP"]);e!==void 0&&l!=null&&c(e,["setup","generationConfig","topP"],l);const d=u(t,["topK"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","topK"],d);const h=u(t,["maxOutputTokens"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","maxOutputTokens"],h);const p=u(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const y=u(t,["seed"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","seed"],y);const x=u(t,["speechConfig"]);e!==void 0&&x!=null&&c(e,["setup","generationConfig","speechConfig"],RE(id(x)));const C=u(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],C);const T=u(t,["systemInstruction"]);e!==void 0&&T!=null&&c(e,["setup","systemInstruction"],VE(pt(T)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let L=Eo(w);Array.isArray(L)&&(L=L.map(O=>KE(wo(O)))),c(e,["setup","tools"],L)}const E=u(t,["sessionResumption"]);e!==void 0&&E!=null&&c(e,["setup","sessionResumption"],XE(E));const M=u(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&c(e,["setup","inputAudioTranscription"],$m());const N=u(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&c(e,["setup","outputAudioTranscription"],$m());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&c(e,["setup","realtimeInputConfig"],ZE(P));const R=u(t,["contextWindowCompression"]);e!==void 0&&R!=null&&c(e,["setup","contextWindowCompression"],tM(R));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&c(e,["setup","proactivity"],nM(D)),n}function oM(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["setup","model"],be(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],iM(o,n)),n}function sM(){return{}}function rM(){return{}}function aM(t){const e={},n=u(t,["media"]);n!=null&&c(e,["mediaChunks"],jy(n));const i=u(t,["audio"]);i!=null&&c(e,["audio"],Jy(i));const o=u(t,["audioStreamEnd"]);o!=null&&c(e,["audioStreamEnd"],o);const r=u(t,["video"]);r!=null&&c(e,["video"],Wy(r));const l=u(t,["text"]);return l!=null&&c(e,["text"],l),u(t,["activityStart"])!=null&&c(e,["activityStart"],sM()),u(t,["activityEnd"])!=null&&c(e,["activityEnd"],rM()),e}function lM(){return{}}function uM(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function cM(t){const e={},n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function dM(t){const e={},n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function fM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],uM(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],cM(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],dM(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&c(e,["text"],x),e}function hM(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>fM(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function qm(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["finished"]);return i!=null&&c(e,["finished"],i),e}function pM(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&c(e,["urlRetrievalStatus"],i),e}function mM(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pM(o))),c(e,["urlMetadata"],i)}return e}function gM(t){const e={},n=u(t,["modelTurn"]);n!=null&&c(e,["modelTurn"],hM(n));const i=u(t,["turnComplete"]);i!=null&&c(e,["turnComplete"],i);const o=u(t,["interrupted"]);o!=null&&c(e,["interrupted"],o);const r=u(t,["groundingMetadata"]);r!=null&&c(e,["groundingMetadata"],r);const l=u(t,["generationComplete"]);l!=null&&c(e,["generationComplete"],l);const d=u(t,["inputTranscription"]);d!=null&&c(e,["inputTranscription"],qm(d));const h=u(t,["outputTranscription"]);h!=null&&c(e,["outputTranscription"],qm(h));const p=u(t,["urlContextMetadata"]);return p!=null&&c(e,["urlContextMetadata"],mM(p)),e}function yM(t){const e={},n=u(t,["id"]);n!=null&&c(e,["id"],n);const i=u(t,["args"]);i!=null&&c(e,["args"],i);const o=u(t,["name"]);return o!=null&&c(e,["name"],o),e}function xM(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yM(o))),c(e,["functionCalls"],i)}return e}function vM(t){const e={},n=u(t,["ids"]);return n!=null&&c(e,["ids"],n),e}function ra(t){const e={},n=u(t,["modality"]);n!=null&&c(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&c(e,["tokenCount"],i),e}function CM(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&c(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&c(e,["cachedContentTokenCount"],i);const o=u(t,["responseTokenCount"]);o!=null&&c(e,["responseTokenCount"],o);const r=u(t,["toolUsePromptTokenCount"]);r!=null&&c(e,["toolUsePromptTokenCount"],r);const l=u(t,["thoughtsTokenCount"]);l!=null&&c(e,["thoughtsTokenCount"],l);const d=u(t,["totalTokenCount"]);d!=null&&c(e,["totalTokenCount"],d);const h=u(t,["promptTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(T=>ra(T))),c(e,["promptTokensDetails"],C)}const p=u(t,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(T=>ra(T))),c(e,["cacheTokensDetails"],C)}const y=u(t,["responseTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(T=>ra(T))),c(e,["responseTokensDetails"],C)}const x=u(t,["toolUsePromptTokensDetails"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(T=>ra(T))),c(e,["toolUsePromptTokensDetails"],C)}return e}function _M(t){const e={},n=u(t,["timeLeft"]);return n!=null&&c(e,["timeLeft"],n),e}function TM(t){const e={},n=u(t,["newHandle"]);n!=null&&c(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&c(e,["resumable"],i);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&c(e,["lastConsumedClientMessageIndex"],o),e}function SM(t){const e={};u(t,["setupComplete"])!=null&&c(e,["setupComplete"],lM());const i=u(t,["serverContent"]);i!=null&&c(e,["serverContent"],gM(i));const o=u(t,["toolCall"]);o!=null&&c(e,["toolCall"],xM(o));const r=u(t,["toolCallCancellation"]);r!=null&&c(e,["toolCallCancellation"],vM(r));const l=u(t,["usageMetadata"]);l!=null&&c(e,["usageMetadata"],CM(l));const d=u(t,["goAway"]);d!=null&&c(e,["goAway"],_M(d));const h=u(t,["sessionResumptionUpdate"]);return h!=null&&c(e,["sessionResumptionUpdate"],TM(h)),e}function wM(){return{}}function EM(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["weight"]);return i!=null&&c(e,["weight"],i),e}function MM(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>EM(o))),c(e,["weightedPrompts"],i)}return e}function kM(t){const e={},n=u(t,["temperature"]);n!=null&&c(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&c(e,["topK"],i);const o=u(t,["seed"]);o!=null&&c(e,["seed"],o);const r=u(t,["guidance"]);r!=null&&c(e,["guidance"],r);const l=u(t,["bpm"]);l!=null&&c(e,["bpm"],l);const d=u(t,["density"]);d!=null&&c(e,["density"],d);const h=u(t,["brightness"]);h!=null&&c(e,["brightness"],h);const p=u(t,["scale"]);p!=null&&c(e,["scale"],p);const y=u(t,["muteBass"]);y!=null&&c(e,["muteBass"],y);const x=u(t,["muteDrums"]);x!=null&&c(e,["muteDrums"],x);const C=u(t,["onlyBassAndDrums"]);C!=null&&c(e,["onlyBassAndDrums"],C);const T=u(t,["musicGenerationMode"]);return T!=null&&c(e,["musicGenerationMode"],T),e}function bM(t){const e={},n=u(t,["clientContent"]);n!=null&&c(e,["clientContent"],MM(n));const i=u(t,["musicGenerationConfig"]);return i!=null&&c(e,["musicGenerationConfig"],kM(i)),e}function NM(t){const e={},n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);i!=null&&c(e,["mimeType"],i);const o=u(t,["sourceMetadata"]);return o!=null&&c(e,["sourceMetadata"],bM(o)),e}function IM(t){const e={},n=u(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>NM(o))),c(e,["audioChunks"],i)}return e}function PM(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["filteredReason"]);return i!=null&&c(e,["filteredReason"],i),e}function AM(t){const e={};u(t,["setupComplete"])!=null&&c(e,["setupComplete"],wM());const i=u(t,["serverContent"]);i!=null&&c(e,["serverContent"],IM(i));const o=u(t,["filteredPrompt"]);return o!=null&&c(e,["filteredPrompt"],PM(o)),e}function RM(t){const e={},n=u(t,["sessionId"]);return n!=null&&c(e,["sessionId"],n),e}function DM(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function LM(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function FM(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function UM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],DM(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],LM(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],FM(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&c(e,["text"],x),e}function VM(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>UM(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function Gm(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["finished"]);return i!=null&&c(e,["finished"],i),e}function BM(t){const e={},n=u(t,["modelTurn"]);n!=null&&c(e,["modelTurn"],VM(n));const i=u(t,["turnComplete"]);i!=null&&c(e,["turnComplete"],i);const o=u(t,["interrupted"]);o!=null&&c(e,["interrupted"],o);const r=u(t,["groundingMetadata"]);r!=null&&c(e,["groundingMetadata"],r);const l=u(t,["generationComplete"]);l!=null&&c(e,["generationComplete"],l);const d=u(t,["inputTranscription"]);d!=null&&c(e,["inputTranscription"],Gm(d));const h=u(t,["outputTranscription"]);return h!=null&&c(e,["outputTranscription"],Gm(h)),e}function OM(t){const e={},n=u(t,["args"]);n!=null&&c(e,["args"],n);const i=u(t,["name"]);return i!=null&&c(e,["name"],i),e}function HM(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>OM(o))),c(e,["functionCalls"],i)}return e}function zM(t){const e={},n=u(t,["ids"]);return n!=null&&c(e,["ids"],n),e}function aa(t){const e={},n=u(t,["modality"]);n!=null&&c(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&c(e,["tokenCount"],i),e}function $M(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&c(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&c(e,["cachedContentTokenCount"],i);const o=u(t,["candidatesTokenCount"]);o!=null&&c(e,["responseTokenCount"],o);const r=u(t,["toolUsePromptTokenCount"]);r!=null&&c(e,["toolUsePromptTokenCount"],r);const l=u(t,["thoughtsTokenCount"]);l!=null&&c(e,["thoughtsTokenCount"],l);const d=u(t,["totalTokenCount"]);d!=null&&c(e,["totalTokenCount"],d);const h=u(t,["promptTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(w=>aa(w))),c(e,["promptTokensDetails"],T)}const p=u(t,["cacheTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(w=>aa(w))),c(e,["cacheTokensDetails"],T)}const y=u(t,["candidatesTokensDetails"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(w=>aa(w))),c(e,["responseTokensDetails"],T)}const x=u(t,["toolUsePromptTokensDetails"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(w=>aa(w))),c(e,["toolUsePromptTokensDetails"],T)}const C=u(t,["trafficType"]);return C!=null&&c(e,["trafficType"],C),e}function qM(t){const e={},n=u(t,["timeLeft"]);return n!=null&&c(e,["timeLeft"],n),e}function GM(t){const e={},n=u(t,["newHandle"]);n!=null&&c(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&c(e,["resumable"],i);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&c(e,["lastConsumedClientMessageIndex"],o),e}function jM(t){const e={},n=u(t,["setupComplete"]);n!=null&&c(e,["setupComplete"],RM(n));const i=u(t,["serverContent"]);i!=null&&c(e,["serverContent"],BM(i));const o=u(t,["toolCall"]);o!=null&&c(e,["toolCall"],HM(o));const r=u(t,["toolCallCancellation"]);r!=null&&c(e,["toolCallCancellation"],zM(r));const l=u(t,["usageMetadata"]);l!=null&&c(e,["usageMetadata"],$M(l));const d=u(t,["goAway"]);d!=null&&c(e,["goAway"],qM(d));const h=u(t,["sessionResumptionUpdate"]);return h!=null&&c(e,["sessionResumptionUpdate"],GM(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WM(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function JM(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function YM(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function KM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],WM(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],JM(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],YM(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&c(e,["text"],x),e}function Za(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>KM(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function XM(t){const e={},n=u(t,["anyOf"]);n!=null&&c(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&c(e,["default"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["enum"]);r!=null&&c(e,["enum"],r);const l=u(t,["example"]);l!=null&&c(e,["example"],l);const d=u(t,["format"]);d!=null&&c(e,["format"],d);const h=u(t,["items"]);h!=null&&c(e,["items"],h);const p=u(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const y=u(t,["maxLength"]);y!=null&&c(e,["maxLength"],y);const x=u(t,["maxProperties"]);x!=null&&c(e,["maxProperties"],x);const C=u(t,["maximum"]);C!=null&&c(e,["maximum"],C);const T=u(t,["minItems"]);T!=null&&c(e,["minItems"],T);const w=u(t,["minLength"]);w!=null&&c(e,["minLength"],w);const E=u(t,["minProperties"]);E!=null&&c(e,["minProperties"],E);const M=u(t,["minimum"]);M!=null&&c(e,["minimum"],M);const N=u(t,["nullable"]);N!=null&&c(e,["nullable"],N);const P=u(t,["pattern"]);P!=null&&c(e,["pattern"],P);const R=u(t,["properties"]);R!=null&&c(e,["properties"],R);const D=u(t,["propertyOrdering"]);D!=null&&c(e,["propertyOrdering"],D);const L=u(t,["required"]);L!=null&&c(e,["required"],L);const O=u(t,["title"]);O!=null&&c(e,["title"],O);const z=u(t,["type"]);return z!=null&&c(e,["type"],z),e}function QM(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&c(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&c(e,["threshold"],i),e}function ZM(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&c(e,["parametersJsonSchema"],l);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function ek(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function tk(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],ek(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function nk(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function ik(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],nk(n)),e}function ok(){return{}}function sk(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function rk(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>ZM(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],tk(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],ik(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],ok());const l=u(t,["computerUse"]);l!=null&&c(e,["computerUse"],sk(l));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function ak(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function lk(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function uk(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],lk(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function ck(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],ak(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],uk(i)),e}function dk(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function hx(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],dk(n)),e}function fk(t){const e={},n=u(t,["speaker"]);n!=null&&c(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&c(e,["voiceConfig"],hx(i)),e}function hk(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>fk(o))),c(e,["speakerVoiceConfigs"],i)}return e}function pk(t){const e={},n=u(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],hx(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&c(e,["multiSpeakerVoiceConfig"],hk(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function mk(t){const e={},n=u(t,["includeThoughts"]);n!=null&&c(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&c(e,["thinkingBudget"],i),e}function gk(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&c(n,["systemInstruction"],Za(pt(o)));const r=u(e,["temperature"]);r!=null&&c(i,["temperature"],r);const l=u(e,["topP"]);l!=null&&c(i,["topP"],l);const d=u(e,["topK"]);d!=null&&c(i,["topK"],d);const h=u(e,["candidateCount"]);h!=null&&c(i,["candidateCount"],h);const p=u(e,["maxOutputTokens"]);p!=null&&c(i,["maxOutputTokens"],p);const y=u(e,["stopSequences"]);y!=null&&c(i,["stopSequences"],y);const x=u(e,["responseLogprobs"]);x!=null&&c(i,["responseLogprobs"],x);const C=u(e,["logprobs"]);C!=null&&c(i,["logprobs"],C);const T=u(e,["presencePenalty"]);T!=null&&c(i,["presencePenalty"],T);const w=u(e,["frequencyPenalty"]);w!=null&&c(i,["frequencyPenalty"],w);const E=u(e,["seed"]);E!=null&&c(i,["seed"],E);const M=u(e,["responseMimeType"]);M!=null&&c(i,["responseMimeType"],M);const N=u(e,["responseSchema"]);N!=null&&c(i,["responseSchema"],XM(td(N)));const P=u(e,["responseJsonSchema"]);if(P!=null&&c(i,["responseJsonSchema"],P),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=u(e,["safetySettings"]);if(n!==void 0&&R!=null){let X=R;Array.isArray(X)&&(X=X.map(ae=>QM(ae))),c(n,["safetySettings"],X)}const D=u(e,["tools"]);if(n!==void 0&&D!=null){let X=Eo(D);Array.isArray(X)&&(X=X.map(ae=>rk(wo(ae)))),c(n,["tools"],X)}const L=u(e,["toolConfig"]);if(n!==void 0&&L!=null&&c(n,["toolConfig"],ck(L)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=u(e,["cachedContent"]);n!==void 0&&O!=null&&c(n,["cachedContent"],wn(t,O));const z=u(e,["responseModalities"]);z!=null&&c(i,["responseModalities"],z);const J=u(e,["mediaResolution"]);J!=null&&c(i,["mediaResolution"],J);const j=u(e,["speechConfig"]);if(j!=null&&c(i,["speechConfig"],pk(nd(j))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=u(e,["thinkingConfig"]);return Q!=null&&c(i,["thinkingConfig"],mk(Q)),i}function jm(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["contents"]);if(o!=null){let l=Ht(o);Array.isArray(l)&&(l=l.map(d=>Za(d))),c(n,["contents"],l)}const r=u(e,["config"]);return r!=null&&c(n,["generationConfig"],gk(t,r,n)),n}function yk(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&c(e,["requests[]","taskType"],i);const o=u(t,["title"]);e!==void 0&&o!=null&&c(e,["requests[]","title"],o);const r=u(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&c(e,["requests[]","outputDimensionality"],r),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function xk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["contents"]);o!=null&&c(n,["requests[]","content"],Ky(t,o));const r=u(e,["config"]);r!=null&&c(n,["config"],yk(r,n));const l=u(e,["model"]);return l!==void 0&&c(n,["requests[]","model"],be(t,l)),n}function vk(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);const o=u(t,["aspectRatio"]);e!==void 0&&o!=null&&c(e,["parameters","aspectRatio"],o);const r=u(t,["guidanceScale"]);if(e!==void 0&&r!=null&&c(e,["parameters","guidanceScale"],r),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=u(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&c(e,["parameters","safetySetting"],l);const d=u(t,["personGeneration"]);e!==void 0&&d!=null&&c(e,["parameters","personGeneration"],d);const h=u(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&c(e,["parameters","includeSafetyAttributes"],h);const p=u(t,["includeRaiReason"]);e!==void 0&&p!=null&&c(e,["parameters","includeRaiReason"],p);const y=u(t,["language"]);e!==void 0&&y!=null&&c(e,["parameters","language"],y);const x=u(t,["outputMimeType"]);e!==void 0&&x!=null&&c(e,["parameters","outputOptions","mimeType"],x);const C=u(t,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&c(e,["parameters","outputOptions","compressionQuality"],C),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const T=u(t,["imageSize"]);if(e!==void 0&&T!=null&&c(e,["parameters","sampleImageSize"],T),u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Ck(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["config"]);return r!=null&&c(n,["config"],vk(r,n)),n}function _k(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],be(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function Tk(t,e,n){const i={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&c(n,["_query","pageSize"],o);const r=u(e,["pageToken"]);n!==void 0&&r!=null&&c(n,["_query","pageToken"],r);const l=u(e,["filter"]);n!==void 0&&l!=null&&c(n,["_query","filter"],l);const d=u(e,["queryBase"]);return n!==void 0&&d!=null&&c(n,["_url","models_url"],Zy(t,d)),i}function Sk(t,e){const n={},i=u(e,["config"]);return i!=null&&c(n,["config"],Tk(t,i,n)),n}function wk(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&c(e,["description"],o);const r=u(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&c(e,["defaultCheckpointId"],r),n}function Ek(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],be(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],wk(o,n)),n}function Mk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],be(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function kk(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function bk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["contents"]);if(o!=null){let l=Ht(o);Array.isArray(l)&&(l=l.map(d=>Za(d))),c(n,["contents"],l)}const r=u(e,["config"]);return r!=null&&c(n,["config"],kk(r)),n}function Nk(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&c(e,["bytesBase64Encoded"],Ai(n));const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Ik(t,e){const n={},i=u(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=u(t,["durationSeconds"]);if(e!==void 0&&o!=null&&c(e,["parameters","durationSeconds"],o),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=u(t,["aspectRatio"]);if(e!==void 0&&r!=null&&c(e,["parameters","aspectRatio"],r),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const l=u(t,["personGeneration"]);if(e!==void 0&&l!=null&&c(e,["parameters","personGeneration"],l),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=u(t,["negativePrompt"]);e!==void 0&&d!=null&&c(e,["parameters","negativePrompt"],d);const h=u(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&c(e,["parameters","enhancePrompt"],h),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Pk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["image"]);if(r!=null&&c(n,["instances[0]","image"],Nk(r)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const l=u(e,["config"]);return l!=null&&c(n,["config"],Ik(l,n)),n}function Ak(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function Rk(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Dk(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Lk(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],Ak(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],Rk(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],Dk(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&c(e,["text"],x),e}function ko(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Lk(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function Fk(t){const e={},n=u(t,["anyOf"]);n!=null&&c(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&c(e,["default"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["enum"]);r!=null&&c(e,["enum"],r);const l=u(t,["example"]);l!=null&&c(e,["example"],l);const d=u(t,["format"]);d!=null&&c(e,["format"],d);const h=u(t,["items"]);h!=null&&c(e,["items"],h);const p=u(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const y=u(t,["maxLength"]);y!=null&&c(e,["maxLength"],y);const x=u(t,["maxProperties"]);x!=null&&c(e,["maxProperties"],x);const C=u(t,["maximum"]);C!=null&&c(e,["maximum"],C);const T=u(t,["minItems"]);T!=null&&c(e,["minItems"],T);const w=u(t,["minLength"]);w!=null&&c(e,["minLength"],w);const E=u(t,["minProperties"]);E!=null&&c(e,["minProperties"],E);const M=u(t,["minimum"]);M!=null&&c(e,["minimum"],M);const N=u(t,["nullable"]);N!=null&&c(e,["nullable"],N);const P=u(t,["pattern"]);P!=null&&c(e,["pattern"],P);const R=u(t,["properties"]);R!=null&&c(e,["properties"],R);const D=u(t,["propertyOrdering"]);D!=null&&c(e,["propertyOrdering"],D);const L=u(t,["required"]);L!=null&&c(e,["required"],L);const O=u(t,["title"]);O!=null&&c(e,["title"],O);const z=u(t,["type"]);return z!=null&&c(e,["type"],z),e}function Uk(t){const e={},n=u(t,["featureSelectionPreference"]);return n!=null&&c(e,["featureSelectionPreference"],n),e}function Vk(t){const e={},n=u(t,["method"]);n!=null&&c(e,["method"],n);const i=u(t,["category"]);i!=null&&c(e,["category"],i);const o=u(t,["threshold"]);return o!=null&&c(e,["threshold"],o),e}function Bk(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&c(e,["description"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["parameters"]);o!=null&&c(e,["parameters"],o);const r=u(t,["parametersJsonSchema"]);r!=null&&c(e,["parametersJsonSchema"],r);const l=u(t,["response"]);l!=null&&c(e,["response"],l);const d=u(t,["responseJsonSchema"]);return d!=null&&c(e,["responseJsonSchema"],d),e}function Ok(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function Hk(t){const e={},n=u(t,["timeRangeFilter"]);n!=null&&c(e,["timeRangeFilter"],Ok(n));const i=u(t,["excludeDomains"]);return i!=null&&c(e,["excludeDomains"],i),e}function zk(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function $k(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],zk(n)),e}function qk(t){const e={},n=u(t,["excludeDomains"]);return n!=null&&c(e,["excludeDomains"],n),e}function Gk(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&c(e,["apiKeyString"],n),e}function jk(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&c(e,["apiKeyConfig"],Gk(n));const i=u(t,["authType"]);i!=null&&c(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&c(e,["googleServiceAccountConfig"],o);const r=u(t,["httpBasicAuthConfig"]);r!=null&&c(e,["httpBasicAuthConfig"],r);const l=u(t,["oauthConfig"]);l!=null&&c(e,["oauthConfig"],l);const d=u(t,["oidcConfig"]);return d!=null&&c(e,["oidcConfig"],d),e}function Wk(t){const e={},n=u(t,["authConfig"]);return n!=null&&c(e,["authConfig"],jk(n)),e}function Jk(){return{}}function Yk(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function px(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let x=n;Array.isArray(x)&&(x=x.map(C=>Bk(C))),c(e,["functionDeclarations"],x)}const i=u(t,["retrieval"]);i!=null&&c(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],Hk(o));const r=u(t,["googleSearchRetrieval"]);r!=null&&c(e,["googleSearchRetrieval"],$k(r));const l=u(t,["enterpriseWebSearch"]);l!=null&&c(e,["enterpriseWebSearch"],qk(l));const d=u(t,["googleMaps"]);d!=null&&c(e,["googleMaps"],Wk(d)),u(t,["urlContext"])!=null&&c(e,["urlContext"],Jk());const p=u(t,["computerUse"]);p!=null&&c(e,["computerUse"],Yk(p));const y=u(t,["codeExecution"]);return y!=null&&c(e,["codeExecution"],y),e}function Kk(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function Xk(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function Qk(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],Xk(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function Zk(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],Kk(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],Qk(i)),e}function eb(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function tb(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],eb(n)),e}function nb(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&c(e,["voiceConfig"],tb(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function ib(t){const e={},n=u(t,["includeThoughts"]);n!=null&&c(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&c(e,["thinkingBudget"],i),e}function ob(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&c(n,["systemInstruction"],ko(pt(o)));const r=u(e,["temperature"]);r!=null&&c(i,["temperature"],r);const l=u(e,["topP"]);l!=null&&c(i,["topP"],l);const d=u(e,["topK"]);d!=null&&c(i,["topK"],d);const h=u(e,["candidateCount"]);h!=null&&c(i,["candidateCount"],h);const p=u(e,["maxOutputTokens"]);p!=null&&c(i,["maxOutputTokens"],p);const y=u(e,["stopSequences"]);y!=null&&c(i,["stopSequences"],y);const x=u(e,["responseLogprobs"]);x!=null&&c(i,["responseLogprobs"],x);const C=u(e,["logprobs"]);C!=null&&c(i,["logprobs"],C);const T=u(e,["presencePenalty"]);T!=null&&c(i,["presencePenalty"],T);const w=u(e,["frequencyPenalty"]);w!=null&&c(i,["frequencyPenalty"],w);const E=u(e,["seed"]);E!=null&&c(i,["seed"],E);const M=u(e,["responseMimeType"]);M!=null&&c(i,["responseMimeType"],M);const N=u(e,["responseSchema"]);N!=null&&c(i,["responseSchema"],Fk(td(N)));const P=u(e,["responseJsonSchema"]);P!=null&&c(i,["responseJsonSchema"],P);const R=u(e,["routingConfig"]);R!=null&&c(i,["routingConfig"],R);const D=u(e,["modelSelectionConfig"]);D!=null&&c(i,["modelConfig"],Uk(D));const L=u(e,["safetySettings"]);if(n!==void 0&&L!=null){let de=L;Array.isArray(de)&&(de=de.map(ye=>Vk(ye))),c(n,["safetySettings"],de)}const O=u(e,["tools"]);if(n!==void 0&&O!=null){let de=Eo(O);Array.isArray(de)&&(de=de.map(ye=>px(wo(ye)))),c(n,["tools"],de)}const z=u(e,["toolConfig"]);n!==void 0&&z!=null&&c(n,["toolConfig"],Zk(z));const J=u(e,["labels"]);n!==void 0&&J!=null&&c(n,["labels"],J);const j=u(e,["cachedContent"]);n!==void 0&&j!=null&&c(n,["cachedContent"],wn(t,j));const Q=u(e,["responseModalities"]);Q!=null&&c(i,["responseModalities"],Q);const X=u(e,["mediaResolution"]);X!=null&&c(i,["mediaResolution"],X);const ae=u(e,["speechConfig"]);ae!=null&&c(i,["speechConfig"],nb(nd(ae)));const Te=u(e,["audioTimestamp"]);Te!=null&&c(i,["audioTimestamp"],Te);const Ae=u(e,["thinkingConfig"]);return Ae!=null&&c(i,["thinkingConfig"],ib(Ae)),i}function Wm(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["contents"]);if(o!=null){let l=Ht(o);Array.isArray(l)&&(l=l.map(d=>ko(d))),c(n,["contents"],l)}const r=u(e,["config"]);return r!=null&&c(n,["generationConfig"],ob(t,r,n)),n}function sb(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&c(e,["instances[]","task_type"],i);const o=u(t,["title"]);e!==void 0&&o!=null&&c(e,["instances[]","title"],o);const r=u(t,["outputDimensionality"]);e!==void 0&&r!=null&&c(e,["parameters","outputDimensionality"],r);const l=u(t,["mimeType"]);e!==void 0&&l!=null&&c(e,["instances[]","mimeType"],l);const d=u(t,["autoTruncate"]);return e!==void 0&&d!=null&&c(e,["parameters","autoTruncate"],d),n}function rb(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["contents"]);o!=null&&c(n,["instances[]","content"],Ky(t,o));const r=u(e,["config"]);return r!=null&&c(n,["config"],sb(r,n)),n}function ab(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&c(e,["parameters","storageUri"],i);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&c(e,["parameters","negativePrompt"],o);const r=u(t,["numberOfImages"]);e!==void 0&&r!=null&&c(e,["parameters","sampleCount"],r);const l=u(t,["aspectRatio"]);e!==void 0&&l!=null&&c(e,["parameters","aspectRatio"],l);const d=u(t,["guidanceScale"]);e!==void 0&&d!=null&&c(e,["parameters","guidanceScale"],d);const h=u(t,["seed"]);e!==void 0&&h!=null&&c(e,["parameters","seed"],h);const p=u(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&c(e,["parameters","safetySetting"],p);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&c(e,["parameters","personGeneration"],y);const x=u(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&c(e,["parameters","includeSafetyAttributes"],x);const C=u(t,["includeRaiReason"]);e!==void 0&&C!=null&&c(e,["parameters","includeRaiReason"],C);const T=u(t,["language"]);e!==void 0&&T!=null&&c(e,["parameters","language"],T);const w=u(t,["outputMimeType"]);e!==void 0&&w!=null&&c(e,["parameters","outputOptions","mimeType"],w);const E=u(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&c(e,["parameters","outputOptions","compressionQuality"],E);const M=u(t,["addWatermark"]);e!==void 0&&M!=null&&c(e,["parameters","addWatermark"],M);const N=u(t,["imageSize"]);e!==void 0&&N!=null&&c(e,["parameters","sampleImageSize"],N);const P=u(t,["enhancePrompt"]);return e!==void 0&&P!=null&&c(e,["parameters","enhancePrompt"],P),n}function lb(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["config"]);return r!=null&&c(n,["config"],ab(r,n)),n}function bo(t){const e={},n=u(t,["gcsUri"]);n!=null&&c(e,["gcsUri"],n);const i=u(t,["imageBytes"]);i!=null&&c(e,["bytesBase64Encoded"],Ai(i));const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function ub(t){const e={},n=u(t,["maskMode"]);n!=null&&c(e,["maskMode"],n);const i=u(t,["segmentationClasses"]);i!=null&&c(e,["maskClasses"],i);const o=u(t,["maskDilation"]);return o!=null&&c(e,["dilation"],o),e}function cb(t){const e={},n=u(t,["controlType"]);n!=null&&c(e,["controlType"],n);const i=u(t,["enableControlImageComputation"]);return i!=null&&c(e,["computeControl"],i),e}function db(t){const e={},n=u(t,["styleDescription"]);return n!=null&&c(e,["styleDescription"],n),e}function fb(t){const e={},n=u(t,["subjectType"]);n!=null&&c(e,["subjectType"],n);const i=u(t,["subjectDescription"]);return i!=null&&c(e,["subjectDescription"],i),e}function hb(t){const e={},n=u(t,["referenceImage"]);n!=null&&c(e,["referenceImage"],bo(n));const i=u(t,["referenceId"]);i!=null&&c(e,["referenceId"],i);const o=u(t,["referenceType"]);o!=null&&c(e,["referenceType"],o);const r=u(t,["maskImageConfig"]);r!=null&&c(e,["maskImageConfig"],ub(r));const l=u(t,["controlImageConfig"]);l!=null&&c(e,["controlImageConfig"],cb(l));const d=u(t,["styleImageConfig"]);d!=null&&c(e,["styleImageConfig"],db(d));const h=u(t,["subjectImageConfig"]);return h!=null&&c(e,["subjectImageConfig"],fb(h)),e}function pb(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&c(e,["parameters","storageUri"],i);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&c(e,["parameters","negativePrompt"],o);const r=u(t,["numberOfImages"]);e!==void 0&&r!=null&&c(e,["parameters","sampleCount"],r);const l=u(t,["aspectRatio"]);e!==void 0&&l!=null&&c(e,["parameters","aspectRatio"],l);const d=u(t,["guidanceScale"]);e!==void 0&&d!=null&&c(e,["parameters","guidanceScale"],d);const h=u(t,["seed"]);e!==void 0&&h!=null&&c(e,["parameters","seed"],h);const p=u(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&c(e,["parameters","safetySetting"],p);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&c(e,["parameters","personGeneration"],y);const x=u(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&c(e,["parameters","includeSafetyAttributes"],x);const C=u(t,["includeRaiReason"]);e!==void 0&&C!=null&&c(e,["parameters","includeRaiReason"],C);const T=u(t,["language"]);e!==void 0&&T!=null&&c(e,["parameters","language"],T);const w=u(t,["outputMimeType"]);e!==void 0&&w!=null&&c(e,["parameters","outputOptions","mimeType"],w);const E=u(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&c(e,["parameters","outputOptions","compressionQuality"],E);const M=u(t,["addWatermark"]);e!==void 0&&M!=null&&c(e,["parameters","addWatermark"],M);const N=u(t,["editMode"]);e!==void 0&&N!=null&&c(e,["parameters","editMode"],N);const P=u(t,["baseSteps"]);return e!==void 0&&P!=null&&c(e,["parameters","editConfig","baseSteps"],P),n}function mb(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["referenceImages"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>hb(h))),c(n,["instances[0]","referenceImages"],d)}const l=u(e,["config"]);return l!=null&&c(n,["config"],pb(l,n)),n}function gb(t,e){const n={},i=u(t,["includeRaiReason"]);e!==void 0&&i!=null&&c(e,["parameters","includeRaiReason"],i);const o=u(t,["outputMimeType"]);e!==void 0&&o!=null&&c(e,["parameters","outputOptions","mimeType"],o);const r=u(t,["outputCompressionQuality"]);e!==void 0&&r!=null&&c(e,["parameters","outputOptions","compressionQuality"],r);const l=u(t,["enhanceInputImage"]);e!==void 0&&l!=null&&c(e,["parameters","upscaleConfig","enhanceInputImage"],l);const d=u(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&c(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=u(t,["numberOfImages"]);e!==void 0&&h!=null&&c(e,["parameters","sampleCount"],h);const p=u(t,["mode"]);return e!==void 0&&p!=null&&c(e,["parameters","mode"],p),n}function yb(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["image"]);o!=null&&c(n,["instances[0]","image"],bo(o));const r=u(e,["upscaleFactor"]);r!=null&&c(n,["parameters","upscaleConfig","upscaleFactor"],r);const l=u(e,["config"]);return l!=null&&c(n,["config"],gb(l,n)),n}function xb(t){const e={},n=u(t,["productImage"]);return n!=null&&c(e,["image"],bo(n)),e}function vb(t,e){const n={},i=u(t,["prompt"]);e!==void 0&&i!=null&&c(e,["instances[0]","prompt"],i);const o=u(t,["personImage"]);e!==void 0&&o!=null&&c(e,["instances[0]","personImage","image"],bo(o));const r=u(t,["productImages"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(d=>xb(d))),c(e,["instances[0]","productImages"],l)}return n}function Cb(t,e){const n={},i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);const o=u(t,["baseSteps"]);e!==void 0&&o!=null&&c(e,["parameters","editConfig","baseSteps"],o);const r=u(t,["outputGcsUri"]);e!==void 0&&r!=null&&c(e,["parameters","storageUri"],r);const l=u(t,["seed"]);e!==void 0&&l!=null&&c(e,["parameters","seed"],l);const d=u(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&c(e,["parameters","safetySetting"],d);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&c(e,["parameters","personGeneration"],h);const p=u(t,["outputMimeType"]);e!==void 0&&p!=null&&c(e,["parameters","outputOptions","mimeType"],p);const y=u(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&c(e,["parameters","outputOptions","compressionQuality"],y);const x=u(t,["enhancePrompt"]);return e!==void 0&&x!=null&&c(e,["parameters","enhancePrompt"],x),n}function _b(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["source"]);o!=null&&c(n,["config"],vb(o,n));const r=u(e,["config"]);return r!=null&&c(n,["config"],Cb(r,n)),n}function Tb(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],be(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function Sb(t,e,n){const i={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&c(n,["_query","pageSize"],o);const r=u(e,["pageToken"]);n!==void 0&&r!=null&&c(n,["_query","pageToken"],r);const l=u(e,["filter"]);n!==void 0&&l!=null&&c(n,["_query","filter"],l);const d=u(e,["queryBase"]);return n!==void 0&&d!=null&&c(n,["_url","models_url"],Zy(t,d)),i}function wb(t,e){const n={},i=u(e,["config"]);return i!=null&&c(n,["config"],Sb(t,i,n)),n}function Eb(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&c(e,["description"],o);const r=u(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&c(e,["defaultCheckpointId"],r),n}function Mb(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],Eb(o,n)),n}function kb(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],be(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function bb(t,e){const n={},i=u(t,["systemInstruction"]);e!==void 0&&i!=null&&c(e,["systemInstruction"],ko(pt(i)));const o=u(t,["tools"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>px(d))),c(e,["tools"],l)}const r=u(t,["generationConfig"]);return e!==void 0&&r!=null&&c(e,["generationConfig"],r),n}function Nb(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["contents"]);if(o!=null){let l=Ht(o);Array.isArray(l)&&(l=l.map(d=>ko(d))),c(n,["contents"],l)}const r=u(e,["config"]);return r!=null&&c(n,["config"],bb(r,n)),n}function Ib(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["contents"]);if(o!=null){let l=Ht(o);Array.isArray(l)&&(l=l.map(d=>ko(d))),c(n,["contents"],l)}const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function Pb(t){const e={},n=u(t,["uri"]);n!=null&&c(e,["gcsUri"],n);const i=u(t,["videoBytes"]);i!=null&&c(e,["bytesBase64Encoded"],Ai(i));const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Ab(t,e){const n={},i=u(t,["numberOfVideos"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);const o=u(t,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);const r=u(t,["fps"]);e!==void 0&&r!=null&&c(e,["parameters","fps"],r);const l=u(t,["durationSeconds"]);e!==void 0&&l!=null&&c(e,["parameters","durationSeconds"],l);const d=u(t,["seed"]);e!==void 0&&d!=null&&c(e,["parameters","seed"],d);const h=u(t,["aspectRatio"]);e!==void 0&&h!=null&&c(e,["parameters","aspectRatio"],h);const p=u(t,["resolution"]);e!==void 0&&p!=null&&c(e,["parameters","resolution"],p);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&c(e,["parameters","personGeneration"],y);const x=u(t,["pubsubTopic"]);e!==void 0&&x!=null&&c(e,["parameters","pubsubTopic"],x);const C=u(t,["negativePrompt"]);e!==void 0&&C!=null&&c(e,["parameters","negativePrompt"],C);const T=u(t,["enhancePrompt"]);e!==void 0&&T!=null&&c(e,["parameters","enhancePrompt"],T);const w=u(t,["generateAudio"]);e!==void 0&&w!=null&&c(e,["parameters","generateAudio"],w);const E=u(t,["lastFrame"]);e!==void 0&&E!=null&&c(e,["instances[0]","lastFrame"],bo(E));const M=u(t,["compressionQuality"]);return e!==void 0&&M!=null&&c(e,["parameters","compressionQuality"],M),n}function Rb(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],be(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["image"]);r!=null&&c(n,["instances[0]","image"],bo(r));const l=u(e,["video"]);l!=null&&c(n,["instances[0]","video"],Pb(l));const d=u(e,["config"]);return d!=null&&c(n,["config"],Ab(d,n)),n}function Db(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function Lb(t){const e={},n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Fb(t){const e={},n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Ub(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],Db(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],Lb(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],Fb(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&c(e,["text"],x),e}function Vb(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Ub(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function Bb(t){const e={},n=u(t,["citationSources"]);return n!=null&&c(e,["citations"],n),e}function Ob(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&c(e,["urlRetrievalStatus"],i),e}function Hb(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ob(o))),c(e,["urlMetadata"],i)}return e}function zb(t){const e={},n=u(t,["content"]);n!=null&&c(e,["content"],Vb(n));const i=u(t,["citationMetadata"]);i!=null&&c(e,["citationMetadata"],Bb(i));const o=u(t,["tokenCount"]);o!=null&&c(e,["tokenCount"],o);const r=u(t,["finishReason"]);r!=null&&c(e,["finishReason"],r);const l=u(t,["urlContextMetadata"]);l!=null&&c(e,["urlContextMetadata"],Hb(l));const d=u(t,["avgLogprobs"]);d!=null&&c(e,["avgLogprobs"],d);const h=u(t,["groundingMetadata"]);h!=null&&c(e,["groundingMetadata"],h);const p=u(t,["index"]);p!=null&&c(e,["index"],p);const y=u(t,["logprobsResult"]);y!=null&&c(e,["logprobsResult"],y);const x=u(t,["safetyRatings"]);return x!=null&&c(e,["safetyRatings"],x),e}function Jm(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>zb(p))),c(e,["candidates"],h)}const o=u(t,["modelVersion"]);o!=null&&c(e,["modelVersion"],o);const r=u(t,["promptFeedback"]);r!=null&&c(e,["promptFeedback"],r);const l=u(t,["responseId"]);l!=null&&c(e,["responseId"],l);const d=u(t,["usageMetadata"]);return d!=null&&c(e,["usageMetadata"],d),e}function $b(t){const e={},n=u(t,["values"]);return n!=null&&c(e,["values"],n),e}function qb(){return{}}function Gb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>$b(l))),c(e,["embeddings"],r)}return u(t,["metadata"])!=null&&c(e,["metadata"],qb()),e}function jb(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&c(e,["imageBytes"],Ai(n));const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function mx(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&c(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&c(e,["scores"],i);const o=u(t,["contentType"]);return o!=null&&c(e,["contentType"],o),e}function Wb(t){const e={},n=u(t,["_self"]);n!=null&&c(e,["image"],jb(n));const i=u(t,["raiFilteredReason"]);i!=null&&c(e,["raiFilteredReason"],i);const o=u(t,["_self"]);return o!=null&&c(e,["safetyAttributes"],mx(o)),e}function Jb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Wb(l))),c(e,["generatedImages"],r)}const o=u(t,["positivePromptSafetyAttributes"]);return o!=null&&c(e,["positivePromptSafetyAttributes"],mx(o)),e}function Yb(t){const e={},n=u(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&c(e,["createTime"],i);const o=u(t,["updateTime"]);return o!=null&&c(e,["updateTime"],o),e}function Lc(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["version"]);r!=null&&c(e,["version"],r);const l=u(t,["_self"]);l!=null&&c(e,["tunedModelInfo"],Yb(l));const d=u(t,["inputTokenLimit"]);d!=null&&c(e,["inputTokenLimit"],d);const h=u(t,["outputTokenLimit"]);h!=null&&c(e,["outputTokenLimit"],h);const p=u(t,["supportedGenerationMethods"]);return p!=null&&c(e,["supportedActions"],p),e}function Kb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["_self"]);if(o!=null){let r=ex(o);Array.isArray(r)&&(r=r.map(l=>Lc(l))),c(e,["models"],r)}return e}function Xb(){return{}}function Qb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["totalTokens"]);i!=null&&c(e,["totalTokens"],i);const o=u(t,["cachedContentTokenCount"]);return o!=null&&c(e,["cachedContentTokenCount"],o),e}function Zb(t){const e={},n=u(t,["video","uri"]);n!=null&&c(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&c(e,["videoBytes"],Ai(i));const o=u(t,["encoding"]);return o!=null&&c(e,["mimeType"],o),e}function eN(t){const e={},n=u(t,["_self"]);return n!=null&&c(e,["video"],Zb(n)),e}function tN(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>eN(l))),c(e,["generatedVideos"],r)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&c(e,["raiMediaFilteredReasons"],o),e}function nN(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["metadata"]);i!=null&&c(e,["metadata"],i);const o=u(t,["done"]);o!=null&&c(e,["done"],o);const r=u(t,["error"]);r!=null&&c(e,["error"],r);const l=u(t,["response","generateVideoResponse"]);return l!=null&&c(e,["response"],tN(l)),e}function iN(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function oN(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function sN(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function rN(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],iN(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],oN(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],sN(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&c(e,["text"],x),e}function aN(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>rN(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function lN(t){const e={},n=u(t,["citations"]);return n!=null&&c(e,["citations"],n),e}function uN(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&c(e,["urlRetrievalStatus"],i),e}function cN(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>uN(o))),c(e,["urlMetadata"],i)}return e}function dN(t){const e={},n=u(t,["content"]);n!=null&&c(e,["content"],aN(n));const i=u(t,["citationMetadata"]);i!=null&&c(e,["citationMetadata"],lN(i));const o=u(t,["finishMessage"]);o!=null&&c(e,["finishMessage"],o);const r=u(t,["finishReason"]);r!=null&&c(e,["finishReason"],r);const l=u(t,["urlContextMetadata"]);l!=null&&c(e,["urlContextMetadata"],cN(l));const d=u(t,["avgLogprobs"]);d!=null&&c(e,["avgLogprobs"],d);const h=u(t,["groundingMetadata"]);h!=null&&c(e,["groundingMetadata"],h);const p=u(t,["index"]);p!=null&&c(e,["index"],p);const y=u(t,["logprobsResult"]);y!=null&&c(e,["logprobsResult"],y);const x=u(t,["safetyRatings"]);return x!=null&&c(e,["safetyRatings"],x),e}function Ym(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(y=>dN(y))),c(e,["candidates"],p)}const o=u(t,["createTime"]);o!=null&&c(e,["createTime"],o);const r=u(t,["modelVersion"]);r!=null&&c(e,["modelVersion"],r);const l=u(t,["promptFeedback"]);l!=null&&c(e,["promptFeedback"],l);const d=u(t,["responseId"]);d!=null&&c(e,["responseId"],d);const h=u(t,["usageMetadata"]);return h!=null&&c(e,["usageMetadata"],h),e}function fN(t){const e={},n=u(t,["truncated"]);n!=null&&c(e,["truncated"],n);const i=u(t,["token_count"]);return i!=null&&c(e,["tokenCount"],i),e}function hN(t){const e={},n=u(t,["values"]);n!=null&&c(e,["values"],n);const i=u(t,["statistics"]);return i!=null&&c(e,["statistics"],fN(i)),e}function pN(t){const e={},n=u(t,["billableCharacterCount"]);return n!=null&&c(e,["billableCharacterCount"],n),e}function mN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions[]","embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>hN(l))),c(e,["embeddings"],r)}const o=u(t,["metadata"]);return o!=null&&c(e,["metadata"],pN(o)),e}function gN(t){const e={},n=u(t,["gcsUri"]);n!=null&&c(e,["gcsUri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&c(e,["imageBytes"],Ai(i));const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function gx(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&c(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&c(e,["scores"],i);const o=u(t,["contentType"]);return o!=null&&c(e,["contentType"],o),e}function el(t){const e={},n=u(t,["_self"]);n!=null&&c(e,["image"],gN(n));const i=u(t,["raiFilteredReason"]);i!=null&&c(e,["raiFilteredReason"],i);const o=u(t,["_self"]);o!=null&&c(e,["safetyAttributes"],gx(o));const r=u(t,["prompt"]);return r!=null&&c(e,["enhancedPrompt"],r),e}function yN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>el(l))),c(e,["generatedImages"],r)}const o=u(t,["positivePromptSafetyAttributes"]);return o!=null&&c(e,["positivePromptSafetyAttributes"],gx(o)),e}function xN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>el(r))),c(e,["generatedImages"],o)}return e}function vN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>el(r))),c(e,["generatedImages"],o)}return e}function CN(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>el(o))),c(e,["generatedImages"],i)}return e}function _N(t){const e={},n=u(t,["endpoint"]);n!=null&&c(e,["name"],n);const i=u(t,["deployedModelId"]);return i!=null&&c(e,["deployedModelId"],i),e}function TN(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&c(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&c(e,["createTime"],i);const o=u(t,["updateTime"]);return o!=null&&c(e,["updateTime"],o),e}function SN(t){const e={},n=u(t,["checkpointId"]);n!=null&&c(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&c(e,["epoch"],i);const o=u(t,["step"]);return o!=null&&c(e,["step"],o),e}function Fc(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["versionId"]);r!=null&&c(e,["version"],r);const l=u(t,["deployedModels"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(C=>_N(C))),c(e,["endpoints"],x)}const d=u(t,["labels"]);d!=null&&c(e,["labels"],d);const h=u(t,["_self"]);h!=null&&c(e,["tunedModelInfo"],TN(h));const p=u(t,["defaultCheckpointId"]);p!=null&&c(e,["defaultCheckpointId"],p);const y=u(t,["checkpoints"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(C=>SN(C))),c(e,["checkpoints"],x)}return e}function wN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["_self"]);if(o!=null){let r=ex(o);Array.isArray(r)&&(r=r.map(l=>Fc(l))),c(e,["models"],r)}return e}function EN(){return{}}function MN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["totalTokens"]);return i!=null&&c(e,["totalTokens"],i),e}function kN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["tokensInfo"]);return i!=null&&c(e,["tokensInfo"],i),e}function bN(t){const e={},n=u(t,["gcsUri"]);n!=null&&c(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&c(e,["videoBytes"],Ai(i));const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function NN(t){const e={},n=u(t,["_self"]);return n!=null&&c(e,["video"],bN(n)),e}function IN(t){const e={},n=u(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>NN(l))),c(e,["generatedVideos"],r)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&c(e,["raiMediaFilteredReasons"],o),e}function PN(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["metadata"]);i!=null&&c(e,["metadata"],i);const o=u(t,["done"]);o!=null&&c(e,["done"],o);const r=u(t,["error"]);r!=null&&c(e,["error"],r);const l=u(t,["response"]);return l!=null&&c(e,["response"],IN(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AN="Content-Type",RN="X-Server-Timeout",DN="User-Agent",Uc="x-goog-api-client",LN="1.14.0",FN=`google-genai-sdk/${LN}`,UN="v1beta1",VN="v1beta",Km=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class BN{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:UN,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:VN,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[l,d]of Object.entries(e.queryParams))o.searchParams.append(l,String(d));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,n,e.abortSignal),this.unaryApiCall(o,r,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,r]of Object.entries(n))typeof r=="object"?i[o]=Object.assign(Object.assign({},i[o]),r):r!==void 0&&(i[o]=r);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,n,e.abortSignal),this.streamApiCall(o,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const o=new AbortController,r=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>o.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=r}return n&&n.extraBody!==null&&ON(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Xm(o),new Nc(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Xm(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return mo(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),r=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";for(;;){const{done:d,value:h}=yield Ve(o.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=r.decode(h,{stream:!0});try{const x=JSON.parse(p);if("error"in x){const C=JSON.parse(JSON.stringify(x.error)),T=C.status,w=C.code,E=`got status: ${T}. ${JSON.stringify(x)}`;if(w>=400&&w<600)throw new Qa({message:E,status:w})}}catch(x){if(x.name==="ApiError")throw x}l+=p;let y=l.match(Km);for(;y;){const x=y[1];try{const C=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ve(new Nc(C)),l=l.slice(y[0].length),y=l.match(Km)}catch(C){throw new Error(`exception parsing stream chunk ${x}. ${C}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=FN+" "+this.clientOptions.userAgentExtra;return e[DN]=n,e[Uc]=n,e[AN]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append(RN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const r=this.clientOptions.uploader,l=await r.stat(e);o.sizeBytes=String(l.size);const d=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=d;const h=await this.fetchUploadUrl(o,n);return r.upload(e,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const r={file:e},l=await this.request({path:re("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:o});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(i=l==null?void 0:l.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function Xm(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Qa({message:o,status:n}):new Error(o)}}function ON(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const r=JSON.parse(t.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))n=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(r,l){const d=Object.assign({},r);for(const h in l)if(Object.prototype.hasOwnProperty.call(l,h)){const p=l[h],y=d[h];p&&typeof p=="object"&&!Array.isArray(p)&&y&&typeof y=="object"&&!Array.isArray(y)?d[h]=i(y,p):(y&&p&&typeof y!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof y}, New type: ${typeof p}. Overwriting.`),d[h]=p)}return d}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HN="mcp_used/unknown";let zN=!1;function yx(t){for(const e of t)if($N(e)||typeof e=="object"&&"inputSchema"in e)return!0;return zN}function xx(t){var e;const n=(e=t[Uc])!==null&&e!==void 0?e:"";t[Uc]=(n+` ${HN}`).trimStart()}function $N(t){return t!==null&&typeof t=="object"&&t instanceof od}function qN(t,e=100){return mo(this,arguments,function*(){let i,o=0;for(;o<e;){const r=yield Ve(t.listTools({cursor:i}));for(const l of r.tools)yield yield Ve(l),o++;if(!r.nextCursor)break;i=r.nextCursor}})}class od{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new od(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const r={},l=[];for(const y of this.mcpClients)try{for(var d=!0,h=(n=void 0,Is(qN(y))),p;p=await h.next(),e=p.done,!e;d=!0){o=p.value,d=!1;const x=o;l.push(x);const C=x.name;if(r[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);r[C]=y}}catch(x){n={error:x}}finally{try{!d&&!e&&(i=h.return)&&await i.call(h)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),kS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const l=await o.callTool({name:i.name,arguments:i.args},void 0,r);n.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function GN(t,e,n){const i=new vS;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const r=AM(o);Object.assign(i,r),e(i)}class jN{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),l=YN(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),h=`${o}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${d}`;let p=()=>{};const y=new Promise(R=>{p=R}),x=e.callbacks,C=function(){p({})},T=this.apiClient,w={onopen:C,onmessage:R=>{GN(T,x.onmessage,R)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(R){},onclose:(i=x==null?void 0:x.onclose)!==null&&i!==void 0?i:function(R){}},E=this.webSocketFactory.create(h,JN(l),w);E.connect(),await y;const M=be(this.apiClient,e.model),N=dx({model:M}),P=Dc({setup:N});return E.send(JSON.stringify(P)),new WN(E,this.apiClient)}}class WN{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=NE(e),i=fx(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=IE(e),i=Dc(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=Dc({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(co.PLAY)}pause(){this.sendPlaybackControl(co.PAUSE)}stop(){this.sendPlaybackControl(co.STOP)}resetContext(){this.sendPlaybackControl(co.RESET_CONTEXT)}close(){this.conn.close()}}function JN(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function YN(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function XN(t,e,n){const i=new xS;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const r=JSON.parse(o);if(t.isVertexAI()){const l=jM(r);Object.assign(i,l)}else{const l=SM(r);Object.assign(i,l)}e(i)}class QN{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new jN(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,r,l,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let y;const x=this.apiClient.getHeaders();e.config&&e.config.tools&&yx(e.config.tools)&&xx(x);const C=nI(x);if(this.apiClient.isVertexAI())y=`${h}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const j=this.apiClient.getApiKey();let Q="BidiGenerateContent",X="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Q="BidiGenerateContentConstrained",X="access_token"),y=`${h}/ws/google.ai.generativelanguage.${p}.GenerativeService.${Q}?${X}=${j}`}let T=()=>{};const w=new Promise(j=>{T=j}),E=e.callbacks,M=function(){var j;(j=E==null?void 0:E.onopen)===null||j===void 0||j.call(E),T({})},N=this.apiClient,P={onopen:M,onmessage:j=>{XN(N,E.onmessage,j)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(j){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(j){}},R=this.webSocketFactory.create(y,tI(C),P);R.connect(),await w;let D=be(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const j=this.apiClient.getProject(),Q=this.apiClient.getLocation();D=`projects/${j}/locations/${Q}/`+D}let L={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Aa.AUDIO]}:e.config.responseModalities=[Aa.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(d=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&d!==void 0?d:[],z=[];for(const j of O)if(this.isCallableTool(j)){const Q=j;z.push(await Q.tool())}else z.push(j);z.length>0&&(e.config.tools=z);const J={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=oM(this.apiClient,J):L=EE(this.apiClient,J),delete L.config,R.send(JSON.stringify(L)),new eI(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ZN={turnComplete:!0};class eI{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Ht(n.turns),e.isVertexAI()?i=i.map(o=>ko(o)):i=i.map(o=>Za(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const r of i){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(KN)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},ZN),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:aM(e)}:n={realtimeInput:bE(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function tI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function nI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qm=10;function Zm(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(go(l)){o=!0;break}if(!o)return!0;const r=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function go(t){return"callTool"in t&&typeof t.callTool=="function"}function iI(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>go(o)))!==null&&i!==void 0?i:!1}function oI(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!go(o)))!==null&&i!==void 0?i:!1}function eg(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sI extends Pi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,r,l,d;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!iI(n)||Zm(n.config))return await this.generateContentInternal(h);if(oI(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,y;const x=Ht(h.contents),C=(r=(o=(i=h.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Qm;let T=0;for(;T<C&&(p=await this.generateContentInternal(h),!(!p.functionCalls||p.functionCalls.length===0));){const w=p.candidates[0].content,E=[];for(const M of(d=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&d!==void 0?d:[])if(go(M)){const P=await M.callTool(p.functionCalls);E.push(...P)}T++,y={role:"user",parts:E},h.contents=Ht(h.contents),h.contents.push(w),h.contents.push(y),eg(h.config)&&(x.push(w),x.push(y))}return eg(h.config)&&(p.automaticFunctionCallingHistory=x),p},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Zm(n.config)){const i=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let r;const l=[];if(i!=null&&i.generatedImages)for(const h of i.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((o=h==null?void 0:h.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?r=h==null?void 0:h.safetyAttributes:l.push(h);let d;return r?d={generatedImages:l,positivePromptSafetyAttributes:r,sdkHttpResponse:i.sdkHttpResponse}:d={generatedImages:l,sdkHttpResponse:i.sdkHttpResponse},d}),this.list=async n=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Ws(ki.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(l),l)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>await this.generateVideosInternal(n)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const r=(n=e.config)===null||n===void 0?void 0:n.tools;if(!r)return e;const l=await Promise.all(r.map(async h=>go(h)?await h.tool():h)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(d.config.tools=l,e.config&&e.config.tools&&yx(e.config.tools)){const h=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let p=Object.assign({},h);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),xx(p),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return d}async initAfcToolsMap(e){var n,i,o;const r=new Map;for(const l of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(go(l)){const d=l,h=await d.tool();for(const p of(o=h.functionDeclarations)!==null&&o!==void 0?o:[]){if(!p.name)throw new Error("Function declaration name is required.");if(r.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);r.set(p.name,d)}}return r}async processAfcStream(e){var n,i,o;const r=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Qm;let l=!1,d=0;const h=await this.initAfcToolsMap(e);return(function(p,y,x){var C,T;return mo(this,arguments,function*(){for(var w,E,M,N;d<r;){l&&(d++,l=!1);const L=yield Ve(p.processParamsMaybeAddMcpUsage(x)),O=yield Ve(p.generateContentStreamInternal(L)),z=[],J=[];try{for(var P=!0,R=(E=void 0,Is(O)),D;D=yield Ve(R.next()),w=D.done,!w;P=!0){N=D.value,P=!1;const j=N;if(yield yield Ve(j),j.candidates&&(!((C=j.candidates[0])===null||C===void 0)&&C.content)){J.push(j.candidates[0].content);for(const Q of(T=j.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(d<r&&Q.functionCall){if(!Q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(Q.functionCall.name)){const X=yield Ve(y.get(Q.functionCall.name).callTool([Q.functionCall]));z.push(...X)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${Q.functionCall.name}`)}}}}catch(j){E={error:j}}finally{try{!P&&!w&&(M=R.return)&&(yield Ve(M.call(R)))}finally{if(E)throw E.error}}if(z.length>0){l=!0;const j=new vs;j.candidates=[{content:{role:"user",parts:z}}],yield yield Ve(j);const Q=[];Q.push(...J),Q.push({role:"user",parts:z});const X=Ht(x.contents).concat(Q);x.contents=X}else break}})})(this,h,e)}async generateContentInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Wm(this.apiClient,e);return d=re("{model}:generateContent",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=Ym(y),C=new vs;return Object.assign(C,x),C})}else{const p=jm(this.apiClient,e);return d=re("{model}:generateContent",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=Jm(y),C=new vs;return Object.assign(C,x),C})}}async generateContentStreamInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Wm(this.apiClient,e);return d=re("{model}:streamGenerateContent?alt=sse",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.requestStream({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(x){return mo(this,arguments,function*(){var C,T,w,E;try{for(var M=!0,N=Is(x),P;P=yield Ve(N.next()),C=P.done,!C;M=!0){E=P.value,M=!1;const R=E,D=Ym(yield Ve(R.json()));D.sdkHttpResponse={headers:R.headers};const L=new vs;Object.assign(L,D),yield yield Ve(L)}}catch(R){T={error:R}}finally{try{!M&&!C&&(w=N.return)&&(yield Ve(w.call(N)))}finally{if(T)throw T.error}}})})}else{const p=jm(this.apiClient,e);return d=re("{model}:streamGenerateContent?alt=sse",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.requestStream({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(x){return mo(this,arguments,function*(){var C,T,w,E;try{for(var M=!0,N=Is(x),P;P=yield Ve(N.next()),C=P.done,!C;M=!0){E=P.value,M=!1;const R=E,D=Jm(yield Ve(R.json()));D.sdkHttpResponse={headers:R.headers};const L=new vs;Object.assign(L,D),yield yield Ve(L)}}catch(R){T={error:R}}finally{try{!M&&!C&&(w=N.return)&&(yield Ve(w.call(N)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=rb(this.apiClient,e);return d=re("{model}:predict",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=mN(y),C=new Em;return Object.assign(C,x),C})}else{const p=xk(this.apiClient,e);return d=re("{model}:batchEmbedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=Gb(y),C=new Em;return Object.assign(C,x),C})}}async generateImagesInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=lb(this.apiClient,e);return d=re("{model}:predict",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=yN(y),C=new Mm;return Object.assign(C,x),C})}else{const p=Ck(this.apiClient,e);return d=re("{model}:predict",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=Jb(y),C=new Mm;return Object.assign(C,x),C})}}async editImageInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const d=mb(this.apiClient,e);return r=re("{model}:predict",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=xN(h),y=new dS;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const d=yb(this.apiClient,e);return r=re("{model}:predict",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=vN(h),y=new fS;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const d=_b(this.apiClient,e);return r=re("{model}:predict",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const p=CN(h),y=new hS;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Tb(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>Fc(y))}else{const p=_k(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>Lc(y))}}async listInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=wb(this.apiClient,e);return d=re("{models_url}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=wN(y),C=new km;return Object.assign(C,x),C})}else{const p=Sk(this.apiClient,e);return d=re("{models_url}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=Kb(y),C=new km;return Object.assign(C,x),C})}}async update(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Mb(this.apiClient,e);return d=re("{model}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>Fc(y))}else{const p=Ek(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>Lc(y))}}async delete(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=kb(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(()=>{const y=EN(),x=new bm;return Object.assign(x,y),x})}else{const p=Mk(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(()=>{const y=Xb(),x=new bm;return Object.assign(x,y),x})}}async countTokens(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Nb(this.apiClient,e);return d=re("{model}:countTokens",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=MN(y),C=new Nm;return Object.assign(C,x),C})}else{const p=bk(this.apiClient,e);return d=re("{model}:countTokens",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=Qb(y),C=new Nm;return Object.assign(C,x),C})}}async computeTokens(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const d=Ib(this.apiClient,e);return r=re("{model}:computeTokens",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=kN(h),y=new pS;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=Rb(this.apiClient,e);return d=re("{model}:predictLongRunning",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l.then(y=>{const x=PN(y),C=new Ra;return Object.assign(C,x),C})}else{const p=Pk(this.apiClient,e);return d=re("{model}:predictLongRunning",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>{const x=nN(y),C=new Ra;return Object.assign(C,x),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rI(t){const e={},n=u(t,["operationName"]);n!=null&&c(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function aI(t){const e={},n=u(t,["operationName"]);n!=null&&c(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function lI(t){const e={},n=u(t,["operationName"]);n!=null&&c(e,["operationName"],n);const i=u(t,["resourceName"]);i!=null&&c(e,["_url","resourceName"],i);const o=u(t,["config"]);return o!=null&&c(e,["config"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uI extends Pi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let r;i&&"httpOptions"in i&&(r=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let r;i&&"httpOptions"in i&&(r=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=aI(e);return d=re("{operationName}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),l}else{const p=rI(e);return d=re("{operationName}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l}}async fetchPredictVideosOperationInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const d=lI(e);return r=re("{resourceName}:fetchPredictOperation",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cI(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function vx(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],cI(n)),e}function dI(t){const e={},n=u(t,["speaker"]);n!=null&&c(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&c(e,["voiceConfig"],vx(i)),e}function fI(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>dI(o))),c(e,["speakerVoiceConfigs"],i)}return e}function hI(t){const e={},n=u(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],vx(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&c(e,["multiSpeakerVoiceConfig"],fI(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function pI(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function mI(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function gI(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function yI(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],pI(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],mI(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],gI(r));const l=u(t,["thoughtSignature"]);l!=null&&c(e,["thoughtSignature"],l);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const y=u(t,["functionResponse"]);y!=null&&c(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&c(e,["text"],x),e}function xI(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>yI(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function vI(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const l=u(t,["parametersJsonSchema"]);l!=null&&c(e,["parametersJsonSchema"],l);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function CI(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function _I(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],CI(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function TI(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function SI(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],TI(n)),e}function wI(){return{}}function EI(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function MI(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>vI(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],_I(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],SI(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],wI());const l=u(t,["computerUse"]);l!=null&&c(e,["computerUse"],EI(l));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function kI(t){const e={},n=u(t,["handle"]);if(n!=null&&c(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function tg(){return{}}function bI(t){const e={},n=u(t,["disabled"]);n!=null&&c(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&c(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&c(e,["endOfSpeechSensitivity"],o);const r=u(t,["prefixPaddingMs"]);r!=null&&c(e,["prefixPaddingMs"],r);const l=u(t,["silenceDurationMs"]);return l!=null&&c(e,["silenceDurationMs"],l),e}function NI(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&c(e,["automaticActivityDetection"],bI(n));const i=u(t,["activityHandling"]);i!=null&&c(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&c(e,["turnCoverage"],o),e}function II(t){const e={},n=u(t,["targetTokens"]);return n!=null&&c(e,["targetTokens"],n),e}function PI(t){const e={},n=u(t,["triggerTokens"]);n!=null&&c(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&c(e,["slidingWindow"],II(i)),e}function AI(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&c(e,["proactiveAudio"],n),e}function RI(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","responseModalities"],o);const r=u(t,["temperature"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","temperature"],r);const l=u(t,["topP"]);e!==void 0&&l!=null&&c(e,["setup","generationConfig","topP"],l);const d=u(t,["topK"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","topK"],d);const h=u(t,["maxOutputTokens"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","maxOutputTokens"],h);const p=u(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const y=u(t,["seed"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","seed"],y);const x=u(t,["speechConfig"]);e!==void 0&&x!=null&&c(e,["setup","generationConfig","speechConfig"],hI(id(x)));const C=u(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],C);const T=u(t,["systemInstruction"]);e!==void 0&&T!=null&&c(e,["setup","systemInstruction"],xI(pt(T)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let L=Eo(w);Array.isArray(L)&&(L=L.map(O=>MI(wo(O)))),c(e,["setup","tools"],L)}const E=u(t,["sessionResumption"]);e!==void 0&&E!=null&&c(e,["setup","sessionResumption"],kI(E));const M=u(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&c(e,["setup","inputAudioTranscription"],tg());const N=u(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&c(e,["setup","outputAudioTranscription"],tg());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&c(e,["setup","realtimeInputConfig"],NI(P));const R=u(t,["contextWindowCompression"]);e!==void 0&&R!=null&&c(e,["setup","contextWindowCompression"],PI(R));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&c(e,["setup","proactivity"],AI(D)),n}function DI(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["setup","model"],be(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],RI(o,n)),n}function LI(t,e,n){const i={},o=u(e,["expireTime"]);n!==void 0&&o!=null&&c(n,["expireTime"],o);const r=u(e,["newSessionExpireTime"]);n!==void 0&&r!=null&&c(n,["newSessionExpireTime"],r);const l=u(e,["uses"]);n!==void 0&&l!=null&&c(n,["uses"],l);const d=u(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&c(n,["bidiGenerateContentSetup"],DI(t,d));const h=u(e,["lockAdditionalFields"]);return n!==void 0&&h!=null&&c(n,["fieldMask"],h),i}function FI(t,e){const n={},i=u(e,["config"]);return i!=null&&c(n,["config"],LI(t,i,n)),n}function UI(t){const e={},n=u(t,["name"]);return n!=null&&c(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VI(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(r=>`${n}.${r}`);e.push(...o)}else e.push(n)}return e.join(",")}function BI(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const r=i.setup;typeof r=="object"&&r!==null?(t.bidiGenerateContentSetup=r,n=r):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const r=VI(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?t.fieldMask=r:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];o.length>0&&(d=o.map(p=>l.includes(p)?`generationConfig.${p}`:p));const h=[];r&&h.push(r),d.length>0&&h.push(...d),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class OI extends Pi{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=FI(this.apiClient,e);r=re("auth_tokens",d._url),l=d._query,delete d.config,delete d._url,delete d._query;const h=BI(d,e.config);return o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>UI(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HI(t){const e={},n=u(t,["name"]);n!=null&&c(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function zI(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&c(e,["_query","pageToken"],o);const r=u(t,["filter"]);return e!==void 0&&r!=null&&c(e,["_query","filter"],r),n}function $I(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],zI(n,e)),e}function qI(t){const e={},n=u(t,["textInput"]);n!=null&&c(e,["textInput"],n);const i=u(t,["output"]);return i!=null&&c(e,["output"],i),e}function GI(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=u(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>qI(o))),c(e,["examples","examples"],i)}return e}function jI(t,e){const n={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=u(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&c(e,["displayName"],i),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=u(t,["epochCount"]);e!==void 0&&o!=null&&c(e,["tuningTask","hyperparameters","epochCount"],o);const r=u(t,["learningRateMultiplier"]);if(r!=null&&c(n,["tuningTask","hyperparameters","learningRateMultiplier"],r),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=u(t,["batchSize"]);e!==void 0&&l!=null&&c(e,["tuningTask","hyperparameters","batchSize"],l);const d=u(t,["learningRate"]);return e!==void 0&&d!=null&&c(e,["tuningTask","hyperparameters","learningRate"],d),n}function WI(t){const e={},n=u(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const i=u(t,["preTunedModel"]);i!=null&&c(e,["preTunedModel"],i);const o=u(t,["trainingDataset"]);o!=null&&c(e,["tuningTask","trainingData"],GI(o));const r=u(t,["config"]);return r!=null&&c(e,["config"],jI(r,e)),e}function JI(t){const e={},n=u(t,["name"]);n!=null&&c(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function YI(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&c(e,["_query","pageToken"],o);const r=u(t,["filter"]);return e!==void 0&&r!=null&&c(e,["_query","filter"],r),n}function KI(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],YI(n,e)),e}function XI(t,e){const n={},i=u(t,["gcsUri"]);e!==void 0&&i!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],i);const o=u(t,["vertexDatasetResource"]);if(e!==void 0&&o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],o),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function QI(t,e){const n={},i=u(t,["gcsUri"]);i!=null&&c(n,["validationDatasetUri"],i);const o=u(t,["vertexDatasetResource"]);return e!==void 0&&o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],o),n}function ZI(t,e){const n={},i=u(t,["validationDataset"]);e!==void 0&&i!=null&&c(e,["supervisedTuningSpec"],QI(i,n));const o=u(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&c(e,["tunedModelDisplayName"],o);const r=u(t,["description"]);e!==void 0&&r!=null&&c(e,["description"],r);const l=u(t,["epochCount"]);e!==void 0&&l!=null&&c(e,["supervisedTuningSpec","hyperParameters","epochCount"],l);const d=u(t,["learningRateMultiplier"]);e!==void 0&&d!=null&&c(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const h=u(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&c(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h);const p=u(t,["preTunedModelCheckpointId"]);p!=null&&c(n,["preTunedModel","checkpointId"],p);const y=u(t,["adapterSize"]);if(e!==void 0&&y!=null&&c(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function e2(t){const e={},n=u(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const i=u(t,["preTunedModel"]);i!=null&&c(e,["preTunedModel"],i);const o=u(t,["trainingDataset"]);o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],XI(o,e));const r=u(t,["config"]);return r!=null&&c(e,["config"],ZI(r,e)),e}function t2(t){const e={},n=u(t,["name"]);n!=null&&c(e,["model"],n);const i=u(t,["name"]);return i!=null&&c(e,["endpoint"],i),e}function Cx(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["state"]);o!=null&&c(e,["state"],Xy(o));const r=u(t,["createTime"]);r!=null&&c(e,["createTime"],r);const l=u(t,["tuningTask","startTime"]);l!=null&&c(e,["startTime"],l);const d=u(t,["tuningTask","completeTime"]);d!=null&&c(e,["endTime"],d);const h=u(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const p=u(t,["description"]);p!=null&&c(e,["description"],p);const y=u(t,["baseModel"]);y!=null&&c(e,["baseModel"],y);const x=u(t,["_self"]);x!=null&&c(e,["tunedModel"],t2(x));const C=u(t,["customBaseModel"]);C!=null&&c(e,["customBaseModel"],C);const T=u(t,["experiment"]);T!=null&&c(e,["experiment"],T);const w=u(t,["labels"]);w!=null&&c(e,["labels"],w);const E=u(t,["outputUri"]);E!=null&&c(e,["outputUri"],E);const M=u(t,["pipelineJob"]);M!=null&&c(e,["pipelineJob"],M);const N=u(t,["serviceAccount"]);N!=null&&c(e,["serviceAccount"],N);const P=u(t,["tunedModelDisplayName"]);return P!=null&&c(e,["tunedModelDisplayName"],P),e}function n2(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["tunedModels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Cx(l))),c(e,["tuningJobs"],r)}return e}function i2(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["metadata"]);o!=null&&c(e,["metadata"],o);const r=u(t,["done"]);r!=null&&c(e,["done"],r);const l=u(t,["error"]);return l!=null&&c(e,["error"],l),e}function o2(t){const e={},n=u(t,["checkpointId"]);n!=null&&c(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&c(e,["epoch"],i);const o=u(t,["step"]);o!=null&&c(e,["step"],o);const r=u(t,["endpoint"]);return r!=null&&c(e,["endpoint"],r),e}function s2(t){const e={},n=u(t,["model"]);n!=null&&c(e,["model"],n);const i=u(t,["endpoint"]);i!=null&&c(e,["endpoint"],i);const o=u(t,["checkpoints"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>o2(l))),c(e,["checkpoints"],r)}return e}function Vc(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["state"]);o!=null&&c(e,["state"],Xy(o));const r=u(t,["createTime"]);r!=null&&c(e,["createTime"],r);const l=u(t,["startTime"]);l!=null&&c(e,["startTime"],l);const d=u(t,["endTime"]);d!=null&&c(e,["endTime"],d);const h=u(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const p=u(t,["error"]);p!=null&&c(e,["error"],p);const y=u(t,["description"]);y!=null&&c(e,["description"],y);const x=u(t,["baseModel"]);x!=null&&c(e,["baseModel"],x);const C=u(t,["tunedModel"]);C!=null&&c(e,["tunedModel"],s2(C));const T=u(t,["preTunedModel"]);T!=null&&c(e,["preTunedModel"],T);const w=u(t,["supervisedTuningSpec"]);w!=null&&c(e,["supervisedTuningSpec"],w);const E=u(t,["tuningDataStats"]);E!=null&&c(e,["tuningDataStats"],E);const M=u(t,["encryptionSpec"]);M!=null&&c(e,["encryptionSpec"],M);const N=u(t,["partnerModelTuningSpec"]);N!=null&&c(e,["partnerModelTuningSpec"],N);const P=u(t,["customBaseModel"]);P!=null&&c(e,["customBaseModel"],P);const R=u(t,["experiment"]);R!=null&&c(e,["experiment"],R);const D=u(t,["labels"]);D!=null&&c(e,["labels"],D);const L=u(t,["outputUri"]);L!=null&&c(e,["outputUri"],L);const O=u(t,["pipelineJob"]);O!=null&&c(e,["pipelineJob"],O);const z=u(t,["serviceAccount"]);z!=null&&c(e,["serviceAccount"],z);const J=u(t,["tunedModelDisplayName"]);return J!=null&&c(e,["tunedModelDisplayName"],J),e}function r2(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["tuningJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Vc(l))),c(e,["tuningJobs"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a2 extends Pi{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ws(ki.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel},o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let r="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?r=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(r=o.name.split("/operations/")[0]),{name:r,state:bc.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=JI(e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>Vc(y))}else{const p=HI(e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>Cx(y))}}async listInternal(e){var n,i,o,r;let l,d="",h={};if(this.apiClient.isVertexAI()){const p=KI(e);return d=re("tuningJobs",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=r2(y),C=new Pm;return Object.assign(C,x),C})}else{const p=$I(e);return d=re("tunedModels",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(x=>{const C=x;return C.sdkHttpResponse={headers:y.headers},C})),l.then(y=>{const x=n2(y),C=new Pm;return Object.assign(C,x),C})}}async tuneInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const d=e2(e);return r=re("tuningJobs",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>Vc(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=WI(e);return r=re("tunedModels",d._url),l=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>i2(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l2{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const u2=1024*1024*8,c2=3,d2=1e3,f2=2,sc="x-goog-upload-status";async function h2(t,e,n){var i,o,r;let l=0,d=0,h=new Nc(new Response),p="upload";for(l=t.size;d<l;){const x=Math.min(u2,l-d),C=t.slice(d,d+x);d+x>=l&&(p+=", finalize");let T=0,w=d2;for(;T<c2&&(h=await n.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(d),"Content-Length":String(x)}}}),!(!((i=h==null?void 0:h.headers)===null||i===void 0)&&i[sc]));)T++,await m2(w),w=w*f2;if(d+=x,((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o[sc])!=="active")break;if(l<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(h==null?void 0:h.json());if(((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[sc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function p2(t){return{size:t.size,type:t.type}}function m2(t){return new Promise(e=>setTimeout(e,t))}class g2{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await h2(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await p2(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y2{create(e,n,i){return new x2(e,n,i)}}class x2{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ng="x-goog-api-key";class v2{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(ng)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ng,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C2="gl-node/";class _2{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=cS(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new v2(this.apiKey);this.apiClient=new BN({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:C2+"web",uploader:new g2,downloader:new l2}),this.models=new sI(this.apiClient),this.live=new QN(this.apiClient,o,new y2),this.batches=new Lw(this.apiClient),this.chats=new H1(this.models,this.apiClient),this.caches=new V1(this.apiClient),this.files=new eE(this.apiClient),this.operations=new uI(this.apiClient),this.authTokens=new OI(this.apiClient),this.tunings=new a2(this.apiClient)}}const T2="AIzaSyCIO_I4T5g_bTXZDFvHcPvQwO6z2VyIitE",sd=new _2({apiKey:T2}),S2=async(t,e)=>{const n=`Você é um guia turístico amigável e experiente de Caçapava do Sul, Brasil. Um turista está visitando "${t}" e tem uma pergunta. Responda de forma concisa, útil e calorosa. Pergunta: "${e}"`;try{return await sd.models.generateContentStream({model:"gemini-2.5-flash",contents:n})}catch(i){console.error("Error calling Gemini API (askAIGuideStream):",i);const o=`Desculpe, meu cérebro de IA está offline no momento. Mas tenho certeza que ${t} é incrível! Tente perguntar a um guia local.`;async function*r(){for(const l of o.split(" "))await new Promise(d=>setTimeout(d,50)),yield{text:l+" "}}return r()}},w2=async t=>{const e=r=>{const l=r.name.toLowerCase();return l.includes("pedra")||l.includes("guaritas")||l.includes("cascata")?"Natureza, Aventura":l.includes("forte")||l.includes("igreja")||l.includes("casa de ulhôa")?"História, Cultura Local":l.includes("minas")?"História, Aventura":l.includes("churrascaria")||l.includes("doçaria")?"Gastronomia":"Geral"},o=`
        Você é um guia turístico especialista e criativo para a cidade de Caçapava do Sul, no Brasil.
        Sua tarefa é criar um roteiro de viagem personalizado e detalhado, baseado nas preferências de um turista.

        **Contexto - Pontos de Interesse Disponíveis:**
        Aqui está uma lista dos pontos de interesse em Caçapava do Sul que você DEVE usar como base para suas recomendações. Não invente lugares que não estão nesta lista.
        ${(await xe.getPointsOfInterest()).map(r=>`- ${r.name}: ${r.description} (Tipo: ${e(r)})`).join(`
`)}

        **Preferências do Turista:**
        - **Duração da Viagem:** ${t.duration}
        - **Principais Interesses:** ${t.interests.join(", ")}
        - **Ritmo Desejado:** ${t.pace}
        - **Observações Adicionais:** ${t.notes||"Nenhuma."}

        **Sua Tarefa:**
        1.  Crie um roteiro dia a dia, se a duração for maior que um dia.
        2.  Use os pontos de interesse da lista fornecida que melhor se encaixam nos interesses do turista.
        3.  Organize as atividades de forma lógica (manhã, tarde, noite) e considere o ritmo solicitado.
        4.  Para cada sugestão, escreva um parágrafo curto e envolvente, explicando por que o local é uma boa escolha e o que o turista pode fazer lá.
        5.  O tom deve ser amigável, acolhedor e inspirador.
        6.  Retorne a resposta em formato **Markdown**, usando títulos (##, ###) para os dias e negrito (**) para os nomes dos locais.

        Comece o roteiro com um título criativo.
    `;try{return(await sd.models.generateContent({model:"gemini-2.5-flash",contents:o})).text}catch(r){return console.error("Error calling Gemini API for itinerary:",r),`Modo de demonstração: A API do Gemini não está configurada ou a chamada falhou. Aqui está um exemplo de roteiro:

### Dia 1: Aventura e Natureza

**Manhã:**
- **Pedra do Segredo:** Comece o dia com uma trilha leve e aprecie a vista incrível deste famoso ponto turístico.

**Tarde:**
- **Guaritas:** Explore as formações rochosas que parecem castelos. Ótimo para fotos!

**Noite:**
- **Churrascaria Rodeio:** Termine o dia com um autêntico churrasco gaúcho.`}},E2=async(t,e)=>{const i=(await xe.getPointsOfInterest()).map(d=>`- ${d.name}: ${d.description}`).join(`
`),r=(await Promise.all(e.visited.map(d=>xe.getPointOfInterestById(d.pointId)))).filter(d=>d!==null).map(d=>d.name).join(", "),l=`
        Você é 'Cacá', o assistente virtual amigável e especialista do aplicativo "Visite Caçapava do Sul".
        Sua personalidade é calorosa, prestativa e um pouco divertida.
        Seu objetivo é ajudar os turistas a aproveitarem ao máximo a cidade e o aplicativo.

        **Seu Conhecimento:**
        1.  **Sobre a Cidade:** Você conhece todos os pontos turísticos listados abaixo. Use essa lista como sua única fonte de verdade para locais. Não invente lugares.
        2.  **Sobre o App:** Você entende o sistema de gamificação (pontos, badges, ranking). Check-in em um local dá pontos. Completar rotas e visitar locais específicos dá badges (conquistas).
        3.  **Sobre o Usuário:** Você está conversando com ${e.name}. Ele(a) tem ${e.points} pontos e já visitou os seguintes locais: ${r||"Nenhum"}. Use essa informação para personalizar suas respostas.

        **Lista de Pontos Turísticos Disponíveis:**
        ${i}

        **Regras de Conversa:**
        - Seja conciso e direto.
        - Use emojis para deixar a conversa mais leve. 😉
        - Se não souber a resposta, admita e sugira onde o usuário pode encontrar a informação.
        - Sempre incentive o usuário a explorar a cidade.
    `;try{return(await sd.models.generateContent({model:"gemini-2.5-flash",contents:t,config:{systemInstruction:l}})).text}catch(d){return console.error("Error calling Gemini API for chat:",d),"Desculpe, meu cérebro de IA está offline. Não consigo conversar agora."}},M2=()=>{const{currentUser:t}=qs(),[e,n]=b.useState(!1),[i,o]=b.useState(!1),[r,l]=b.useState(""),[d,h]=b.useState([]),p=b.useRef(null),y={role:"model",parts:[{text:`Olá, ${(t==null?void 0:t.name)||"explorador"}! 👋 Sou Cacá, seu assistente virtual. Como posso ajudar você a descobrir Caçapava do Sul hoje?`}]};b.useEffect(()=>{e&&d.length===0&&h([y])},[e,t]),b.useEffect(()=>{var T;(T=p.current)==null||T.scrollIntoView({behavior:"smooth"})},[d]);const x=async T=>{const w=T||r;if(!w.trim()||i||!t)return;const E={role:"user",parts:[{text:w}]},M=[...d,E];h(M),l(""),o(!0);try{const P={role:"model",parts:[{text:await E2(M,t)}]};h(R=>[...R,P])}catch{const P={role:"model",parts:[{text:"Desculpe, estou com problemas para me conectar. Tente novamente."}]};h(R=>[...R,P])}finally{o(!1)}},C=["Onde posso almoçar?","Qual o lugar mais legal para fotos?","Como ganho mais pontos?"];return t?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>n(!0),className:"fixed bottom-6 right-6 bg-brand-green text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center transform hover:scale-110 transition-transform z-40","aria-label":"Abrir assistente virtual",children:g.jsx(Ya,{size:32})}),g.jsxs("div",{className:`fixed inset-0 z-50 transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,children:[g.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>n(!1)}),g.jsxs("div",{className:`absolute bottom-0 right-0 mb-6 mr-6 w-full max-w-md bg-brand-beige rounded-2xl shadow-2xl flex flex-col transition-transform duration-300 ${e?"translate-y-0":"translate-y-10"}`,children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-brand-light-green/20",children:[g.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[g.jsx(qy,{className:"text-brand-green"})," Assistente Virtual Cacá"]}),g.jsx("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-brand-dark-green",children:g.jsx(Xa,{size:24})})]}),g.jsxs("div",{className:"flex-1 p-4 overflow-y-auto h-96 space-y-4",children:[d.map((T,w)=>g.jsx("div",{className:`flex ${T.role==="user"?"justify-end":"justify-start"}`,children:g.jsx("div",{className:`max-w-xs md:max-w-sm rounded-2xl px-4 py-2 ${T.role==="user"?"bg-brand-green text-white rounded-br-none":"bg-white text-brand-dark-green rounded-bl-none"}`,children:g.jsx("p",{className:"text-sm whitespace-pre-wrap",children:T.parts[0].text})})},w)),i&&g.jsx("div",{className:"flex justify-start",children:g.jsx("div",{className:"max-w-xs md:max-w-sm rounded-2xl px-4 py-2 bg-white text-brand-dark-green rounded-bl-none",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse"}),g.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse delay-75"}),g.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse delay-150"})]})})}),g.jsx("div",{ref:p})]}),d.length<=1&&g.jsx("div",{className:"px-4 pb-2 flex flex-wrap gap-2",children:C.map(T=>g.jsx("button",{onClick:()=>x(T),className:"text-xs bg-white border border-gray-300 rounded-full px-3 py-1 hover:bg-brand-light-green/20",children:T},T))}),g.jsx("div",{className:"p-4 border-t border-brand-light-green/20",children:g.jsxs("form",{onSubmit:T=>{T.preventDefault(),x()},className:"flex gap-2",children:[g.jsx("input",{type:"text",value:r,onChange:T=>l(T.target.value),placeholder:"Pergunte algo...",className:"flex-grow p-2 border rounded-full text-sm focus:ring-brand-green focus:border-brand-green"}),g.jsx("button",{type:"submit",disabled:i,className:"bg-brand-green text-white rounded-full p-2.5 hover:bg-brand-dark-green disabled:bg-gray-400",children:g.jsx(Qc,{size:18})})]})})]})]})]}):null},ig=({mobile:t=!1})=>{const e=an(),n=i=>{const o=e.pathname===i;return t?`block px-4 py-3 text-lg rounded-md transition-colors ${o?"bg-green-100 text-green-600 font-semibold":"text-slate-700 hover:bg-slate-100"}`:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${o?"bg-green-100 text-green-600":"text-slate-600 hover:bg-slate-100"}`};return g.jsxs(g.Fragment,{children:[g.jsx(rt,{to:"/",className:n("/"),end:!0,children:"Início"}),g.jsx(rt,{to:"/routes",className:n("/routes"),children:"Rotas"}),g.jsx(rt,{to:"/itinerary",className:n("/itinerary"),children:"Roteiro IA"}),g.jsx(rt,{to:"/challenges",className:n("/challenges"),children:"Desafios"}),g.jsx(rt,{to:"/gallery",className:n("/gallery"),children:"Galeria"}),g.jsx(rt,{to:"/about",className:n("/about"),children:"A Cidade"}),g.jsx(rt,{to:"/leaderboard",className:n("/leaderboard"),children:"Ranking"})]})},k2=()=>{const{user:t}=ln(),[e,n]=b.useState(!1);return g.jsxs("header",{className:"fixed top-0 left-0 right-0 bg-white/90 backdrop-blur-sm shadow-sm z-50 border-b border-slate-200/80",children:[g.jsx("div",{className:"container mx-auto px-4",children:g.jsxs("div",{className:"flex justify-between items-center h-20",children:[g.jsxs(rt,{to:"/",className:"flex items-center gap-2 text-brand-dark-green",children:[g.jsx("div",{className:"w-10 h-10",children:g.jsx(Gs,{})}),g.jsxs("div",{children:[g.jsx("div",{className:"font-display tracking-wider text-xl leading-none",children:"VISITE"}),g.jsx("div",{className:"font-black text-2xl leading-none -mt-1",children:"CAÇAPAVA"})]})]}),g.jsx("nav",{className:"hidden lg:flex items-center space-x-2",children:g.jsx(ig,{})}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs(rt,{to:"/profile",className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-slate-100",children:[g.jsx("img",{src:t==null?void 0:t.avatarUrl,alt:"Avatar",className:"h-10 w-10 rounded-full border-2 border-green-500"}),g.jsxs("div",{className:"hidden sm:block text-right",children:[g.jsx("p",{className:"font-semibold text-slate-800 text-sm",children:t==null?void 0:t.name}),g.jsxs("p",{className:"text-xs text-amber-600 font-bold",children:[t==null?void 0:t.points," Pontos"]})]})]}),g.jsx("button",{onClick:()=>n(!e),className:"lg:hidden p-2 rounded-md text-slate-600 hover:bg-slate-100",children:e?g.jsx(Xa,{size:28}):g.jsx(IT,{size:28})})]})]})}),e&&g.jsx("div",{className:"lg:hidden bg-white border-t border-slate-200",children:g.jsx("nav",{className:"flex flex-col space-y-2 p-4",children:g.jsx(ig,{mobile:!0})})})]})},b2=({children:t})=>g.jsxs("div",{className:"bg-brand-beige min-h-screen",children:[g.jsx(k2,{}),g.jsx("main",{className:"container mx-auto px-4 pt-28 pb-12",children:t}),g.jsx(M2,{})]}),N2=({children:t})=>{const{user:e,logout:n}=ln(),i=Zn();an();const o=()=>{n(),i("/login")},r=({isActive:l})=>`flex items-center gap-4 px-4 py-3 rounded-r-lg text-base transition-colors duration-200 border-l-4 ${l?"bg-brand-light-green/20 text-brand-light-green font-semibold border-brand-light-green":"border-transparent hover:bg-slate-800 text-slate-400 hover:text-slate-300"}`;return g.jsxs("div",{className:"min-h-screen flex bg-slate-100 text-slate-800",children:[g.jsxs("aside",{className:"w-64 bg-slate-900 text-slate-400 flex flex-col shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-3 h-24 mb-4 px-6 border-b border-slate-800",children:[g.jsx("div",{className:"w-10 h-10 text-brand-light-green",children:g.jsx(Gs,{})}),g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold text-sm leading-none text-slate-500",children:"PAINEL"}),g.jsx("div",{className:"font-display tracking-wider text-xl leading-none text-white",children:"ADMIN"})]})]}),g.jsxs("nav",{className:"mt-6 space-y-1 px-4",children:[g.jsxs(rt,{to:"/admin",className:r,end:!0,children:[g.jsx(pT,{size:20}),g.jsx("span",{children:"Dashboard"})]}),g.jsxs(rt,{to:"/admin/routes",className:r,children:[g.jsx($y,{size:20}),g.jsx("span",{children:"Rotas"})]}),g.jsxs(rt,{to:"/admin/pois",className:r,children:[g.jsx(ei,{size:20}),g.jsx("span",{children:"Pontos de Interesse"})]}),g.jsxs(rt,{to:"/admin/challenges",className:r,children:[g.jsx(Mi,{size:20}),g.jsx("span",{children:"Desafios"})]}),g.jsxs(rt,{to:"/admin/tourists",className:r,children:[g.jsx(Si,{size:20}),g.jsx("span",{children:"Turistas"})]}),g.jsxs(rt,{to:"/admin/hotel-analytics",className:r,children:[g.jsx(By,{size:20}),g.jsx("span",{children:"Hotéis"})]}),g.jsxs(rt,{to:"/admin/analytics",className:r,children:[g.jsx(Vy,{size:20}),g.jsx("span",{children:"Analytics"})]})]}),g.jsxs("div",{className:"mt-auto p-4 border-t border-slate-800",children:[g.jsxs("div",{className:"p-2 mb-2",children:[g.jsx("p",{className:"font-semibold text-white truncate",children:e==null?void 0:e.name}),g.jsx("p",{className:"text-sm opacity-70 truncate",children:e==null?void 0:e.email})]}),g.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center gap-3 px-4 py-3 rounded-lg text-base bg-slate-800 hover:bg-brand-red text-white transition-colors",children:[g.jsx(Oy,{size:20}),g.jsx("span",{children:"Sair"})]})]})]}),g.jsx("main",{className:"flex-grow p-6 lg:p-8 overflow-y-auto",children:t})]})},I2=({children:t})=>{const{user:e,logout:n}=ln(),i=Zn(),o=()=>{n(),i("/login")},r=({isActive:l})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-lg transition-colors ${l?"bg-brand-green text-white":"hover:bg-brand-dark-green/10"}`;return g.jsxs("div",{className:"min-h-screen flex bg-gray-100",children:[g.jsxs("aside",{className:"w-64 bg-brand-dark-green text-brand-beige flex flex-col p-4",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-8 p-2",children:[g.jsx("div",{className:"w-10 h-10 text-brand-light-green",children:g.jsx(Gs,{})}),g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold text-sm leading-none",children:"PORTAL"}),g.jsx("div",{className:"font-display tracking-wider text-lg leading-none",children:"HOTEL"})]})]}),g.jsxs("nav",{className:"flex-grow space-y-2",children:[g.jsxs(rt,{to:"/hotel",end:!0,className:r,children:[g.jsx(xT,{size:22}),g.jsx("span",{children:"Dashboard"})]}),g.jsxs(rt,{to:"/hotel/checkin",className:r,children:[g.jsx(eS,{size:22}),g.jsx("span",{children:"Check-in de Hóspede"})]})]}),g.jsxs("div",{className:"mt-auto",children:[g.jsxs("div",{className:"p-2 mb-2 border-t border-brand-green/20",children:[g.jsx("p",{className:"font-semibold",children:e==null?void 0:e.name}),g.jsx("p",{className:"text-sm opacity-70",children:e==null?void 0:e.email})]}),g.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-lg text-brand-beige hover:bg-brand-red/80 transition-colors",children:[g.jsx(Oy,{size:22}),g.jsx("span",{children:"Sair"})]})]})]}),g.jsx("main",{className:"flex-grow p-8 overflow-y-auto",children:t})]})},_x=({route:t})=>{var o;const[e,n]=b.useState([]);b.useEffect(()=>{Promise.all(t.pointsOfInterest.map(r=>xe.getPointOfInterestById(r))).then(r=>n(r.filter(l=>!!l)))},[t]);const i=e.reduce((r,l)=>r+((l==null?void 0:l.points)||0),0);return g.jsxs(Ei,{to:`/routes/${t.id}`,className:"block bg-white rounded-2xl shadow-lg overflow-hidden group transform hover:-translate-y-2 transition-transform duration-300",children:[g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:t.imageUrl||((o=e[0])==null?void 0:o.imageUrl)||"https://picsum.photos/800/600",alt:t.name,className:"w-full h-48 object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),g.jsx("div",{className:"absolute bottom-0 left-0 p-4",children:g.jsx("h3",{className:"text-white text-2xl font-bold",children:t.name})}),g.jsxs("div",{className:"absolute top-4 right-4 bg-brand-light-green text-white text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[g.jsx(ei,{size:14}),g.jsxs("span",{children:[e.length," paradas"]})]})]}),g.jsxs("div",{className:"p-4",children:[g.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),g.jsxs("div",{className:"flex justify-between items-center text-sm",children:[g.jsxs("span",{className:"font-semibold text-brand-green",children:[i," Pontos Totais"]}),g.jsx("span",{className:"font-bold text-brand-dark-green group-hover:text-brand-light-green transition-colors",children:"Ver Rota →"})]})]})]})},P2=()=>{const{currentUser:t}=qs(),[e,n]=b.useState([]),[i,o]=b.useState(!0);return b.useEffect(()=>{xe.getRoutes().then(r=>{n(r.slice(0,2)),o(!1)}).catch(r=>{console.error("Failed to fetch featured routes:",r),o(!1)})},[]),g.jsxs("div",{className:"space-y-16",children:[g.jsxs("section",{className:"relative text-center bg-brand-dark-green text-white rounded-3xl overflow-hidden py-20 px-4",children:[g.jsx("div",{className:"absolute inset-0 opacity-10 text-brand-green",children:g.jsx(Gs,{className:"w-full h-full"})}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("h1",{className:"font-display text-5xl md:text-7xl lg:text-8xl tracking-wider",children:"Explore. Conquiste."}),g.jsx("h2",{className:"font-black text-4xl md:text-6xl lg:text-7xl -mt-2 text-brand-light-green",children:"Caçapava do Sul"}),g.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-brand-beige",children:"Transforme sua visita em uma aventura inesquecível. Descubra rotas, complete desafios e ganhe recompensas!"}),g.jsx(Ei,{to:"/routes",className:"mt-8 inline-block bg-brand-light-green text-white font-bold py-3 px-8 rounded-full text-lg hover:bg-brand-green transition-transform transform hover:scale-105",children:"Começar a Explorar"})]})]}),g.jsxs("section",{className:"grid md:grid-cols-3 gap-8 text-center",children:[g.jsxs("div",{className:"bg-white/50 p-6 rounded-2xl shadow-sm",children:[g.jsx(oT,{className:"w-12 h-12 mx-auto text-brand-green"}),g.jsx("h3",{className:"font-bold text-xl mt-4",children:"Rotas Temáticas"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Siga roteiros criados para todos os gostos: natureza, história, gastronomia e mais."})]}),g.jsxs("div",{className:"bg-white/50 p-6 rounded-2xl shadow-sm",children:[g.jsx(ed,{className:"w-12 h-12 mx-auto text-brand-green"}),g.jsx("h3",{className:"font-bold text-xl mt-4",children:"Ganhe Pontos e Badges"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Faça check-in nos locais, complete desafios e colecione conquistas exclusivas."})]}),g.jsxs("div",{className:"bg-white/50 p-6 rounded-2xl shadow-sm",children:[g.jsx(Si,{className:"w-12 h-12 mx-auto text-brand-green"}),g.jsx("h3",{className:"font-bold text-xl mt-4",children:"Compita no Ranking"}),g.jsx("p",{className:"mt-2 text-gray-600",children:"Veja sua posição no ranking de exploradores e desafie seus amigos."})]})]}),g.jsxs("section",{children:[g.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Rotas em Destaque"}),i?g.jsx("div",{className:"text-center text-gray-600",children:"Carregando rotas..."}):g.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:e.map(r=>g.jsx(_x,{route:r},r.id))})]})]})},A2=()=>{const[t,e]=b.useState([]),[n,i]=b.useState(!0);return b.useEffect(()=>{xe.getRoutes().then(o=>{e(o),i(!1)})},[]),n?g.jsx("div",{className:"text-center",children:"Carregando rotas..."}):g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl font-display text-center mb-2",children:"Nossas Rotas"}),g.jsx("p",{className:"text-lg text-center text-gray-600 mb-8",children:"Escolha uma aventura e comece a explorar Caçapava do Sul."}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(o=>g.jsx(_x,{route:o},o.id))})]})},R2={Mountain:zy,BookOpen:Uy,Utensils:sS,Star:js,Leaf:CT},D2=({badge:t})=>{const e=R2[t.icon];return e?g.jsxs("div",{className:"group relative flex flex-col items-center text-center",children:[g.jsx("div",{className:"w-20 h-20 bg-brand-green rounded-full flex items-center justify-center transition-transform transform group-hover:scale-110",children:g.jsx(e,{className:"w-8 h-8 text-white"})}),g.jsx("p",{className:"text-sm font-semibold mt-2",children:t.name}),g.jsxs("div",{className:"absolute bottom-full mb-2 w-48 bg-brand-dark-green text-white text-xs rounded-lg p-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:[t.description,g.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-x-8 border-x-transparent border-t-8 border-t-brand-dark-green"})]})]}):null},L2=({onClose:t})=>{const{currentUser:e,updateUserProfile:n}=qs(),[i,o]=b.useState((e==null?void 0:e.name)||""),[r,l]=b.useState((e==null?void 0:e.avatarUrl)||""),[d,h]=b.useState(!1),p=async y=>{y.preventDefault(),h(!0),await n(i,r),h(!1),t()};return g.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:g.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",onClick:y=>y.stopPropagation(),children:g.jsxs("div",{className:"p-6 relative",children:[g.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Editar Perfil"}),g.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-brand-dark-green",children:g.jsx(Xa,{size:24})}),g.jsxs("form",{onSubmit:p,className:"space-y-4",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx("img",{src:r||"https://picsum.photos/seed/you/200",alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border-4 border-brand-light-green"})}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome"}),g.jsx("input",{id:"name",type:"text",value:i,onChange:y=>o(y.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"avatarUrl",className:"block text-sm font-medium text-gray-700",children:"URL da Foto de Perfil"}),g.jsx("input",{id:"avatarUrl",type:"text",value:r,onChange:y=>l(y.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),g.jsx("div",{className:"pt-4",children:g.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-full shadow-sm text-sm font-medium text-white bg-brand-green hover:bg-brand-dark-green disabled:bg-gray-400",children:d?"Salvando...":"Salvar Alterações"})})]})]})})})},F2=()=>{const{currentUser:t}=qs(),[e,n]=b.useState([]),[i,o]=b.useState([]),[r,l]=b.useState(!1);return b.useEffect(()=>{t&&(xe.getBadgesForUser(t.id).then(n),(async()=>{const h=await Promise.all(t.visited.map(async p=>{const y=await xe.getPointOfInterestById(p.pointId);return y?{...y,visitDate:p.date}:null}));o(h.filter(p=>!!p).sort((p,y)=>new Date(y.visitDate).getTime()-new Date(p.visitDate).getTime()))})())},[t]),t?g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 flex flex-col md:flex-row items-center gap-8 relative",children:[g.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-32 h-32 rounded-full border-4 border-brand-light-green object-cover"}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl font-bold",children:t.name}),g.jsxs("div",{className:"flex items-center gap-6 mt-4 text-gray-600",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl font-bold text-brand-green",children:t.points}),g.jsx("div",{className:"text-sm",children:"Pontos"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl font-bold text-brand-green",children:t.visited.length}),g.jsx("div",{className:"text-sm",children:"Locais Visitados"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl font-bold text-brand-green",children:e.length}),g.jsx("div",{className:"text-sm",children:"Conquistas"})]})]})]}),g.jsx("button",{onClick:()=>l(!0),className:"absolute top-4 right-4 bg-brand-beige p-2 rounded-full hover:bg-brand-light-green/20 transition-colors",children:g.jsx(Ka,{className:"w-5 h-5 text-brand-dark-green"})})]}),g.jsx("div",{className:"mt-8",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[g.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[g.jsx(Mi,{className:"text-brand-green"}),"Minhas Conquistas"]}),e.length>0?g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e.map(d=>g.jsx(D2,{badge:d},d.id))}):g.jsx("p",{className:"text-gray-500",children:"Continue explorando para ganhar conquistas!"})]})}),g.jsx("div",{className:"mt-8",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[g.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[g.jsx(ei,{className:"text-brand-green"}),"Histórico de Visitas"]}),g.jsx("ul",{className:"space-y-4",children:i.map(d=>g.jsxs("li",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold",children:d.name}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Visitado em: ",new Date(d.visitDate).toLocaleDateString()]})]}),g.jsxs("span",{className:"font-bold text-brand-green flex items-center gap-1",children:["+",d.points," ",g.jsx(js,{size:16})]})]},d.visitDate))})]})}),r&&g.jsx(L2,{onClose:()=>l(!1)})]}):g.jsx("div",{children:"Carregando perfil..."})},U2=({rank:t})=>t===0?g.jsx(rT,{className:"w-6 h-6 text-yellow-400"}):t===1?g.jsx(bT,{className:"w-6 h-6 text-gray-400"}):t===2?g.jsx(Mi,{className:"w-6 h-6 text-yellow-600"}):g.jsx("span",{className:"font-bold text-gray-500 w-6 text-center",children:t+1}),V2=()=>{const{user:t}=ln(),[e,n]=b.useState([]),[i,o]=b.useState(!0);return b.useEffect(()=>{xe.getLeaderboard().then(r=>{n(r),o(!1)})},[]),i?g.jsx("div",{className:"text-center",children:"Carregando ranking..."}):g.jsxs("div",{className:"max-w-2xl mx-auto",children:[g.jsx("h1",{className:"text-4xl font-display text-center mb-2",children:"Ranking de Exploradores"}),g.jsx("p",{className:"text-lg text-center text-gray-600 mb-8",children:"Veja quem são os maiores aventureiros de Caçapava do Sul!"}),g.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 space-y-2",children:e.map((r,l)=>g.jsxs("div",{className:`flex items-center p-4 rounded-xl transition-all ${r.id===(t==null?void 0:t.id)?"bg-brand-light-green/20 border-2 border-brand-light-green":"bg-gray-50"}`,children:[g.jsx("div",{className:"flex-shrink-0 w-10 flex justify-center",children:g.jsx(U2,{rank:l})}),g.jsx("img",{src:r.avatarUrl,alt:r.name,className:"w-12 h-12 rounded-full mx-4 object-cover"}),g.jsx("div",{className:"flex-grow",children:g.jsx("p",{className:"font-bold text-lg",children:r.name})}),g.jsxs("div",{className:"font-black text-xl text-brand-green",children:[r.points," pts"]})]},r.id))})]})},Tx=({poi:t,onClose:e})=>{const{checkIn:n,getVisitedIds:i}=qs(),[o,r]=b.useState(null),[l,d]=b.useState([]),[h,p]=b.useState(!1),[y,x]=b.useState(""),[C,T]=b.useState(""),[w,E]=b.useState(!1),[M,N]=b.useState(!1),P=i().has(t.id),R=async()=>{p(!0);const L=await n(t.id);r({type:L.success?"success":"info",message:L.message}),L.success&&d(L.newBadges),p(!1)},D=async L=>{if(L.preventDefault(),!(!y.trim()||w)){E(!0),T("");try{const O=await S2(t.name,y);for await(const z of O)T(J=>J+z.text)}catch{T("Desculpe, não consegui obter uma resposta. Tente novamente.")}finally{E(!1),x("")}}};return b.useEffect(()=>{const L=O=>{O.key==="Escape"&&e()};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[e]),g.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:g.jsxs("div",{className:"bg-brand-beige rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col md:flex-row",onClick:L=>L.stopPropagation(),children:[g.jsx("div",{className:"w-full md:w-1/2",children:g.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-64 md:h-full object-cover rounded-t-2xl md:rounded-l-2xl md:rounded-tr-none"})}),g.jsxs("div",{className:"w-full md:w-1/2 p-6 flex flex-col relative",children:[g.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-brand-dark-green",children:g.jsx(Xa,{size:24})}),g.jsx("h2",{className:"text-3xl font-bold mb-2",children:t.name}),g.jsxs("span",{className:"font-semibold text-brand-green mb-4",children:[t.points," pontos"]}),g.jsx("p",{className:"text-gray-700 mb-4 flex-grow",children:t.longDescription}),!M&&g.jsxs(g.Fragment,{children:[o&&g.jsxs("div",{className:`p-3 rounded-lg mb-4 flex items-center gap-3 text-white ${o.type==="success"?"bg-brand-green":"bg-yellow-500"}`,children:[o.type==="success"?g.jsx(Ec,{size:20}):g.jsx(gT,{size:20}),g.jsx("span",{children:o.message})]}),l.length>0&&g.jsxs("div",{className:"p-3 rounded-lg mb-4 bg-brand-light-green text-white",children:[g.jsxs("h4",{className:"font-bold flex items-center gap-2",children:[g.jsx(ed,{size:20}),"Novas Conquistas!"]}),l.map(L=>g.jsxs("p",{className:"text-sm",children:["- ",L.name]},L.id))]}),g.jsxs("div",{className:"mt-auto space-y-3",children:[g.jsx("button",{onClick:R,disabled:P||h,className:"w-full bg-brand-green text-white font-bold py-3 px-6 rounded-full flex items-center justify-center gap-2 hover:bg-brand-dark-green transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:h?"Processando...":P?g.jsxs(g.Fragment,{children:[g.jsx(Ec,{size:20})," Já Visitado"]}):g.jsxs(g.Fragment,{children:[g.jsx(js,{size:20})," Fazer Check-in (Simula QR Code)"]})}),g.jsxs("button",{onClick:()=>N(!0),className:"w-full bg-brand-dark-green text-white font-bold py-3 px-6 rounded-full flex items-center justify-center gap-2 hover:bg-opacity-80 transition-colors",children:[g.jsx(Hy,{size:20})," Perguntar ao Guia IA"]})]})]}),M&&g.jsxs("div",{className:"flex flex-col h-full bg-white/70 rounded-lg p-4 -m-2 mt-2",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[g.jsx(Ya,{size:20}),"Guia de IA"]}),g.jsx("button",{onClick:()=>N(!1),className:"text-sm text-gray-600 hover:underline",children:"Voltar"})]}),g.jsxs("div",{className:"flex-grow bg-gray-100 rounded-lg p-3 overflow-y-auto mb-2 min-h-[150px]",children:[C?g.jsx("p",{className:"text-sm whitespace-pre-wrap",children:C}):g.jsxs("p",{className:"text-sm text-gray-500",children:["Faça uma pergunta sobre ",t.name,"..."]}),w&&g.jsx("div",{className:"animate-pulse text-sm text-gray-500",children:"...pensando"})]}),g.jsxs("form",{onSubmit:D,className:"flex gap-2",children:[g.jsx("input",{type:"text",value:y,onChange:L=>x(L.target.value),placeholder:"Qual a melhor hora para visitar?",className:"flex-grow p-2 border rounded-full text-sm focus:ring-brand-green focus:border-brand-green"}),g.jsx("button",{type:"submit",disabled:w,className:"bg-brand-green text-white rounded-full p-2 hover:bg-brand-dark-green disabled:bg-gray-400",children:g.jsx(Qc,{size:20})})]})]})]})]})})},Sx="AIzaSyCIO_I4T5g_bTXZDFvHcPvQwO6z2VyIitE",B2=Sx.length>30;let Cs=null;const O2=()=>{if(Cs)return Cs;let t="https://maps.googleapis.com/maps/api/js?v=stable";return B2?t+=`&key=${Sx}`:console.warn("Google Maps API key is not configured or is likely invalid. Map will be loaded in development mode."),Cs=new Promise((e,n)=>{if(window.google&&window.google.maps){e();return}const i=document.createElement("script");i.src=t,i.async=!0,i.defer=!0,i.onload=()=>e(),i.onerror=()=>{Cs=null,n(new Error("Failed to load Google Maps script."))},document.head.appendChild(i)}),Cs},H2=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#d9ead3"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#a4c2f4"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],wx=({center:t,zoom:e=14,pois:n,onMarkerClick:i,bounds:o})=>{const r=b.useRef(null),[l,d]=b.useState(null),[h,p]=b.useState({}),[y,x]=b.useState(null),C=b.useRef(!1);return b.useEffect(()=>{const T=()=>{C.current||(C.current=!0,console.error("Google Maps API authentication failed. This can be caused by an invalid API key, or billing not being enabled on the associated account."),x("Falha na autenticação do Google Maps. A chave de API pode ser inválida ou o projeto não está configurado corretamente."))};return window.gm_authFailure=T,O2().then(()=>{if(!C.current)try{if(r.current&&!l){const w=new window.google.maps.Map(r.current,{center:t,zoom:e,styles:H2,disableDefaultUI:!0,zoomControl:!0});d(w),x(null)}}catch(w){console.error("Error initializing Google Map:",w),x("Ocorreu um erro ao inicializar o mapa. O serviço pode estar indisponível.")}}).catch(w=>{console.error("Failed to load Google Maps:",w),C.current||x("Não foi possível carregar o mapa. Verifique sua conexão com a internet.")}),()=>{window.gm_authFailure===T&&delete window.gm_authFailure}},[]),b.useEffect(()=>{l&&(o?l.fitBounds(o,100):(l.setCenter(t),l.setZoom(e)))},[l,t,e,o]),b.useEffect(()=>{if(l){Object.keys(h).forEach(w=>{n.find(E=>E.id===w)||(h[w].setMap(null),delete h[w])});const T={...h};n.forEach(w=>{if(!T[w.id]){const E=new window.google.maps.Marker({position:{lat:w.lat,lng:w.lng},map:l,title:w.name});E.addListener("click",()=>{i(w)}),T[w.id]=E}}),p(T)}},[l,n,i]),y?g.jsxs("div",{className:"w-full h-full bg-yellow-50 flex flex-col p-4 text-center",children:[g.jsxs("div",{className:"flex-shrink-0",children:[g.jsx(XT,{className:"w-10 h-10 text-yellow-500 mx-auto mb-2"}),g.jsx("h3",{className:"font-bold text-yellow-800",children:"Mapa Indisponível"}),g.jsx("p",{className:"text-sm text-yellow-700 mb-4",children:y})]}),g.jsxs("div",{className:"flex-grow overflow-y-auto w-full text-left pr-2",children:[g.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Alternativamente, explore os pontos na lista:"}),g.jsx("div",{className:"space-y-2",children:n.map(T=>g.jsxs("button",{onClick:()=>i(T),className:"w-full flex items-center gap-4 p-2 bg-white/80 rounded-lg shadow-sm hover:bg-brand-light-green/20 transition-colors text-left",children:[g.jsx("img",{src:T.imageUrl,alt:T.name,className:"w-12 h-12 object-cover rounded-md flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm text-brand-dark-green",children:T.name}),g.jsx("p",{className:"text-xs text-gray-600",children:T.description})]})]},T.id))})]})]}):g.jsx("div",{ref:r,className:"w-full h-full"})},z2=()=>{const{routeId:t}=Kc(),[e,n]=b.useState(null),[i,o]=b.useState([]),[r,l]=b.useState(!0),[d,h]=b.useState(null);b.useEffect(()=>{if(!t)return;(async()=>{l(!0);const C=await xe.getRouteById(t);if(C){n(C);const T=await Promise.all(C.pointsOfInterest.map(w=>xe.getPointOfInterestById(w)));o(T.filter(w=>!!w))}l(!1)})()},[t]);const p=b.useMemo(()=>{if(i.length===0)return{lat:-30.5119,lng:-53.4908};const x=i.reduce((T,w)=>T+w.lat,0)/i.length,C=i.reduce((T,w)=>T+w.lng,0)/i.length;return{lat:x,lng:C}},[i]),y=b.useMemo(()=>{if(i.length<2)return;const x=i.map(T=>T.lat),C=i.map(T=>T.lng);return{north:Math.max(...x),south:Math.min(...x),east:Math.max(...C),west:Math.min(...C)}},[i]);return r?g.jsx("div",{className:"text-center",children:"Carregando detalhes da rota..."}):e?g.jsxs("div",{children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"text-4xl font-display mb-2",children:e.name}),g.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:e.description})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"lg:h-[600px] flex flex-col space-y-4",children:[g.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[g.jsx(ei,{className:"text-brand-green"})," Pontos de Interesse"]}),g.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:i.map(x=>g.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden flex",children:[g.jsx("img",{src:x.imageUrl,alt:x.name,className:"w-24 h-24 object-cover"}),g.jsxs("div",{className:"p-4 flex flex-col justify-between flex-grow",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold",children:x.name}),g.jsxs("p",{className:"text-sm text-brand-green font-semibold flex items-center gap-1",children:[x.points," ",g.jsx(js,{size:14})]})]}),g.jsx("button",{onClick:()=>h(x),className:"text-sm self-start mt-2 font-bold text-brand-dark-green hover:text-brand-light-green transition-colors",children:"Ver Detalhes →"})]})]},x.id))})]}),g.jsx("div",{className:"h-96 lg:h-[600px] rounded-2xl overflow-hidden shadow-lg border-4 border-white",children:g.jsx(wx,{center:p,pois:i,onMarkerClick:h,bounds:y})})]}),d&&g.jsx(Tx,{poi:d,onClose:()=>h(null)})]}):g.jsx("div",{className:"text-center",children:"Rota não encontrada."})},$2=()=>{const[t,e]=b.useState([]),[n,i]=b.useState(null),[o,r]=b.useState(!0);$s.useEffect(()=>{xe.getPointsOfInterest().then(d=>{e(d),r(!1)})},[]);const l={lat:-30.5119,lng:-53.4908};return g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl font-display text-center mb-2",children:"Mapa Interativo"}),g.jsx("p",{className:"text-lg text-center text-gray-600 mb-8",children:"Clique em um ponto no mapa para saber mais e fazer check-in."}),g.jsx("div",{className:"relative w-full aspect-[4/3] bg-brand-light-green/20 rounded-2xl shadow-lg overflow-hidden border-4 border-white",children:o?g.jsx("div",{className:"flex items-center justify-center h-full",children:g.jsx("p",{children:"Carregando mapa..."})}):g.jsx(wx,{center:l,zoom:13,pois:t,onMarkerClick:i})}),n&&g.jsx(Tx,{poi:n,onClose:()=>i(null)})]})},q2=["Natureza","História","Gastronomia","Aventura","Cultura Local"],la=["Consultando nosso especialista em Caçapava...","Analisando as melhores paisagens...","Montando seu dia perfeito...","Adicionando um toque de magia...","Quase pronto!"],G2=()=>{const[t,e]=b.useState("1"),[n,i]=b.useState(new Set),[o,r]=b.useState("Moderado"),[l,d]=b.useState(""),[h,p]=b.useState(!1),[y,x]=b.useState(""),[C,T]=b.useState(""),[w,E]=b.useState(la[0]),M=D=>{const L=new Set(n);L.has(D)?L.delete(D):L.add(D),i(L)},N=async D=>{if(D.preventDefault(),n.size===0){x("Por favor, selecione pelo menos um interesse.");return}x(""),p(!0),T("");const L=setInterval(()=>{E(O=>{const z=la.indexOf(O);return la[(z+1)%la.length]})},2500);try{const O={duration:`${t} dia(s)`,interests:Array.from(n),pace:o,notes:l},z=await w2(O);T(z)}catch(O){x("Ocorreu um erro ao gerar o roteiro. Por favor, tente novamente."),console.error(O)}finally{p(!1),clearInterval(L)}},P=()=>{T(""),e("1"),i(new Set),r("Moderado"),d(""),x("")},R=()=>h?g.jsxs("div",{className:"text-center p-8 bg-white/50 rounded-2xl",children:[g.jsx(TT,{className:"w-16 h-16 mx-auto text-brand-green animate-spin mb-6"}),g.jsx("h2",{className:"text-2xl font-bold text-brand-dark-green mb-2",children:"Criando seu Roteiro..."}),g.jsx("p",{className:"text-gray-600 transition-opacity duration-500",children:w})]}):C?g.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-brand-dark-green",children:"Seu Roteiro Personalizado"}),g.jsx("p",{className:"text-gray-600",children:"Uma aventura única, criada especialmente para você!"})]}),g.jsxs("button",{onClick:P,className:"flex items-center gap-2 bg-brand-beige text-brand-dark-green font-semibold py-2 px-4 rounded-full hover:bg-brand-light-green/20 transition-colors",children:[g.jsx(BT,{size:18}),"Criar Novo"]})]}),g.jsx("div",{className:"prose max-w-none text-gray-800 whitespace-pre-wrap font-sans",children:C})]}):g.jsxs("form",{onSubmit:N,className:"space-y-8",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-lg font-semibold block mb-2",children:"1. Duração da Viagem"}),g.jsxs("select",{value:t,onChange:D=>e(D.target.value),className:"w-full p-3 bg-white border border-gray-300 rounded-lg",children:[g.jsx("option",{value:"1",children:"1 Dia"}),g.jsx("option",{value:"2",children:"2 Dias"}),g.jsx("option",{value:"3",children:"3 Dias"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-lg font-semibold block mb-3",children:"2. Seus Interesses"}),g.jsx("div",{className:"flex flex-wrap gap-3",children:q2.map(D=>g.jsx("button",{type:"button",onClick:()=>M(D),className:`py-2 px-4 rounded-full font-medium transition-all duration-200 border-2 ${n.has(D)?"bg-brand-green text-white border-brand-green":"bg-white text-gray-700 border-gray-300 hover:border-brand-green"}`,children:D},D))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-lg font-semibold block mb-3",children:"3. Ritmo da Viagem"}),g.jsx("div",{className:"grid grid-cols-3 gap-4",children:["Relaxado","Moderado","Intenso"].map(D=>g.jsxs("button",{type:"button",onClick:()=>r(D),className:`p-4 rounded-lg text-center border-2 transition-all duration-200 ${o===D?"bg-brand-green text-white border-brand-green":"bg-white hover:border-brand-green"}`,children:[g.jsx("span",{className:"text-4xl mb-2 block",children:D==="Relaxado"?g.jsx(lT,{className:"mx-auto"}):D==="Moderado"?g.jsx(jT,{className:"mx-auto"}):g.jsx(tT,{className:"mx-auto"})}),g.jsx("span",{className:"font-semibold",children:D})]},D))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"notes",className:"text-lg font-semibold block mb-2",children:"4. Informações Adicionais (opcional)"}),g.jsx("textarea",{id:"notes",value:l,onChange:D=>d(D.target.value),placeholder:"Ex: Viajando com crianças, prefiro caminhadas leves, tenho pouco tempo pela manhã...",className:"w-full p-3 bg-white border border-gray-300 rounded-lg h-24"})]}),y&&g.jsx("p",{className:"text-brand-red text-center",children:y}),g.jsxs("button",{type:"submit",disabled:h,className:"w-full bg-brand-dark-green text-white font-bold text-lg py-4 px-6 rounded-full flex items-center justify-center gap-3 hover:bg-brand-green transition-transform transform hover:scale-105 disabled:bg-gray-400 disabled:scale-100",children:[g.jsx(qy,{size:24}),"Gerar Roteiro Mágico"]})]});return g.jsxs("div",{children:[!C&&g.jsxs("div",{className:"text-center mb-10",children:[g.jsxs("h1",{className:"text-4xl font-display text-brand-dark-green mb-2 flex items-center justify-center gap-3",children:[g.jsx(Ya,{}),"Crie seu Roteiro Personalizado com IA"]}),g.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Diga-nos o que você gosta e nosso guia de IA montará o plano perfeito para sua visita a Caçapava do Sul."})]}),g.jsx("div",{className:"max-w-3xl mx-auto",children:R()})]})},j2=()=>{const[t,e]=b.useState([]),[n,i]=b.useState(!0);if(b.useEffect(()=>{xe.getChallenges().then(l=>{e(l),i(!1)})},[]),n)return g.jsx("p",{className:"text-center mt-8",children:"Carregando desafios..."});const o=t.filter(l=>l.type==="event"&&l.startDate&&new Date(l.startDate)>new Date),r=t.filter(l=>l.type==="challenge");return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Desafios e Eventos"}),g.jsx("p",{className:"text-slate-600 mt-1",children:"Participe para ganhar pontos e novas conquistas!"})]}),o.length>0&&g.jsxs("section",{children:[g.jsxs("h2",{className:"text-2xl font-semibold text-slate-700 mb-4 flex items-center",children:[g.jsx(wc,{className:"mr-3 text-indigo-500"})," Próximos Eventos"]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(l=>g.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-indigo-200",children:[g.jsx("h3",{className:"text-xl font-bold text-indigo-800",children:l.title}),g.jsx("p",{className:"text-slate-600 my-2",children:l.description}),g.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[g.jsxs("span",{className:"font-semibold text-amber-600 flex items-center",children:[g.jsx(Mi,{className:"mr-1 h-4 w-4"})," ",l.points," Pontos"]}),g.jsxs("span",{className:"font-medium text-slate-500 flex items-center",children:[g.jsx(wc,{className:"mr-1 h-4 w-4"})," ",new Date(l.startDate).toLocaleDateString("pt-BR")]})]})]},l.id))})]}),g.jsxs("section",{children:[g.jsxs("h2",{className:"text-2xl font-semibold text-slate-700 mb-4 flex items-center",children:[g.jsx(cT,{className:"mr-3 text-green-500"})," Desafios Ativos"]}),g.jsx("div",{className:"space-y-4",children:r.map(l=>g.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-green-800",children:l.title}),g.jsx("p",{className:"text-slate-600",children:l.description})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:"font-bold text-2xl text-amber-600 flex items-center",children:[g.jsx(Mi,{className:"mr-2 h-6 w-6"})," ",l.points]}),g.jsx("span",{className:"text-sm text-slate-500",children:"Pontos"})]})]},l.id))})]})]})},W2=({photo:t,onLike:e,currentUserId:n})=>{const i=n?t.likes.includes(n):!1;return g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[g.jsxs("div",{className:"p-4 flex items-center",children:[g.jsx("img",{src:t.userAvatarUrl,alt:t.userName,className:"h-10 w-10 rounded-full mr-3"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-slate-800",children:t.userName}),g.jsx("p",{className:"text-xs text-slate-500",children:new Date(t.timestamp).toLocaleString("pt-BR")})]})]}),g.jsx("img",{src:t.imageUrl,alt:t.caption,className:"w-full h-auto"}),g.jsxs("div",{className:"p-4",children:[g.jsx("p",{className:"text-slate-700 mb-4",children:t.caption}),g.jsx("div",{className:"flex justify-between items-center",children:g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs("button",{onClick:()=>e(t.id),disabled:i,className:`flex items-center space-x-1 ${i?"text-pink-500":"text-slate-500 hover:text-pink-500"}`,children:[g.jsx(Mc,{className:`h-6 w-6 ${i?"fill-current":""}`}),g.jsx("span",{className:"font-semibold",children:t.likes.length})]}),g.jsxs("button",{className:"flex items-center space-x-1 text-slate-500 hover:text-blue-500",children:[g.jsx(Hy,{className:"h-6 w-6"}),g.jsx("span",{className:"font-semibold",children:"0"})]})]})})]})]})},J2=()=>{const{user:t}=ln(),[e,n]=b.useState([]),[i,o]=b.useState(!0);b.useEffect(()=>{r()},[]);const r=()=>{o(!0),xe.getPhotos().then(h=>{n(h),o(!1)})},l=async h=>{t&&(await xe.likePhoto(h,t.id),r())},d=async h=>{if(h.preventDefault(),!t)return;const p=new FormData(h.currentTarget),y=p.get("caption"),x=p.get("imageUrl");y&&x&&(await xe.createPhoto({userId:t.id,imageUrl:x,caption:y}),r(),h.currentTarget.reset())};return i?g.jsx("p",{className:"text-center mt-8",children:"Carregando galeria de fotos..."}):g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Galeria da Comunidade"}),g.jsx("p",{className:"text-slate-600 mt-1",children:"Veja e compartilhe os melhores momentos da sua viagem!"})]}),g.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:g.jsxs("form",{onSubmit:d,className:"space-y-3",children:[g.jsx("input",{name:"imageUrl",type:"text",placeholder:"URL da sua foto",className:"w-full p-2 border rounded-md",required:!0}),g.jsx("textarea",{name:"caption",placeholder:"Escreva uma legenda...",className:"w-full p-2 border rounded-md",required:!0}),g.jsxs("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded-lg shadow hover:bg-green-600 flex items-center",children:[g.jsx(Qc,{className:"h-4 w-4 mr-2"}),"Publicar Foto"]})]})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(h=>g.jsx(W2,{photo:h,onLike:l,currentUserId:(t==null?void 0:t.id)||null},h.id))})]})},ua=({title:t,icon:e,children:n})=>g.jsxs("section",{className:"mb-12",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx("div",{className:"bg-green-100 text-green-600 p-3 rounded-full mr-4",children:e}),g.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:t})]}),g.jsx("div",{className:"prose prose-lg max-w-none text-slate-700",children:n})]}),Y2=()=>g.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-xl shadow-sm border",children:[g.jsxs("header",{className:"text-center mb-12",children:[g.jsx("h1",{className:"text-5xl font-extrabold text-green-700 tracking-tight",children:"Caçapava do Sul"}),g.jsx("p",{className:"mt-4 text-xl text-slate-600",children:"A Capital Gaúcha da Geodiversidade"})]}),g.jsx(ua,{title:"Nossa História",icon:g.jsx(Uy,{size:28}),children:g.jsxs("p",{children:["Fundada em 1831, Caçapava do Sul tem uma história rica e profundamente entrelaçada com os eventos que moldaram o Rio Grande do Sul. A cidade foi a ",g.jsx("strong",{children:"2ª Capital Farroupilha"})," durante a Revolução Farroupilha, um período de grande importância histórica para o estado. Suas ruas e edifícios antigos, como o Forte Dom Pedro II, são testemunhas silenciosas de batalhas e decisões que definiram fronteiras e culturas."]})}),g.jsx(ua,{title:"Pontos Turísticos Emblemáticos",icon:g.jsx(Q_,{size:28}),children:g.jsxs("p",{children:["Nossos pontos turísticos contam nossa história e revelam belezas únicas. O ",g.jsx("strong",{children:"Forte Dom Pedro II"}),", erguido para proteger a fronteira sul, hoje é um monumento à nossa herança militar. As ",g.jsx("strong",{children:"Minas do Camaquã"}),", um antigo complexo de mineração de cobre, oferecem uma paisagem quase lunar e uma fascinante viagem ao passado industrial da região. Já a ",g.jsx("strong",{children:"Igreja Matriz Nossa Senhora da Assunção"})," se destaca no centro da cidade com sua imponente arquitetura gótica."]})}),g.jsx(ua,{title:"Lendas e Misticismo",icon:g.jsx(zy,{size:28}),children:g.jsxs("p",{children:["Caçapava é uma terra de lendas. A mais famosa envolve a ",g.jsx("strong",{children:"Pedra do Segredo"}),", uma formação rochosa que equilibra uma pedra de toneladas em um pequeno ponto de apoio. Diz a lenda que a pedra guarda segredos antigos dos povos indígenas que habitavam a região. Outro local místico são as ",g.jsx("strong",{children:"Guaritas"}),", com suas formações rochosas que se assemelham a sentinelas silenciosas, guardando a entrada para um mundo de paisagens deslumbrantes e energia inexplicável."]})}),g.jsx(ua,{title:"Capital da Geodiversidade",icon:g.jsx(YT,{size:28}),children:g.jsx("p",{children:'Reconhecida oficialmente como a "Capital Gaúcha da Geodiversidade", Caçapava do Sul é um museu a céu aberto. A região abriga uma incrível variedade de rochas, minerais e formações geológicas que contam a história de bilhões de anos do nosso planeta. Do ouro encontrado em nossas minas às paisagens esculpidas pelo tempo no Parque das Guaritas, cada canto da cidade é uma aula de geologia e uma celebração da natureza.'})})]}),oo=({title:t,value:e,icon:n,color:i})=>g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border flex items-start",children:[g.jsx("div",{className:"p-3 rounded-full mr-4",style:{backgroundColor:`${i}20`},children:g.jsx(n,{className:"h-6 w-6",style:{color:i}})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-slate-500 font-medium",children:t}),g.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e})]})]});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Js(t){return t+.5|0}const Wn=(t,e,n)=>Math.max(Math.min(t,n),e);function ks(t){return Wn(Js(t*2.55),0,255)}function Kn(t){return Wn(Js(t*255),0,255)}function Cn(t){return Wn(Js(t/2.55)/100,0,1)}function og(t){return Wn(Js(t*100),0,100)}const Bt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Bc=[..."0123456789ABCDEF"],K2=t=>Bc[t&15],X2=t=>Bc[(t&240)>>4]+Bc[t&15],ca=t=>(t&240)>>4===(t&15),Q2=t=>ca(t.r)&&ca(t.g)&&ca(t.b)&&ca(t.a);function Z2(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Bt[t[1]]*17,g:255&Bt[t[2]]*17,b:255&Bt[t[3]]*17,a:e===5?Bt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Bt[t[1]]<<4|Bt[t[2]],g:Bt[t[3]]<<4|Bt[t[4]],b:Bt[t[5]]<<4|Bt[t[6]],a:e===9?Bt[t[7]]<<4|Bt[t[8]]:255})),n}const eP=(t,e)=>t<255?e(t):"";function tP(t){var e=Q2(t)?K2:X2;return t?"#"+e(t.r)+e(t.g)+e(t.b)+eP(t.a,e):void 0}const nP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ex(t,e,n){const i=e*Math.min(n,1-n),o=(r,l=(r+t/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function iP(t,e,n){const i=(o,r=(o+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function oP(t,e,n){const i=Ex(t,1,.5);let o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)i[o]*=1-e-n,i[o]+=e;return i}function sP(t,e,n,i,o){return t===o?(e-n)/i+(e<n?6:0):e===o?(n-t)/i+2:(t-e)/i+4}function rd(t){const n=t.r/255,i=t.g/255,o=t.b/255,r=Math.max(n,i,o),l=Math.min(n,i,o),d=(r+l)/2;let h,p,y;return r!==l&&(y=r-l,p=d>.5?y/(2-r-l):y/(r+l),h=sP(n,i,o,y,r),h=h*60+.5),[h|0,p||0,d]}function ad(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Kn)}function ld(t,e,n){return ad(Ex,t,e,n)}function rP(t,e,n){return ad(oP,t,e,n)}function aP(t,e,n){return ad(iP,t,e,n)}function Mx(t){return(t%360+360)%360}function lP(t){const e=nP.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?ks(+e[5]):Kn(+e[5]));const o=Mx(+e[2]),r=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=rP(o,r,l):e[1]==="hsv"?i=aP(o,r,l):i=ld(o,r,l),{r:i[0],g:i[1],b:i[2],a:n}}function uP(t,e){var n=rd(t);n[0]=Mx(n[0]+e),n=ld(n),t.r=n[0],t.g=n[1],t.b=n[2]}function cP(t){if(!t)return;const e=rd(t),n=e[0],i=og(e[1]),o=og(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${o}%, ${Cn(t.a)})`:`hsl(${n}, ${i}%, ${o}%)`}const sg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dP(){const t={},e=Object.keys(rg),n=Object.keys(sg);let i,o,r,l,d;for(i=0;i<e.length;i++){for(l=d=e[i],o=0;o<n.length;o++)r=n[o],d=d.replace(r,sg[r]);r=parseInt(rg[l],16),t[d]=[r>>16&255,r>>8&255,r&255]}return t}let da;function fP(t){da||(da=dP(),da.transparent=[0,0,0,0]);const e=da[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const hP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function pP(t){const e=hP.exec(t);let n=255,i,o,r;if(e){if(e[7]!==i){const l=+e[7];n=e[8]?ks(l):Wn(l*255,0,255)}return i=+e[1],o=+e[3],r=+e[5],i=255&(e[2]?ks(i):Wn(i,0,255)),o=255&(e[4]?ks(o):Wn(o,0,255)),r=255&(e[6]?ks(r):Wn(r,0,255)),{r:i,g:o,b:r,a:n}}}function mP(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Cn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const rc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,so=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function gP(t,e,n){const i=so(Cn(t.r)),o=so(Cn(t.g)),r=so(Cn(t.b));return{r:Kn(rc(i+n*(so(Cn(e.r))-i))),g:Kn(rc(o+n*(so(Cn(e.g))-o))),b:Kn(rc(r+n*(so(Cn(e.b))-r))),a:t.a+n*(e.a-t.a)}}function fa(t,e,n){if(t){let i=rd(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=ld(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function kx(t,e){return t&&Object.assign(e||{},t)}function ag(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Kn(t[3]))):(e=kx(t,{r:0,g:0,b:0,a:1}),e.a=Kn(e.a)),e}function yP(t){return t.charAt(0)==="r"?pP(t):lP(t)}class Fs{constructor(e){if(e instanceof Fs)return e;const n=typeof e;let i;n==="object"?i=ag(e):n==="string"&&(i=Z2(e)||fP(e)||yP(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=kx(this._rgb);return e&&(e.a=Cn(e.a)),e}set rgb(e){this._rgb=ag(e)}rgbString(){return this._valid?mP(this._rgb):void 0}hexString(){return this._valid?tP(this._rgb):void 0}hslString(){return this._valid?cP(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,o=e.rgb;let r;const l=n===r?.5:n,d=2*l-1,h=i.a-o.a,p=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;r=1-p,i.r=255&p*i.r+r*o.r+.5,i.g=255&p*i.g+r*o.g+.5,i.b=255&p*i.b+r*o.b+.5,i.a=l*i.a+(1-l)*o.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=gP(this._rgb,e._rgb,n)),this}clone(){return new Fs(this.rgb)}alpha(e){return this._rgb.a=Kn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Js(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return fa(this._rgb,2,e),this}darken(e){return fa(this._rgb,2,-e),this}saturate(e){return fa(this._rgb,1,e),this}desaturate(e){return fa(this._rgb,1,-e),this}rotate(e){return uP(this._rgb,e),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function yn(){}const xP=(()=>{let t=0;return()=>t++})();function Oe(t){return t===null||typeof t>"u"}function tt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ee(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function zt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function nn(t,e){return zt(t)?t:e}function ke(t,e){return typeof t>"u"?e:t}const vP=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,bx=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Be(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Pe(t,e,n,i){let o,r,l;if(tt(t))for(r=t.length,o=0;o<r;o++)e.call(n,t[o],o);else if(Ee(t))for(l=Object.keys(t),r=l.length,o=0;o<r;o++)e.call(n,t[l[o]],l[o])}function La(t,e){let n,i,o,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(o=t[n],r=e[n],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function Fa(t){if(tt(t))return t.map(Fa);if(Ee(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let o=0;for(;o<i;++o)e[n[o]]=Fa(t[n[o]]);return e}return t}function Nx(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function CP(t,e,n,i){if(!Nx(t))return;const o=e[t],r=n[t];Ee(o)&&Ee(r)?Us(o,r,i):e[t]=Fa(r)}function Us(t,e,n){const i=tt(e)?e:[e],o=i.length;if(!Ee(t))return t;n=n||{};const r=n.merger||CP;let l;for(let d=0;d<o;++d){if(l=i[d],!Ee(l))continue;const h=Object.keys(l);for(let p=0,y=h.length;p<y;++p)r(h[p],t,l,n)}return t}function Ps(t,e){return Us(t,e,{merger:_P})}function _P(t,e,n){if(!Nx(t))return;const i=e[t],o=n[t];Ee(i)&&Ee(o)?Ps(i,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Fa(o))}const lg={"":t=>t,x:t=>t.x,y:t=>t.y};function TP(t){const e=t.split("."),n=[];let i="";for(const o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function SP(t){const e=TP(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function bi(t,e){return(lg[e]||(lg[e]=SP(e)))(t)}function ud(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Vs=t=>typeof t<"u",Qn=t=>typeof t=="function",ug=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function wP(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Qe=Math.PI,Xe=2*Qe,Ua=Number.POSITIVE_INFINITY,EP=Qe/180,nt=Qe/2,gi=Qe/4,cg=Qe*2/3,Ix=Math.log10,Xn=Math.sign;function Ma(t,e,n){return Math.abs(t-e)<n}function dg(t){const e=Math.round(t);t=Ma(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ix(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function MP(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((o,r)=>o-r).pop(),e}function Va(t){return!isNaN(parseFloat(t))&&isFinite(t)}function kP(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function bP(t,e,n){let i,o,r;for(i=0,o=t.length;i<o;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function _n(t){return t*(Qe/180)}function NP(t){return t*(180/Qe)}function fg(t){if(!zt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Px(t,e){const n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Qe&&(r+=Xe),{angle:r,distance:o}}function IP(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yi(t){return(t%Xe+Xe)%Xe}function Ba(t,e,n,i){const o=yi(t),r=yi(e),l=yi(n),d=yi(r-o),h=yi(l-o),p=yi(o-r),y=yi(o-l);return o===r||o===l||i&&r===l||d>h&&p<y}function Mt(t,e,n){return Math.max(e,Math.min(n,t))}function PP(t){return Mt(t,-32768,32767)}function _i(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function cd(t,e,n){n=n||(l=>t[l]<e);let i=t.length-1,o=0,r;for(;i-o>1;)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const Oc=(t,e,n,i)=>cd(t,n,i?o=>{const r=t[o][e];return r<n||r===n&&t[o+1][e]===n}:o=>t[o][e]<n),AP=(t,e,n)=>cd(t,n,i=>t[i][e]>=n);function RP(t,e,n){let i=0,o=t.length;for(;i<o&&t[i]<e;)i++;for(;o>i&&t[o-1]>n;)o--;return i>0||o<t.length?t.slice(i,o):t}const Ax=["push","pop","shift","splice","unshift"];function DP(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ax.forEach(n=>{const i="_onData"+ud(n),o=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const l=o.apply(this,r);return t._chartjs.listeners.forEach(d=>{typeof d[i]=="function"&&d[i](...r)}),l}})})}function hg(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(Ax.forEach(r=>{delete t[r]}),delete t._chartjs)}function Rx(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Dx=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Lx(t,e){let n=[],i=!1;return function(...o){n=o,i||(i=!0,Dx.call(window,()=>{i=!1,t.apply(e,n)}))}}function LP(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const dd=t=>t==="start"?"left":t==="end"?"right":"center",ht=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,FP=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,ha=t=>t===0||t===1,pg=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Xe/n)),mg=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Xe/n)+1,As={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*nt)+1,easeOutSine:t=>Math.sin(t*nt),easeInOutSine:t=>-.5*(Math.cos(Qe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ha(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ha(t)?t:pg(t,.075,.3),easeOutElastic:t=>ha(t)?t:mg(t,.075,.3),easeInOutElastic(t){return ha(t)?t:t<.5?.5*pg(t*2,.1125,.45):.5+.5*mg(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-As.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?As.easeInBounce(t*2)*.5:As.easeOutBounce(t*2-1)*.5+.5};function Fx(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function gg(t){return Fx(t)?t:new Fs(t)}function ac(t){return Fx(t)?t:new Fs(t).saturate(.5).darken(.1).hexString()}const UP=["x","y","borderWidth","radius","tension"],VP=["color","borderColor","backgroundColor"];function BP(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:VP},numbers:{type:"number",properties:UP}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function OP(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const yg=new Map;function HP(t,e){e=e||{};const n=t+JSON.stringify(e);let i=yg.get(n);return i||(i=new Intl.NumberFormat(t,e),yg.set(n,i)),i}function fd(t,e,n){return HP(e,n).format(t)}const zP={values(t){return tt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let o,r=t;if(n.length>1){const p=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(p<1e-4||p>1e15)&&(o="scientific"),r=$P(t,n)}const l=Ix(Math.abs(r)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:o,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),fd(t,i,h)}};function $P(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ux={formatters:zP};function qP(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ux.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ni=Object.create(null),Hc=Object.create(null);function Rs(t,e){if(!e)return t;const n=e.split(".");for(let i=0,o=n.length;i<o;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function lc(t,e,n){return typeof e=="string"?Us(Rs(t,e),n):Us(Rs(t,""),e)}class GP{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>ac(o.backgroundColor),this.hoverBorderColor=(i,o)=>ac(o.borderColor),this.hoverColor=(i,o)=>ac(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return lc(this,e,n)}get(e){return Rs(this,e)}describe(e,n){return lc(Hc,e,n)}override(e,n){return lc(Ni,e,n)}route(e,n,i,o){const r=Rs(this,e),l=Rs(this,i),d="_"+n;Object.defineProperties(r,{[d]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[d],p=l[o];return Ee(h)?Object.assign({},p,h):ke(h,p)},set(h){this[d]=h}}})}apply(e){e.forEach(n=>n(this))}}var Ye=new GP({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BP,OP,qP]);function jP(t){return!t||Oe(t.size)||Oe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function xg(t,e,n,i,o){let r=e[o];return r||(r=e[o]=t.measureText(o).width,n.push(o)),r>i&&(i=r),i}function xi(t,e,n){const i=t.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((e-o)*i)/i+o}function vg(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Cg(t,e,n,i){Vx(t,e,n,i,null)}function Vx(t,e,n,i,o){let r,l,d,h,p,y,x,C;const T=e.pointStyle,w=e.rotation,E=e.radius;let M=(w||0)*EP;if(T&&typeof T=="object"&&(r=T.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(M),t.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),t.restore();return}if(!(isNaN(E)||E<=0)){switch(t.beginPath(),T){default:o?t.ellipse(n,i,o/2,E,0,0,Xe):t.arc(n,i,E,0,Xe),t.closePath();break;case"triangle":y=o?o/2:E,t.moveTo(n+Math.sin(M)*y,i-Math.cos(M)*E),M+=cg,t.lineTo(n+Math.sin(M)*y,i-Math.cos(M)*E),M+=cg,t.lineTo(n+Math.sin(M)*y,i-Math.cos(M)*E),t.closePath();break;case"rectRounded":p=E*.516,h=E-p,l=Math.cos(M+gi)*h,x=Math.cos(M+gi)*(o?o/2-p:h),d=Math.sin(M+gi)*h,C=Math.sin(M+gi)*(o?o/2-p:h),t.arc(n-x,i-d,p,M-Qe,M-nt),t.arc(n+C,i-l,p,M-nt,M),t.arc(n+x,i+d,p,M,M+nt),t.arc(n-C,i+l,p,M+nt,M+Qe),t.closePath();break;case"rect":if(!w){h=Math.SQRT1_2*E,y=o?o/2:h,t.rect(n-y,i-h,2*y,2*h);break}M+=gi;case"rectRot":x=Math.cos(M)*(o?o/2:E),l=Math.cos(M)*E,d=Math.sin(M)*E,C=Math.sin(M)*(o?o/2:E),t.moveTo(n-x,i-d),t.lineTo(n+C,i-l),t.lineTo(n+x,i+d),t.lineTo(n-C,i+l),t.closePath();break;case"crossRot":M+=gi;case"cross":x=Math.cos(M)*(o?o/2:E),l=Math.cos(M)*E,d=Math.sin(M)*E,C=Math.sin(M)*(o?o/2:E),t.moveTo(n-x,i-d),t.lineTo(n+x,i+d),t.moveTo(n+C,i-l),t.lineTo(n-C,i+l);break;case"star":x=Math.cos(M)*(o?o/2:E),l=Math.cos(M)*E,d=Math.sin(M)*E,C=Math.sin(M)*(o?o/2:E),t.moveTo(n-x,i-d),t.lineTo(n+x,i+d),t.moveTo(n+C,i-l),t.lineTo(n-C,i+l),M+=gi,x=Math.cos(M)*(o?o/2:E),l=Math.cos(M)*E,d=Math.sin(M)*E,C=Math.sin(M)*(o?o/2:E),t.moveTo(n-x,i-d),t.lineTo(n+x,i+d),t.moveTo(n+C,i-l),t.lineTo(n-C,i+l);break;case"line":l=o?o/2:Math.cos(M)*E,d=Math.sin(M)*E,t.moveTo(n-l,i-d),t.lineTo(n+l,i+d);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(M)*(o?o/2:E),i+Math.sin(M)*E);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Bx(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function hd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function pd(t){t.restore()}function WP(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Oe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function JP(t,e,n,i,o){if(o.strikethrough||o.underline){const r=t.measureText(i),l=e-r.actualBoundingBoxLeft,d=e+r.actualBoundingBoxRight,h=n-r.actualBoundingBoxAscent,p=n+r.actualBoundingBoxDescent,y=o.strikethrough?(h+p)/2:p;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(l,y),t.lineTo(d,y),t.stroke()}}function YP(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Bs(t,e,n,i,o,r={}){const l=tt(e)?e:[e],d=r.strokeWidth>0&&r.strokeColor!=="";let h,p;for(t.save(),t.font=o.string,WP(t,r),h=0;h<l.length;++h)p=l[h],r.backdrop&&YP(t,r.backdrop),d&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Oe(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(p,n,i,r.maxWidth)),t.fillText(p,n,i,r.maxWidth),JP(t,n,i,p,r),i+=Number(o.lineHeight);t.restore()}function Oa(t,e){const{x:n,y:i,w:o,h:r,radius:l}=e;t.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*Qe,Qe,!0),t.lineTo(n,i+r-l.bottomLeft),t.arc(n+l.bottomLeft,i+r-l.bottomLeft,l.bottomLeft,Qe,nt,!0),t.lineTo(n+o-l.bottomRight,i+r),t.arc(n+o-l.bottomRight,i+r-l.bottomRight,l.bottomRight,nt,0,!0),t.lineTo(n+o,i+l.topRight),t.arc(n+o-l.topRight,i+l.topRight,l.topRight,0,-nt,!0),t.lineTo(n+l.topLeft,i)}const KP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,XP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function QP(t,e){const n=(""+t).match(KP);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const ZP=t=>+t||0;function md(t,e){const n={},i=Ee(e),o=i?Object.keys(e):e,r=Ee(t)?i?l=>ke(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of o)n[l]=ZP(r(l));return n}function Ox(t){return md(t,{top:"y",right:"x",bottom:"y",left:"x"})}function yo(t){return md(t,["topLeft","topRight","bottomLeft","bottomRight"])}function $t(t){const e=Ox(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function mt(t,e){t=t||{},e=e||Ye.font;let n=ke(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=ke(t.style,e.style);i&&!(""+i).match(XP)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:ke(t.family,e.family),lineHeight:QP(ke(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:ke(t.weight,e.weight),string:""};return o.string=jP(o),o}function pa(t,e,n,i){let o,r,l;for(o=0,r=t.length;o<r;++o)if(l=t[o],l!==void 0&&l!==void 0)return l}function eA(t,e,n){const{min:i,max:o}=t,r=bx(e,(o-i)/2),l=(d,h)=>n&&d===0?0:d+h;return{min:l(i,-Math.abs(r)),max:l(o,r)}}function No(t,e){return Object.assign(Object.create(t),e)}function gd(t,e=[""],n,i,o=()=>t[0]){const r=n||t;typeof i>"u"&&(i=qx("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:o,override:d=>gd([d,...t],e,r,i)};return new Proxy(l,{deleteProperty(d,h){return delete d[h],delete d._keys,delete t[0][h],!0},get(d,h){return zx(d,h,()=>lA(h,e,t,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,h){return Tg(d).includes(h)},ownKeys(d){return Tg(d)},set(d,h,p){const y=d._storage||(d._storage=o());return d[h]=y[h]=p,delete d._keys,!0}})}function To(t,e,n,i){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Hx(t,i),setContext:r=>To(t,r,n,i),override:r=>To(t.override(r),e,n,i)};return new Proxy(o,{deleteProperty(r,l){return delete r[l],delete t[l],!0},get(r,l,d){return zx(r,l,()=>nA(r,l,d))},getOwnPropertyDescriptor(r,l){return r._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(r,l,d){return t[l]=d,delete r[l],!0}})}function Hx(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:n,indexable:i,isScriptable:Qn(n)?n:()=>n,isIndexable:Qn(i)?i:()=>i}}const tA=(t,e)=>t?t+ud(e):e,yd=(t,e)=>Ee(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function zx(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function nA(t,e,n){const{_proxy:i,_context:o,_subProxy:r,_descriptors:l}=t;let d=i[e];return Qn(d)&&l.isScriptable(e)&&(d=iA(e,d,t,n)),tt(d)&&d.length&&(d=oA(e,d,t,l.isIndexable)),yd(e,d)&&(d=To(d,o,r&&r[e],l)),d}function iA(t,e,n,i){const{_proxy:o,_context:r,_subProxy:l,_stack:d}=n;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let h=e(r,l||i);return d.delete(t),yd(t,h)&&(h=xd(o._scopes,o,t,h)),h}function oA(t,e,n,i){const{_proxy:o,_context:r,_subProxy:l,_descriptors:d}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(Ee(e[0])){const h=e,p=o._scopes.filter(y=>y!==h);e=[];for(const y of h){const x=xd(p,o,t,y);e.push(To(x,r,l&&l[t],d))}}return e}function $x(t,e,n){return Qn(t)?t(e,n):t}const sA=(t,e)=>t===!0?e:typeof t=="string"?bi(e,t):void 0;function rA(t,e,n,i,o){for(const r of e){const l=sA(n,r);if(l){t.add(l);const d=$x(l._fallback,n,o);if(typeof d<"u"&&d!==n&&d!==i)return d}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function xd(t,e,n,i){const o=e._rootScopes,r=$x(e._fallback,n,i),l=[...t,...o],d=new Set;d.add(i);let h=_g(d,l,n,r||n,i);return h===null||typeof r<"u"&&r!==n&&(h=_g(d,l,r,h,i),h===null)?!1:gd(Array.from(d),[""],o,r,()=>aA(e,n,i))}function _g(t,e,n,i,o){for(;n;)n=rA(t,e,n,i,o);return n}function aA(t,e,n){const i=t._getTarget();e in i||(i[e]={});const o=i[e];return tt(o)&&Ee(n)?n:o||{}}function lA(t,e,n,i){let o;for(const r of e)if(o=qx(tA(r,t),n),typeof o<"u")return yd(t,o)?xd(n,i,t,o):o}function qx(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Tg(t){let e=t._keys;return e||(e=t._keys=uA(t._scopes)),e}function uA(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}function vd(){return typeof window<"u"&&typeof document<"u"}function Cd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ha(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const tl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function cA(t,e){return tl(t).getPropertyValue(e)}const dA=["top","right","bottom","left"];function wi(t,e,n){const i={};n=n?"-"+n:"";for(let o=0;o<4;o++){const r=dA[o];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const fA=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function hA(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:o,offsetY:r}=i;let l=!1,d,h;if(fA(o,r,t.target))d=o,h=r;else{const p=e.getBoundingClientRect();d=i.clientX-p.left,h=i.clientY-p.top,l=!0}return{x:d,y:h,box:l}}function Ci(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,o=tl(n),r=o.boxSizing==="border-box",l=wi(o,"padding"),d=wi(o,"border","width"),{x:h,y:p,box:y}=hA(t,n),x=l.left+(y&&d.left),C=l.top+(y&&d.top);let{width:T,height:w}=e;return r&&(T-=l.width+d.width,w-=l.height+d.height),{x:Math.round((h-x)/T*n.width/i),y:Math.round((p-C)/w*n.height/i)}}function pA(t,e,n){let i,o;if(e===void 0||n===void 0){const r=Cd(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const l=r.getBoundingClientRect(),d=tl(r),h=wi(d,"border","width"),p=wi(d,"padding");e=l.width-p.width-h.width,n=l.height-p.height-h.height,i=Ha(d.maxWidth,r,"clientWidth"),o=Ha(d.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||Ua,maxHeight:o||Ua}}const ma=t=>Math.round(t*10)/10;function mA(t,e,n,i){const o=tl(t),r=wi(o,"margin"),l=Ha(o.maxWidth,t,"clientWidth")||Ua,d=Ha(o.maxHeight,t,"clientHeight")||Ua,h=pA(t,e,n);let{width:p,height:y}=h;if(o.boxSizing==="content-box"){const C=wi(o,"border","width"),T=wi(o,"padding");p-=T.width+C.width,y-=T.height+C.height}return p=Math.max(0,p-r.width),y=Math.max(0,i?p/i:y-r.height),p=ma(Math.min(p,l,h.maxWidth)),y=ma(Math.min(y,d,h.maxHeight)),p&&!y&&(y=ma(p/2)),(e!==void 0||n!==void 0)&&i&&h.height&&y>h.height&&(y=h.height,p=ma(Math.floor(y*i))),{width:p,height:y}}function Sg(t,e,n){const i=e||1,o=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||l.height!==o||l.width!==r?(t.currentDevicePixelRatio=i,l.height=o,l.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const gA=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};vd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function wg(t,e){const n=cA(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const yA=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},xA=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function xo(t,e,n){return t?yA(e,n):xA()}function Gx(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function jx(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class vA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,o){const r=n.listeners[o],l=n.duration;r.forEach(d=>d({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Dx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const r=i.items;let l=r.length-1,d=!1,h;for(;l>=0;--l)h=r[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),d=!0):(r[l]=r[r.length-1],r.pop());d&&(o.draw(),this._notify(o,i,e,"progress")),r.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var xn=new vA;const Eg="transparent",CA={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=gg(t||Eg),o=i.valid&&gg(e||Eg);return o&&o.valid?o.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class _A{constructor(e,n,i,o){const r=n[i];o=pa([e.to,o,r,e.from]);const l=pa([e.from,r,o]);this._active=!0,this._fn=e.fn||CA[e.type||typeof l],this._easing=As[e.easing]||As.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const o=this._target[this._prop],r=i-this._start,l=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=pa([e.to,n,o,e.from]),this._from=pa([e.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,o=this._prop,r=this._from,l=this._loop,d=this._to;let h;if(this._active=r!==d&&(l||n<i),!this._active){this._target[o]=d,this._notify(!0);return}if(n<0){this._target[o]=r;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[o]=this._fn(r,d,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][n]()}}class Wx{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ee(e))return;const n=Object.keys(Ye.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const r=e[o];if(!Ee(r))return;const l={};for(const d of n)l[d]=r[d];(tt(r.properties)&&r.properties||[o]).forEach(d=>{(d===o||!i.has(d))&&i.set(d,l)})})}_animateOptions(e,n){const i=n.options,o=SA(e,i);if(!o)return[];const r=this._createAnimations(o,i);return i.$shared&&TA(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,o=[],r=e.$animations||(e.$animations={}),l=Object.keys(n),d=Date.now();let h;for(h=l.length-1;h>=0;--h){const p=l[h];if(p.charAt(0)==="$")continue;if(p==="options"){o.push(...this._animateOptions(e,n));continue}const y=n[p];let x=r[p];const C=i.get(p);if(x)if(C&&x.active()){x.update(C,y,d);continue}else x.cancel();if(!C||!C.duration){e[p]=y;continue}r[p]=x=new _A(C,e,p,y),o.push(x)}return o}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return xn.add(this._chart,i),!0}}function TA(t,e){const n=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const r=t[i[o]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function SA(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Mg(t,e){const n=t&&t.options||{},i=n.reverse,o=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:o,end:i?o:r}}function wA(t,e,n){if(n===!1)return!1;const i=Mg(t,n),o=Mg(e,n);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function EA(t){let e,n,i,o;return Ee(t)?(e=t.top,n=t.right,i=t.bottom,o=t.left):e=n=i=o=t,{top:e,right:n,bottom:i,left:o,disabled:t===!1}}function Jx(t,e){const n=[],i=t._getSortedDatasetMetas(e);let o,r;for(o=0,r=i.length;o<r;++o)n.push(i[o].index);return n}function kg(t,e,n,i={}){const o=t.keys,r=i.mode==="single";let l,d,h,p;if(e!==null){for(l=0,d=o.length;l<d;++l){if(h=+o[l],h===n){if(i.all)continue;break}p=t.values[h],zt(p)&&(r||e===0||Xn(e)===Xn(p))&&(e+=p)}return e}}function MA(t){const e=Object.keys(t),n=new Array(e.length);let i,o,r;for(i=0,o=e.length;i<o;++i)r=e[i],n[i]={x:r,y:t[r]};return n}function bg(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function kA(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function bA(t){const{min:e,max:n,minDefined:i,maxDefined:o}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function NA(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Ng(t,e,n,i){for(const o of e.getMatchingVisibleMetas(i).reverse()){const r=t[o.index];if(n&&r>0||!n&&r<0)return o.index}return null}function Ig(t,e){const{chart:n,_cachedMeta:i}=t,o=n._stacks||(n._stacks={}),{iScale:r,vScale:l,index:d}=i,h=r.axis,p=l.axis,y=kA(r,l,i),x=e.length;let C;for(let T=0;T<x;++T){const w=e[T],{[h]:E,[p]:M}=w,N=w._stacks||(w._stacks={});C=N[p]=NA(o,y,E),C[d]=M,C._top=Ng(C,l,!0,i.type),C._bottom=Ng(C,l,!1,i.type);const P=C._visualValues||(C._visualValues={});P[d]=M}}function uc(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function IA(t,e){return No(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function PA(t,e,n){return No(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function _s(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const o of e){const r=o._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const cc=t=>t==="reset"||t==="none",Pg=(t,e)=>e?t:Object.assign({},t),AA=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Jx(n,!0),values:null};class vo{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=bg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&_s(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),o=(x,C,T,w)=>x==="x"?C:x==="r"?w:T,r=n.xAxisID=ke(i.xAxisID,uc(e,"x")),l=n.yAxisID=ke(i.yAxisID,uc(e,"y")),d=n.rAxisID=ke(i.rAxisID,uc(e,"r")),h=n.indexAxis,p=n.iAxisID=o(h,r,l,d),y=n.vAxisID=o(h,l,r,d);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(p),n.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&hg(this._data,this),e._stacked&&_s(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Ee(n))this._data=MA(n);else if(i!==n){if(i){hg(i,this);const o=this._cachedMeta;_s(o),o._parsed=[]}n&&Object.isExtensible(n)&&DP(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const r=n._stacked;n._stacked=bg(n.vScale,n),n.stack!==i.stack&&(o=!0,_s(n),n.stack=i.stack),this._resyncElements(e),(o||r!==n._stacked)&&Ig(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:o}=this,{iScale:r,_stacked:l}=i,d=r.axis;let h=e===0&&n===o.length?!0:i._sorted,p=e>0&&i._parsed[e-1],y,x,C;if(this._parsing===!1)i._parsed=o,i._sorted=!0,C=o;else{tt(o[e])?C=this.parseArrayData(i,o,e,n):Ee(o[e])?C=this.parseObjectData(i,o,e,n):C=this.parsePrimitiveData(i,o,e,n);const T=()=>x[d]===null||p&&x[d]<p[d];for(y=0;y<n;++y)i._parsed[y+e]=x=C[y],h&&(T()&&(h=!1),p=x);i._sorted=h}l&&Ig(this,C)}parsePrimitiveData(e,n,i,o){const{iScale:r,vScale:l}=e,d=r.axis,h=l.axis,p=r.getLabels(),y=r===l,x=new Array(o);let C,T,w;for(C=0,T=o;C<T;++C)w=C+i,x[C]={[d]:y||r.parse(p[w],w),[h]:l.parse(n[w],w)};return x}parseArrayData(e,n,i,o){const{xScale:r,yScale:l}=e,d=new Array(o);let h,p,y,x;for(h=0,p=o;h<p;++h)y=h+i,x=n[y],d[h]={x:r.parse(x[0],y),y:l.parse(x[1],y)};return d}parseObjectData(e,n,i,o){const{xScale:r,yScale:l}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,p=new Array(o);let y,x,C,T;for(y=0,x=o;y<x;++y)C=y+i,T=n[C],p[y]={x:r.parse(bi(T,d),C),y:l.parse(bi(T,h),C)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const o=this.chart,r=this._cachedMeta,l=n[e.axis],d={keys:Jx(o,!0),values:n._stacks[e.axis]._visualValues};return kg(d,l,r.index,{mode:i})}updateRangeFromParsed(e,n,i,o){const r=i[n.axis];let l=r===null?NaN:r;const d=o&&i._stacks[n.axis];o&&d&&(o.values=d,l=kg(o,r,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const i=this._cachedMeta,o=i._parsed,r=i._sorted&&e===i.iScale,l=o.length,d=this._getOtherScale(e),h=AA(n,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:x}=bA(d);let C,T;function w(){T=o[C];const E=T[d.axis];return!zt(T[e.axis])||y>E||x<E}for(C=0;C<l&&!(!w()&&(this.updateRangeFromParsed(p,e,T,h),r));++C);if(r){for(C=l-1;C>=0;--C)if(!w()){this.updateRangeFromParsed(p,e,T,h);break}}return p}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let o,r,l;for(o=0,r=n.length;o<r;++o)l=n[o][e.axis],zt(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,o=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=EA(ke(this.options.clip,wA(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,o=i.data||[],r=n.chartArea,l=[],d=this._drawStart||0,h=this._drawCount||o.length-d,p=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(e,r,d,h),y=d;y<d+h;++y){const x=o[y];x.hidden||(x.active&&p?l.push(x):x.draw(e,r))}for(y=0;y<l.length;++y)l[y].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const o=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];r=l.$context||(l.$context=PA(this.getContext(),e,l)),r.parsed=this.getParsed(e),r.raw=o.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=IA(this.chart.getContext(),this.index)),r.dataset=o,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const o=n==="active",r=this._cachedDataOpts,l=e+"-"+n,d=r[l],h=this.enableOptionSharing&&Vs(i);if(d)return Pg(d,h);const p=this.chart.config,y=p.datasetElementScopeKeys(this._type,e),x=o?[`${e}Hover`,"hover",e,""]:[e,""],C=p.getOptionScopes(this.getDataset(),y),T=Object.keys(Ye.elements[e]),w=()=>this.getContext(i,o,n),E=p.resolveNamedOptions(C,T,w,x);return E.$shared&&(E.$shared=h,r[l]=Object.freeze(Pg(E,h))),E}_resolveAnimations(e,n,i){const o=this.chart,r=this._cachedDataOpts,l=`animation-${n}`,d=r[l];if(d)return d;let h;if(o.options.animation!==!1){const y=this.chart.config,x=y.datasetAnimationScopeKeys(this._type,n),C=y.getOptionScopes(this.getDataset(),x);h=y.createResolver(C,this.getContext(e,i,n))}const p=new Wx(o,h&&h.animations);return h&&h._cacheable&&(r[l]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||cc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),o=this._sharedOptions,r=this.getSharedOptions(i),l=this.includeOptions(n,r)||r!==o;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:l}}updateElement(e,n,i,o){cc(o)?Object.assign(e,i):this._resolveAnimations(n,o).update(e,i)}updateSharedOptions(e,n,i){e&&!cc(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,o){e.active=o;const r=this.getStyle(n,o);this._resolveAnimations(n,i,o).update(e,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[d,h,p]of this._syncList)this[d](h,p);this._syncList=[];const o=i.length,r=n.length,l=Math.min(r,o);l&&this.parse(0,l),r>o?this._insertElements(o,r-o,e):r<o&&this._removeElements(r,o-r)}_insertElements(e,n,i=!0){const o=this._cachedMeta,r=o.data,l=e+n;let d;const h=p=>{for(p.length+=n,d=p.length-1;d>=l;d--)p[d]=p[d-n]};for(h(r),d=e;d<l;++d)r[d]=new this.dataElementType;this._parsing&&h(o._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,o){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,n);i._stacked&&_s(i,o)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,o]=e;this[n](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ce(vo,"defaults",{}),ce(vo,"datasetElementType",null),ce(vo,"dataElementType",null);function RA(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let o=0,r=n.length;o<r;o++)i=i.concat(n[o].controller.getAllParsedValues(t));t._cache.$bar=Rx(i.sort((o,r)=>o-r))}return t._cache.$bar}function DA(t){const e=t.iScale,n=RA(e,t.type);let i=e._length,o,r,l,d;const h=()=>{l===32767||l===-32768||(Vs(d)&&(i=Math.min(i,Math.abs(l-d)||i)),d=l)};for(o=0,r=n.length;o<r;++o)l=e.getPixelForValue(n[o]),h();for(d=void 0,o=0,r=e.ticks.length;o<r;++o)l=e.getPixelForTick(o),h();return i}function LA(t,e,n,i){const o=n.barThickness;let r,l;return Oe(o)?(r=e.min*n.categoryPercentage,l=n.barPercentage):(r=o*i,l=1),{chunk:r/i,ratio:l,start:e.pixels[t]-r/2}}function FA(t,e,n,i){const o=e.pixels,r=o[t];let l=t>0?o[t-1]:null,d=t<o.length-1?o[t+1]:null;const h=n.categoryPercentage;l===null&&(l=r-(d===null?e.end-e.start:d-r)),d===null&&(d=r+r-l);const p=r-(r-Math.min(l,d))/2*h;return{chunk:Math.abs(d-l)/2*h/i,ratio:n.barPercentage,start:p}}function UA(t,e,n,i){const o=n.parse(t[0],i),r=n.parse(t[1],i),l=Math.min(o,r),d=Math.max(o,r);let h=l,p=d;Math.abs(l)>Math.abs(d)&&(h=d,p=l),e[n.axis]=p,e._custom={barStart:h,barEnd:p,start:o,end:r,min:l,max:d}}function Yx(t,e,n,i){return tt(t)?UA(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Ag(t,e,n,i){const o=t.iScale,r=t.vScale,l=o.getLabels(),d=o===r,h=[];let p,y,x,C;for(p=n,y=n+i;p<y;++p)C=e[p],x={},x[o.axis]=d||o.parse(l[p],p),h.push(Yx(C,x,r,p));return h}function dc(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function VA(t,e,n){return t!==0?Xn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function BA(t){let e,n,i,o,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(o="end",r="start"):(o="start",r="end"),{start:n,end:i,reverse:e,top:o,bottom:r}}function OA(t,e,n,i){let o=e.borderSkipped;const r={};if(!o){t.borderSkipped=r;return}if(o===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:d,reverse:h,top:p,bottom:y}=BA(t);o==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?o=p:(n._bottom||0)===i?o=y:(r[Rg(y,l,d,h)]=!0,o=p)),r[Rg(o,l,d,h)]=!0,t.borderSkipped=r}function Rg(t,e,n,i){return i?(t=HA(t,e,n),t=Dg(t,n,e)):t=Dg(t,e,n),t}function HA(t,e,n){return t===e?n:t===n?e:t}function Dg(t,e,n){return t==="start"?e:t==="end"?n:t}function zA(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class ka extends vo{parsePrimitiveData(e,n,i,o){return Ag(e,n,i,o)}parseArrayData(e,n,i,o){return Ag(e,n,i,o)}parseObjectData(e,n,i,o){const{iScale:r,vScale:l}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,p=r.axis==="x"?d:h,y=l.axis==="x"?d:h,x=[];let C,T,w,E;for(C=i,T=i+o;C<T;++C)E=n[C],w={},w[r.axis]=r.parse(bi(E,p),C),x.push(Yx(bi(E,y),w,l,C));return x}updateRangeFromParsed(e,n,i,o){super.updateRangeFromParsed(e,n,i,o);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:o}=n,r=this.getParsed(e),l=r._custom,d=dc(l)?"["+l.start+", "+l.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,o){const r=o==="reset",{index:l,_cachedMeta:{vScale:d}}=this,h=d.getBasePixel(),p=d.isHorizontal(),y=this._getRuler(),{sharedOptions:x,includeOptions:C}=this._getSharedOptions(n,o);for(let T=n;T<n+i;T++){const w=this.getParsed(T),E=r||Oe(w[d.axis])?{base:h,head:h}:this._calculateBarValuePixels(T),M=this._calculateBarIndexPixels(T,y),N=(w._stacks||{})[d.axis],P={horizontal:p,base:E.base,enableBorderRadius:!N||dc(w._custom)||l===N._top||l===N._bottom,x:p?E.head:M.center,y:p?M.center:E.head,height:p?M.size:Math.abs(E.size),width:p?Math.abs(E.size):M.size};C&&(P.options=x||this.resolveDataElementOptions(T,e[T].active?"active":o));const R=P.options||e[T].options;OA(P,R,N,l),zA(P,R,y.ratio),this.updateElement(e[T],T,P,o)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=i.options.stacked,l=[],d=h=>{const p=h.controller.getParsed(n),y=p&&p[h.vScale.axis];if(Oe(y)||isNaN(y))return!0};for(const h of o)if(!(n!==void 0&&d(h))&&((r===!1||l.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&l.push(h.stack),h.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const o=this._getStacks(e,i),r=n!==void 0?o.indexOf(n):-1;return r===-1?o.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,o=[];let r,l;for(r=0,l=n.data.length;r<l;++r)o.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const d=e.barThickness;return{min:d||DA(n),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:o},options:{base:r,minBarLength:l}}=this,d=r||0,h=this.getParsed(e),p=h._custom,y=dc(p);let x=h[n.axis],C=0,T=i?this.applyStack(n,h,i):x,w,E;T!==x&&(C=T-x,T=x),y&&(x=p.barStart,T=p.barEnd-p.barStart,x!==0&&Xn(x)!==Xn(p.barEnd)&&(C=0),C+=x);const M=!Oe(r)&&!y?r:C;let N=n.getPixelForValue(M);if(this.chart.getDataVisibility(e)?w=n.getPixelForValue(C+T):w=N,E=w-N,Math.abs(E)<l){E=VA(E,n,d)*l,x===d&&(N-=E/2);const P=n.getPixelForDecimal(0),R=n.getPixelForDecimal(1),D=Math.min(P,R),L=Math.max(P,R);N=Math.max(Math.min(N,L),D),w=N+E,i&&!y&&(h._stacks[n.axis]._visualValues[o]=n.getValueForPixel(w)-n.getValueForPixel(N))}if(N===n.getPixelForValue(d)){const P=Xn(E)*n.getLineWidthForValue(d)/2;N+=P,E-=P}return{size:E,base:N,head:w,center:w+E/2}}_calculateBarIndexPixels(e,n){const i=n.scale,o=this.options,r=o.skipNull,l=ke(o.maxBarThickness,1/0);let d,h;if(n.grouped){const p=r?this._getStackCount(e):n.stackCount,y=o.barThickness==="flex"?FA(e,n,o,p):LA(e,n,o,p),x=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);d=y.start+y.chunk*x+y.chunk/2,h=Math.min(l,y.chunk*y.ratio)}else d=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(l,n.min*n.ratio);return{base:d-h/2,head:d+h/2,center:d,size:h}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,o=i.length;let r=0;for(;r<o;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}ce(ka,"id","bar"),ce(ka,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ce(ka,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function $A(t,e,n){let i=1,o=1,r=0,l=0;if(e<Xe){const d=t,h=d+e,p=Math.cos(d),y=Math.sin(d),x=Math.cos(h),C=Math.sin(h),T=(R,D,L)=>Ba(R,d,h,!0)?1:Math.max(D,D*n,L,L*n),w=(R,D,L)=>Ba(R,d,h,!0)?-1:Math.min(D,D*n,L,L*n),E=T(0,p,x),M=T(nt,y,C),N=w(Qe,p,x),P=w(Qe+nt,y,C);i=(E-N)/2,o=(M-P)/2,r=-(E+N)/2,l=-(M+P)/2}return{ratioX:i,ratioY:o,offsetX:r,offsetY:l}}class fo extends vo{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let r=h=>+i[h];if(Ee(i[e])){const{key:h="value"}=this._parsing;r=p=>+bi(i[p],h)}let l,d;for(l=e,d=e+n;l<d;++l)o._parsed[l]=r(l)}}_getRotation(){return _n(this.options.rotation-90)}_getCircumference(){return _n(this.options.circumference)}_getRotationExtents(){let e=Xe,n=-Xe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const o=this.chart.getDatasetMeta(i).controller,r=o._getRotation(),l=o._getCircumference();e=Math.min(e,r),n=Math.max(n,r+l)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,o=this._cachedMeta,r=o.data,l=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,d=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(vP(this.options.cutout,d),1),p=this._getRingWeight(this.index),{circumference:y,rotation:x}=this._getRotationExtents(),{ratioX:C,ratioY:T,offsetX:w,offsetY:E}=$A(x,y,h),M=(i.width-l)/C,N=(i.height-l)/T,P=Math.max(Math.min(M,N)/2,0),R=bx(this.options.radius,P),D=Math.max(R*h,0),L=(R-D)/this._getVisibleDatasetWeightTotal();this.offsetX=w*R,this.offsetY=E*R,o.total=this.calculateTotal(),this.outerRadius=R-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*p,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,o=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*r/Xe)}updateElements(e,n,i,o){const r=o==="reset",l=this.chart,d=l.chartArea,p=l.options.animation,y=(d.left+d.right)/2,x=(d.top+d.bottom)/2,C=r&&p.animateScale,T=C?0:this.innerRadius,w=C?0:this.outerRadius,{sharedOptions:E,includeOptions:M}=this._getSharedOptions(n,o);let N=this._getRotation(),P;for(P=0;P<n;++P)N+=this._circumference(P,r);for(P=n;P<n+i;++P){const R=this._circumference(P,r),D=e[P],L={x:y+this.offsetX,y:x+this.offsetY,startAngle:N,endAngle:N+R,circumference:R,outerRadius:w,innerRadius:T};M&&(L.options=E||this.resolveDataElementOptions(P,D.active?"active":o)),N+=R,this.updateElement(D,P,L,o)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,o;for(o=0;o<n.length;o++){const r=e._parsed[o];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Xe*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,o=i.data.labels||[],r=fd(n._parsed[e],i.options.locale);return{label:o[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let o,r,l,d,h;if(!e){for(o=0,r=i.data.datasets.length;o<r;++o)if(i.isDatasetVisible(o)){l=i.getDatasetMeta(o),e=l.data,d=l.controller;break}}if(!e)return 0;for(o=0,r=e.length;o<r;++o)h=d.resolveDataElementOptions(o),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,o=e.length;i<o;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(ke(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ce(fo,"id","doughnut"),ce(fo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ce(fo,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ce(fo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:o}}=e.legend.options;return n.labels.map((r,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:o,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class zc extends fo{}ce(zc,"id","pie"),ce(zc,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function vi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class _d{constructor(e){ce(this,"options");this.options=e||{}}static override(e){Object.assign(_d.prototype,e)}init(){}formats(){return vi()}parse(){return vi()}format(){return vi()}add(){return vi()}diff(){return vi()}startOf(){return vi()}endOf(){return vi()}}var qA={_date:_d};function GA(t,e,n,i){const{controller:o,data:r,_sorted:l}=t,d=o._cachedMeta.iScale;if(d&&e===d.axis&&e!=="r"&&l&&r.length){const h=d._reversePixels?AP:Oc;if(i){if(o._sharedOptions){const p=r[0],y=typeof p.getRange=="function"&&p.getRange(e);if(y){const x=h(r,e,n-y),C=h(r,e,n+y);return{lo:x.lo,hi:C.hi}}}}else return h(r,e,n)}return{lo:0,hi:r.length-1}}function nl(t,e,n,i,o){const r=t.getSortedVisibleDatasetMetas(),l=n[e];for(let d=0,h=r.length;d<h;++d){const{index:p,data:y}=r[d],{lo:x,hi:C}=GA(r[d],e,l,o);for(let T=x;T<=C;++T){const w=y[T];w.skip||i(w,p,T)}}}function jA(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,o){const r=e?Math.abs(i.x-o.x):0,l=n?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(l,2))}}function fc(t,e,n,i,o){const r=[];return!o&&!t.isPointInArea(e)||nl(t,n,e,function(d,h,p){!o&&!Bx(d,t.chartArea,0)||d.inRange(e.x,e.y,i)&&r.push({element:d,datasetIndex:h,index:p})},!0),r}function WA(t,e,n,i){let o=[];function r(l,d,h){const{startAngle:p,endAngle:y}=l.getProps(["startAngle","endAngle"],i),{angle:x}=Px(l,{x:e.x,y:e.y});Ba(x,p,y)&&o.push({element:l,datasetIndex:d,index:h})}return nl(t,n,e,r),o}function JA(t,e,n,i,o,r){let l=[];const d=jA(n);let h=Number.POSITIVE_INFINITY;function p(y,x,C){const T=y.inRange(e.x,e.y,o);if(i&&!T)return;const w=y.getCenterPoint(o);if(!(!!r||t.isPointInArea(w))&&!T)return;const M=d(e,w);M<h?(l=[{element:y,datasetIndex:x,index:C}],h=M):M===h&&l.push({element:y,datasetIndex:x,index:C})}return nl(t,n,e,p),l}function hc(t,e,n,i,o,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?WA(t,e,n,o):JA(t,e,n,i,o,r)}function Lg(t,e,n,i,o){const r=[],l=n==="x"?"inXRange":"inYRange";let d=!1;return nl(t,n,e,(h,p,y)=>{h[l](e[n],o)&&(r.push({element:h,datasetIndex:p,index:y}),d=d||h.inRange(e.x,e.y,o))}),i&&!d?[]:r}var YA={modes:{index(t,e,n,i){const o=Ci(e,t),r=n.axis||"x",l=n.includeInvisible||!1,d=n.intersect?fc(t,o,r,i,l):hc(t,o,r,!1,i,l),h=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(p=>{const y=d[0].index,x=p.data[y];x&&!x.skip&&h.push({element:x,datasetIndex:p.index,index:y})}),h):[]},dataset(t,e,n,i){const o=Ci(e,t),r=n.axis||"xy",l=n.includeInvisible||!1;let d=n.intersect?fc(t,o,r,i,l):hc(t,o,r,!1,i,l);if(d.length>0){const h=d[0].datasetIndex,p=t.getDatasetMeta(h).data;d=[];for(let y=0;y<p.length;++y)d.push({element:p[y],datasetIndex:h,index:y})}return d},point(t,e,n,i){const o=Ci(e,t),r=n.axis||"xy",l=n.includeInvisible||!1;return fc(t,o,r,i,l)},nearest(t,e,n,i){const o=Ci(e,t),r=n.axis||"xy",l=n.includeInvisible||!1;return hc(t,o,r,n.intersect,i,l)},x(t,e,n,i){const o=Ci(e,t);return Lg(t,o,"x",n.intersect,i)},y(t,e,n,i){const o=Ci(e,t);return Lg(t,o,"y",n.intersect,i)}}};const Kx=["left","top","right","bottom"];function Ts(t,e){return t.filter(n=>n.pos===e)}function Fg(t,e){return t.filter(n=>Kx.indexOf(n.pos)===-1&&n.box.axis===e)}function Ss(t,e){return t.sort((n,i)=>{const o=e?i:n,r=e?n:i;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function KA(t){const e=[];let n,i,o,r,l,d;for(n=0,i=(t||[]).length;n<i;++n)o=t[n],{position:r,options:{stack:l,stackWeight:d=1}}=o,e.push({index:n,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&r+l,stackWeight:d});return e}function XA(t){const e={};for(const n of t){const{stack:i,pos:o,stackWeight:r}=n;if(!i||!Kx.includes(o))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=r}return e}function QA(t,e){const n=XA(t),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e;let r,l,d;for(r=0,l=t.length;r<l;++r){d=t[r];const{fullSize:h}=d.box,p=n[d.stack],y=p&&d.stackWeight/p.weight;d.horizontal?(d.width=y?y*i:h&&e.availableWidth,d.height=o):(d.width=i,d.height=y?y*o:h&&e.availableHeight)}return n}function ZA(t){const e=KA(t),n=Ss(e.filter(p=>p.box.fullSize),!0),i=Ss(Ts(e,"left"),!0),o=Ss(Ts(e,"right")),r=Ss(Ts(e,"top"),!0),l=Ss(Ts(e,"bottom")),d=Fg(e,"x"),h=Fg(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:o.concat(h).concat(l).concat(d),chartArea:Ts(e,"chartArea"),vertical:i.concat(o).concat(h),horizontal:r.concat(l).concat(d)}}function Ug(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Xx(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function eR(t,e,n,i){const{pos:o,box:r}=n,l=t.maxPadding;if(!Ee(o)){n.size&&(t[o]-=n.size);const x=i[n.stack]||{size:0,count:1};x.size=Math.max(x.size,n.horizontal?r.height:r.width),n.size=x.size/x.count,t[o]+=n.size}r.getPadding&&Xx(l,r.getPadding());const d=Math.max(0,e.outerWidth-Ug(l,t,"left","right")),h=Math.max(0,e.outerHeight-Ug(l,t,"top","bottom")),p=d!==t.w,y=h!==t.h;return t.w=d,t.h=h,n.horizontal?{same:p,other:y}:{same:y,other:p}}function tR(t){const e=t.maxPadding;function n(i){const o=Math.max(e[i]-t[i],0);return t[i]+=o,o}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function nR(t,e){const n=e.maxPadding;function i(o){const r={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{r[l]=Math.max(e[l],n[l])}),r}return i(t?["left","right"]:["top","bottom"])}function bs(t,e,n,i){const o=[];let r,l,d,h,p,y;for(r=0,l=t.length,p=0;r<l;++r){d=t[r],h=d.box,h.update(d.width||e.w,d.height||e.h,nR(d.horizontal,e));const{same:x,other:C}=eR(e,n,d,i);p|=x&&o.length,y=y||C,h.fullSize||o.push(d)}return p&&bs(o,e,n,i)||y}function ga(t,e,n,i,o){t.top=n,t.left=e,t.right=e+i,t.bottom=n+o,t.width=i,t.height=o}function Vg(t,e,n,i){const o=n.padding;let{x:r,y:l}=e;for(const d of t){const h=d.box,p=i[d.stack]||{placed:0,weight:1},y=d.stackWeight/p.weight||1;if(d.horizontal){const x=e.w*y,C=p.size||h.height;Vs(p.start)&&(l=p.start),h.fullSize?ga(h,o.left,l,n.outerWidth-o.right-o.left,C):ga(h,e.left+p.placed,l,x,C),p.start=l,p.placed+=x,l=h.bottom}else{const x=e.h*y,C=p.size||h.width;Vs(p.start)&&(r=p.start),h.fullSize?ga(h,r,o.top,C,n.outerHeight-o.bottom-o.top):ga(h,r,e.top+p.placed,C,x),p.start=r,p.placed+=x,r=h.right}}e.x=r,e.y=l}var Ot={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const o=$t(t.options.layout.padding),r=Math.max(e-o.width,0),l=Math.max(n-o.height,0),d=ZA(t.boxes),h=d.vertical,p=d.horizontal;Pe(t.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const y=h.reduce((E,M)=>M.box.options&&M.box.options.display===!1?E:E+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:r,availableHeight:l,vBoxMaxWidth:r/2/y,hBoxMaxHeight:l/2}),C=Object.assign({},o);Xx(C,$t(i));const T=Object.assign({maxPadding:C,w:r,h:l,x:o.left,y:o.top},o),w=QA(h.concat(p),x);bs(d.fullSize,T,x,w),bs(h,T,x,w),bs(p,T,x,w)&&bs(h,T,x,w),tR(T),Vg(d.leftAndTop,T,x,w),T.x+=T.w,T.y+=T.h,Vg(d.rightAndBottom,T,x,w),t.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},Pe(d.chartArea,E=>{const M=E.box;Object.assign(M,t.chartArea),M.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class Qx{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,o){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,o?Math.floor(n/o):i)}}isAttached(e){return!0}updateConfig(e){}}class iR extends Qx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ba="$chartjs",oR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Bg=t=>t===null||t==="";function sR(t,e){const n=t.style,i=t.getAttribute("height"),o=t.getAttribute("width");if(t[ba]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Bg(o)){const r=wg(t,"width");r!==void 0&&(t.width=r)}if(Bg(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=wg(t,"height");r!==void 0&&(t.height=r)}return t}const Zx=gA?{passive:!0}:!1;function rR(t,e,n){t&&t.addEventListener(e,n,Zx)}function aR(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Zx)}function lR(t,e){const n=oR[t.type]||t.type,{x:i,y:o}=Ci(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:o!==void 0?o:null}}function za(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function uR(t,e,n){const i=t.canvas,o=new MutationObserver(r=>{let l=!1;for(const d of r)l=l||za(d.addedNodes,i),l=l&&!za(d.removedNodes,i);l&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function cR(t,e,n){const i=t.canvas,o=new MutationObserver(r=>{let l=!1;for(const d of r)l=l||za(d.removedNodes,i),l=l&&!za(d.addedNodes,i);l&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const Os=new Map;let Og=0;function ev(){const t=window.devicePixelRatio;t!==Og&&(Og=t,Os.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function dR(t,e){Os.size||window.addEventListener("resize",ev),Os.set(t,e)}function fR(t){Os.delete(t),Os.size||window.removeEventListener("resize",ev)}function hR(t,e,n){const i=t.canvas,o=i&&Cd(i);if(!o)return;const r=Lx((d,h)=>{const p=o.clientWidth;n(d,h),p<o.clientWidth&&n()},window),l=new ResizeObserver(d=>{const h=d[0],p=h.contentRect.width,y=h.contentRect.height;p===0&&y===0||r(p,y)});return l.observe(o),dR(t,r),l}function pc(t,e,n){n&&n.disconnect(),e==="resize"&&fR(t)}function pR(t,e,n){const i=t.canvas,o=Lx(r=>{t.ctx!==null&&n(lR(r,t))},t);return rR(i,e,o),o}class mR extends Qx{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(sR(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[ba])return!1;const i=n[ba].initial;["height","width"].forEach(r=>{const l=i[r];Oe(l)?n.removeAttribute(r):n.setAttribute(r,l)});const o=i.style||{};return Object.keys(o).forEach(r=>{n.style[r]=o[r]}),n.width=n.width,delete n[ba],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const o=e.$proxies||(e.$proxies={}),l={attach:uR,detach:cR,resize:hR}[n]||pR;o[n]=l(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),o=i[n];if(!o)return;({attach:pc,detach:pc,resize:pc}[n]||aR)(e,n,o),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,o){return mA(e,n,i,o)}isAttached(e){const n=Cd(e);return!!(n&&n.isConnected)}}function gR(t){return!vd()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?iR:mR}class Tn{constructor(){ce(this,"x");ce(this,"y");ce(this,"active",!1);ce(this,"options");ce(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Va(this.x)&&Va(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const o={};return e.forEach(r=>{o[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),o}}ce(Tn,"defaults",{}),ce(Tn,"defaultRoutes");function yR(t,e){const n=t.options.ticks,i=xR(t),o=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?CR(e):[],l=r.length,d=r[0],h=r[l-1],p=[];if(l>o)return _R(e,p,r,l/o),p;const y=vR(r,e,o);if(l>0){let x,C;const T=l>1?Math.round((h-d)/(l-1)):null;for(ya(e,p,y,Oe(T)?0:d-T,d),x=0,C=l-1;x<C;x++)ya(e,p,y,r[x],r[x+1]);return ya(e,p,y,h,Oe(T)?e.length:h+T),p}return ya(e,p,y),p}function xR(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),o=t._maxLength/n;return Math.floor(Math.min(i,o))}function vR(t,e,n){const i=TR(t),o=e.length/n;if(!i)return Math.max(o,1);const r=MP(i);for(let l=0,d=r.length-1;l<d;l++){const h=r[l];if(h>o)return h}return Math.max(o,1)}function CR(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function _R(t,e,n,i){let o=0,r=n[0],l;for(i=Math.ceil(i),l=0;l<t.length;l++)l===r&&(e.push(t[l]),o++,r=n[o*i])}function ya(t,e,n,i,o){const r=ke(i,0),l=Math.min(ke(o,t.length),t.length);let d=0,h,p,y;for(n=Math.ceil(n),o&&(h=o-i,n=h/Math.floor(h/n)),y=r;y<0;)d++,y=Math.round(r+d*n);for(p=Math.max(r,0);p<l;p++)p===y&&(e.push(t[p]),d++,y=Math.round(r+d*n))}function TR(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const SR=t=>t==="left"?"right":t==="right"?"left":t,Hg=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,zg=(t,e)=>Math.min(e||t,t);function $g(t,e){const n=[],i=t.length/e,o=t.length;let r=0;for(;r<o;r+=i)n.push(t[Math.floor(r)]);return n}function wR(t,e,n){const i=t.ticks.length,o=Math.min(e,i-1),r=t._startPixel,l=t._endPixel,d=1e-6;let h=t.getPixelForTick(o),p;if(!(n&&(i===1?p=Math.max(h-r,l-h):e===0?p=(t.getPixelForTick(1)-h)/2:p=(h-t.getPixelForTick(o-1))/2,h+=o<e?p:-p,h<r-d||h>l+d)))return h}function ER(t,e){Pe(t,n=>{const i=n.gc,o=i.length/2;let r;if(o>e){for(r=0;r<o;++r)delete n.data[i[r]];i.splice(0,o)}})}function ws(t){return t.drawTicks?t.tickLength:0}function qg(t,e){if(!t.display)return 0;const n=mt(t.font,e),i=$t(t.padding);return(tt(t.text)?t.text.length:1)*n.lineHeight+i.height}function MR(t,e){return No(t,{scale:e,type:"scale"})}function kR(t,e,n){return No(t,{tick:n,index:e,type:"tick"})}function bR(t,e,n){let i=dd(t);return(n&&e!=="right"||!n&&e==="right")&&(i=SR(i)),i}function NR(t,e,n,i){const{top:o,left:r,bottom:l,right:d,chart:h}=t,{chartArea:p,scales:y}=h;let x=0,C,T,w;const E=l-o,M=d-r;if(t.isHorizontal()){if(T=ht(i,r,d),Ee(n)){const N=Object.keys(n)[0],P=n[N];w=y[N].getPixelForValue(P)+E-e}else n==="center"?w=(p.bottom+p.top)/2+E-e:w=Hg(t,n,e);C=d-r}else{if(Ee(n)){const N=Object.keys(n)[0],P=n[N];T=y[N].getPixelForValue(P)-M+e}else n==="center"?T=(p.left+p.right)/2-M+e:T=Hg(t,n,e);w=ht(i,l,o),x=n==="left"?-nt:nt}return{titleX:T,titleY:w,maxWidth:C,rotation:x}}class Io extends Tn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:o}=this;return e=nn(e,Number.POSITIVE_INFINITY),n=nn(n,Number.NEGATIVE_INFINITY),i=nn(i,Number.POSITIVE_INFINITY),o=nn(o,Number.NEGATIVE_INFINITY),{min:nn(e,i),max:nn(n,o),minDefined:zt(e),maxDefined:zt(n)}}getMinMax(e){let{min:n,max:i,minDefined:o,maxDefined:r}=this.getUserBounds(),l;if(o&&r)return{min:n,max:i};const d=this.getMatchingVisibleMetas();for(let h=0,p=d.length;h<p;++h)l=d[h].controller.getMinMax(this,e),o||(n=Math.min(n,l.min)),r||(i=Math.max(i,l.max));return n=r&&n>i?i:n,i=o&&n>i?n:i,{min:nn(n,nn(i,n)),max:nn(i,nn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Be(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:o,grace:r,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=eA(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?$g(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=yR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Be(this.options.afterUpdate,[this])}beforeSetDimensions(){Be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Be(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Be(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,o,r;for(i=0,o=e.length;i<o;i++)r=e[i],r.label=Be(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){Be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=zg(this.ticks.length,e.ticks.maxTicksLimit),o=n.minRotation||0,r=n.maxRotation;let l=o,d,h,p;if(!this._isVisible()||!n.display||o>=r||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const y=this._getLabelSizes(),x=y.widest.width,C=y.highest.height,T=Mt(this.chart.width-x,0,this.maxWidth);d=e.offset?this.maxWidth/i:T/(i-1),x+6>d&&(d=T/(i-(e.offset?.5:1)),h=this.maxHeight-ws(e.grid)-n.padding-qg(e.title,this.chart.options.font),p=Math.sqrt(x*x+C*C),l=NP(Math.min(Math.asin(Mt((y.highest.height+6)/d,-1,1)),Math.asin(Mt(h/p,-1,1))-Math.asin(Mt(C/p,-1,1)))),l=Math.max(o,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Be(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:o,grid:r}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){const h=qg(o,n.options.font);if(d?(e.width=this.maxWidth,e.height=ws(r)+h):(e.height=this.maxHeight,e.width=ws(r)+h),i.display&&this.ticks.length){const{first:p,last:y,widest:x,highest:C}=this._getLabelSizes(),T=i.padding*2,w=_n(this.labelRotation),E=Math.cos(w),M=Math.sin(w);if(d){const N=i.mirror?0:M*x.width+E*C.height;e.height=Math.min(this.maxHeight,e.height+N+T)}else{const N=i.mirror?0:E*x.width+M*C.height;e.width=Math.min(this.maxWidth,e.width+N+T)}this._calculatePadding(p,y,M,E)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,o){const{ticks:{align:r,padding:l},position:d}=this.options,h=this.labelRotation!==0,p=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let C=0,T=0;h?p?(C=o*e.width,T=i*n.height):(C=i*e.height,T=o*n.width):r==="start"?T=n.width:r==="end"?C=e.width:r!=="inner"&&(C=e.width/2,T=n.width/2),this.paddingLeft=Math.max((C-y+l)*this.width/(this.width-y),0),this.paddingRight=Math.max((T-x+l)*this.width/(this.width-x),0)}else{let y=n.height/2,x=e.height/2;r==="start"?(y=0,x=e.height):r==="end"&&(y=n.height,x=0),this.paddingTop=y+l,this.paddingBottom=x+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Be(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Oe(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=$g(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:o,_longestTextCache:r}=this,l=[],d=[],h=Math.floor(n/zg(n,i));let p=0,y=0,x,C,T,w,E,M,N,P,R,D,L;for(x=0;x<n;x+=h){if(w=e[x].label,E=this._resolveTickFontOptions(x),o.font=M=E.string,N=r[M]=r[M]||{data:{},gc:[]},P=E.lineHeight,R=D=0,!Oe(w)&&!tt(w))R=xg(o,N.data,N.gc,R,w),D=P;else if(tt(w))for(C=0,T=w.length;C<T;++C)L=w[C],!Oe(L)&&!tt(L)&&(R=xg(o,N.data,N.gc,R,L),D+=P);l.push(R),d.push(D),p=Math.max(R,p),y=Math.max(D,y)}ER(r,n);const O=l.indexOf(p),z=d.indexOf(y),J=j=>({width:l[j]||0,height:d[j]||0});return{first:J(0),last:J(n-1),widest:J(O),highest:J(z),widths:l,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return PP(this._alignToPixels?xi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=kR(this.getContext(),e,i))}return this.$context||(this.$context=MR(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=_n(this.labelRotation),i=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),r=this._getLabelSizes(),l=e.autoSkipPadding||0,d=r?r.widest.width+l:0,h=r?r.highest.height+l:0;return this.isHorizontal()?h*i>d*o?d/i:h/o:h*o<d*i?h/i:d/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,o=this.options,{grid:r,position:l,border:d}=o,h=r.offset,p=this.isHorizontal(),x=this.ticks.length+(h?1:0),C=ws(r),T=[],w=d.setContext(this.getContext()),E=w.display?w.width:0,M=E/2,N=function(ye){return xi(i,ye,E)};let P,R,D,L,O,z,J,j,Q,X,ae,Te;if(l==="top")P=N(this.bottom),z=this.bottom-C,j=P-M,X=N(e.top)+M,Te=e.bottom;else if(l==="bottom")P=N(this.top),X=e.top,Te=N(e.bottom)-M,z=P+M,j=this.top+C;else if(l==="left")P=N(this.right),O=this.right-C,J=P-M,Q=N(e.left)+M,ae=e.right;else if(l==="right")P=N(this.left),Q=e.left,ae=N(e.right)-M,O=P+M,J=this.left+C;else if(n==="x"){if(l==="center")P=N((e.top+e.bottom)/2+.5);else if(Ee(l)){const ye=Object.keys(l)[0],ge=l[ye];P=N(this.chart.scales[ye].getPixelForValue(ge))}X=e.top,Te=e.bottom,z=P+M,j=z+C}else if(n==="y"){if(l==="center")P=N((e.left+e.right)/2);else if(Ee(l)){const ye=Object.keys(l)[0],ge=l[ye];P=N(this.chart.scales[ye].getPixelForValue(ge))}O=P-M,J=O-C,Q=e.left,ae=e.right}const Ae=ke(o.ticks.maxTicksLimit,x),de=Math.max(1,Math.ceil(x/Ae));for(R=0;R<x;R+=de){const ye=this.getContext(R),ge=r.setContext(ye),Y=d.setContext(ye),te=ge.lineWidth,Z=ge.color,F=Y.dash||[],H=Y.dashOffset,pe=ge.tickWidth,me=ge.tickColor,Ce=ge.tickBorderDash||[],ve=ge.tickBorderDashOffset;D=wR(this,R,h),D!==void 0&&(L=xi(i,D,te),p?O=J=Q=ae=L:z=j=X=Te=L,T.push({tx1:O,ty1:z,tx2:J,ty2:j,x1:Q,y1:X,x2:ae,y2:Te,width:te,color:Z,borderDash:F,borderDashOffset:H,tickWidth:pe,tickColor:me,tickBorderDash:Ce,tickBorderDashOffset:ve}))}return this._ticksLength=x,this._borderValue=P,T}_computeLabelItems(e){const n=this.axis,i=this.options,{position:o,ticks:r}=i,l=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:p,padding:y,mirror:x}=r,C=ws(i.grid),T=C+y,w=x?-y:T,E=-_n(this.labelRotation),M=[];let N,P,R,D,L,O,z,J,j,Q,X,ae,Te="middle";if(o==="top")O=this.bottom-w,z=this._getXAxisLabelAlignment();else if(o==="bottom")O=this.top+w,z=this._getXAxisLabelAlignment();else if(o==="left"){const de=this._getYAxisLabelAlignment(C);z=de.textAlign,L=de.x}else if(o==="right"){const de=this._getYAxisLabelAlignment(C);z=de.textAlign,L=de.x}else if(n==="x"){if(o==="center")O=(e.top+e.bottom)/2+T;else if(Ee(o)){const de=Object.keys(o)[0],ye=o[de];O=this.chart.scales[de].getPixelForValue(ye)+T}z=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")L=(e.left+e.right)/2-T;else if(Ee(o)){const de=Object.keys(o)[0],ye=o[de];L=this.chart.scales[de].getPixelForValue(ye)}z=this._getYAxisLabelAlignment(C).textAlign}n==="y"&&(h==="start"?Te="top":h==="end"&&(Te="bottom"));const Ae=this._getLabelSizes();for(N=0,P=d.length;N<P;++N){R=d[N],D=R.label;const de=r.setContext(this.getContext(N));J=this.getPixelForTick(N)+r.labelOffset,j=this._resolveTickFontOptions(N),Q=j.lineHeight,X=tt(D)?D.length:1;const ye=X/2,ge=de.color,Y=de.textStrokeColor,te=de.textStrokeWidth;let Z=z;l?(L=J,z==="inner"&&(N===P-1?Z=this.options.reverse?"left":"right":N===0?Z=this.options.reverse?"right":"left":Z="center"),o==="top"?p==="near"||E!==0?ae=-X*Q+Q/2:p==="center"?ae=-Ae.highest.height/2-ye*Q+Q:ae=-Ae.highest.height+Q/2:p==="near"||E!==0?ae=Q/2:p==="center"?ae=Ae.highest.height/2-ye*Q:ae=Ae.highest.height-X*Q,x&&(ae*=-1),E!==0&&!de.showLabelBackdrop&&(L+=Q/2*Math.sin(E))):(O=J,ae=(1-X)*Q/2);let F;if(de.showLabelBackdrop){const H=$t(de.backdropPadding),pe=Ae.heights[N],me=Ae.widths[N];let Ce=ae-H.top,ve=0-H.left;switch(Te){case"middle":Ce-=pe/2;break;case"bottom":Ce-=pe;break}switch(z){case"center":ve-=me/2;break;case"right":ve-=me;break;case"inner":N===P-1?ve-=me:N>0&&(ve-=me/2);break}F={left:ve,top:Ce,width:me+H.width,height:pe+H.height,color:de.backdropColor}}M.push({label:D,font:j,textOffset:ae,options:{rotation:E,color:ge,strokeColor:Y,strokeWidth:te,textAlign:Z,textBaseline:Te,translation:[L,O],backdrop:F}})}return M}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-_n(this.labelRotation))return e==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:o,padding:r}}=this.options,l=this._getLabelSizes(),d=e+r,h=l.widest.width;let p,y;return n==="left"?o?(y=this.right+r,i==="near"?p="left":i==="center"?(p="center",y+=h/2):(p="right",y+=h)):(y=this.right-d,i==="near"?p="right":i==="center"?(p="center",y-=h/2):(p="left",y=this.left)):n==="right"?o?(y=this.left+r,i==="near"?p="right":i==="center"?(p="center",y-=h/2):(p="left",y-=h)):(y=this.left+d,i==="near"?p="left":i==="center"?(p="center",y+=h/2):(p="right",y=this.right)):p="right",{textAlign:p,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:o,width:r,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,o,r,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(r=>r.value===e);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,l;const d=(h,p,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(n.display)for(r=0,l=o.length;r<l;++r){const h=o[r];n.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:o}}=this,r=i.setContext(this.getContext()),l=i.display?r.width:0;if(!l)return;const d=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,y,x,C;this.isHorizontal()?(p=xi(e,this.left,l)-l/2,y=xi(e,this.right,d)+d/2,x=C=h):(x=xi(e,this.top,l)-l/2,C=xi(e,this.bottom,d)+d/2,p=y=h),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(p,x),n.lineTo(y,C),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&hd(i,o);const r=this.getLabelItems(e);for(const l of r){const d=l.options,h=l.font,p=l.label,y=l.textOffset;Bs(i,p,0,y,h,d)}o&&pd(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:o}}=this;if(!i.display)return;const r=mt(i.font),l=$t(i.padding),d=i.align;let h=r.lineHeight/2;n==="bottom"||n==="center"||Ee(n)?(h+=l.bottom,tt(i.text)&&(h+=r.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:p,titleY:y,maxWidth:x,rotation:C}=NR(this,h,n,d);Bs(e,i.text,0,0,r,{color:i.color,maxWidth:x,rotation:C,textAlign:bR(d,n,o),textBaseline:"middle",translation:[p,y]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=ke(e.grid&&e.grid.z,-1),o=ke(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Io.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let r,l;for(r=0,l=n.length;r<l;++r){const d=n[r];d[i]===this.id&&(!e||d.type===e)&&o.push(d)}return o}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return mt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class xa{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;AR(n)&&(i=this.register(n));const o=this.items,r=e.id,l=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in o||(o[r]=e,IR(e,l,i),this.override&&Ye.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,o=this.scope;i in n&&delete n[i],o&&i in Ye[o]&&(delete Ye[o][i],this.override&&delete Ni[i])}}function IR(t,e,n){const i=Us(Object.create(null),[n?Ye.get(n):{},Ye.get(e),t.defaults]);Ye.set(e,i),t.defaultRoutes&&PR(e,t.defaultRoutes),t.descriptors&&Ye.describe(e,t.descriptors)}function PR(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),o=i.pop(),r=[t].concat(i).join("."),l=e[n].split("."),d=l.pop(),h=l.join(".");Ye.route(r,o,h,d)})}function AR(t){return"id"in t&&"defaults"in t}class RR{constructor(){this.controllers=new xa(vo,"datasets",!0),this.elements=new xa(Tn,"elements"),this.plugins=new xa(Object,"plugins"),this.scales=new xa(Io,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(o=>{const r=i||this._getRegistryForType(o);i||r.isForType(o)||r===this.plugins&&o.id?this._exec(e,r,o):Pe(o,l=>{const d=i||this._getRegistryForType(l);this._exec(e,d,l)})})}_exec(e,n,i){const o=ud(e);Be(i["before"+o],[],i),n[e](i),Be(i["after"+o],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const o=n.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}}var sn=new RR;class DR{constructor(){this._init=[]}notify(e,n,i,o){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=o?this._descriptors(e).filter(o):this._descriptors(e),l=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,i,o){o=o||{};for(const r of e){const l=r.plugin,d=l[i],h=[n,o,r.options];if(Be(d,h,l)===!1&&o.cancelable)return!1}return!0}invalidate(){Oe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,o=ke(i.options&&i.options.plugins,{}),r=LR(i);return o===!1&&!n?[]:UR(e,r,o,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,o=(r,l)=>r.filter(d=>!l.some(h=>d.plugin.id===h.plugin.id));this._notify(o(n,i),e,"stop"),this._notify(o(i,n),e,"start")}}function LR(t){const e={},n=[],i=Object.keys(sn.plugins.items);for(let r=0;r<i.length;r++)n.push(sn.getPlugin(i[r]));const o=t.plugins||[];for(let r=0;r<o.length;r++){const l=o[r];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function FR(t,e){return!e&&t===!1?null:t===!0?{}:t}function UR(t,{plugins:e,localIds:n},i,o){const r=[],l=t.getContext();for(const d of e){const h=d.id,p=FR(i[h],o);p!==null&&r.push({plugin:d,options:VR(t.config,{plugin:d,local:n[h]},p,l)})}return r}function VR(t,{plugin:e,local:n},i,o){const r=t.pluginScopeKeys(e),l=t.getOptionScopes(i,r);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $c(t,e){const n=Ye.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function BR(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function OR(t,e){return t===e?"_index_":"_value_"}function Gg(t){if(t==="x"||t==="y"||t==="r")return t}function HR(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function qc(t,...e){if(Gg(t))return t;for(const n of e){const i=n.axis||HR(n.position)||t.length>1&&Gg(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function jg(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function zR(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return jg(t,"x",n[0])||jg(t,"y",n[0])}return{}}function $R(t,e){const n=Ni[t.type]||{scales:{}},i=e.scales||{},o=$c(t.type,e),r=Object.create(null);return Object.keys(i).forEach(l=>{const d=i[l];if(!Ee(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=qc(l,d,zR(l,t),Ye.scales[d.type]),p=OR(h,o),y=n.scales||{};r[l]=Ps(Object.create(null),[{axis:h},d,y[h],y[p]])}),t.data.datasets.forEach(l=>{const d=l.type||t.type,h=l.indexAxis||$c(d,e),y=(Ni[d]||{}).scales||{};Object.keys(y).forEach(x=>{const C=BR(x,h),T=l[C+"AxisID"]||C;r[T]=r[T]||Object.create(null),Ps(r[T],[{axis:C},i[T],y[x]])})}),Object.keys(r).forEach(l=>{const d=r[l];Ps(d,[Ye.scales[d.type],Ye.scale])}),r}function tv(t){const e=t.options||(t.options={});e.plugins=ke(e.plugins,{}),e.scales=$R(t,e)}function nv(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function qR(t){return t=t||{},t.data=nv(t.data),tv(t),t}const Wg=new Map,iv=new Set;function va(t,e){let n=Wg.get(t);return n||(n=e(),Wg.set(t,n),iv.add(n)),n}const Es=(t,e,n)=>{const i=bi(e,n);i!==void 0&&t.add(i)};class GR{constructor(e){this._config=qR(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=nv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),tv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return va(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return va(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return va(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return va(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let o=i.get(e);return(!o||n)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,n,i){const{options:o,type:r}=this,l=this._cachedScopes(e,i),d=l.get(n);if(d)return d;const h=new Set;n.forEach(y=>{e&&(h.add(e),y.forEach(x=>Es(h,e,x))),y.forEach(x=>Es(h,o,x)),y.forEach(x=>Es(h,Ni[r]||{},x)),y.forEach(x=>Es(h,Ye,x)),y.forEach(x=>Es(h,Hc,x))});const p=Array.from(h);return p.length===0&&p.push(Object.create(null)),iv.has(n)&&l.set(n,p),p}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ni[n]||{},Ye.datasets[n]||{},{type:n},Ye,Hc]}resolveNamedOptions(e,n,i,o=[""]){const r={$shared:!0},{resolver:l,subPrefixes:d}=Jg(this._resolverCache,e,o);let h=l;if(WR(l,n)){r.$shared=!1,i=Qn(i)?i():i;const p=this.createResolver(e,i,d);h=To(l,i,p)}for(const p of n)r[p]=h[p];return r}createResolver(e,n,i=[""],o){const{resolver:r}=Jg(this._resolverCache,e,i);return Ee(n)?To(r,n,void 0,o):r}}function Jg(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const o=n.join();let r=i.get(o);return r||(r={resolver:gd(e,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},i.set(o,r)),r}const jR=t=>Ee(t)&&Object.getOwnPropertyNames(t).some(e=>Qn(t[e]));function WR(t,e){const{isScriptable:n,isIndexable:i}=Hx(t);for(const o of e){const r=n(o),l=i(o),d=(l||r)&&t[o];if(r&&(Qn(d)||jR(d))||l&&tt(d))return!0}return!1}var JR="4.4.2";const YR=["top","bottom","left","right","chartArea"];function Yg(t,e){return t==="top"||t==="bottom"||YR.indexOf(t)===-1&&e==="x"}function Kg(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Xg(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Be(n&&n.onComplete,[t],e)}function KR(t){const e=t.chart,n=e.options.animation;Be(n&&n.onProgress,[t],e)}function ov(t){return vd()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Na={},Qg=t=>{const e=ov(t);return Object.values(Na).filter(n=>n.canvas===e).pop()};function XR(t,e,n){const i=Object.keys(t);for(const o of i){const r=+o;if(r>=e){const l=t[o];delete t[o],(n>0||r>e)&&(t[r+n]=l)}}}function QR(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Ca(t,e,n){return t.options.clip?t[n]:e[n]}function ZR(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Ca(n,e,"left"),right:Ca(n,e,"right"),top:Ca(i,e,"top"),bottom:Ca(i,e,"bottom")}:e}var qn;let Po=(qn=class{static register(...e){sn.add(...e),Zg()}static unregister(...e){sn.remove(...e),Zg()}constructor(e,n){const i=this.config=new GR(n),o=ov(e),r=Qg(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||gR(o)),this.platform.updateConfig(i);const d=this.platform.acquireContext(o,l.aspectRatio),h=d&&d.canvas,p=h&&h.height,y=h&&h.width;if(this.id=xP(),this.ctx=d,this.canvas=h,this.width=y,this.height=p,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new DR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=LP(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],Na[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}xn.listen(this,"complete",Xg),xn.listen(this,"progress",KR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:o,_aspectRatio:r}=this;return Oe(e)?n&&r?r:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return sn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Sg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vg(this.canvas,this.ctx),this}stop(){return xn.stop(this),this}resize(e,n){xn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,o=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(o,e,n,r),d=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Sg(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),Be(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Pe(n,(i,o)=>{i.id=o})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,o=Object.keys(i).reduce((l,d)=>(l[d]=!1,l),{});let r=[];n&&(r=r.concat(Object.keys(n).map(l=>{const d=n[l],h=qc(l,d),p=h==="r",y=h==="x";return{options:d,dposition:p?"chartArea":y?"bottom":"left",dtype:p?"radialLinear":y?"category":"linear"}}))),Pe(r,l=>{const d=l.options,h=d.id,p=qc(h,d),y=ke(d.type,l.dtype);(d.position===void 0||Yg(d.position,p)!==Yg(l.dposition))&&(d.position=l.dposition),o[h]=!0;let x=null;if(h in i&&i[h].type===y)x=i[h];else{const C=sn.getScale(y);x=new C({id:h,type:y,ctx:this.ctx,chart:this}),i[x.id]=x}x.init(d,e)}),Pe(o,(l,d)=>{l||delete i[d]}),Pe(i,l=>{Ot.configure(this,l,l.options),Ot.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((o,r)=>o.index-r.index),i>n){for(let o=n;o<i;++o)this._destroyDatasetMeta(o);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Kg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,o)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=n.length;i<o;i++){const r=n[i];let l=this.getDatasetMeta(i);const d=r.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=d,l.indexAxis=r.indexAxis||$c(d,this.options),l.order=r.order||0,l.index=i,l.label=""+r.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=sn.getController(d),{datasetElementType:p,dataElementType:y}=Ye.datasets[d];Object.assign(h,{dataElementType:sn.getElement(y),datasetElementType:p&&sn.getElement(p)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Pe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let p=0,y=this.data.datasets.length;p<y;p++){const{controller:x}=this.getDatasetMeta(p),C=!o&&r.indexOf(x)===-1;x.buildOrUpdateElements(C),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),o||Pe(r,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Kg("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Pe(this.scales,e=>{Ot.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!ug(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:r}of n){const l=i==="_removeElements"?-r:r;XR(e,o,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(l=>l[0]===r).map((l,d)=>d+","+l.splice(1).join(","))),o=i(0);for(let r=1;r<n;r++)if(!ug(o,i(r)))return;return Array.from(o).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ot.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Pe(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,r)=>{o._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Qn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xn.has(this)?this.attached&&!xn.running(this)&&xn.start(this):(this.draw(),Xg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resize(i,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let o,r;for(o=0,r=n.length;o<r;++o){const l=n[o];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,o=!i.disabled,r=ZR(e,this.chartArea),l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(o&&hd(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),o&&pd(n),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return Bx(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,o){const r=YA.modes[n];return typeof r=="function"?r(this,e,i,o):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let o=i.filter(r=>r&&r._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=No(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const o=i?"show":"hide",r=this.getDatasetMeta(e),l=r.controller._resolveAnimations(void 0,o);Vs(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(r,{visible:i}),this.update(d=>d.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),xn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),vg(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Na[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,l)=>{n.addEventListener(this,r,l),e[r]=l},o=(r,l,d)=>{r.offsetX=l,r.offsetY=d,this._eventHandler(r)};Pe(this.options.events,r=>i(r,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(h,p)=>{n.addEventListener(this,h,p),e[h]=p},o=(h,p)=>{e[h]&&(n.removeEventListener(this,h,p),delete e[h])},r=(h,p)=>{this.canvas&&this.resize(h,p)};let l;const d=()=>{o("attach",d),this.attached=!0,this.resize(),i("resize",r),i("detach",l)};l=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),i("attach",d)},n.isAttached(this.canvas)?d():l()}unbindEvents(){Pe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Pe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const o=i?"set":"remove";let r,l,d,h;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),d=0,h=e.length;d<h;++d){l=e[d];const p=l&&this.getDatasetMeta(l.datasetIndex).controller;p&&p[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:l})=>{const d=this.getDatasetMeta(r);if(!d)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:d.data[l],index:l}});!La(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const o=this.options.hover,r=(h,p)=>h.filter(y=>!p.some(x=>y.datasetIndex===x.datasetIndex&&y.index===x.index)),l=r(n,e),d=i?e:r(e,n);l.length&&this.updateHoverStyle(l,o.mode,!1),d.length&&o.mode&&this.updateHoverStyle(d,o.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:o=[],options:r}=this,l=n,d=this._getActiveElements(e,o,i,l),h=wP(e),p=QR(e,this._lastEvent,i,h);i&&(this._lastEvent=null,Be(r.onHover,[e,d,this],this),h&&Be(r.onClick,[e,d,this],this));const y=!La(d,o);return(y||n)&&(this._active=d,this._updateHoverStyles(d,o,n)),this._lastEvent=p,y}_getActiveElements(e,n,i,o){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,o)}},ce(qn,"defaults",Ye),ce(qn,"instances",Na),ce(qn,"overrides",Ni),ce(qn,"registry",sn),ce(qn,"version",JR),ce(qn,"getChart",Qg),qn);function Zg(){return Pe(Po.instances,t=>t._plugins.invalidate())}function eD(t,e,n){const{startAngle:i,pixelMargin:o,x:r,y:l,outerRadius:d,innerRadius:h}=e;let p=o/d;t.beginPath(),t.arc(r,l,d,i-p,n+p),h>o?(p=o/h,t.arc(r,l,h,n+p,i-p,!0)):t.arc(r,l,o,n+nt,i-nt),t.closePath(),t.clip()}function tD(t){return md(t,["outerStart","outerEnd","innerStart","innerEnd"])}function nD(t,e,n,i){const o=tD(t.options.borderRadius),r=(n-e)/2,l=Math.min(r,i*e/2),d=h=>{const p=(n-Math.min(r,h))*i/2;return Mt(h,0,Math.min(r,p))};return{outerStart:d(o.outerStart),outerEnd:d(o.outerEnd),innerStart:Mt(o.innerStart,0,l),innerEnd:Mt(o.innerEnd,0,l)}}function ro(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function $a(t,e,n,i,o,r){const{x:l,y:d,startAngle:h,pixelMargin:p,innerRadius:y}=e,x=Math.max(e.outerRadius+i+n-p,0),C=y>0?y+i+n+p:0;let T=0;const w=o-h;if(i){const de=y>0?y-i:0,ye=x>0?x-i:0,ge=(de+ye)/2,Y=ge!==0?w*ge/(ge+i):w;T=(w-Y)/2}const E=Math.max(.001,w*x-n/Qe)/x,M=(w-E)/2,N=h+M+T,P=o-M-T,{outerStart:R,outerEnd:D,innerStart:L,innerEnd:O}=nD(e,C,x,P-N),z=x-R,J=x-D,j=N+R/z,Q=P-D/J,X=C+L,ae=C+O,Te=N+L/X,Ae=P-O/ae;if(t.beginPath(),r){const de=(j+Q)/2;if(t.arc(l,d,x,j,de),t.arc(l,d,x,de,Q),D>0){const te=ro(J,Q,l,d);t.arc(te.x,te.y,D,Q,P+nt)}const ye=ro(ae,P,l,d);if(t.lineTo(ye.x,ye.y),O>0){const te=ro(ae,Ae,l,d);t.arc(te.x,te.y,O,P+nt,Ae+Math.PI)}const ge=(P-O/C+(N+L/C))/2;if(t.arc(l,d,C,P-O/C,ge,!0),t.arc(l,d,C,ge,N+L/C,!0),L>0){const te=ro(X,Te,l,d);t.arc(te.x,te.y,L,Te+Math.PI,N-nt)}const Y=ro(z,N,l,d);if(t.lineTo(Y.x,Y.y),R>0){const te=ro(z,j,l,d);t.arc(te.x,te.y,R,N-nt,j)}}else{t.moveTo(l,d);const de=Math.cos(j)*x+l,ye=Math.sin(j)*x+d;t.lineTo(de,ye);const ge=Math.cos(Q)*x+l,Y=Math.sin(Q)*x+d;t.lineTo(ge,Y)}t.closePath()}function iD(t,e,n,i,o){const{fullCircles:r,startAngle:l,circumference:d}=e;let h=e.endAngle;if(r){$a(t,e,n,i,h,o);for(let p=0;p<r;++p)t.fill();isNaN(d)||(h=l+(d%Xe||Xe))}return $a(t,e,n,i,h,o),t.fill(),h}function oD(t,e,n,i,o){const{fullCircles:r,startAngle:l,circumference:d,options:h}=e,{borderWidth:p,borderJoinStyle:y,borderDash:x,borderDashOffset:C}=h,T=h.borderAlign==="inner";if(!p)return;t.setLineDash(x||[]),t.lineDashOffset=C,T?(t.lineWidth=p*2,t.lineJoin=y||"round"):(t.lineWidth=p,t.lineJoin=y||"bevel");let w=e.endAngle;if(r){$a(t,e,n,i,w,o);for(let E=0;E<r;++E)t.stroke();isNaN(d)||(w=l+(d%Xe||Xe))}T&&eD(t,e,w),r||($a(t,e,n,i,w,o),t.stroke())}class ho extends Tn{constructor(n){super();ce(this,"circumference");ce(this,"endAngle");ce(this,"fullCircles");ce(this,"innerRadius");ce(this,"outerRadius");ce(this,"pixelMargin");ce(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,o){const r=this.getProps(["x","y"],o),{angle:l,distance:d}=Px(r,{x:n,y:i}),{startAngle:h,endAngle:p,innerRadius:y,outerRadius:x,circumference:C}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),T=(this.options.spacing+this.options.borderWidth)/2,E=ke(C,p-h)>=Xe||Ba(l,h,p),M=_i(d,y+T,x+T);return E&&M}getCenterPoint(n){const{x:i,y:o,startAngle:r,endAngle:l,innerRadius:d,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:p,spacing:y}=this.options,x=(r+l)/2,C=(d+h+y+p)/2;return{x:i+Math.cos(x)*C,y:o+Math.sin(x)*C}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:o}=this,r=(i.offset||0)/4,l=(i.spacing||0)/2,d=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=o>Xe?Math.floor(o/Xe):0,o===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*r,Math.sin(h)*r);const p=1-Math.sin(Math.min(Qe,o||0)),y=r*p;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,iD(n,this,y,l,d),oD(n,this,y,l,d),n.restore()}}ce(ho,"id","arc"),ce(ho,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ce(ho,"defaultRoutes",{backgroundColor:"backgroundColor"}),ce(ho,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function sv(t,e){const{x:n,y:i,base:o,width:r,height:l}=t.getProps(["x","y","base","width","height"],e);let d,h,p,y,x;return t.horizontal?(x=l/2,d=Math.min(n,o),h=Math.max(n,o),p=i-x,y=i+x):(x=r/2,d=n-x,h=n+x,p=Math.min(i,o),y=Math.max(i,o)),{left:d,top:p,right:h,bottom:y}}function Jn(t,e,n,i){return t?0:Mt(e,n,i)}function sD(t,e,n){const i=t.options.borderWidth,o=t.borderSkipped,r=Ox(i);return{t:Jn(o.top,r.top,0,n),r:Jn(o.right,r.right,0,e),b:Jn(o.bottom,r.bottom,0,n),l:Jn(o.left,r.left,0,e)}}function rD(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,r=yo(o),l=Math.min(e,n),d=t.borderSkipped,h=i||Ee(o);return{topLeft:Jn(!h||d.top||d.left,r.topLeft,0,l),topRight:Jn(!h||d.top||d.right,r.topRight,0,l),bottomLeft:Jn(!h||d.bottom||d.left,r.bottomLeft,0,l),bottomRight:Jn(!h||d.bottom||d.right,r.bottomRight,0,l)}}function aD(t){const e=sv(t),n=e.right-e.left,i=e.bottom-e.top,o=sD(t,n/2,i/2),r=rD(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+o.l,y:e.top+o.t,w:n-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function mc(t,e,n,i){const o=e===null,r=n===null,d=t&&!(o&&r)&&sv(t,i);return d&&(o||_i(e,d.left,d.right))&&(r||_i(n,d.top,d.bottom))}function lD(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function uD(t,e){t.rect(e.x,e.y,e.w,e.h)}function gc(t,e,n={}){const i=t.x!==n.x?-e:0,o=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,l=(t.y+t.h!==n.y+n.h?e:0)-o;return{x:t.x+i,y:t.y+o,w:t.w+r,h:t.h+l,radius:t.radius}}class Co extends Tn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:o}}=this,{inner:r,outer:l}=aD(this),d=lD(l.radius)?Oa:uD;e.save(),(l.w!==r.w||l.h!==r.h)&&(e.beginPath(),d(e,gc(l,n,r)),e.clip(),d(e,gc(r,-n,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),d(e,gc(r,n)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,n,i){return mc(this,e,n,i)}inXRange(e,n){return mc(this,e,null,n)}inYRange(e,n){return mc(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+o)/2:n,y:r?i:(i+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ce(Co,"id","bar"),ce(Co,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ce(Co,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const ey=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},cD=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class ty extends Tn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Be(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,o=mt(i.font),r=o.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=ey(i,r);let p,y;n.font=o.string,this.isHorizontal()?(p=this.maxWidth,y=this._fitRows(l,r,d,h)+10):(y=this.maxHeight,p=this._fitCols(l,o,d,h)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(y,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,o){const{ctx:r,maxWidth:l,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],y=o+d;let x=e;r.textAlign="left",r.textBaseline="middle";let C=-1,T=-y;return this.legendItems.forEach((w,E)=>{const M=i+n/2+r.measureText(w.text).width;(E===0||p[p.length-1]+M+2*d>l)&&(x+=y,p[p.length-(E>0?0:1)]=0,T+=y,C++),h[E]={left:0,top:T,row:C,width:M,height:o},p[p.length-1]+=M+d}),x}_fitCols(e,n,i,o){const{ctx:r,maxHeight:l,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],y=l-e;let x=d,C=0,T=0,w=0,E=0;return this.legendItems.forEach((M,N)=>{const{itemWidth:P,itemHeight:R}=dD(i,n,r,M,o);N>0&&T+R+2*d>y&&(x+=C+d,p.push({width:C,height:T}),w+=C+d,E++,C=T=0),h[N]={left:w,top:T,col:E,width:P,height:R},C=Math.max(C,P),T+=R+d}),x+=C,p.push({width:C,height:T}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:o},rtl:r}}=this,l=xo(r,this.left,this.width);if(this.isHorizontal()){let d=0,h=ht(i,this.left+o,this.right-this.lineWidths[d]);for(const p of n)d!==p.row&&(d=p.row,h=ht(i,this.left+o,this.right-this.lineWidths[d])),p.top+=this.top+e+o,p.left=l.leftForLtr(l.x(h),p.width),h+=p.width+o}else{let d=0,h=ht(i,this.top+e+o,this.bottom-this.columnSizes[d].height);for(const p of n)p.col!==d&&(d=p.col,h=ht(i,this.top+e+o,this.bottom-this.columnSizes[d].height)),p.top=h,p.left+=this.left+o,p.left=l.leftForLtr(l.x(p.left),p.width),h+=p.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;hd(e,this),this._draw(),pd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:o}=this,{align:r,labels:l}=e,d=Ye.color,h=xo(e.rtl,this.left,this.width),p=mt(l.font),{padding:y}=l,x=p.size,C=x/2;let T;this.drawTitle(),o.textAlign=h.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=p.string;const{boxWidth:w,boxHeight:E,itemHeight:M}=ey(l,x),N=function(O,z,J){if(isNaN(w)||w<=0||isNaN(E)||E<0)return;o.save();const j=ke(J.lineWidth,1);if(o.fillStyle=ke(J.fillStyle,d),o.lineCap=ke(J.lineCap,"butt"),o.lineDashOffset=ke(J.lineDashOffset,0),o.lineJoin=ke(J.lineJoin,"miter"),o.lineWidth=j,o.strokeStyle=ke(J.strokeStyle,d),o.setLineDash(ke(J.lineDash,[])),l.usePointStyle){const Q={radius:E*Math.SQRT2/2,pointStyle:J.pointStyle,rotation:J.rotation,borderWidth:j},X=h.xPlus(O,w/2),ae=z+C;Vx(o,Q,X,ae,l.pointStyleWidth&&w)}else{const Q=z+Math.max((x-E)/2,0),X=h.leftForLtr(O,w),ae=yo(J.borderRadius);o.beginPath(),Object.values(ae).some(Te=>Te!==0)?Oa(o,{x:X,y:Q,w,h:E,radius:ae}):o.rect(X,Q,w,E),o.fill(),j!==0&&o.stroke()}o.restore()},P=function(O,z,J){Bs(o,J.text,O,z+M/2,p,{strikethrough:J.hidden,textAlign:h.textAlign(J.textAlign)})},R=this.isHorizontal(),D=this._computeTitleHeight();R?T={x:ht(r,this.left+y,this.right-i[0]),y:this.top+y+D,line:0}:T={x:this.left+y,y:ht(r,this.top+D+y,this.bottom-n[0].height),line:0},Gx(this.ctx,e.textDirection);const L=M+y;this.legendItems.forEach((O,z)=>{o.strokeStyle=O.fontColor,o.fillStyle=O.fontColor;const J=o.measureText(O.text).width,j=h.textAlign(O.textAlign||(O.textAlign=l.textAlign)),Q=w+C+J;let X=T.x,ae=T.y;h.setWidth(this.width),R?z>0&&X+Q+y>this.right&&(ae=T.y+=L,T.line++,X=T.x=ht(r,this.left+y,this.right-i[T.line])):z>0&&ae+L>this.bottom&&(X=T.x=X+n[T.line].width+y,T.line++,ae=T.y=ht(r,this.top+D+y,this.bottom-n[T.line].height));const Te=h.x(X);if(N(Te,ae,O),X=FP(j,X+w+C,R?X+Q:this.right,e.rtl),P(h.x(X),ae,O),R)T.x+=Q+y;else if(typeof O.text!="string"){const Ae=p.lineHeight;T.y+=rv(O,Ae)+y}else T.y+=L}),jx(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=mt(n.font),o=$t(n.padding);if(!n.display)return;const r=xo(e.rtl,this.left,this.width),l=this.ctx,d=n.position,h=i.size/2,p=o.top+h;let y,x=this.left,C=this.width;if(this.isHorizontal())C=Math.max(...this.lineWidths),y=this.top+p,x=ht(e.align,x,this.right-C);else{const w=this.columnSizes.reduce((E,M)=>Math.max(E,M.height),0);y=p+ht(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const T=ht(d,x,x+C);l.textAlign=r.textAlign(dd(d)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,Bs(l,n.text,T,y,i)}_computeTitleHeight(){const e=this.options.title,n=mt(e.font),i=$t(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,o,r;if(_i(e,this.left,this.right)&&_i(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(o=r[i],_i(e,o.left,o.left+o.width)&&_i(n,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!pD(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,r=cD(o,i);o&&!r&&Be(n.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!r&&Be(n.onHover,[e,i,this],this)}else i&&Be(n.onClick,[e,i,this],this)}}function dD(t,e,n,i,o){const r=fD(i,t,e,n),l=hD(o,i,e.lineHeight);return{itemWidth:r,itemHeight:l}}function fD(t,e,n,i){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((r,l)=>r.length>l.length?r:l)),e+n.size/2+i.measureText(o).width}function hD(t,e,n){let i=t;return typeof e.text!="string"&&(i=rv(e,n)),i}function rv(t,e){const n=t.text?t.text.length:0;return e*n}function pD(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Td={id:"legend",_element:ty,start(t,e,n){const i=t.legend=new ty({ctx:t.ctx,options:n,chart:t});Ot.configure(t,i,n),Ot.addBox(t,i)},stop(t){Ot.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Ot.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,o=n.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:o,color:r,useBorderRadius:l,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(n?0:void 0),y=$t(p.borderWidth);return{text:e[h.index].label,fillStyle:p.backgroundColor,fontColor:r,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:o||p.textAlign,borderRadius:l&&(d||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class av extends Tn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const o=tt(i.text)?i.text.length:1;this._padding=$t(i.padding);const r=o*mt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:o,right:r,options:l}=this,d=l.align;let h=0,p,y,x;return this.isHorizontal()?(y=ht(d,i,r),x=n+e,p=r-i):(l.position==="left"?(y=i+e,x=ht(d,o,n),h=Qe*-.5):(y=r-e,x=ht(d,n,o),h=Qe*.5),p=o-n),{titleX:y,titleY:x,maxWidth:p,rotation:h}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=mt(n.font),r=i.lineHeight/2+this._padding.top,{titleX:l,titleY:d,maxWidth:h,rotation:p}=this._drawArgs(r);Bs(e,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:p,textAlign:dd(n.align),textBaseline:"middle",translation:[l,d]})}}function mD(t,e){const n=new av({ctx:t.ctx,options:e,chart:t});Ot.configure(t,n,e),Ot.addBox(t,n),t.titleBlock=n}var Sd={id:"title",_element:av,start(t,e,n){mD(t,n)},stop(t){const e=t.titleBlock;Ot.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Ot.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ns={average(t){if(!t.length)return!1;let e,n,i=new Set,o=0,r=0;for(e=0,n=t.length;e<n;++e){const d=t[e].element;if(d&&d.hasValue()){const h=d.tooltipPosition();i.add(h.x),o+=h.y,++r}}return{x:[...i].reduce((d,h)=>d+h)/i.size,y:o/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,o=Number.POSITIVE_INFINITY,r,l,d;for(r=0,l=t.length;r<l;++r){const h=t[r].element;if(h&&h.hasValue()){const p=h.getCenterPoint(),y=IP(e,p);y<o&&(o=y,d=h)}}if(d){const h=d.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function on(t,e){return e&&(tt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function vn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function gD(t,e){const{element:n,datasetIndex:i,index:o}=e,r=t.getDatasetMeta(i).controller,{label:l,value:d}=r.getLabelAndValue(o);return{chart:t,label:l,parsed:r.getParsed(o),raw:t.data.datasets[i].data[o],formattedValue:d,dataset:r.getDataset(),dataIndex:o,datasetIndex:i,element:n}}function ny(t,e){const n=t.chart.ctx,{body:i,footer:o,title:r}=t,{boxWidth:l,boxHeight:d}=e,h=mt(e.bodyFont),p=mt(e.titleFont),y=mt(e.footerFont),x=r.length,C=o.length,T=i.length,w=$t(e.padding);let E=w.height,M=0,N=i.reduce((D,L)=>D+L.before.length+L.lines.length+L.after.length,0);if(N+=t.beforeBody.length+t.afterBody.length,x&&(E+=x*p.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),N){const D=e.displayColors?Math.max(d,h.lineHeight):h.lineHeight;E+=T*D+(N-T)*h.lineHeight+(N-1)*e.bodySpacing}C&&(E+=e.footerMarginTop+C*y.lineHeight+(C-1)*e.footerSpacing);let P=0;const R=function(D){M=Math.max(M,n.measureText(D).width+P)};return n.save(),n.font=p.string,Pe(t.title,R),n.font=h.string,Pe(t.beforeBody.concat(t.afterBody),R),P=e.displayColors?l+2+e.boxPadding:0,Pe(i,D=>{Pe(D.before,R),Pe(D.lines,R),Pe(D.after,R)}),P=0,n.font=y.string,Pe(t.footer,R),n.restore(),M+=w.width,{width:M,height:E}}function yD(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function xD(t,e,n,i){const{x:o,width:r}=i,l=n.caretSize+n.caretPadding;if(t==="left"&&o+r+l>e.width||t==="right"&&o-r-l<0)return!0}function vD(t,e,n,i){const{x:o,width:r}=n,{width:l,chartArea:{left:d,right:h}}=t;let p="center";return i==="center"?p=o<=(d+h)/2?"left":"right":o<=r/2?p="left":o>=l-r/2&&(p="right"),xD(p,t,e,n)&&(p="center"),p}function iy(t,e,n){const i=n.yAlign||e.yAlign||yD(t,n);return{xAlign:n.xAlign||e.xAlign||vD(t,e,n,i),yAlign:i}}function CD(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function _D(t,e,n){let{y:i,height:o}=t;return e==="top"?i+=n:e==="bottom"?i-=o+n:i-=o/2,i}function oy(t,e,n,i){const{caretSize:o,caretPadding:r,cornerRadius:l}=t,{xAlign:d,yAlign:h}=n,p=o+r,{topLeft:y,topRight:x,bottomLeft:C,bottomRight:T}=yo(l);let w=CD(e,d);const E=_D(e,h,p);return h==="center"?d==="left"?w+=p:d==="right"&&(w-=p):d==="left"?w-=Math.max(y,C)+o:d==="right"&&(w+=Math.max(x,T)+o),{x:Mt(w,0,i.width-e.width),y:Mt(E,0,i.height-e.height)}}function _a(t,e,n){const i=$t(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function sy(t){return on([],vn(t))}function TD(t,e,n){return No(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function ry(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const lv={beforeTitle:yn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:yn,beforeBody:yn,beforeLabel:yn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Oe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:yn,afterBody:yn,beforeFooter:yn,footer:yn,afterFooter:yn};function wt(t,e,n,i){const o=t[e].call(n,i);return typeof o>"u"?lv[e].call(n,i):o}class Gc extends Tn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&n.options.animation&&i.animations,r=new Wx(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=TD(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,o=wt(i,"beforeTitle",this,e),r=wt(i,"title",this,e),l=wt(i,"afterTitle",this,e);let d=[];return d=on(d,vn(o)),d=on(d,vn(r)),d=on(d,vn(l)),d}getBeforeBody(e,n){return sy(wt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,o=[];return Pe(e,r=>{const l={before:[],lines:[],after:[]},d=ry(i,r);on(l.before,vn(wt(d,"beforeLabel",this,r))),on(l.lines,wt(d,"label",this,r)),on(l.after,vn(wt(d,"afterLabel",this,r))),o.push(l)}),o}getAfterBody(e,n){return sy(wt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,o=wt(i,"beforeFooter",this,e),r=wt(i,"footer",this,e),l=wt(i,"afterFooter",this,e);let d=[];return d=on(d,vn(o)),d=on(d,vn(r)),d=on(d,vn(l)),d}_createItems(e){const n=this._active,i=this.chart.data,o=[],r=[],l=[];let d=[],h,p;for(h=0,p=n.length;h<p;++h)d.push(gD(this.chart,n[h]));return e.filter&&(d=d.filter((y,x,C)=>e.filter(y,x,C,i))),e.itemSort&&(d=d.sort((y,x)=>e.itemSort(y,x,i))),Pe(d,y=>{const x=ry(e.callbacks,y);o.push(wt(x,"labelColor",this,y)),r.push(wt(x,"labelPointStyle",this,y)),l.push(wt(x,"labelTextColor",this,y))}),this.labelColors=o,this.labelPointStyles=r,this.labelTextColors=l,this.dataPoints=d,d}update(e,n){const i=this.options.setContext(this.getContext()),o=this._active;let r,l=[];if(!o.length)this.opacity!==0&&(r={opacity:0});else{const d=Ns[i.position].call(this,o,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=ny(this,i),p=Object.assign({},d,h),y=iy(this.chart,i,p),x=oy(i,p,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,r={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,o){const r=this.getCaretPosition(e,i,o);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:o,yAlign:r}=this,{caretSize:l,cornerRadius:d}=i,{topLeft:h,topRight:p,bottomLeft:y,bottomRight:x}=yo(d),{x:C,y:T}=e,{width:w,height:E}=n;let M,N,P,R,D,L;return r==="center"?(D=T+E/2,o==="left"?(M=C,N=M-l,R=D+l,L=D-l):(M=C+w,N=M+l,R=D-l,L=D+l),P=M):(o==="left"?N=C+Math.max(h,y)+l:o==="right"?N=C+w-Math.max(p,x)-l:N=this.caretX,r==="top"?(R=T,D=R-l,M=N-l,P=N+l):(R=T+E,D=R+l,M=N+l,P=N-l),L=R),{x1:M,x2:N,x3:P,y1:R,y2:D,y3:L}}drawTitle(e,n,i){const o=this.title,r=o.length;let l,d,h;if(r){const p=xo(i.rtl,this.x,this.width);for(e.x=_a(this,i.titleAlign,i),n.textAlign=p.textAlign(i.titleAlign),n.textBaseline="middle",l=mt(i.titleFont),d=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<r;++h)n.fillText(o[h],p.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+d,h+1===r&&(e.y+=i.titleMarginBottom-d)}}_drawColorBox(e,n,i,o,r){const l=this.labelColors[i],d=this.labelPointStyles[i],{boxHeight:h,boxWidth:p}=r,y=mt(r.bodyFont),x=_a(this,"left",r),C=o.x(x),T=h<y.lineHeight?(y.lineHeight-h)/2:0,w=n.y+T;if(r.usePointStyle){const E={radius:Math.min(p,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},M=o.leftForLtr(C,p)+p/2,N=w+h/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Cg(e,E,M,N),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Cg(e,E,M,N)}else{e.lineWidth=Ee(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const E=o.leftForLtr(C,p),M=o.leftForLtr(o.xPlus(C,1),p-2),N=yo(l.borderRadius);Object.values(N).some(P=>P!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Oa(e,{x:E,y:w,w:p,h,radius:N}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Oa(e,{x:M,y:w+1,w:p-2,h:h-2,radius:N}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(E,w,p,h),e.strokeRect(E,w,p,h),e.fillStyle=l.backgroundColor,e.fillRect(M,w+1,p-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:o}=this,{bodySpacing:r,bodyAlign:l,displayColors:d,boxHeight:h,boxWidth:p,boxPadding:y}=i,x=mt(i.bodyFont);let C=x.lineHeight,T=0;const w=xo(i.rtl,this.x,this.width),E=function(J){n.fillText(J,w.x(e.x+T),e.y+C/2),e.y+=C+r},M=w.textAlign(l);let N,P,R,D,L,O,z;for(n.textAlign=l,n.textBaseline="middle",n.font=x.string,e.x=_a(this,M,i),n.fillStyle=i.bodyColor,Pe(this.beforeBody,E),T=d&&M!=="right"?l==="center"?p/2+y:p+2+y:0,D=0,O=o.length;D<O;++D){for(N=o[D],P=this.labelTextColors[D],n.fillStyle=P,Pe(N.before,E),R=N.lines,d&&R.length&&(this._drawColorBox(n,e,D,w,i),C=Math.max(x.lineHeight,h)),L=0,z=R.length;L<z;++L)E(R[L]),C=x.lineHeight;Pe(N.after,E)}T=0,C=x.lineHeight,Pe(this.afterBody,E),e.y-=r}drawFooter(e,n,i){const o=this.footer,r=o.length;let l,d;if(r){const h=xo(i.rtl,this.x,this.width);for(e.x=_a(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=mt(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,d=0;d<r;++d)n.fillText(o[d],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,n,i,o){const{xAlign:r,yAlign:l}=this,{x:d,y:h}=e,{width:p,height:y}=i,{topLeft:x,topRight:C,bottomLeft:T,bottomRight:w}=yo(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(d+x,h),l==="top"&&this.drawCaret(e,n,i,o),n.lineTo(d+p-C,h),n.quadraticCurveTo(d+p,h,d+p,h+C),l==="center"&&r==="right"&&this.drawCaret(e,n,i,o),n.lineTo(d+p,h+y-w),n.quadraticCurveTo(d+p,h+y,d+p-w,h+y),l==="bottom"&&this.drawCaret(e,n,i,o),n.lineTo(d+T,h+y),n.quadraticCurveTo(d,h+y,d,h+y-T),l==="center"&&r==="left"&&this.drawCaret(e,n,i,o),n.lineTo(d,h+x),n.quadraticCurveTo(d,h,d+x,h),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,o=i&&i.x,r=i&&i.y;if(o||r){const l=Ns[e.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=ny(this,e),h=Object.assign({},l,this._size),p=iy(n,e,h),y=oy(e,h,p,n);(o._to!==y.x||r._to!==y.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=$t(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,o,n),Gx(e,n.textDirection),r.y+=l.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),jx(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,o=e.map(({datasetIndex:d,index:h})=>{const p=this.chart.getDatasetMeta(d);if(!p)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:p.data[h],index:h}}),r=!La(i,o),l=this._positionChanged(o,n);(r||l)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,r=this._active||[],l=this._getActiveElements(e,r,n,i),d=this._positionChanged(l,e),h=n||!La(l,r)||d;return h&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),h}_getActiveElements(e,n,i,o){const r=this.options;if(e.type==="mouseout")return[];if(!o)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:i,caretY:o,options:r}=this,l=Ns[r.position].call(this,e,n);return l!==!1&&(i!==l.x||o!==l.y)}}ce(Gc,"positioners",Ns);var wd={id:"tooltip",_element:Gc,positioners:Ns,afterInit(t,e,n){n&&(t.tooltip=new Gc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const SD=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function wD(t,e,n,i){const o=t.indexOf(e);if(o===-1)return SD(t,e,n,i);const r=t.lastIndexOf(e);return o!==r?n:o}const ED=(t,e)=>t===null?null:Mt(Math.round(t),0,e);function ay(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Hs extends Io{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:o,label:r}of n)i[o]===r&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Oe(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:wD(i,e,ke(n,e),this._addedLabels),ED(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,o=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=n;l++)o.push({value:l});return o}getLabelForValue(e){return ay.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ce(Hs,"id","category"),ce(Hs,"defaults",{ticks:{callback:ay}});function MD(t,e){const n=[],{bounds:o,step:r,min:l,max:d,precision:h,count:p,maxTicks:y,maxDigits:x,includeBounds:C}=t,T=r||1,w=y-1,{min:E,max:M}=e,N=!Oe(l),P=!Oe(d),R=!Oe(p),D=(M-E)/(x+1);let L=dg((M-E)/w/T)*T,O,z,J,j;if(L<1e-14&&!N&&!P)return[{value:E},{value:M}];j=Math.ceil(M/L)-Math.floor(E/L),j>w&&(L=dg(j*L/w/T)*T),Oe(h)||(O=Math.pow(10,h),L=Math.ceil(L*O)/O),o==="ticks"?(z=Math.floor(E/L)*L,J=Math.ceil(M/L)*L):(z=E,J=M),N&&P&&r&&kP((d-l)/r,L/1e3)?(j=Math.round(Math.min((d-l)/L,y)),L=(d-l)/j,z=l,J=d):R?(z=N?l:z,J=P?d:J,j=p-1,L=(J-z)/j):(j=(J-z)/L,Ma(j,Math.round(j),L/1e3)?j=Math.round(j):j=Math.ceil(j));const Q=Math.max(fg(L),fg(z));O=Math.pow(10,Oe(h)?Q:h),z=Math.round(z*O)/O,J=Math.round(J*O)/O;let X=0;for(N&&(C&&z!==l?(n.push({value:l}),z<l&&X++,Ma(Math.round((z+X*L)*O)/O,l,ly(l,D,t))&&X++):z<l&&X++);X<j;++X){const ae=Math.round((z+X*L)*O)/O;if(P&&ae>d)break;n.push({value:ae})}return P&&C&&J!==d?n.length&&Ma(n[n.length-1].value,d,ly(d,D,t))?n[n.length-1].value=d:n.push({value:d}):(!P||J===d)&&n.push({value:J}),n}function ly(t,e,{horizontal:n,minRotation:i}){const o=_n(i),r=(n?Math.sin(o):Math.cos(o))||.001,l=.75*e*(""+t).length;return Math.min(e/r,l)}class kD extends Io{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Oe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:o,max:r}=this;const l=h=>o=n?o:h,d=h=>r=i?r:h;if(e){const h=Xn(o),p=Xn(r);h<0&&p<0?d(0):h>0&&p>0&&l(0)}if(o===r){let h=r===0?1:Math.abs(r*.05);d(r+h),e||l(o-h)}this.min=o,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,l=MD(o,r);return e.bounds==="ticks"&&bP(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const o=(i-n)/Math.max(e.length-1,1)/2;n-=o,i+=o}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return fd(e,this.chart.options.locale,this.options.ticks.format)}}class zs extends kD{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=zt(e)?e:0,this.max=zt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=_n(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ce(zs,"id","linear"),ce(zs,"defaults",{ticks:{callback:Ux.formatters.numeric}});const il={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Et=Object.keys(il);function uy(t,e){return t-e}function cy(t,e){if(Oe(e))return null;const n=t._adapter,{parser:i,round:o,isoWeekday:r}=t._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),zt(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(o&&(l=o==="week"&&(Va(r)||r===!0)?n.startOf(l,"isoWeek",r):n.startOf(l,o)),+l)}function dy(t,e,n,i){const o=Et.length;for(let r=Et.indexOf(t);r<o-1;++r){const l=il[Et[r]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(d*l.size))<=i)return Et[r]}return Et[o-1]}function bD(t,e,n,i,o){for(let r=Et.length-1;r>=Et.indexOf(n);r--){const l=Et[r];if(il[l].common&&t._adapter.diff(o,i,l)>=e-1)return l}return Et[n?Et.indexOf(n):0]}function ND(t){for(let e=Et.indexOf(t)+1,n=Et.length;e<n;++e)if(il[Et[e]].common)return Et[e]}function fy(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:o}=cd(n,e),r=n[i]>=e?n[i]:n[o];t[r]=!0}}function ID(t,e,n,i){const o=t._adapter,r=+o.startOf(e[0].value,i),l=e[e.length-1].value;let d,h;for(d=r;d<=l;d=+o.add(d,1,i))h=n[d],h>=0&&(e[h].major=!0);return e}function hy(t,e,n){const i=[],o={},r=e.length;let l,d;for(l=0;l<r;++l)d=e[l],o[d]=l,i.push({value:d,major:!1});return r===0||!n?i:ID(t,i,o,n)}class qa extends Io{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),o=this._adapter=new qA._date(e.adapters.date);o.init(n),Ps(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:cy(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:o,max:r,minDefined:l,maxDefined:d}=this.getUserBounds();function h(p){!l&&!isNaN(p.min)&&(o=Math.min(o,p.min)),!d&&!isNaN(p.max)&&(r=Math.max(r,p.max))}(!l||!d)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),o=zt(o)&&!isNaN(o)?o:+n.startOf(Date.now(),i),r=zt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(o,r-1),this.max=Math.max(o+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const r=this.min,l=this.max,d=RP(o,r,l);return this._unit=n.unit||(i.autoSkip?dy(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):bD(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:ND(this._unit),this.initOffsets(o),e.reverse&&d.reverse(),hy(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,o,r;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=Mt(n,0,l),i=Mt(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,o=this.options,r=o.time,l=r.unit||dy(r.minUnit,n,i,this._getLabelCapacity(n)),d=ke(o.ticks.stepSize,1),h=l==="week"?r.isoWeekday:!1,p=Va(h)||h===!0,y={};let x=n,C,T;if(p&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,p?"day":l),e.diff(i,n,l)>1e5*d)throw new Error(n+" and "+i+" are too far apart with stepSize of "+d+" "+l);const w=o.ticks.source==="data"&&this.getDataTimestamps();for(C=x,T=0;C<i;C=+e.add(C,d,l),T++)fy(y,C,w);return(C===i||o.bounds==="ticks"||T===1)&&fy(y,C,w),Object.keys(y).sort(uy).map(E=>+E)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const o=this.options.time.displayFormats,r=this._unit,l=n||o[r];return this._adapter.format(e,l)}_tickFormatFunction(e,n,i,o){const r=this.options,l=r.ticks.callback;if(l)return Be(l,[e,n,i],this);const d=r.time.displayFormats,h=this._unit,p=this._majorUnit,y=h&&d[h],x=p&&d[p],C=i[n],T=p&&x&&C&&C.major;return this._adapter.format(e,o||(T?x:y))}generateTickLabels(e){let n,i,o;for(n=0,i=e.length;n<i;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,o=_n(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(o),l=Math.sin(o),d=this._resolveTickFontOptions(0).size;return{w:i*r+d*l,h:i*l+d*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,o=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,hy(this,[e],this._majorUnit),o),l=this._getLabelSize(r),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,i=o.length;n<i;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const o=this.getLabels();for(n=0,i=o.length;n<i;++n)e.push(cy(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Rx(e.sort(uy))}}ce(qa,"id","time"),ce(qa,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ta(t,e,n){let i=0,o=t.length-1,r,l,d,h;n?(e>=t[i].pos&&e<=t[o].pos&&({lo:i,hi:o}=Oc(t,"pos",e)),{pos:r,time:d}=t[i],{pos:l,time:h}=t[o]):(e>=t[i].time&&e<=t[o].time&&({lo:i,hi:o}=Oc(t,"time",e)),{time:r,pos:d}=t[i],{time:l,pos:h}=t[o]);const p=l-r;return p?d+(h-d)*(e-r)/p:d}class py extends qa{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ta(n,this.min),this._tableRange=Ta(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,o=[],r=[];let l,d,h,p,y;for(l=0,d=e.length;l<d;++l)p=e[l],p>=n&&p<=i&&o.push(p);if(o.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,d=o.length;l<d;++l)y=o[l+1],h=o[l-1],p=o[l],Math.round((y+h)/2)!==p&&r.push({time:p,pos:l/(d-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((o,r)=>o-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Ta(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Ta(this._table,i*this._tableRange+this._minPos,!0)}}ce(py,"id","timeseries"),ce(py,"defaults",qa.defaults);const uv="label";function my(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function PD(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function cv(t,e){t.labels=e}function dv(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uv;const i=[];t.datasets=e.map(o=>{const r=t.datasets.find(l=>l[n]===o[n]);return!r||!o.data||i.includes(r)?{...o}:(i.push(r),Object.assign(r,o),r)})}function AD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uv;const n={labels:[],datasets:[]};return cv(n,t.labels),dv(n,t.datasets,e),n}function RD(t,e){const{height:n=150,width:i=300,redraw:o=!1,datasetIdKey:r,type:l,data:d,options:h,plugins:p=[],fallbackContent:y,updateMode:x,...C}=t,T=b.useRef(null),w=b.useRef(),E=()=>{T.current&&(w.current=new Po(T.current,{type:l,data:AD(d,r),options:h&&{...h},plugins:p}),my(e,w.current))},M=()=>{my(e,null),w.current&&(w.current.destroy(),w.current=null)};return b.useEffect(()=>{!o&&w.current&&h&&PD(w.current,h)},[o,h]),b.useEffect(()=>{!o&&w.current&&cv(w.current.config.data,d.labels)},[o,d.labels]),b.useEffect(()=>{!o&&w.current&&d.datasets&&dv(w.current.config.data,d.datasets,r)},[o,d.datasets]),b.useEffect(()=>{w.current&&(o?(M(),setTimeout(E)):w.current.update(x))},[o,h,d.labels,d.datasets,x]),b.useEffect(()=>{w.current&&(M(),setTimeout(E))},[l]),b.useEffect(()=>(E(),()=>M()),[]),$s.createElement("canvas",Object.assign({ref:T,role:"img",height:n,width:i},C),y)}const DD=b.forwardRef(RD);function Ed(t,e){return Po.register(e),b.forwardRef((n,i)=>$s.createElement(DD,Object.assign({},n,{ref:i,type:t})))}const Ti=Ed("bar",ka),Md=Ed("doughnut",fo),fv=Ed("pie",zc),yc=({title:t,chartType:e,data:n,className:i})=>{const o=e==="pie"?fv:Md,r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{boxWidth:12,padding:15,font:{size:12}}}}};return g.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border border-slate-200/80 ${i}`,children:[g.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-4",children:t}),g.jsx("div",{className:"h-64",children:g.jsx(o,{data:n,options:r})})]})};Po.register(Hs,zs,Co,Sd,wd,Td,ho);const At={blue:"#3b82f6",pink:"#ec4899",gray:"#6b7280",teal:"#14b8a6",green:"#22c55e",yellow:"#eab308",orange:"#f97316",red:"#ef4444",purple:"#8b5cf6",indigo:"#6366f1",cyan:"#06b6d4",lime:"#a3e635"},LD=["#3b82f6","#ec4899","#6b7280","#14b8a6","#22c55e","#eab308","#f97316","#ef4444","#8b5cf6","#6366f1","#06b6d4","#a3e635"],FD=LD.map(t=>`${t}B3`),UD=()=>{const[t,e]=b.useState(null),[n,i]=b.useState(!0);if(b.useEffect(()=>{xe.getFullAdminDashboardData().then(M=>{e(M),i(!1)}).catch(M=>{console.error("Failed to load dashboard data:",M),i(!1)})},[]),n)return g.jsx("p",{className:"text-center text-slate-500 mt-10",children:"Carregando dashboard aprimorado..."});if(!t||!t.analytics)return g.jsx("p",{className:"text-center text-red-500 mt-10",children:"Falha ao carregar os dados do dashboard."});const{analytics:o,totalTourists:r,totalRoutes:l,totalCheckIns:d,totalHotelCheckIns:h,botUsage:p}=t,y={demographics:(o==null?void 0:o.demographics)||{byGender:{Masculino:0,Feminino:0,Outro:0},ageRanges:{"18-25":0,"26-35":0,"36-45":0,"46-60":0,"60+":0},byNationality:{Brasil:0,Argentina:0,Uruguai:0}},travelBehavior:(o==null?void 0:o.travelBehavior)||{byReason:{Turismo:0,Negócios:0,Família:0}}},x=p||{totalInteractions:0,satisfaction:0,commonQuestions:[]},C={labels:Object.keys(y.demographics.byGender),datasets:[{data:Object.values(y.demographics.byGender),backgroundColor:[At.blue,At.pink,At.gray]}]},T={labels:Object.keys(y.demographics.ageRanges),datasets:[{data:Object.values(y.demographics.ageRanges),backgroundColor:[At.teal,At.green,At.yellow,At.orange,At.red]}]},w={labels:Object.keys(y.demographics.byNationality),datasets:[{label:"Visitantes por Origem",data:Object.values(y.demographics.byNationality),backgroundColor:At.purple}]},E={labels:Object.keys(y.travelBehavior.byReason),datasets:[{data:Object.values(y.travelBehavior.byReason),backgroundColor:[At.indigo,At.cyan,At.lime]}]};return g.jsxs("div",{className:"space-y-6 pb-10",children:[g.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Dashboard da Secretaria"}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-5",children:[g.jsx(oo,{icon:Si,title:"Turistas (App)",value:r||0,color:"#3b82f6"}),g.jsx(oo,{icon:By,title:"Check-ins (Hoteis)",value:h||0,color:"#10b981"}),g.jsx(oo,{icon:Ec,title:"Check-ins (POIs)",value:d||0,color:"#f97316"}),g.jsx(oo,{icon:ei,title:"Rotas Criadas",value:l||0,color:"#8b5cf6"}),g.jsx(oo,{icon:Ya,title:"Interações (Bot)",value:x.totalInteractions,color:"#14b8a6"}),g.jsx(oo,{icon:Vy,title:"Satisfação (Bot)",value:x.satisfaction,color:"#6366f1"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsx(yc,{title:"Gênero",chartType:"pie",data:C}),g.jsx(yc,{title:"Faixa Etária",chartType:"doughnut",data:T}),g.jsx(yc,{title:"Motivo da Viagem",chartType:"pie",data:E})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[g.jsxs("div",{className:"lg:col-span-3 bg-white p-6 rounded-xl shadow-sm border border-slate-200/80",children:[g.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-4",children:"Origem dos Visitantes"}),g.jsx("div",{className:"h-80",children:g.jsx(Ti,{data:w,options:{maintainAspectRatio:!1,indexAxis:"y"}})})]}),g.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-slate-200/80",children:[g.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-4",children:"Perguntas Frequentes (Bot)"}),g.jsxs("ul",{className:"space-y-3 text-slate-600",children:[x.commonQuestions.map((M,N)=>g.jsxs("li",{className:"flex justify-between items-center text-sm",children:[g.jsx("span",{children:M.question||"Pergunta não disponível"}),g.jsx("span",{className:"font-bold text-slate-800 bg-slate-100 px-2 py-1 rounded-md",children:M.count||0})]},M.question||N)),x.commonQuestions.length===0&&g.jsx("li",{className:"text-center text-slate-400 py-4",children:"Nenhuma pergunta registrada"})]})]})]})]})},VD=()=>{const[t,e]=b.useState([]),[n,i]=b.useState(!0),o=b.useCallback(()=>{i(!0),xe.getRoutes().then(l=>{e(l),i(!1)})},[]);b.useEffect(()=>{o()},[o]);const r=async(l,d)=>{window.confirm(`Tem certeza que deseja excluir a rota "${d}"?`)&&(await xe.deleteRoute(l),o())};return n?g.jsx("p",{children:"Carregando rotas..."}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Gerenciar Rotas"}),g.jsxs(Ei,{to:"/admin/routes/new",className:"bg-brand-green text-white font-bold py-2.5 px-5 rounded-lg flex items-center gap-2 hover:bg-brand-dark-green transition-colors shadow-sm",children:[g.jsx(Xc,{size:20}),g.jsx("span",{children:"Nova Rota"})]})]}),g.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200/80",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"border-b border-slate-200",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Nome da Rota"}),g.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Descrição"}),g.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600 text-center",children:"Paradas"}),g.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600 text-center",children:"Ações"})]})}),g.jsx("tbody",{children:t.map(l=>g.jsxs("tr",{className:"border-b border-slate-200/80 hover:bg-slate-50",children:[g.jsx("td",{className:"p-4 font-medium text-slate-800",children:l.name}),g.jsx("td",{className:"p-4 text-sm text-slate-600 max-w-sm",children:l.description}),g.jsx("td",{className:"p-4 text-center",children:g.jsxs("div",{className:"inline-flex items-center gap-2 bg-slate-100 px-3 py-1 rounded-full text-sm font-medium text-slate-700",children:[g.jsx(ei,{size:16}),l.pointsOfInterest.length]})}),g.jsx("td",{className:"p-4",children:g.jsxs("div",{className:"flex justify-center gap-2",children:[g.jsx(Ei,{to:`/admin/routes/edit/${l.id}`,className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full transition-colors",children:g.jsx(Ka,{size:18})}),g.jsx("button",{onClick:()=>r(l.id,l.name),className:"p-2 text-slate-500 hover:text-brand-red hover:bg-red-100 rounded-full transition-colors",children:g.jsx(Zc,{size:18})})]})})]},l.id))})]})})]})},gy=()=>{const{routeId:t}=Kc(),e=Zn(),n=!!t,[i,o]=b.useState(""),[r,l]=b.useState(""),[d,h]=b.useState(""),[p,y]=b.useState(new Set),[x,C]=b.useState([]),[T,w]=b.useState(!0),[E,M]=b.useState(!1);b.useEffect(()=>{(async()=>{w(!0);const D=await xe.getPointsOfInterest();if(C(D),n){const L=await xe.getRouteById(t);L&&(o(L.name),l(L.description),h(L.imageUrl||""),y(new Set(L.pointsOfInterest)))}w(!1)})()},[t,n]);const N=R=>{const D=new Set(p);D.has(R)?D.delete(R):D.add(R),y(D)},P=async R=>{R.preventDefault(),M(!0);const D={name:i,description:r,imageUrl:d,pointsOfInterest:Array.from(p)};n?await xe.updateRoute(t,D):await xe.createRoute(D),M(!1),e("/admin/routes")};return T?g.jsx("p",{children:"Carregando editor..."}):g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold mb-6 text-brand-dark-green",children:n?"Editar Rota":"Criar Nova Rota"}),g.jsxs("form",{onSubmit:P,className:"bg-white p-8 rounded-lg shadow-md space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome da Rota"}),g.jsx("input",{type:"text",id:"name",value:i,onChange:R=>o(R.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descrição"}),g.jsx("textarea",{id:"description",value:r,onChange:R=>l(R.target.value),required:!0,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700",children:"URL da Imagem da Rota"}),g.jsx("input",{type:"text",id:"imageUrl",value:d,onChange:R=>h(R.target.value),placeholder:"Deixe em branco para usar a imagem do primeiro ponto",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Pontos Turísticos"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto p-4 border rounded-lg",children:x.map(R=>g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:`poi-${R.id}`,checked:p.has(R.id),onChange:()=>N(R.id),className:"h-4 w-4 text-brand-green border-gray-300 rounded focus:ring-brand-green"}),g.jsx("label",{htmlFor:`poi-${R.id}`,className:"ml-3 text-sm text-gray-700",children:R.name})]},R.id))})]}),g.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[g.jsx("button",{type:"button",onClick:()=>e("/admin/routes"),className:"bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),g.jsx("button",{type:"submit",disabled:E,className:"bg-brand-green text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-dark-green transition-colors disabled:bg-gray-400",children:E?"Salvando...":"Salvar Rota"})]})]})]})},xc=({icon:t,title:e,value:n,isText:i=!1})=>g.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200/80",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"text-slate-500 text-sm font-medium",children:e}),g.jsx("div",{className:"text-brand-green",children:g.jsx(t,{size:24})})]}),g.jsx("p",{className:`mt-2 font-bold ${i?"text-xl":"text-4xl"} text-slate-800`,children:n})]}),BD=["#02a343","#6cbc3a","#063f1f","#f2e9c6","#d82b2b","#ffe815"],Sa=["#063f1f","#02a343","#6cbc3a","#a5d6a7","#c8e6c9"],ao=(t,e,n,i=BD)=>({labels:t,datasets:[{label:n,data:e,backgroundColor:i.slice(0,t.length),borderColor:"#ffffff",borderWidth:2}]}),lo=(t,e="bottom")=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:e,labels:{boxWidth:12,padding:15,font:{size:12}}},title:{display:!0,text:t,font:{size:16,weight:"bold"},color:"#334155",padding:{bottom:20}}},scales:{y:{grid:{color:"#e2e8f0"},ticks:{color:"#64748b"}},x:{grid:{display:!1},ticks:{color:"#64748b"}}}}),uo=({title:t,icon:e,children:n})=>g.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200/80",children:[g.jsxs("h2",{className:"text-xl font-semibold mb-4 text-slate-700 flex items-center gap-3",children:[g.jsx(e,{className:"text-brand-green",size:24}),t]}),g.jsxs("div",{className:"h-80",children:[" ",n]})]}),OD=()=>{const[t,e]=b.useState(null),[n,i]=b.useState(null),[o,r]=b.useState(!0);if(b.useEffect(()=>{(async()=>{const[x,C]=await Promise.all([xe.getAnalyticsData(),xe.getAnalyticsSummary()]);e(x),i(C),r(!1)})()},[]),o)return g.jsx("p",{children:"Carregando análises..."});if(!t||!n)return g.jsx("p",{children:"Não foi possível carregar os dados."});const{demographics:l,travelBehavior:d,satisfaction:h,routeAnalytics:p}=t;return g.jsxs("div",{className:"space-y-8",children:[g.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Business Intelligence"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx(xc,{icon:Si,title:"Visitantes Únicos",value:n.totalVisitors}),g.jsx(xc,{icon:Mc,title:"Satisfação Média (Cidade)",value:`${n.avgCityRating} / 5.0`,isText:!0}),g.jsx(xc,{icon:ed,title:"Rota Mais Popular",value:n.mostPopularRoute,isText:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8",children:[g.jsx(uo,{title:"Distribuição por Gênero",icon:Si,children:g.jsx(Md,{data:ao(Object.keys(l.byGender),Object.values(l.byGender),"Gênero"),options:lo("","right")})}),g.jsx(uo,{title:"Distribuição por Faixa Etária",icon:Si,children:g.jsx(Ti,{data:ao(Object.keys(l.ageRanges),Object.values(l.ageRanges),"Faixa Etária",Sa),options:lo("")})}),g.jsx(uo,{title:"Motivo da Viagem",icon:FT,children:g.jsx(fv,{data:ao(Object.keys(d.byReason),Object.values(d.byReason),"Motivo"),options:lo("","right")})})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsx(uo,{title:"Opinião sobre Pontos Turísticos",icon:ei,children:g.jsx(Ti,{data:ao(["Péssimo","Ruim","Boa","Muito boa","Ótima"],["Péssimo","Ruim","Boa","Muito boa","Ótima"].map(y=>h.poi[y]||0),"Avaliações",Sa),options:lo("")})}),g.jsx(uo,{title:"Opinião sobre a Cidade",icon:Mc,children:g.jsx(Ti,{data:ao(["Péssimo","Ruim","Boa","Muito boa","Ótima"],["Péssimo","Ruim","Boa","Muito boa","Ótima"].map(y=>h.city[y]||0),"Avaliações",Sa),options:lo("")})})]}),g.jsx(uo,{title:"Rotas Completadas por Turistas",icon:$y,children:g.jsx(Ti,{data:ao(Object.keys(p.completionsByRoute),Object.values(p.completionsByRoute),"Conclusões",Sa),options:lo("")})})]})},HD=()=>{const[t,e]=b.useState([]),[n,i]=b.useState(!0),o=b.useCallback(()=>{i(!0),xe.getPointsOfInterest().then(l=>{e(l),i(!1)})},[]);b.useEffect(()=>{o()},[o]);const r=async(l,d)=>{window.confirm(`Tem certeza que deseja excluir o ponto turístico "${d}"? Isso também o removerá de todas as rotas.`)&&(await xe.deletePointOfInterest(l),o())};return n?g.jsx("p",{children:"Carregando pontos turísticos..."}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Gerenciar Pontos Turísticos"}),g.jsxs(Ei,{to:"/admin/pois/new",className:"bg-brand-green text-white font-bold py-2.5 px-5 rounded-lg flex items-center gap-2 hover:bg-brand-dark-green transition-colors shadow-sm",children:[g.jsx(Xc,{size:20}),g.jsx("span",{children:"Novo Ponto"})]})]}),g.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200/80 overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"border-b border-slate-200 bg-slate-50/50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Nome do Ponto"}),g.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Descrição Curta"}),g.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600 text-center",children:"Pontos"}),g.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600 text-center",children:"Ações"})]})}),g.jsx("tbody",{children:t.map(l=>g.jsxs("tr",{className:"border-b border-slate-200/80 hover:bg-slate-50",children:[g.jsxs("td",{className:"p-4 font-medium text-slate-800 flex items-center gap-4",children:[g.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-16 h-12 object-cover rounded-md"}),g.jsx("span",{children:l.name})]}),g.jsx("td",{className:"p-4 text-sm text-slate-600 max-w-sm truncate",children:l.description}),g.jsx("td",{className:"p-4 text-center",children:g.jsxs("div",{className:"inline-flex items-center gap-1 bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium",children:[g.jsx(js,{size:16}),l.points]})}),g.jsx("td",{className:"p-4",children:g.jsxs("div",{className:"flex justify-center gap-2",children:[g.jsx(Ei,{to:`/admin/pois/edit/${l.id}`,className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full transition-colors",children:g.jsx(Ka,{size:18})}),g.jsx("button",{onClick:()=>r(l.id,l.name),className:"p-2 text-slate-500 hover:text-brand-red hover:bg-red-100 rounded-full transition-colors",children:g.jsx(Zc,{size:18})})]})})]},l.id))})]})})})]})},yy=()=>{const{poiId:t}=Kc(),e=Zn(),n=!!t,[i,o]=b.useState({name:"",description:"",longDescription:"",imageUrl:"",points:10,lat:0,lng:0}),[r,l]=b.useState(!0),[d,h]=b.useState(!1);b.useEffect(()=>{n?(l(!0),xe.getPointOfInterestById(t).then(C=>{C&&o({name:C.name,description:C.description,longDescription:C.longDescription,imageUrl:C.imageUrl,points:C.points,lat:C.lat,lng:C.lng}),l(!1)})):l(!1)},[t,n]);const p=C=>{const{name:T,value:w,type:E}=C.target;o(M=>({...M,[T]:E==="number"?parseFloat(w)||0:w}))},y=async C=>{C.preventDefault(),h(!0);const T={...i,points:Number(i.points),lat:Number(i.lat),lng:Number(i.lng)};n?await xe.updatePointOfInterest(t,T):await xe.createPointOfInterest(T),h(!1),e("/admin/pois")};if(r)return g.jsx("p",{children:"Carregando editor..."});const x="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green";return g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold mb-6 text-brand-dark-green",children:n?"Editar Ponto Turístico":"Criar Novo Ponto Turístico"}),g.jsxs("form",{onSubmit:y,className:"bg-white p-8 rounded-lg shadow-md space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome"}),g.jsx("input",{type:"text",name:"name",value:i.name,onChange:p,required:!0,className:x})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descrição Curta"}),g.jsx("input",{type:"text",name:"description",value:i.description,onChange:p,required:!0,className:x})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700",children:"URL da Imagem"}),g.jsx("input",{type:"text",name:"imageUrl",value:i.imageUrl,onChange:p,required:!0,className:x})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"longDescription",className:"block text-sm font-medium text-gray-700",children:"Descrição Longa"}),g.jsx("textarea",{name:"longDescription",value:i.longDescription,onChange:p,required:!0,rows:4,className:x})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"points",className:"block text-sm font-medium text-gray-700",children:"Pontos"}),g.jsx("input",{type:"number",name:"points",value:i.points,onChange:p,required:!0,className:x})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"lat",className:"block text-sm font-medium text-gray-700",children:"Latitude"}),g.jsx("input",{type:"number",step:"any",name:"lat",value:i.lat,onChange:p,required:!0,className:x})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"lng",className:"block text-sm font-medium text-gray-700",children:"Longitude"}),g.jsx("input",{type:"number",step:"any",name:"lng",value:i.lng,onChange:p,required:!0,className:x})]})]}),g.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[g.jsx("button",{type:"button",onClick:()=>e("/admin/pois"),className:"bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),g.jsx("button",{type:"submit",disabled:d,className:"bg-brand-green text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-dark-green transition-colors disabled:bg-gray-400",children:d?"Salvando...":"Salvar Ponto"})]})]})]})},zD=()=>{const[t,e]=b.useState([]),[n,i]=b.useState(!0),[o,r]=b.useState("");b.useEffect(()=>{xe.getAllTouristsData().then(d=>{e(d),i(!1)})},[]);const l=t.filter(d=>d.name.toLowerCase().includes(o.toLowerCase())||d.email.toLowerCase().includes(o.toLowerCase()));return n?g.jsx("p",{children:"Carregando dados dos turistas..."}):g.jsxs("div",{className:"space-y-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Gerenciar Turistas"}),g.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:g.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",className:"w-full p-2 border rounded-md",value:o,onChange:d=>r(d.target.value)})}),g.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:g.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[g.jsx("thead",{className:"bg-slate-50",children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Nome"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Contato"}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Pontos"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:l.map(d=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(nS,{className:"h-5 w-5 text-slate-400 mr-3"}),g.jsx("span",{className:"font-medium text-slate-800",children:d.name})]})}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:[g.jsxs("div",{className:"flex items-center mb-1",children:[g.jsx(ET,{className:"h-4 w-4 text-slate-400 mr-2"}),g.jsx("span",{children:d.email})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx(DT,{className:"h-4 w-4 text-slate-400 mr-2"}),g.jsx("span",{children:d.phone})]})]}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center text-sm font-semibold text-amber-600",children:[g.jsx(Mi,{className:"h-5 w-5 mr-2"}),g.jsx("span",{children:d.points})]})})]},d.id))})]})})]})},$D=()=>{const[t,e]=b.useState([]),[n,i]=b.useState(!0),[o,r]=b.useState(!1),[l,d]=b.useState(null);b.useEffect(()=>{h()},[]);const h=()=>{i(!0),xe.getChallenges().then(T=>{e(T),i(!1)})},p=(T=null)=>{d(T),r(!0)},y=()=>{r(!1),d(null)},x=async T=>{l?await xe.updateChallenge(l.id,T):await xe.createChallenge(T),h(),y()},C=async T=>{window.confirm("Tem certeza que deseja excluir este desafio?")&&(await xe.deleteChallenge(T),h())};return n?g.jsx("p",{children:"Carregando desafios..."}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Gerenciar Desafios e Eventos"}),g.jsxs("button",{onClick:()=>p(),className:"bg-green-500 text-white px-4 py-2 rounded-lg shadow hover:bg-green-600 flex items-center",children:[g.jsx(Xc,{className:"h-5 w-5 mr-2"}),"Novo Desafio"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(T=>g.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${T.type==="event"?"bg-indigo-100 text-indigo-800":"bg-amber-100 text-amber-800"}`,children:T.type==="event"?"Evento":"Desafio"}),g.jsx("h3",{className:"text-xl font-bold text-slate-800 mt-3",children:T.title}),g.jsx("p",{className:"text-slate-600 text-sm my-2",children:T.description}),g.jsxs("div",{className:"flex items-center text-amber-600 font-semibold",children:[g.jsx(Mi,{className:"h-4 w-4 mr-1"})," ",T.points," pontos"]}),T.type==="event"&&T.startDate&&g.jsxs("div",{className:"flex items-center text-slate-500 text-sm mt-2",children:[g.jsx(wc,{className:"h-4 w-4 mr-1"}),new Date(T.startDate).toLocaleDateString()]})]}),g.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[g.jsx("button",{onClick:()=>p(T),className:"p-2 text-slate-500 hover:text-blue-600",children:g.jsx(Ka,{className:"h-5 w-5"})}),g.jsx("button",{onClick:()=>C(T.id),className:"p-2 text-slate-500 hover:text-red-600",children:g.jsx(Zc,{className:"h-5 w-5"})})]})]},T.id))}),o&&g.jsx(qD,{challenge:l,onSave:x,onClose:y})]})},qD=({challenge:t,onSave:e,onClose:n})=>{const[i,o]=b.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",points:(t==null?void 0:t.points)||0,type:(t==null?void 0:t.type)||"challenge",startDate:t!=null&&t.startDate?t.startDate.split("T")[0]:"",endDate:t!=null&&t.endDate?t.endDate.split("T")[0]:""}),r=d=>{const{name:h,value:p}=d.target;o(y=>({...y,[h]:p}))},l=d=>{d.preventDefault();const h={...i,points:Number(i.points),startDate:i.type==="event"&&i.startDate?new Date(i.startDate).toISOString():void 0,endDate:i.type==="event"&&i.endDate?new Date(i.endDate).toISOString():void 0};e(h)};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:g.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-lg",children:[g.jsxs("h2",{className:"text-2xl font-bold mb-6",children:[t?"Editar":"Novo"," Desafio/Evento"]}),g.jsxs("form",{onSubmit:l,className:"space-y-4",children:[g.jsx("input",{type:"text",name:"title",value:i.title,onChange:r,placeholder:"Título",className:"w-full p-2 border rounded",required:!0}),g.jsx("textarea",{name:"description",value:i.description,onChange:r,placeholder:"Descrição",className:"w-full p-2 border rounded",required:!0}),g.jsx("input",{type:"number",name:"points",value:i.points,onChange:r,placeholder:"Pontos",className:"w-full p-2 border rounded",required:!0}),g.jsxs("select",{name:"type",value:i.type,onChange:r,className:"w-full p-2 border rounded",children:[g.jsx("option",{value:"challenge",children:"Desafio"}),g.jsx("option",{value:"event",children:"Evento"})]}),i.type==="event"&&g.jsxs("div",{className:"flex space-x-4",children:[g.jsx("input",{type:"date",name:"startDate",value:i.startDate,onChange:r,className:"w-full p-2 border rounded"}),g.jsx("input",{type:"date",name:"endDate",value:i.endDate,onChange:r,className:"w-full p-2 border rounded"})]}),g.jsxs("div",{className:"flex justify-end space-x-4",children:[g.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-slate-200 rounded",children:"Cancelar"}),g.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-500 text-white rounded",children:"Salvar"})]})]})]})})};Po.register(Hs,zs,Co,Sd,wd,Td);const GD=()=>{const[t,e]=b.useState(null),[n,i]=b.useState([]),[o,r]=b.useState("all"),[l,d]=b.useState(!0);if(b.useEffect(()=>{xe.getAllHotelsAnalytics().then(p=>{e(p),i(p.allCheckIns),d(!1)}).catch(console.error)},[]),b.useEffect(()=>{t&&i(o==="all"?t.allCheckIns:t.allCheckIns.filter(p=>p.hotelId===o))},[o,t]),l)return g.jsx("div",{className:"text-center py-10",children:"Carregando análises..."});if(!t)return g.jsx("div",{className:"text-center py-10 text-red-500",children:"Não foi possível carregar as análises."});const h={labels:t.summary.map(p=>p.hotelName),datasets:[{label:"Total de Hóspedes",data:t.summary.map(p=>p.totalGuests),backgroundColor:"rgba(54, 162, 235, 0.6)"},{label:"Avaliação Média",data:t.summary.map(p=>parseFloat(p.avgRating)||0),backgroundColor:"rgba(75, 192, 192, 0.6)"}]};return g.jsxs("div",{className:"space-y-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Análise da Rede Hoteleira"}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Visão Geral"}),g.jsx("div",{style:{height:"400px"},children:g.jsx(Ti,{data:h,options:{responsive:!0,maintainAspectRatio:!1}})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Detalhes dos Check-ins"}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{htmlFor:"hotel-filter",className:"block text-sm font-medium text-gray-700",children:"Filtrar por Hotel"}),g.jsxs("select",{id:"hotel-filter",value:o,onChange:p=>r(p.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[g.jsx("option",{value:"all",children:"Todos os Hotéis"}),t.summary.map(p=>g.jsx("option",{value:p.hotelId,children:p.hotelName},p.hotelId))]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full bg-white",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Hotel"}),g.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Turista"}),g.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Data"}),g.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Origem"}),g.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Motivo"})]})}),g.jsx("tbody",{children:n.map(p=>{var y;return g.jsxs("tr",{children:[g.jsx("td",{className:"py-2 px-4 border-b",children:(y=t.summary.find(x=>x.hotelId===p.hotelId))==null?void 0:y.hotelName}),g.jsx("td",{className:"py-2 px-4 border-b",children:p.touristName}),g.jsx("td",{className:"py-2 px-4 border-b",children:new Date(p.checkInDate).toLocaleDateString()}),g.jsx("td",{className:"py-2 px-4 border-b",children:p.originCity}),g.jsx("td",{className:"py-2 px-4 border-b",children:p.travelReason})]},p.id)})})]})})]})]})};Po.register(ho,wd,Td,Hs,zs,Co,Sd);const vc=({title:t,value:e,icon:n})=>g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg flex items-center space-x-4 border border-gray-200/80",children:[g.jsx("div",{className:"bg-brand-light-green/30 text-brand-green p-4 rounded-full",children:n}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t}),g.jsx("p",{className:"text-3xl font-bold text-brand-dark-green",children:e})]})]}),xy=({title:t,children:e})=>g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200/80",children:[g.jsx("h3",{className:"text-xl font-bold text-brand-dark-green mb-4",children:t}),g.jsx("div",{className:"h-64 flex items-center justify-center",children:e})]}),jD=()=>{const{user:t}=ln(),[e,n]=b.useState(null),[i,o]=b.useState(!0);if(b.useEffect(()=>{t!=null&&t.id&&xe.getHotelDashboardData(t.id).then(h=>{n(h),o(!1)}).catch(h=>{console.error("Failed to load hotel dashboard:",h),o(!1)})},[t]),i)return g.jsx("div",{className:"text-center py-20 font-medium text-gray-600",children:"Carregando dashboard do hotel..."});if(!e)return g.jsx("div",{className:"text-center py-20 font-bold text-red-600",children:"Não foi possível carregar os dados do hotel."});const r={labels:Object.keys(e.travelBehavior.byReason),datasets:[{data:Object.values(e.travelBehavior.byReason),backgroundColor:FD,borderColor:At,borderWidth:2}]},l={labels:Object.keys(e.demographics.byOrigin),datasets:[{label:"Hóspedes",data:Object.values(e.demographics.byOrigin),backgroundColor:"rgba(108, 188, 58, 0.7)",borderColor:"rgba(108, 188, 58, 1)",borderWidth:1}]},d={responsive:!0,maintainAspectRatio:!1};return g.jsxs("div",{className:"space-y-8",children:[g.jsx("h1",{className:"text-4xl font-bold text-brand-dark-green font-display tracking-wide",children:"Dashboard do Hotel"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.jsx(vc,{title:"Total de Hóspedes",value:e.totalGuests,icon:g.jsx(Si,{size:28})}),g.jsx(vc,{title:"Check-ins Hoje",value:0,icon:g.jsx(W_,{size:28})}),g.jsx(vc,{title:"Principal Origem",value:Object.keys(e.demographics.byOrigin)[0]||"N/A",icon:g.jsx(ei,{size:28})})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[g.jsx("div",{className:"lg:col-span-2",children:g.jsx(xy,{title:"Motivo da Viagem",children:g.jsx(Md,{data:r,options:d})})}),g.jsx("div",{className:"lg:col-span-3",children:g.jsx(xy,{title:"Origem dos Hóspedes",children:g.jsx(Ti,{data:l,options:{...d,indexAxis:"y"}})})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200/80",children:[g.jsx("h3",{className:"text-xl font-bold text-brand-dark-green mb-4",children:"Últimos Check-ins"}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full bg-white",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"py-3 px-4 border-b text-left text-sm font-semibold text-gray-600 uppercase",children:"Nome do Turista"}),g.jsx("th",{className:"py-3 px-4 border-b text-left text-sm font-semibold text-gray-600 uppercase",children:"Data do Check-in"}),g.jsx("th",{className:"py-3 px-4 border-b text-left text-sm font-semibold text-gray-600 uppercase",children:"Origem"}),g.jsx("th",{className:"py-3 px-4 border-b text-left text-sm font-semibold text-gray-600 uppercase",children:"Motivo"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-200",children:e.recentCheckIns.map(h=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"py-3 px-4",children:h.touristName}),g.jsx("td",{className:"py-3 px-4",children:new Date(h.checkInDate).toLocaleDateString()}),g.jsx("td",{className:"py-3 px-4",children:h.originCity}),g.jsx("td",{className:"py-3 px-4",children:h.travelReason})]},h.id))})]})})]})]})},Ms=({label:t,name:e,options:n,value:i,onChange:o,required:r})=>g.jsxs("fieldset",{children:[g.jsx("legend",{className:"block text-sm font-medium text-gray-700 mb-2",children:t}),g.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:n.map(l=>g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{id:`${e}-${l.replace(/\s/g,"")}`,name:e,type:"radio",value:l,checked:i===l,onChange:d=>o(d.target.value),required:r,className:"h-4 w-4 text-brand-green border-gray-300 focus:ring-brand-green"}),g.jsx("label",{htmlFor:`${e}-${l.replace(/\s/g,"")}`,className:"ml-2 block text-sm text-gray-900",children:l})]},l))})]}),WD=()=>{const{user:t}=ln();Zn();const e={touristName:"",phone:"",profession:"",nationality:"Brasileira",birthDate:"",gender:"Masculino",idDocument:"",originCity:"",travelReason:"Turismo",transportMean:"Automóvel",discoveryChannel:"Rede Social",poiOpinion:"Boa",cityOpinion:"Boa",checkInDate:new Date().toISOString().slice(0,16),checkOutDate:""},[n,i]=b.useState(e),[o,r]=b.useState(!1),[l,d]=b.useState(!1),h=C=>{const{name:T,value:w}=C.target;i(E=>({...E,[T]:w}))},p=(C,T)=>{i(w=>({...w,[C]:T}))},y=async C=>{if(C.preventDefault(),!t)return;r(!0),d(!1);const T={...n,checkInDate:new Date(n.checkInDate).toISOString(),checkOutDate:new Date(n.checkOutDate).toISOString()};await xe.createHotelCheckIn(t.id,T),r(!1),d(!0),i(e),setTimeout(()=>d(!1),3e3)},x="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-brand-green focus:border-brand-green";return g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold mb-6 text-brand-dark-green",children:"Registrar Check-in de Hóspede"}),g.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-md",children:[l&&g.jsx("div",{className:"bg-brand-green text-white p-4 rounded-lg mb-6 text-center",children:"Check-in registrado com sucesso!"}),g.jsxs("form",{onSubmit:y,className:"space-y-8",children:[g.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border p-4 rounded-lg",children:[g.jsx("legend",{className:"text-lg font-semibold px-2",children:"Informações Pessoais"}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{htmlFor:"touristName",className:"block text-sm font-medium text-gray-700",children:"Nome Completo"}),g.jsx("input",{type:"text",name:"touristName",value:n.touristName,onChange:h,required:!0,className:x})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Telefone"}),g.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:h,required:!0,className:x})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"profession",className:"block text-sm font-medium text-gray-700",children:"Profissão"}),g.jsx("input",{type:"text",name:"profession",value:n.profession,onChange:h,required:!0,className:x})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"nationality",className:"block text-sm font-medium text-gray-700",children:"Nacionalidade"}),g.jsx("input",{type:"text",name:"nationality",value:n.nationality,onChange:h,required:!0,className:x})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"birthDate",className:"block text-sm font-medium text-gray-700",children:"Data de Nascimento"}),g.jsx("input",{type:"date",name:"birthDate",value:n.birthDate,onChange:h,required:!0,className:x})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700",children:"Sexo"}),g.jsxs("select",{name:"gender",value:n.gender,onChange:h,required:!0,className:x,children:[g.jsx("option",{children:"Masculino"}),g.jsx("option",{children:"Feminino"})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"idDocument",className:"block text-sm font-medium text-gray-700",children:"Documento de Identidade"}),g.jsx("input",{type:"text",name:"idDocument",value:n.idDocument,onChange:h,required:!0,className:x})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"originCity",className:"block text-sm font-medium text-gray-700",children:"Local de Origem (Cidade/Estado)"}),g.jsx("input",{type:"text",name:"originCity",value:n.originCity,onChange:h,required:!0,className:x})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"checkInDate",className:"block text-sm font-medium text-gray-700",children:"Data e Hora do Check-in"}),g.jsx("input",{type:"datetime-local",name:"checkInDate",value:n.checkInDate,onChange:h,required:!0,className:x})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"checkOutDate",className:"block text-sm font-medium text-gray-700",children:"Data do Check-out"}),g.jsx("input",{type:"date",name:"checkOutDate",value:n.checkOutDate,onChange:h,required:!0,className:x})]})]}),g.jsxs("fieldset",{className:"space-y-6 border p-4 rounded-lg",children:[g.jsx("legend",{className:"text-lg font-semibold px-2",children:"Sobre a Viagem"}),g.jsx(Ms,{label:"Motivo da Viagem",name:"travelReason",options:["Turismo","Negócio","Convenção","Férias","Outros"],value:n.travelReason,onChange:C=>p("travelReason",C),required:!0}),g.jsx(Ms,{label:"Meio de Transporte",name:"transportMean",options:["Automóvel","Ônibus","Outros"],value:n.transportMean,onChange:C=>p("transportMean",C),required:!0}),g.jsx(Ms,{label:"Como conheceu Caçapava do Sul?",name:"discoveryChannel",options:["Site","Jornal","TV","Indicação de amigos","Rede Social","Outros"],value:n.discoveryChannel,onChange:C=>p("discoveryChannel",C),required:!0}),g.jsx(Ms,{label:"Qual a opinião sobre os Pontos Turísticos?",name:"poiOpinion",options:["Péssimo","Ruim","Boa","Muito boa","Ótima"],value:n.poiOpinion,onChange:C=>p("poiOpinion",C),required:!0}),g.jsx(Ms,{label:"Qual a opinião sobre a cidade como um todo?",name:"cityOpinion",options:["Péssimo","Ruim","Boa","Muito boa","Ótima"],value:n.cityOpinion,onChange:C=>p("cityOpinion",C),required:!0})]}),g.jsx("div",{className:"flex justify-end gap-4 pt-4",children:g.jsx("button",{type:"submit",disabled:o,className:"bg-brand-green text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-dark-green transition-colors disabled:bg-gray-400",children:o?"Registrando...":"Registrar Check-in"})})]})]})]})},JD=()=>g.jsx(U_,{children:g.jsx(__,{children:g.jsxs(h_,{children:[g.jsx(Re,{path:"/login",element:g.jsx(B_,{})}),g.jsxs(Re,{path:"/admin",element:g.jsx(oc,{roles:["secretaria"],children:g.jsx(N2,{children:g.jsx(ic,{})})}),children:[g.jsx(Re,{index:!0,element:g.jsx(UD,{})}),g.jsx(Re,{path:"routes",element:g.jsx(VD,{})}),g.jsx(Re,{path:"routes/new",element:g.jsx(gy,{})}),g.jsx(Re,{path:"routes/edit/:routeId",element:g.jsx(gy,{})}),g.jsx(Re,{path:"pois",element:g.jsx(HD,{})}),g.jsx(Re,{path:"pois/new",element:g.jsx(yy,{})}),g.jsx(Re,{path:"pois/edit/:poiId",element:g.jsx(yy,{})}),g.jsx(Re,{path:"analytics",element:g.jsx(OD,{})}),g.jsx(Re,{path:"tourists",element:g.jsx(zD,{})}),g.jsx(Re,{path:"challenges",element:g.jsx($D,{})}),g.jsx(Re,{path:"hotel-analytics",element:g.jsx(GD,{})})]}),g.jsxs(Re,{path:"/hotel",element:g.jsx(oc,{roles:["hotel"],children:g.jsx(I2,{children:g.jsx(ic,{})})}),children:[g.jsx(Re,{index:!0,element:g.jsx(jD,{})}),g.jsx(Re,{path:"checkin",element:g.jsx(WD,{})})]}),g.jsxs(Re,{path:"/",element:g.jsx(oc,{roles:["tourist"],children:g.jsx(V_,{children:g.jsx(b2,{children:g.jsx(ic,{})})})}),children:[g.jsx(Re,{index:!0,element:g.jsx(P2,{})}),g.jsx(Re,{path:"routes",element:g.jsx(A2,{})}),g.jsx(Re,{path:"routes/:routeId",element:g.jsx(z2,{})}),g.jsx(Re,{path:"profile",element:g.jsx(F2,{})}),g.jsx(Re,{path:"leaderboard",element:g.jsx(V2,{})}),g.jsx(Re,{path:"map",element:g.jsx($2,{})}),g.jsx(Re,{path:"itinerary",element:g.jsx(G2,{})}),g.jsx(Re,{path:"challenges",element:g.jsx(j2,{})}),g.jsx(Re,{path:"gallery",element:g.jsx(J2,{})}),g.jsx(Re,{path:"about",element:g.jsx(Y2,{})})]})]})})}),hv=document.getElementById("root");if(!hv)throw new Error("Could not find root element to mount to");const YD=TC.createRoot(hv);YD.render(g.jsx($s.StrictMode,{children:g.jsx(JD,{})}));
