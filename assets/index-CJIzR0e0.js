var aC=Object.defineProperty;var uC=(t,e,n)=>e in t?aC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ce=(t,e,n)=>uC(t,typeof e!="symbol"?e+"":e,n);function cC(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const r=Object.getOwnPropertyDescriptor(i,o);r&&Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function Cy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yu={exports:{}},ys={},Ku={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function dC(){if(Cp)return _e;Cp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),a=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function C(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function M(F,z,pe){this.props=F,this.context=z,this.refs=E,this.updater=pe||T}M.prototype.isReactComponent={},M.prototype.setState=function(F,z){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,z,"setState")},M.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function b(){}b.prototype=M.prototype;function P(F,z,pe){this.props=F,this.context=z,this.refs=E,this.updater=pe||T}var R=P.prototype=new b;R.constructor=P,w(R,M.prototype),R.isPureReactComponent=!0;var D=Array.isArray,L=Object.prototype.hasOwnProperty,H={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function J(F,z,pe){var me,Ce={},xe=null,De=null;if(z!=null)for(me in z.ref!==void 0&&(De=z.ref),z.key!==void 0&&(xe=""+z.key),z)L.call(z,me)&&!O.hasOwnProperty(me)&&(Ce[me]=z[me]);var be=arguments.length-2;if(be===1)Ce.children=pe;else if(1<be){for(var ze=Array(be),kt=0;kt<be;kt++)ze[kt]=arguments[kt+2];Ce.children=ze}if(F&&F.defaultProps)for(me in be=F.defaultProps,be)Ce[me]===void 0&&(Ce[me]=be[me]);return{$$typeof:t,type:F,key:xe,ref:De,props:Ce,_owner:H.current}}function W(F,z){return{$$typeof:t,type:F.type,key:z,ref:F.ref,props:F.props,_owner:F._owner}}function Q(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function X(F){var z={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return z[pe]})}var le=/\/+/g;function Te(F,z){return typeof F=="object"&&F!==null&&F.key!=null?X(""+F.key):z.toString(36)}function Ae(F,z,pe,me,Ce){var xe=typeof F;(xe==="undefined"||xe==="boolean")&&(F=null);var De=!1;if(F===null)De=!0;else switch(xe){case"string":case"number":De=!0;break;case"object":switch(F.$$typeof){case t:case e:De=!0}}if(De)return De=F,Ce=Ce(De),F=me===""?"."+Te(De,0):me,D(Ce)?(pe="",F!=null&&(pe=F.replace(le,"$&/")+"/"),Ae(Ce,z,pe,"",function(kt){return kt})):Ce!=null&&(Q(Ce)&&(Ce=W(Ce,pe+(!Ce.key||De&&De.key===Ce.key?"":(""+Ce.key).replace(le,"$&/")+"/")+F)),z.push(Ce)),1;if(De=0,me=me===""?".":me+":",D(F))for(var be=0;be<F.length;be++){xe=F[be];var ze=me+Te(xe,be);De+=Ae(xe,z,pe,ze,Ce)}else if(ze=C(F),typeof ze=="function")for(F=ze.call(F),be=0;!(xe=F.next()).done;)xe=xe.value,ze=me+Te(xe,be++),De+=Ae(xe,z,pe,ze,Ce);else if(xe==="object")throw z=String(F),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return De}function de(F,z,pe){if(F==null)return F;var me=[],Ce=0;return Ae(F,me,"","",function(xe){return z.call(pe,xe,Ce++)}),me}function ye(F){if(F._status===-1){var z=F._result;z=z(),z.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=z)}if(F._status===1)return F._result.default;throw F._result}var ge={current:null},Y={transition:null},te={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:Y,ReactCurrentOwner:H};function Z(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:de,forEach:function(F,z,pe){de(F,function(){z.apply(this,arguments)},pe)},count:function(F){var z=0;return de(F,function(){z++}),z},toArray:function(F){return de(F,function(z){return z})||[]},only:function(F){if(!Q(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},_e.Component=M,_e.Fragment=n,_e.Profiler=o,_e.PureComponent=P,_e.StrictMode=i,_e.Suspense=h,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,_e.act=Z,_e.cloneElement=function(F,z,pe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var me=w({},F.props),Ce=F.key,xe=F.ref,De=F._owner;if(z!=null){if(z.ref!==void 0&&(xe=z.ref,De=H.current),z.key!==void 0&&(Ce=""+z.key),F.type&&F.type.defaultProps)var be=F.type.defaultProps;for(ze in z)L.call(z,ze)&&!O.hasOwnProperty(ze)&&(me[ze]=z[ze]===void 0&&be!==void 0?be[ze]:z[ze])}var ze=arguments.length-2;if(ze===1)me.children=pe;else if(1<ze){be=Array(ze);for(var kt=0;kt<ze;kt++)be[kt]=arguments[kt+2];me.children=be}return{$$typeof:t,type:F.type,key:Ce,ref:xe,props:me,_owner:De}},_e.createContext=function(F){return F={$$typeof:a,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:r,_context:F},F.Consumer=F},_e.createElement=J,_e.createFactory=function(F){var z=J.bind(null,F);return z.type=F,z},_e.createRef=function(){return{current:null}},_e.forwardRef=function(F){return{$$typeof:d,render:F}},_e.isValidElement=Q,_e.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:ye}},_e.memo=function(F,z){return{$$typeof:p,type:F,compare:z===void 0?null:z}},_e.startTransition=function(F){var z=Y.transition;Y.transition={};try{F()}finally{Y.transition=z}},_e.unstable_act=Z,_e.useCallback=function(F,z){return ge.current.useCallback(F,z)},_e.useContext=function(F){return ge.current.useContext(F)},_e.useDebugValue=function(){},_e.useDeferredValue=function(F){return ge.current.useDeferredValue(F)},_e.useEffect=function(F,z){return ge.current.useEffect(F,z)},_e.useId=function(){return ge.current.useId()},_e.useImperativeHandle=function(F,z,pe){return ge.current.useImperativeHandle(F,z,pe)},_e.useInsertionEffect=function(F,z){return ge.current.useInsertionEffect(F,z)},_e.useLayoutEffect=function(F,z){return ge.current.useLayoutEffect(F,z)},_e.useMemo=function(F,z){return ge.current.useMemo(F,z)},_e.useReducer=function(F,z,pe){return ge.current.useReducer(F,z,pe)},_e.useRef=function(F){return ge.current.useRef(F)},_e.useState=function(F){return ge.current.useState(F)},_e.useSyncExternalStore=function(F,z,pe){return ge.current.useSyncExternalStore(F,z,pe)},_e.useTransition=function(){return ge.current.useTransition()},_e.version="18.3.1",_e}var _p;function $c(){return _p||(_p=1,Ku.exports=dC()),Ku.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function fC(){if(Tp)return ys;Tp=1;var t=$c(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function a(d,h,p){var g,v={},C=null,T=null;p!==void 0&&(C=""+p),h.key!==void 0&&(C=""+h.key),h.ref!==void 0&&(T=h.ref);for(g in h)i.call(h,g)&&!r.hasOwnProperty(g)&&(v[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:d,key:C,ref:T,props:v,_owner:o.current}}return ys.Fragment=n,ys.jsx=a,ys.jsxs=a,ys}var Sp;function hC(){return Sp||(Sp=1,Yu.exports=fC()),Yu.exports}var y=hC(),N=$c();const qs=Cy(N),pC=cC({__proto__:null,default:qs},[N]);var ol={},Xu={exports:{}},St={},Qu={exports:{}},Zu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function mC(){return wp||(wp=1,(function(t){function e(Y,te){var Z=Y.length;Y.push(te);e:for(;0<Z;){var F=Z-1>>>1,z=Y[F];if(0<o(z,te))Y[F]=te,Y[Z]=z,Z=F;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var te=Y[0],Z=Y.pop();if(Z!==te){Y[0]=Z;e:for(var F=0,z=Y.length,pe=z>>>1;F<pe;){var me=2*(F+1)-1,Ce=Y[me],xe=me+1,De=Y[xe];if(0>o(Ce,Z))xe<z&&0>o(De,Ce)?(Y[F]=De,Y[xe]=Z,F=xe):(Y[F]=Ce,Y[me]=Z,F=me);else if(xe<z&&0>o(De,Z))Y[F]=De,Y[xe]=Z,F=xe;else break e}}return te}function o(Y,te){var Z=Y.sortIndex-te.sortIndex;return Z!==0?Z:Y.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,d=a.now();t.unstable_now=function(){return a.now()-d}}var h=[],p=[],g=1,v=null,C=3,T=!1,w=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Y){for(var te=n(p);te!==null;){if(te.callback===null)i(p);else if(te.startTime<=Y)i(p),te.sortIndex=te.expirationTime,e(h,te);else break;te=n(p)}}function D(Y){if(E=!1,R(Y),!w)if(n(h)!==null)w=!0,ye(L);else{var te=n(p);te!==null&&ge(D,te.startTime-Y)}}function L(Y,te){w=!1,E&&(E=!1,b(J),J=-1),T=!0;var Z=C;try{for(R(te),v=n(h);v!==null&&(!(v.expirationTime>te)||Y&&!X());){var F=v.callback;if(typeof F=="function"){v.callback=null,C=v.priorityLevel;var z=F(v.expirationTime<=te);te=t.unstable_now(),typeof z=="function"?v.callback=z:v===n(h)&&i(h),R(te)}else i(h);v=n(h)}if(v!==null)var pe=!0;else{var me=n(p);me!==null&&ge(D,me.startTime-te),pe=!1}return pe}finally{v=null,C=Z,T=!1}}var H=!1,O=null,J=-1,W=5,Q=-1;function X(){return!(t.unstable_now()-Q<W)}function le(){if(O!==null){var Y=t.unstable_now();Q=Y;var te=!0;try{te=O(!0,Y)}finally{te?Te():(H=!1,O=null)}}else H=!1}var Te;if(typeof P=="function")Te=function(){P(le)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,de=Ae.port2;Ae.port1.onmessage=le,Te=function(){de.postMessage(null)}}else Te=function(){M(le,0)};function ye(Y){O=Y,H||(H=!0,Te())}function ge(Y,te){J=M(function(){Y(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){w||T||(w=!0,ye(L))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(Y){switch(C){case 1:case 2:case 3:var te=3;break;default:te=C}var Z=C;C=te;try{return Y()}finally{C=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Z=C;C=Y;try{return te()}finally{C=Z}},t.unstable_scheduleCallback=function(Y,te,Z){var F=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?F+Z:F):Z=F,Y){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Z+z,Y={id:g++,callback:te,priorityLevel:Y,startTime:Z,expirationTime:z,sortIndex:-1},Z>F?(Y.sortIndex=Z,e(p,Y),n(h)===null&&Y===n(p)&&(E?(b(J),J=-1):E=!0,ge(D,Z-F))):(Y.sortIndex=z,e(h,Y),w||T||(w=!0,ye(L))),Y},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(Y){var te=C;return function(){var Z=C;C=te;try{return Y.apply(this,arguments)}finally{C=Z}}}})(Zu)),Zu}var Ep;function gC(){return Ep||(Ep=1,Qu.exports=mC()),Qu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function yC(){if(Mp)return St;Mp=1;var t=$c(),e=gC();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function r(s,l){a(s,l),a(s+"Capture",l)}function a(s,l){for(o[s]=l,s=0;s<l.length;s++)i.add(l[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function C(s){return h.call(v,s)?!0:h.call(g,s)?!1:p.test(s)?v[s]=!0:(g[s]=!0,!1)}function T(s,l,f,m){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,l,f,m){if(l===null||typeof l>"u"||T(s,l,f,m))return!0;if(m)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function E(s,l,f,m,x,_,S){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=s,this.type=l,this.sanitizeURL=_,this.removeEmptyString=S}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){M[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];M[l]=new E(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){M[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){M[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){M[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){M[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){M[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){M[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){M[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(b,P);M[l]=new E(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(b,P);M[l]=new E(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(b,P);M[l]=new E(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){M[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),M.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){M[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,l,f,m){var x=M.hasOwnProperty(l)?M[l]:null;(x!==null?x.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,f,x,m)&&(f=null),m||x===null?C(l)&&(f===null?s.removeAttribute(l):s.setAttribute(l,""+f)):x.mustUseProperty?s[x.propertyName]=f===null?x.type===3?!1:"":f:(l=x.attributeName,m=x.attributeNamespace,f===null?s.removeAttribute(l):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,m?s.setAttributeNS(m,l,f):s.setAttribute(l,f))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),H=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),X=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),Y=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Object.assign,F;function z(s){if(F===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);F=l&&l[1]||""}return`
`+F+s}var pe=!1;function me(s,l){if(!s||pe)return"";pe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(B){var m=B}Reflect.construct(s,[],l)}else{try{l.call()}catch(B){m=B}s.call(l.prototype)}else{try{throw Error()}catch(B){m=B}s()}}catch(B){if(B&&m&&typeof B.stack=="string"){for(var x=B.stack.split(`
`),_=m.stack.split(`
`),S=x.length-1,k=_.length-1;1<=S&&0<=k&&x[S]!==_[k];)k--;for(;1<=S&&0<=k;S--,k--)if(x[S]!==_[k]){if(S!==1||k!==1)do if(S--,k--,0>k||x[S]!==_[k]){var I=`
`+x[S].replace(" at new "," at ");return s.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",s.displayName)),I}while(1<=S&&0<=k);break}}}finally{pe=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?z(s):""}function Ce(s){switch(s.tag){case 5:return z(s.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return s=me(s.type,!1),s;case 11:return s=me(s.type.render,!1),s;case 1:return s=me(s.type,!0),s;default:return""}}function xe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case H:return"Portal";case W:return"Profiler";case J:return"StrictMode";case Te:return"Suspense";case Ae:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case X:return(s.displayName||"Context")+".Consumer";case Q:return(s._context.displayName||"Context")+".Provider";case le:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case de:return l=s.displayName||null,l!==null?l:xe(s.type)||"Memo";case ye:l=s._payload,s=s._init;try{return xe(s(l))}catch{}}return null}function De(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function be(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ze(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function kt(s){var l=ze(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),m=""+s[l];if(!s.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,_=f.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return x.call(this)},set:function(S){m=""+S,_.call(this,S)}}),Object.defineProperty(s,l,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(S){m=""+S},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Js(s){s._valueTracker||(s._valueTracker=kt(s))}function Ed(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var f=l.getValue(),m="";return s&&(m=ze(s)?s.checked?"true":"false":s.value),s=m,s!==f?(l.setValue(s),!0):!1}function Ys(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function na(s,l){var f=l.checked;return Z({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function Md(s,l){var f=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;f=be(l.value!=null?l.value:f),s._wrapperState={initialChecked:m,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function kd(s,l){l=l.checked,l!=null&&R(s,"checked",l,!1)}function ia(s,l){kd(s,l);var f=be(l.value),m=l.type;if(f!=null)m==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?oa(s,l.type,f):l.hasOwnProperty("defaultValue")&&oa(s,l.type,be(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Nd(s,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,f||l===s.value||(s.value=l),s.defaultValue=l}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function oa(s,l,f){(l!=="number"||Ys(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var Ao=Array.isArray;function Ri(s,l,f,m){if(s=s.options,l){l={};for(var x=0;x<f.length;x++)l["$"+f[x]]=!0;for(f=0;f<s.length;f++)x=l.hasOwnProperty("$"+s[f].value),s[f].selected!==x&&(s[f].selected=x),x&&m&&(s[f].defaultSelected=!0)}else{for(f=""+be(f),l=null,x=0;x<s.length;x++){if(s[x].value===f){s[x].selected=!0,m&&(s[x].defaultSelected=!0);return}l!==null||s[x].disabled||(l=s[x])}l!==null&&(l.selected=!0)}}function sa(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function bd(s,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(n(92));if(Ao(f)){if(1<f.length)throw Error(n(93));f=f[0]}l=f}l==null&&(l=""),f=l}s._wrapperState={initialValue:be(f)}}function Id(s,l){var f=be(l.value),m=be(l.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),l.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),m!=null&&(s.defaultValue=""+m)}function Pd(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function Ad(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ra(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?Ad(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ks,Rd=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,m,x){MSApp.execUnsafeLocalFunction(function(){return s(l,f,m,x)})}:s})(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(Ks=Ks||document.createElement("div"),Ks.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ks.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Ro(s,l){if(l){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=l;return}}s.textContent=l}var Do={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fx=["Webkit","ms","Moz","O"];Object.keys(Do).forEach(function(s){fx.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Do[l]=Do[s]})});function Dd(s,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||Do.hasOwnProperty(s)&&Do[s]?(""+l).trim():l+"px"}function Ld(s,l){s=s.style;for(var f in l)if(l.hasOwnProperty(f)){var m=f.indexOf("--")===0,x=Dd(f,l[f],m);f==="float"&&(f="cssFloat"),m?s.setProperty(f,x):s[f]=x}}var hx=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function la(s,l){if(l){if(hx[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function aa(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ua=null;function ca(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var da=null,Di=null,Li=null;function Fd(s){if(s=ns(s)){if(typeof da!="function")throw Error(n(280));var l=s.stateNode;l&&(l=xr(l),da(s.stateNode,s.type,l))}}function Ud(s){Di?Li?Li.push(s):Li=[s]:Di=s}function Vd(){if(Di){var s=Di,l=Li;if(Li=Di=null,Fd(s),l)for(s=0;s<l.length;s++)Fd(l[s])}}function Bd(s,l){return s(l)}function Hd(){}var fa=!1;function zd(s,l,f){if(fa)return s(l,f);fa=!0;try{return Bd(s,l,f)}finally{fa=!1,(Di!==null||Li!==null)&&(Hd(),Vd())}}function Lo(s,l){var f=s.stateNode;if(f===null)return null;var m=xr(f);if(m===null)return null;f=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(n(231,l,typeof f));return f}var ha=!1;if(d)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){ha=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{ha=!1}function px(s,l,f,m,x,_,S,k,I){var B=Array.prototype.slice.call(arguments,3);try{l.apply(f,B)}catch($){this.onError($)}}var Uo=!1,Xs=null,Qs=!1,pa=null,mx={onError:function(s){Uo=!0,Xs=s}};function gx(s,l,f,m,x,_,S,k,I){Uo=!1,Xs=null,px.apply(mx,arguments)}function yx(s,l,f,m,x,_,S,k,I){if(gx.apply(this,arguments),Uo){if(Uo){var B=Xs;Uo=!1,Xs=null}else throw Error(n(198));Qs||(Qs=!0,pa=B)}}function ti(s){var l=s,f=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(f=l.return),s=l.return;while(s)}return l.tag===3?f:null}function Od(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function qd(s){if(ti(s)!==s)throw Error(n(188))}function vx(s){var l=s.alternate;if(!l){if(l=ti(s),l===null)throw Error(n(188));return l!==s?null:s}for(var f=s,m=l;;){var x=f.return;if(x===null)break;var _=x.alternate;if(_===null){if(m=x.return,m!==null){f=m;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===f)return qd(x),s;if(_===m)return qd(x),l;_=_.sibling}throw Error(n(188))}if(f.return!==m.return)f=x,m=_;else{for(var S=!1,k=x.child;k;){if(k===f){S=!0,f=x,m=_;break}if(k===m){S=!0,m=x,f=_;break}k=k.sibling}if(!S){for(k=_.child;k;){if(k===f){S=!0,f=_,m=x;break}if(k===m){S=!0,m=_,f=x;break}k=k.sibling}if(!S)throw Error(n(189))}}if(f.alternate!==m)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?s:l}function $d(s){return s=vx(s),s!==null?Gd(s):null}function Gd(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=Gd(s);if(l!==null)return l;s=s.sibling}return null}var Wd=e.unstable_scheduleCallback,jd=e.unstable_cancelCallback,xx=e.unstable_shouldYield,Cx=e.unstable_requestPaint,je=e.unstable_now,_x=e.unstable_getCurrentPriorityLevel,ma=e.unstable_ImmediatePriority,Jd=e.unstable_UserBlockingPriority,Zs=e.unstable_NormalPriority,Tx=e.unstable_LowPriority,Yd=e.unstable_IdlePriority,er=null,Xt=null;function Sx(s){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(er,s,void 0,(s.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:Mx,wx=Math.log,Ex=Math.LN2;function Mx(s){return s>>>=0,s===0?32:31-(wx(s)/Ex|0)|0}var tr=64,nr=4194304;function Vo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ir(s,l){var f=s.pendingLanes;if(f===0)return 0;var m=0,x=s.suspendedLanes,_=s.pingedLanes,S=f&268435455;if(S!==0){var k=S&~x;k!==0?m=Vo(k):(_&=S,_!==0&&(m=Vo(_)))}else S=f&~x,S!==0?m=Vo(S):_!==0&&(m=Vo(_));if(m===0)return 0;if(l!==0&&l!==m&&(l&x)===0&&(x=m&-m,_=l&-l,x>=_||x===16&&(_&4194240)!==0))return l;if((m&4)!==0&&(m|=f&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=m;0<l;)f=31-$t(l),x=1<<f,m|=s[f],l&=~x;return m}function kx(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nx(s,l){for(var f=s.suspendedLanes,m=s.pingedLanes,x=s.expirationTimes,_=s.pendingLanes;0<_;){var S=31-$t(_),k=1<<S,I=x[S];I===-1?((k&f)===0||(k&m)!==0)&&(x[S]=kx(k,l)):I<=l&&(s.expiredLanes|=k),_&=~k}}function ga(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Kd(){var s=tr;return tr<<=1,(tr&4194240)===0&&(tr=64),s}function ya(s){for(var l=[],f=0;31>f;f++)l.push(s);return l}function Bo(s,l,f){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-$t(l),s[l]=f}function bx(s,l){var f=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<f;){var x=31-$t(f),_=1<<x;l[x]=0,m[x]=-1,s[x]=-1,f&=~_}}function va(s,l){var f=s.entangledLanes|=l;for(s=s.entanglements;f;){var m=31-$t(f),x=1<<m;x&l|s[m]&l&&(s[m]|=l),f&=~x}}var Ie=0;function Xd(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Qd,xa,Zd,ef,tf,Ca=!1,or=[],En=null,Mn=null,kn=null,Ho=new Map,zo=new Map,Nn=[],Ix="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nf(s,l){switch(s){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":Ho.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(l.pointerId)}}function Oo(s,l,f,m,x,_){return s===null||s.nativeEvent!==_?(s={blockedOn:l,domEventName:f,eventSystemFlags:m,nativeEvent:_,targetContainers:[x]},l!==null&&(l=ns(l),l!==null&&xa(l)),s):(s.eventSystemFlags|=m,l=s.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),s)}function Px(s,l,f,m,x){switch(l){case"focusin":return En=Oo(En,s,l,f,m,x),!0;case"dragenter":return Mn=Oo(Mn,s,l,f,m,x),!0;case"mouseover":return kn=Oo(kn,s,l,f,m,x),!0;case"pointerover":var _=x.pointerId;return Ho.set(_,Oo(Ho.get(_)||null,s,l,f,m,x)),!0;case"gotpointercapture":return _=x.pointerId,zo.set(_,Oo(zo.get(_)||null,s,l,f,m,x)),!0}return!1}function of(s){var l=ni(s.target);if(l!==null){var f=ti(l);if(f!==null){if(l=f.tag,l===13){if(l=Od(f),l!==null){s.blockedOn=l,tf(s.priority,function(){Zd(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function sr(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var f=Ta(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var m=new f.constructor(f.type,f);ua=m,f.target.dispatchEvent(m),ua=null}else return l=ns(f),l!==null&&xa(l),s.blockedOn=f,!1;l.shift()}return!0}function sf(s,l,f){sr(s)&&f.delete(l)}function Ax(){Ca=!1,En!==null&&sr(En)&&(En=null),Mn!==null&&sr(Mn)&&(Mn=null),kn!==null&&sr(kn)&&(kn=null),Ho.forEach(sf),zo.forEach(sf)}function qo(s,l){s.blockedOn===l&&(s.blockedOn=null,Ca||(Ca=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ax)))}function $o(s){function l(x){return qo(x,s)}if(0<or.length){qo(or[0],s);for(var f=1;f<or.length;f++){var m=or[f];m.blockedOn===s&&(m.blockedOn=null)}}for(En!==null&&qo(En,s),Mn!==null&&qo(Mn,s),kn!==null&&qo(kn,s),Ho.forEach(l),zo.forEach(l),f=0;f<Nn.length;f++)m=Nn[f],m.blockedOn===s&&(m.blockedOn=null);for(;0<Nn.length&&(f=Nn[0],f.blockedOn===null);)of(f),f.blockedOn===null&&Nn.shift()}var Fi=D.ReactCurrentBatchConfig,rr=!0;function Rx(s,l,f,m){var x=Ie,_=Fi.transition;Fi.transition=null;try{Ie=1,_a(s,l,f,m)}finally{Ie=x,Fi.transition=_}}function Dx(s,l,f,m){var x=Ie,_=Fi.transition;Fi.transition=null;try{Ie=4,_a(s,l,f,m)}finally{Ie=x,Fi.transition=_}}function _a(s,l,f,m){if(rr){var x=Ta(s,l,f,m);if(x===null)Ba(s,l,m,lr,f),nf(s,m);else if(Px(x,s,l,f,m))m.stopPropagation();else if(nf(s,m),l&4&&-1<Ix.indexOf(s)){for(;x!==null;){var _=ns(x);if(_!==null&&Qd(_),_=Ta(s,l,f,m),_===null&&Ba(s,l,m,lr,f),_===x)break;x=_}x!==null&&m.stopPropagation()}else Ba(s,l,m,null,f)}}var lr=null;function Ta(s,l,f,m){if(lr=null,s=ca(m),s=ni(s),s!==null)if(l=ti(s),l===null)s=null;else if(f=l.tag,f===13){if(s=Od(l),s!==null)return s;s=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return lr=s,null}function rf(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_x()){case ma:return 1;case Jd:return 4;case Zs:case Tx:return 16;case Yd:return 536870912;default:return 16}default:return 16}}var bn=null,Sa=null,ar=null;function lf(){if(ar)return ar;var s,l=Sa,f=l.length,m,x="value"in bn?bn.value:bn.textContent,_=x.length;for(s=0;s<f&&l[s]===x[s];s++);var S=f-s;for(m=1;m<=S&&l[f-m]===x[_-m];m++);return ar=x.slice(s,1<m?1-m:void 0)}function ur(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function cr(){return!0}function af(){return!1}function Nt(s){function l(f,m,x,_,S){this._reactName=f,this._targetInst=x,this.type=m,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(f=s[k],this[k]=f?f(_):_[k]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?cr:af,this.isPropagationStopped=af,this}return Z(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),l}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Nt(Ui),Go=Z({},Ui,{view:0,detail:0}),Lx=Nt(Go),Ea,Ma,Wo,dr=Z({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Wo&&(Wo&&s.type==="mousemove"?(Ea=s.screenX-Wo.screenX,Ma=s.screenY-Wo.screenY):Ma=Ea=0,Wo=s),Ea)},movementY:function(s){return"movementY"in s?s.movementY:Ma}}),uf=Nt(dr),Fx=Z({},dr,{dataTransfer:0}),Ux=Nt(Fx),Vx=Z({},Go,{relatedTarget:0}),ka=Nt(Vx),Bx=Z({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Hx=Nt(Bx),zx=Z({},Ui,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ox=Nt(zx),qx=Z({},Ui,{data:0}),cf=Nt(qx),$x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jx(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Wx[s])?!!l[s]:!1}function Na(){return jx}var Jx=Z({},Go,{key:function(s){if(s.key){var l=$x[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=ur(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Gx[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(s){return s.type==="keypress"?ur(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ur(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Yx=Nt(Jx),Kx=Z({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),df=Nt(Kx),Xx=Z({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),Qx=Nt(Xx),Zx=Z({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),e0=Nt(Zx),t0=Z({},dr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),n0=Nt(t0),i0=[9,13,27,32],ba=d&&"CompositionEvent"in window,jo=null;d&&"documentMode"in document&&(jo=document.documentMode);var o0=d&&"TextEvent"in window&&!jo,ff=d&&(!ba||jo&&8<jo&&11>=jo),hf=" ",pf=!1;function mf(s,l){switch(s){case"keyup":return i0.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Vi=!1;function s0(s,l){switch(s){case"compositionend":return gf(l);case"keypress":return l.which!==32?null:(pf=!0,hf);case"textInput":return s=l.data,s===hf&&pf?null:s;default:return null}}function r0(s,l){if(Vi)return s==="compositionend"||!ba&&mf(s,l)?(s=lf(),ar=Sa=bn=null,Vi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ff&&l.locale!=="ko"?null:l.data;default:return null}}var l0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yf(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!l0[s.type]:l==="textarea"}function vf(s,l,f,m){Ud(m),l=gr(l,"onChange"),0<l.length&&(f=new wa("onChange","change",null,f,m),s.push({event:f,listeners:l}))}var Jo=null,Yo=null;function a0(s){Ff(s,0)}function fr(s){var l=qi(s);if(Ed(l))return s}function u0(s,l){if(s==="change")return l}var xf=!1;if(d){var Ia;if(d){var Pa="oninput"in document;if(!Pa){var Cf=document.createElement("div");Cf.setAttribute("oninput","return;"),Pa=typeof Cf.oninput=="function"}Ia=Pa}else Ia=!1;xf=Ia&&(!document.documentMode||9<document.documentMode)}function _f(){Jo&&(Jo.detachEvent("onpropertychange",Tf),Yo=Jo=null)}function Tf(s){if(s.propertyName==="value"&&fr(Yo)){var l=[];vf(l,Yo,s,ca(s)),zd(a0,l)}}function c0(s,l,f){s==="focusin"?(_f(),Jo=l,Yo=f,Jo.attachEvent("onpropertychange",Tf)):s==="focusout"&&_f()}function d0(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return fr(Yo)}function f0(s,l){if(s==="click")return fr(l)}function h0(s,l){if(s==="input"||s==="change")return fr(l)}function p0(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Gt=typeof Object.is=="function"?Object.is:p0;function Ko(s,l){if(Gt(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var f=Object.keys(s),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var x=f[m];if(!h.call(l,x)||!Gt(s[x],l[x]))return!1}return!0}function Sf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function wf(s,l){var f=Sf(s);s=0;for(var m;f;){if(f.nodeType===3){if(m=s+f.textContent.length,s<=l&&m>=l)return{node:f,offset:l-s};s=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Sf(f)}}function Ef(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Ef(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Mf(){for(var s=window,l=Ys();l instanceof s.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)s=l.contentWindow;else break;l=Ys(s.document)}return l}function Aa(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function m0(s){var l=Mf(),f=s.focusedElem,m=s.selectionRange;if(l!==f&&f&&f.ownerDocument&&Ef(f.ownerDocument.documentElement,f)){if(m!==null&&Aa(f)){if(l=m.start,s=m.end,s===void 0&&(s=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(s,f.value.length);else if(s=(l=f.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var x=f.textContent.length,_=Math.min(m.start,x);m=m.end===void 0?_:Math.min(m.end,x),!s.extend&&_>m&&(x=m,m=_,_=x),x=wf(f,_);var S=wf(f,m);x&&S&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),s.removeAllRanges(),_>m?(s.addRange(l),s.extend(S.node,S.offset)):(l.setEnd(S.node,S.offset),s.addRange(l)))}}for(l=[],s=f;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)s=l[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var g0=d&&"documentMode"in document&&11>=document.documentMode,Bi=null,Ra=null,Xo=null,Da=!1;function kf(s,l,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Da||Bi==null||Bi!==Ys(m)||(m=Bi,"selectionStart"in m&&Aa(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Xo&&Ko(Xo,m)||(Xo=m,m=gr(Ra,"onSelect"),0<m.length&&(l=new wa("onSelect","select",null,l,f),s.push({event:l,listeners:m}),l.target=Bi)))}function hr(s,l){var f={};return f[s.toLowerCase()]=l.toLowerCase(),f["Webkit"+s]="webkit"+l,f["Moz"+s]="moz"+l,f}var Hi={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionend:hr("Transition","TransitionEnd")},La={},Nf={};d&&(Nf=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function pr(s){if(La[s])return La[s];if(!Hi[s])return s;var l=Hi[s],f;for(f in l)if(l.hasOwnProperty(f)&&f in Nf)return La[s]=l[f];return s}var bf=pr("animationend"),If=pr("animationiteration"),Pf=pr("animationstart"),Af=pr("transitionend"),Rf=new Map,Df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(s,l){Rf.set(s,l),r(l,[s])}for(var Fa=0;Fa<Df.length;Fa++){var Ua=Df[Fa],y0=Ua.toLowerCase(),v0=Ua[0].toUpperCase()+Ua.slice(1);In(y0,"on"+v0)}In(bf,"onAnimationEnd"),In(If,"onAnimationIteration"),In(Pf,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(Af,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),r("onBeforeInput",["compositionend","keypress","textInput","paste"]),r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function Lf(s,l,f){var m=s.type||"unknown-event";s.currentTarget=f,yx(m,l,void 0,s),s.currentTarget=null}function Ff(s,l){l=(l&4)!==0;for(var f=0;f<s.length;f++){var m=s[f],x=m.event;m=m.listeners;e:{var _=void 0;if(l)for(var S=m.length-1;0<=S;S--){var k=m[S],I=k.instance,B=k.currentTarget;if(k=k.listener,I!==_&&x.isPropagationStopped())break e;Lf(x,k,B),_=I}else for(S=0;S<m.length;S++){if(k=m[S],I=k.instance,B=k.currentTarget,k=k.listener,I!==_&&x.isPropagationStopped())break e;Lf(x,k,B),_=I}}}if(Qs)throw s=pa,Qs=!1,pa=null,s}function Fe(s,l){var f=l[Ga];f===void 0&&(f=l[Ga]=new Set);var m=s+"__bubble";f.has(m)||(Uf(l,s,2,!1),f.add(m))}function Va(s,l,f){var m=0;l&&(m|=4),Uf(f,s,m,l)}var mr="_reactListening"+Math.random().toString(36).slice(2);function Zo(s){if(!s[mr]){s[mr]=!0,i.forEach(function(f){f!=="selectionchange"&&(x0.has(f)||Va(f,!1,s),Va(f,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[mr]||(l[mr]=!0,Va("selectionchange",!1,l))}}function Uf(s,l,f,m){switch(rf(l)){case 1:var x=Rx;break;case 4:x=Dx;break;default:x=_a}f=x.bind(null,l,f,s),x=void 0,!ha||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),m?x!==void 0?s.addEventListener(l,f,{capture:!0,passive:x}):s.addEventListener(l,f,!0):x!==void 0?s.addEventListener(l,f,{passive:x}):s.addEventListener(l,f,!1)}function Ba(s,l,f,m,x){var _=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var S=m.tag;if(S===3||S===4){var k=m.stateNode.containerInfo;if(k===x||k.nodeType===8&&k.parentNode===x)break;if(S===4)for(S=m.return;S!==null;){var I=S.tag;if((I===3||I===4)&&(I=S.stateNode.containerInfo,I===x||I.nodeType===8&&I.parentNode===x))return;S=S.return}for(;k!==null;){if(S=ni(k),S===null)return;if(I=S.tag,I===5||I===6){m=_=S;continue e}k=k.parentNode}}m=m.return}zd(function(){var B=_,$=ca(f),G=[];e:{var q=Rf.get(s);if(q!==void 0){var ee=wa,ie=s;switch(s){case"keypress":if(ur(f)===0)break e;case"keydown":case"keyup":ee=Yx;break;case"focusin":ie="focus",ee=ka;break;case"focusout":ie="blur",ee=ka;break;case"beforeblur":case"afterblur":ee=ka;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=uf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Qx;break;case bf:case If:case Pf:ee=Hx;break;case Af:ee=e0;break;case"scroll":ee=Lx;break;case"wheel":ee=n0;break;case"copy":case"cut":case"paste":ee=Ox;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=df}var oe=(l&4)!==0,Je=!oe&&s==="scroll",U=oe?q!==null?q+"Capture":null:q;oe=[];for(var A=B,V;A!==null;){V=A;var j=V.stateNode;if(V.tag===5&&j!==null&&(V=j,U!==null&&(j=Lo(A,U),j!=null&&oe.push(es(A,j,V)))),Je)break;A=A.return}0<oe.length&&(q=new ee(q,ie,null,f,$),G.push({event:q,listeners:oe}))}}if((l&7)===0){e:{if(q=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",q&&f!==ua&&(ie=f.relatedTarget||f.fromElement)&&(ni(ie)||ie[un]))break e;if((ee||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,ee?(ie=f.relatedTarget||f.toElement,ee=B,ie=ie?ni(ie):null,ie!==null&&(Je=ti(ie),ie!==Je||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ee=null,ie=B),ee!==ie)){if(oe=uf,j="onMouseLeave",U="onMouseEnter",A="mouse",(s==="pointerout"||s==="pointerover")&&(oe=df,j="onPointerLeave",U="onPointerEnter",A="pointer"),Je=ee==null?q:qi(ee),V=ie==null?q:qi(ie),q=new oe(j,A+"leave",ee,f,$),q.target=Je,q.relatedTarget=V,j=null,ni($)===B&&(oe=new oe(U,A+"enter",ie,f,$),oe.target=V,oe.relatedTarget=Je,j=oe),Je=j,ee&&ie)t:{for(oe=ee,U=ie,A=0,V=oe;V;V=zi(V))A++;for(V=0,j=U;j;j=zi(j))V++;for(;0<A-V;)oe=zi(oe),A--;for(;0<V-A;)U=zi(U),V--;for(;A--;){if(oe===U||U!==null&&oe===U.alternate)break t;oe=zi(oe),U=zi(U)}oe=null}else oe=null;ee!==null&&Vf(G,q,ee,oe,!1),ie!==null&&Je!==null&&Vf(G,Je,ie,oe,!0)}}e:{if(q=B?qi(B):window,ee=q.nodeName&&q.nodeName.toLowerCase(),ee==="select"||ee==="input"&&q.type==="file")var se=u0;else if(yf(q))if(xf)se=h0;else{se=d0;var ae=c0}else(ee=q.nodeName)&&ee.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(se=f0);if(se&&(se=se(s,B))){vf(G,se,f,$);break e}ae&&ae(s,q,B),s==="focusout"&&(ae=q._wrapperState)&&ae.controlled&&q.type==="number"&&oa(q,"number",q.value)}switch(ae=B?qi(B):window,s){case"focusin":(yf(ae)||ae.contentEditable==="true")&&(Bi=ae,Ra=B,Xo=null);break;case"focusout":Xo=Ra=Bi=null;break;case"mousedown":Da=!0;break;case"contextmenu":case"mouseup":case"dragend":Da=!1,kf(G,f,$);break;case"selectionchange":if(g0)break;case"keydown":case"keyup":kf(G,f,$)}var ue;if(ba)e:{switch(s){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Vi?mf(s,f)&&(fe="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(fe="onCompositionStart");fe&&(ff&&f.locale!=="ko"&&(Vi||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Vi&&(ue=lf()):(bn=$,Sa="value"in bn?bn.value:bn.textContent,Vi=!0)),ae=gr(B,fe),0<ae.length&&(fe=new cf(fe,s,null,f,$),G.push({event:fe,listeners:ae}),ue?fe.data=ue:(ue=gf(f),ue!==null&&(fe.data=ue)))),(ue=o0?s0(s,f):r0(s,f))&&(B=gr(B,"onBeforeInput"),0<B.length&&($=new cf("onBeforeInput","beforeinput",null,f,$),G.push({event:$,listeners:B}),$.data=ue))}Ff(G,l)})}function es(s,l,f){return{instance:s,listener:l,currentTarget:f}}function gr(s,l){for(var f=l+"Capture",m=[];s!==null;){var x=s,_=x.stateNode;x.tag===5&&_!==null&&(x=_,_=Lo(s,f),_!=null&&m.unshift(es(s,_,x)),_=Lo(s,l),_!=null&&m.push(es(s,_,x))),s=s.return}return m}function zi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Vf(s,l,f,m,x){for(var _=l._reactName,S=[];f!==null&&f!==m;){var k=f,I=k.alternate,B=k.stateNode;if(I!==null&&I===m)break;k.tag===5&&B!==null&&(k=B,x?(I=Lo(f,_),I!=null&&S.unshift(es(f,I,k))):x||(I=Lo(f,_),I!=null&&S.push(es(f,I,k)))),f=f.return}S.length!==0&&s.push({event:l,listeners:S})}var C0=/\r\n?/g,_0=/\u0000|\uFFFD/g;function Bf(s){return(typeof s=="string"?s:""+s).replace(C0,`
`).replace(_0,"")}function yr(s,l,f){if(l=Bf(l),Bf(s)!==l&&f)throw Error(n(425))}function vr(){}var Ha=null,za=null;function Oa(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var qa=typeof setTimeout=="function"?setTimeout:void 0,T0=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,S0=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(s){return Hf.resolve(null).then(s).catch(w0)}:qa;function w0(s){setTimeout(function(){throw s})}function $a(s,l){var f=l,m=0;do{var x=f.nextSibling;if(s.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(m===0){s.removeChild(x),$o(l);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=x}while(f);$o(l)}function Pn(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function zf(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return s;l--}else f==="/$"&&l++}s=s.previousSibling}return null}var Oi=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Oi,ts="__reactProps$"+Oi,un="__reactContainer$"+Oi,Ga="__reactEvents$"+Oi,E0="__reactListeners$"+Oi,M0="__reactHandles$"+Oi;function ni(s){var l=s[Qt];if(l)return l;for(var f=s.parentNode;f;){if(l=f[un]||f[Qt]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(s=zf(s);s!==null;){if(f=s[Qt])return f;s=zf(s)}return l}s=f,f=s.parentNode}return null}function ns(s){return s=s[Qt]||s[un],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function qi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function xr(s){return s[ts]||null}var Wa=[],$i=-1;function An(s){return{current:s}}function Ue(s){0>$i||(s.current=Wa[$i],Wa[$i]=null,$i--)}function Le(s,l){$i++,Wa[$i]=s.current,s.current=l}var Rn={},ut=An(Rn),vt=An(!1),ii=Rn;function Gi(s,l){var f=s.type.contextTypes;if(!f)return Rn;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var x={},_;for(_ in f)x[_]=l[_];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=x),x}function xt(s){return s=s.childContextTypes,s!=null}function Cr(){Ue(vt),Ue(ut)}function Of(s,l,f){if(ut.current!==Rn)throw Error(n(168));Le(ut,l),Le(vt,f)}function qf(s,l,f){var m=s.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return f;m=m.getChildContext();for(var x in m)if(!(x in l))throw Error(n(108,De(s)||"Unknown",x));return Z({},f,m)}function _r(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Rn,ii=ut.current,Le(ut,s),Le(vt,vt.current),!0}function $f(s,l,f){var m=s.stateNode;if(!m)throw Error(n(169));f?(s=qf(s,l,ii),m.__reactInternalMemoizedMergedChildContext=s,Ue(vt),Ue(ut),Le(ut,s)):Ue(vt),Le(vt,f)}var cn=null,Tr=!1,ja=!1;function Gf(s){cn===null?cn=[s]:cn.push(s)}function k0(s){Tr=!0,Gf(s)}function Dn(){if(!ja&&cn!==null){ja=!0;var s=0,l=Ie;try{var f=cn;for(Ie=1;s<f.length;s++){var m=f[s];do m=m(!0);while(m!==null)}cn=null,Tr=!1}catch(x){throw cn!==null&&(cn=cn.slice(s+1)),Wd(ma,Dn),x}finally{Ie=l,ja=!1}}return null}var Wi=[],ji=0,Sr=null,wr=0,Rt=[],Dt=0,oi=null,dn=1,fn="";function si(s,l){Wi[ji++]=wr,Wi[ji++]=Sr,Sr=s,wr=l}function Wf(s,l,f){Rt[Dt++]=dn,Rt[Dt++]=fn,Rt[Dt++]=oi,oi=s;var m=dn;s=fn;var x=32-$t(m)-1;m&=~(1<<x),f+=1;var _=32-$t(l)+x;if(30<_){var S=x-x%5;_=(m&(1<<S)-1).toString(32),m>>=S,x-=S,dn=1<<32-$t(l)+x|f<<x|m,fn=_+s}else dn=1<<_|f<<x|m,fn=s}function Ja(s){s.return!==null&&(si(s,1),Wf(s,1,0))}function Ya(s){for(;s===Sr;)Sr=Wi[--ji],Wi[ji]=null,wr=Wi[--ji],Wi[ji]=null;for(;s===oi;)oi=Rt[--Dt],Rt[Dt]=null,fn=Rt[--Dt],Rt[Dt]=null,dn=Rt[--Dt],Rt[Dt]=null}var bt=null,It=null,Oe=!1,Wt=null;function jf(s,l){var f=Vt(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=s,l=s.deletions,l===null?(s.deletions=[f],s.flags|=16):l.push(f)}function Jf(s,l){switch(s.tag){case 5:var f=s.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,bt=s,It=Pn(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,bt=s,It=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=oi!==null?{id:dn,overflow:fn}:null,s.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Vt(18,null,null,0),f.stateNode=l,f.return=s,s.child=f,bt=s,It=null,!0):!1;default:return!1}}function Ka(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Xa(s){if(Oe){var l=It;if(l){var f=l;if(!Jf(s,l)){if(Ka(s))throw Error(n(418));l=Pn(f.nextSibling);var m=bt;l&&Jf(s,l)?jf(m,f):(s.flags=s.flags&-4097|2,Oe=!1,bt=s)}}else{if(Ka(s))throw Error(n(418));s.flags=s.flags&-4097|2,Oe=!1,bt=s}}}function Yf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;bt=s}function Er(s){if(s!==bt)return!1;if(!Oe)return Yf(s),Oe=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Oa(s.type,s.memoizedProps)),l&&(l=It)){if(Ka(s))throw Kf(),Error(n(418));for(;l;)jf(s,l),l=Pn(l.nextSibling)}if(Yf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(l===0){It=Pn(s.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}s=s.nextSibling}It=null}}else It=bt?Pn(s.stateNode.nextSibling):null;return!0}function Kf(){for(var s=It;s;)s=Pn(s.nextSibling)}function Ji(){It=bt=null,Oe=!1}function Qa(s){Wt===null?Wt=[s]:Wt.push(s)}var N0=D.ReactCurrentBatchConfig;function is(s,l,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var m=f.stateNode}if(!m)throw Error(n(147,s));var x=m,_=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(S){var k=x.refs;S===null?delete k[_]:k[_]=S},l._stringRef=_,l)}if(typeof s!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,s))}return s}function Mr(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function Xf(s){var l=s._init;return l(s._payload)}function Qf(s){function l(U,A){if(s){var V=U.deletions;V===null?(U.deletions=[A],U.flags|=16):V.push(A)}}function f(U,A){if(!s)return null;for(;A!==null;)l(U,A),A=A.sibling;return null}function m(U,A){for(U=new Map;A!==null;)A.key!==null?U.set(A.key,A):U.set(A.index,A),A=A.sibling;return U}function x(U,A){return U=On(U,A),U.index=0,U.sibling=null,U}function _(U,A,V){return U.index=V,s?(V=U.alternate,V!==null?(V=V.index,V<A?(U.flags|=2,A):V):(U.flags|=2,A)):(U.flags|=1048576,A)}function S(U){return s&&U.alternate===null&&(U.flags|=2),U}function k(U,A,V,j){return A===null||A.tag!==6?(A=qu(V,U.mode,j),A.return=U,A):(A=x(A,V),A.return=U,A)}function I(U,A,V,j){var se=V.type;return se===O?$(U,A,V.props.children,j,V.key):A!==null&&(A.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ye&&Xf(se)===A.type)?(j=x(A,V.props),j.ref=is(U,A,V),j.return=U,j):(j=Kr(V.type,V.key,V.props,null,U.mode,j),j.ref=is(U,A,V),j.return=U,j)}function B(U,A,V,j){return A===null||A.tag!==4||A.stateNode.containerInfo!==V.containerInfo||A.stateNode.implementation!==V.implementation?(A=$u(V,U.mode,j),A.return=U,A):(A=x(A,V.children||[]),A.return=U,A)}function $(U,A,V,j,se){return A===null||A.tag!==7?(A=hi(V,U.mode,j,se),A.return=U,A):(A=x(A,V),A.return=U,A)}function G(U,A,V){if(typeof A=="string"&&A!==""||typeof A=="number")return A=qu(""+A,U.mode,V),A.return=U,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case L:return V=Kr(A.type,A.key,A.props,null,U.mode,V),V.ref=is(U,null,A),V.return=U,V;case H:return A=$u(A,U.mode,V),A.return=U,A;case ye:var j=A._init;return G(U,j(A._payload),V)}if(Ao(A)||te(A))return A=hi(A,U.mode,V,null),A.return=U,A;Mr(U,A)}return null}function q(U,A,V,j){var se=A!==null?A.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return se!==null?null:k(U,A,""+V,j);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return V.key===se?I(U,A,V,j):null;case H:return V.key===se?B(U,A,V,j):null;case ye:return se=V._init,q(U,A,se(V._payload),j)}if(Ao(V)||te(V))return se!==null?null:$(U,A,V,j,null);Mr(U,V)}return null}function ee(U,A,V,j,se){if(typeof j=="string"&&j!==""||typeof j=="number")return U=U.get(V)||null,k(A,U,""+j,se);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return U=U.get(j.key===null?V:j.key)||null,I(A,U,j,se);case H:return U=U.get(j.key===null?V:j.key)||null,B(A,U,j,se);case ye:var ae=j._init;return ee(U,A,V,ae(j._payload),se)}if(Ao(j)||te(j))return U=U.get(V)||null,$(A,U,j,se,null);Mr(A,j)}return null}function ie(U,A,V,j){for(var se=null,ae=null,ue=A,fe=A=0,st=null;ue!==null&&fe<V.length;fe++){ue.index>fe?(st=ue,ue=null):st=ue.sibling;var Me=q(U,ue,V[fe],j);if(Me===null){ue===null&&(ue=st);break}s&&ue&&Me.alternate===null&&l(U,ue),A=_(Me,A,fe),ae===null?se=Me:ae.sibling=Me,ae=Me,ue=st}if(fe===V.length)return f(U,ue),Oe&&si(U,fe),se;if(ue===null){for(;fe<V.length;fe++)ue=G(U,V[fe],j),ue!==null&&(A=_(ue,A,fe),ae===null?se=ue:ae.sibling=ue,ae=ue);return Oe&&si(U,fe),se}for(ue=m(U,ue);fe<V.length;fe++)st=ee(ue,U,fe,V[fe],j),st!==null&&(s&&st.alternate!==null&&ue.delete(st.key===null?fe:st.key),A=_(st,A,fe),ae===null?se=st:ae.sibling=st,ae=st);return s&&ue.forEach(function(qn){return l(U,qn)}),Oe&&si(U,fe),se}function oe(U,A,V,j){var se=te(V);if(typeof se!="function")throw Error(n(150));if(V=se.call(V),V==null)throw Error(n(151));for(var ae=se=null,ue=A,fe=A=0,st=null,Me=V.next();ue!==null&&!Me.done;fe++,Me=V.next()){ue.index>fe?(st=ue,ue=null):st=ue.sibling;var qn=q(U,ue,Me.value,j);if(qn===null){ue===null&&(ue=st);break}s&&ue&&qn.alternate===null&&l(U,ue),A=_(qn,A,fe),ae===null?se=qn:ae.sibling=qn,ae=qn,ue=st}if(Me.done)return f(U,ue),Oe&&si(U,fe),se;if(ue===null){for(;!Me.done;fe++,Me=V.next())Me=G(U,Me.value,j),Me!==null&&(A=_(Me,A,fe),ae===null?se=Me:ae.sibling=Me,ae=Me);return Oe&&si(U,fe),se}for(ue=m(U,ue);!Me.done;fe++,Me=V.next())Me=ee(ue,U,fe,Me.value,j),Me!==null&&(s&&Me.alternate!==null&&ue.delete(Me.key===null?fe:Me.key),A=_(Me,A,fe),ae===null?se=Me:ae.sibling=Me,ae=Me);return s&&ue.forEach(function(lC){return l(U,lC)}),Oe&&si(U,fe),se}function Je(U,A,V,j){if(typeof V=="object"&&V!==null&&V.type===O&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case L:e:{for(var se=V.key,ae=A;ae!==null;){if(ae.key===se){if(se=V.type,se===O){if(ae.tag===7){f(U,ae.sibling),A=x(ae,V.props.children),A.return=U,U=A;break e}}else if(ae.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ye&&Xf(se)===ae.type){f(U,ae.sibling),A=x(ae,V.props),A.ref=is(U,ae,V),A.return=U,U=A;break e}f(U,ae);break}else l(U,ae);ae=ae.sibling}V.type===O?(A=hi(V.props.children,U.mode,j,V.key),A.return=U,U=A):(j=Kr(V.type,V.key,V.props,null,U.mode,j),j.ref=is(U,A,V),j.return=U,U=j)}return S(U);case H:e:{for(ae=V.key;A!==null;){if(A.key===ae)if(A.tag===4&&A.stateNode.containerInfo===V.containerInfo&&A.stateNode.implementation===V.implementation){f(U,A.sibling),A=x(A,V.children||[]),A.return=U,U=A;break e}else{f(U,A);break}else l(U,A);A=A.sibling}A=$u(V,U.mode,j),A.return=U,U=A}return S(U);case ye:return ae=V._init,Je(U,A,ae(V._payload),j)}if(Ao(V))return ie(U,A,V,j);if(te(V))return oe(U,A,V,j);Mr(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,A!==null&&A.tag===6?(f(U,A.sibling),A=x(A,V),A.return=U,U=A):(f(U,A),A=qu(V,U.mode,j),A.return=U,U=A),S(U)):f(U,A)}return Je}var Yi=Qf(!0),Zf=Qf(!1),kr=An(null),Nr=null,Ki=null,Za=null;function eu(){Za=Ki=Nr=null}function tu(s){var l=kr.current;Ue(kr),s._currentValue=l}function nu(s,l,f){for(;s!==null;){var m=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),s===f)break;s=s.return}}function Xi(s,l){Nr=s,Za=Ki=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(Ct=!0),s.firstContext=null)}function Lt(s){var l=s._currentValue;if(Za!==s)if(s={context:s,memoizedValue:l,next:null},Ki===null){if(Nr===null)throw Error(n(308));Ki=s,Nr.dependencies={lanes:0,firstContext:s}}else Ki=Ki.next=s;return l}var ri=null;function iu(s){ri===null?ri=[s]:ri.push(s)}function eh(s,l,f,m){var x=l.interleaved;return x===null?(f.next=f,iu(l)):(f.next=x.next,x.next=f),l.interleaved=f,hn(s,m)}function hn(s,l){s.lanes|=l;var f=s.alternate;for(f!==null&&(f.lanes|=l),f=s,s=s.return;s!==null;)s.childLanes|=l,f=s.alternate,f!==null&&(f.childLanes|=l),f=s,s=s.return;return f.tag===3?f.stateNode:null}var Ln=!1;function ou(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function th(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function pn(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function Fn(s,l,f){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Se&2)!==0){var x=m.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),m.pending=l,hn(s,f)}return x=m.interleaved,x===null?(l.next=l,iu(m)):(l.next=x.next,x.next=l),m.interleaved=l,hn(s,f)}function br(s,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var m=l.lanes;m&=s.pendingLanes,f|=m,l.lanes=f,va(s,f)}}function nh(s,l){var f=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var x=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var S={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?x=_=S:_=_.next=S,f=f.next}while(f!==null);_===null?x=_=l:_=_.next=l}else x=_=l;f={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:m.shared,effects:m.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=l:s.next=l,f.lastBaseUpdate=l}function Ir(s,l,f,m){var x=s.updateQueue;Ln=!1;var _=x.firstBaseUpdate,S=x.lastBaseUpdate,k=x.shared.pending;if(k!==null){x.shared.pending=null;var I=k,B=I.next;I.next=null,S===null?_=B:S.next=B,S=I;var $=s.alternate;$!==null&&($=$.updateQueue,k=$.lastBaseUpdate,k!==S&&(k===null?$.firstBaseUpdate=B:k.next=B,$.lastBaseUpdate=I))}if(_!==null){var G=x.baseState;S=0,$=B=I=null,k=_;do{var q=k.lane,ee=k.eventTime;if((m&q)===q){$!==null&&($=$.next={eventTime:ee,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ie=s,oe=k;switch(q=l,ee=f,oe.tag){case 1:if(ie=oe.payload,typeof ie=="function"){G=ie.call(ee,G,q);break e}G=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=oe.payload,q=typeof ie=="function"?ie.call(ee,G,q):ie,q==null)break e;G=Z({},G,q);break e;case 2:Ln=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,q=x.effects,q===null?x.effects=[k]:q.push(k))}else ee={eventTime:ee,lane:q,tag:k.tag,payload:k.payload,callback:k.callback,next:null},$===null?(B=$=ee,I=G):$=$.next=ee,S|=q;if(k=k.next,k===null){if(k=x.shared.pending,k===null)break;q=k,k=q.next,q.next=null,x.lastBaseUpdate=q,x.shared.pending=null}}while(!0);if($===null&&(I=G),x.baseState=I,x.firstBaseUpdate=B,x.lastBaseUpdate=$,l=x.shared.interleaved,l!==null){x=l;do S|=x.lane,x=x.next;while(x!==l)}else _===null&&(x.shared.lanes=0);ui|=S,s.lanes=S,s.memoizedState=G}}function ih(s,l,f){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var m=s[l],x=m.callback;if(x!==null){if(m.callback=null,m=f,typeof x!="function")throw Error(n(191,x));x.call(m)}}}var os={},Zt=An(os),ss=An(os),rs=An(os);function li(s){if(s===os)throw Error(n(174));return s}function su(s,l){switch(Le(rs,l),Le(ss,s),Le(Zt,os),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ra(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=ra(l,s)}Ue(Zt),Le(Zt,l)}function Qi(){Ue(Zt),Ue(ss),Ue(rs)}function oh(s){li(rs.current);var l=li(Zt.current),f=ra(l,s.type);l!==f&&(Le(ss,s),Le(Zt,f))}function ru(s){ss.current===s&&(Ue(Zt),Ue(ss))}var qe=An(0);function Pr(s){for(var l=s;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var lu=[];function au(){for(var s=0;s<lu.length;s++)lu[s]._workInProgressVersionPrimary=null;lu.length=0}var Ar=D.ReactCurrentDispatcher,uu=D.ReactCurrentBatchConfig,ai=0,$e=null,Ze=null,it=null,Rr=!1,ls=!1,as=0,b0=0;function ct(){throw Error(n(321))}function cu(s,l){if(l===null)return!1;for(var f=0;f<l.length&&f<s.length;f++)if(!Gt(s[f],l[f]))return!1;return!0}function du(s,l,f,m,x,_){if(ai=_,$e=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Ar.current=s===null||s.memoizedState===null?R0:D0,s=f(m,x),ls){_=0;do{if(ls=!1,as=0,25<=_)throw Error(n(301));_+=1,it=Ze=null,l.updateQueue=null,Ar.current=L0,s=f(m,x)}while(ls)}if(Ar.current=Fr,l=Ze!==null&&Ze.next!==null,ai=0,it=Ze=$e=null,Rr=!1,l)throw Error(n(300));return s}function fu(){var s=as!==0;return as=0,s}function en(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?$e.memoizedState=it=s:it=it.next=s,it}function Ft(){if(Ze===null){var s=$e.alternate;s=s!==null?s.memoizedState:null}else s=Ze.next;var l=it===null?$e.memoizedState:it.next;if(l!==null)it=l,Ze=s;else{if(s===null)throw Error(n(310));Ze=s,s={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},it===null?$e.memoizedState=it=s:it=it.next=s}return it}function us(s,l){return typeof l=="function"?l(s):l}function hu(s){var l=Ft(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=s;var m=Ze,x=m.baseQueue,_=f.pending;if(_!==null){if(x!==null){var S=x.next;x.next=_.next,_.next=S}m.baseQueue=x=_,f.pending=null}if(x!==null){_=x.next,m=m.baseState;var k=S=null,I=null,B=_;do{var $=B.lane;if((ai&$)===$)I!==null&&(I=I.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),m=B.hasEagerState?B.eagerState:s(m,B.action);else{var G={lane:$,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};I===null?(k=I=G,S=m):I=I.next=G,$e.lanes|=$,ui|=$}B=B.next}while(B!==null&&B!==_);I===null?S=m:I.next=k,Gt(m,l.memoizedState)||(Ct=!0),l.memoizedState=m,l.baseState=S,l.baseQueue=I,f.lastRenderedState=m}if(s=f.interleaved,s!==null){x=s;do _=x.lane,$e.lanes|=_,ui|=_,x=x.next;while(x!==s)}else x===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function pu(s){var l=Ft(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=s;var m=f.dispatch,x=f.pending,_=l.memoizedState;if(x!==null){f.pending=null;var S=x=x.next;do _=s(_,S.action),S=S.next;while(S!==x);Gt(_,l.memoizedState)||(Ct=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),f.lastRenderedState=_}return[_,m]}function sh(){}function rh(s,l){var f=$e,m=Ft(),x=l(),_=!Gt(m.memoizedState,x);if(_&&(m.memoizedState=x,Ct=!0),m=m.queue,mu(uh.bind(null,f,m,s),[s]),m.getSnapshot!==l||_||it!==null&&it.memoizedState.tag&1){if(f.flags|=2048,cs(9,ah.bind(null,f,m,x,l),void 0,null),ot===null)throw Error(n(349));(ai&30)!==0||lh(f,l,x)}return x}function lh(s,l,f){s.flags|=16384,s={getSnapshot:l,value:f},l=$e.updateQueue,l===null?(l={lastEffect:null,stores:null},$e.updateQueue=l,l.stores=[s]):(f=l.stores,f===null?l.stores=[s]:f.push(s))}function ah(s,l,f,m){l.value=f,l.getSnapshot=m,ch(l)&&dh(s)}function uh(s,l,f){return f(function(){ch(l)&&dh(s)})}function ch(s){var l=s.getSnapshot;s=s.value;try{var f=l();return!Gt(s,f)}catch{return!0}}function dh(s){var l=hn(s,1);l!==null&&Kt(l,s,1,-1)}function fh(s){var l=en();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:s},l.queue=s,s=s.dispatch=A0.bind(null,$e,s),[l.memoizedState,s]}function cs(s,l,f,m){return s={tag:s,create:l,destroy:f,deps:m,next:null},l=$e.updateQueue,l===null?(l={lastEffect:null,stores:null},$e.updateQueue=l,l.lastEffect=s.next=s):(f=l.lastEffect,f===null?l.lastEffect=s.next=s:(m=f.next,f.next=s,s.next=m,l.lastEffect=s)),s}function hh(){return Ft().memoizedState}function Dr(s,l,f,m){var x=en();$e.flags|=s,x.memoizedState=cs(1|l,f,void 0,m===void 0?null:m)}function Lr(s,l,f,m){var x=Ft();m=m===void 0?null:m;var _=void 0;if(Ze!==null){var S=Ze.memoizedState;if(_=S.destroy,m!==null&&cu(m,S.deps)){x.memoizedState=cs(l,f,_,m);return}}$e.flags|=s,x.memoizedState=cs(1|l,f,_,m)}function ph(s,l){return Dr(8390656,8,s,l)}function mu(s,l){return Lr(2048,8,s,l)}function mh(s,l){return Lr(4,2,s,l)}function gh(s,l){return Lr(4,4,s,l)}function yh(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function vh(s,l,f){return f=f!=null?f.concat([s]):null,Lr(4,4,yh.bind(null,l,s),f)}function gu(){}function xh(s,l){var f=Ft();l=l===void 0?null:l;var m=f.memoizedState;return m!==null&&l!==null&&cu(l,m[1])?m[0]:(f.memoizedState=[s,l],s)}function Ch(s,l){var f=Ft();l=l===void 0?null:l;var m=f.memoizedState;return m!==null&&l!==null&&cu(l,m[1])?m[0]:(s=s(),f.memoizedState=[s,l],s)}function _h(s,l,f){return(ai&21)===0?(s.baseState&&(s.baseState=!1,Ct=!0),s.memoizedState=f):(Gt(f,l)||(f=Kd(),$e.lanes|=f,ui|=f,s.baseState=!0),l)}function I0(s,l){var f=Ie;Ie=f!==0&&4>f?f:4,s(!0);var m=uu.transition;uu.transition={};try{s(!1),l()}finally{Ie=f,uu.transition=m}}function Th(){return Ft().memoizedState}function P0(s,l,f){var m=Hn(s);if(f={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null},Sh(s))wh(l,f);else if(f=eh(s,l,f,m),f!==null){var x=yt();Kt(f,s,m,x),Eh(f,l,m)}}function A0(s,l,f){var m=Hn(s),x={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null};if(Sh(s))wh(l,x);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var S=l.lastRenderedState,k=_(S,f);if(x.hasEagerState=!0,x.eagerState=k,Gt(k,S)){var I=l.interleaved;I===null?(x.next=x,iu(l)):(x.next=I.next,I.next=x),l.interleaved=x;return}}catch{}finally{}f=eh(s,l,x,m),f!==null&&(x=yt(),Kt(f,s,m,x),Eh(f,l,m))}}function Sh(s){var l=s.alternate;return s===$e||l!==null&&l===$e}function wh(s,l){ls=Rr=!0;var f=s.pending;f===null?l.next=l:(l.next=f.next,f.next=l),s.pending=l}function Eh(s,l,f){if((f&4194240)!==0){var m=l.lanes;m&=s.pendingLanes,f|=m,l.lanes=f,va(s,f)}}var Fr={readContext:Lt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},R0={readContext:Lt,useCallback:function(s,l){return en().memoizedState=[s,l===void 0?null:l],s},useContext:Lt,useEffect:ph,useImperativeHandle:function(s,l,f){return f=f!=null?f.concat([s]):null,Dr(4194308,4,yh.bind(null,l,s),f)},useLayoutEffect:function(s,l){return Dr(4194308,4,s,l)},useInsertionEffect:function(s,l){return Dr(4,2,s,l)},useMemo:function(s,l){var f=en();return l=l===void 0?null:l,s=s(),f.memoizedState=[s,l],s},useReducer:function(s,l,f){var m=en();return l=f!==void 0?f(l):l,m.memoizedState=m.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},m.queue=s,s=s.dispatch=P0.bind(null,$e,s),[m.memoizedState,s]},useRef:function(s){var l=en();return s={current:s},l.memoizedState=s},useState:fh,useDebugValue:gu,useDeferredValue:function(s){return en().memoizedState=s},useTransition:function(){var s=fh(!1),l=s[0];return s=I0.bind(null,s[1]),en().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,f){var m=$e,x=en();if(Oe){if(f===void 0)throw Error(n(407));f=f()}else{if(f=l(),ot===null)throw Error(n(349));(ai&30)!==0||lh(m,l,f)}x.memoizedState=f;var _={value:f,getSnapshot:l};return x.queue=_,ph(uh.bind(null,m,_,s),[s]),m.flags|=2048,cs(9,ah.bind(null,m,_,f,l),void 0,null),f},useId:function(){var s=en(),l=ot.identifierPrefix;if(Oe){var f=fn,m=dn;f=(m&~(1<<32-$t(m)-1)).toString(32)+f,l=":"+l+"R"+f,f=as++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=b0++,l=":"+l+"r"+f.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},D0={readContext:Lt,useCallback:xh,useContext:Lt,useEffect:mu,useImperativeHandle:vh,useInsertionEffect:mh,useLayoutEffect:gh,useMemo:Ch,useReducer:hu,useRef:hh,useState:function(){return hu(us)},useDebugValue:gu,useDeferredValue:function(s){var l=Ft();return _h(l,Ze.memoizedState,s)},useTransition:function(){var s=hu(us)[0],l=Ft().memoizedState;return[s,l]},useMutableSource:sh,useSyncExternalStore:rh,useId:Th,unstable_isNewReconciler:!1},L0={readContext:Lt,useCallback:xh,useContext:Lt,useEffect:mu,useImperativeHandle:vh,useInsertionEffect:mh,useLayoutEffect:gh,useMemo:Ch,useReducer:pu,useRef:hh,useState:function(){return pu(us)},useDebugValue:gu,useDeferredValue:function(s){var l=Ft();return Ze===null?l.memoizedState=s:_h(l,Ze.memoizedState,s)},useTransition:function(){var s=pu(us)[0],l=Ft().memoizedState;return[s,l]},useMutableSource:sh,useSyncExternalStore:rh,useId:Th,unstable_isNewReconciler:!1};function jt(s,l){if(s&&s.defaultProps){l=Z({},l),s=s.defaultProps;for(var f in s)l[f]===void 0&&(l[f]=s[f]);return l}return l}function yu(s,l,f,m){l=s.memoizedState,f=f(m,l),f=f==null?l:Z({},l,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var Ur={isMounted:function(s){return(s=s._reactInternals)?ti(s)===s:!1},enqueueSetState:function(s,l,f){s=s._reactInternals;var m=yt(),x=Hn(s),_=pn(m,x);_.payload=l,f!=null&&(_.callback=f),l=Fn(s,_,x),l!==null&&(Kt(l,s,x,m),br(l,s,x))},enqueueReplaceState:function(s,l,f){s=s._reactInternals;var m=yt(),x=Hn(s),_=pn(m,x);_.tag=1,_.payload=l,f!=null&&(_.callback=f),l=Fn(s,_,x),l!==null&&(Kt(l,s,x,m),br(l,s,x))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var f=yt(),m=Hn(s),x=pn(f,m);x.tag=2,l!=null&&(x.callback=l),l=Fn(s,x,m),l!==null&&(Kt(l,s,m,f),br(l,s,m))}};function Mh(s,l,f,m,x,_,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,_,S):l.prototype&&l.prototype.isPureReactComponent?!Ko(f,m)||!Ko(x,_):!0}function kh(s,l,f){var m=!1,x=Rn,_=l.contextType;return typeof _=="object"&&_!==null?_=Lt(_):(x=xt(l)?ii:ut.current,m=l.contextTypes,_=(m=m!=null)?Gi(s,x):Rn),l=new l(f,_),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ur,s.stateNode=l,l._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=_),l}function Nh(s,l,f,m){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==s&&Ur.enqueueReplaceState(l,l.state,null)}function vu(s,l,f,m){var x=s.stateNode;x.props=f,x.state=s.memoizedState,x.refs={},ou(s);var _=l.contextType;typeof _=="object"&&_!==null?x.context=Lt(_):(_=xt(l)?ii:ut.current,x.context=Gi(s,_)),x.state=s.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(yu(s,l,_,f),x.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&Ur.enqueueReplaceState(x,x.state,null),Ir(s,f,x,m),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function Zi(s,l){try{var f="",m=l;do f+=Ce(m),m=m.return;while(m);var x=f}catch(_){x=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:l,stack:x,digest:null}}function xu(s,l,f){return{value:s,source:null,stack:f??null,digest:l??null}}function Cu(s,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var F0=typeof WeakMap=="function"?WeakMap:Map;function bh(s,l,f){f=pn(-1,f),f.tag=3,f.payload={element:null};var m=l.value;return f.callback=function(){$r||($r=!0,Lu=m),Cu(s,l)},f}function Ih(s,l,f){f=pn(-1,f),f.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var x=l.value;f.payload=function(){return m(x)},f.callback=function(){Cu(s,l)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){Cu(s,l),typeof m!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})}),f}function Ph(s,l,f){var m=s.pingCache;if(m===null){m=s.pingCache=new F0;var x=new Set;m.set(l,x)}else x=m.get(l),x===void 0&&(x=new Set,m.set(l,x));x.has(f)||(x.add(f),s=K0.bind(null,s,l,f),l.then(s,s))}function Ah(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function Rh(s,l,f,m,x){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=pn(-1,1),l.tag=2,Fn(f,l,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var U0=D.ReactCurrentOwner,Ct=!1;function gt(s,l,f,m){l.child=s===null?Zf(l,null,f,m):Yi(l,s.child,f,m)}function Dh(s,l,f,m,x){f=f.render;var _=l.ref;return Xi(l,x),m=du(s,l,f,m,_,x),f=fu(),s!==null&&!Ct?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~x,mn(s,l,x)):(Oe&&f&&Ja(l),l.flags|=1,gt(s,l,m,x),l.child)}function Lh(s,l,f,m,x){if(s===null){var _=f.type;return typeof _=="function"&&!Ou(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=_,Fh(s,l,_,m,x)):(s=Kr(f.type,null,m,l,l.mode,x),s.ref=l.ref,s.return=l,l.child=s)}if(_=s.child,(s.lanes&x)===0){var S=_.memoizedProps;if(f=f.compare,f=f!==null?f:Ko,f(S,m)&&s.ref===l.ref)return mn(s,l,x)}return l.flags|=1,s=On(_,m),s.ref=l.ref,s.return=l,l.child=s}function Fh(s,l,f,m,x){if(s!==null){var _=s.memoizedProps;if(Ko(_,m)&&s.ref===l.ref)if(Ct=!1,l.pendingProps=m=_,(s.lanes&x)!==0)(s.flags&131072)!==0&&(Ct=!0);else return l.lanes=s.lanes,mn(s,l,x)}return _u(s,l,f,m,x)}function Uh(s,l,f){var m=l.pendingProps,x=m.children,_=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(to,Pt),Pt|=f;else{if((f&1073741824)===0)return s=_!==null?_.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,Le(to,Pt),Pt|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=_!==null?_.baseLanes:f,Le(to,Pt),Pt|=m}else _!==null?(m=_.baseLanes|f,l.memoizedState=null):m=f,Le(to,Pt),Pt|=m;return gt(s,l,x,f),l.child}function Vh(s,l){var f=l.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function _u(s,l,f,m,x){var _=xt(f)?ii:ut.current;return _=Gi(l,_),Xi(l,x),f=du(s,l,f,m,_,x),m=fu(),s!==null&&!Ct?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~x,mn(s,l,x)):(Oe&&m&&Ja(l),l.flags|=1,gt(s,l,f,x),l.child)}function Bh(s,l,f,m,x){if(xt(f)){var _=!0;_r(l)}else _=!1;if(Xi(l,x),l.stateNode===null)Br(s,l),kh(l,f,m),vu(l,f,m,x),m=!0;else if(s===null){var S=l.stateNode,k=l.memoizedProps;S.props=k;var I=S.context,B=f.contextType;typeof B=="object"&&B!==null?B=Lt(B):(B=xt(f)?ii:ut.current,B=Gi(l,B));var $=f.getDerivedStateFromProps,G=typeof $=="function"||typeof S.getSnapshotBeforeUpdate=="function";G||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k!==m||I!==B)&&Nh(l,S,m,B),Ln=!1;var q=l.memoizedState;S.state=q,Ir(l,m,S,x),I=l.memoizedState,k!==m||q!==I||vt.current||Ln?(typeof $=="function"&&(yu(l,f,$,m),I=l.memoizedState),(k=Ln||Mh(l,f,k,m,q,I,B))?(G||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=I),S.props=m,S.state=I,S.context=B,m=k):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{S=l.stateNode,th(s,l),k=l.memoizedProps,B=l.type===l.elementType?k:jt(l.type,k),S.props=B,G=l.pendingProps,q=S.context,I=f.contextType,typeof I=="object"&&I!==null?I=Lt(I):(I=xt(f)?ii:ut.current,I=Gi(l,I));var ee=f.getDerivedStateFromProps;($=typeof ee=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k!==G||q!==I)&&Nh(l,S,m,I),Ln=!1,q=l.memoizedState,S.state=q,Ir(l,m,S,x);var ie=l.memoizedState;k!==G||q!==ie||vt.current||Ln?(typeof ee=="function"&&(yu(l,f,ee,m),ie=l.memoizedState),(B=Ln||Mh(l,f,B,m,q,ie,I)||!1)?($||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,ie,I),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,ie,I)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||k===s.memoizedProps&&q===s.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&q===s.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ie),S.props=m,S.state=ie,S.context=I,m=B):(typeof S.componentDidUpdate!="function"||k===s.memoizedProps&&q===s.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&q===s.memoizedState||(l.flags|=1024),m=!1)}return Tu(s,l,f,m,_,x)}function Tu(s,l,f,m,x,_){Vh(s,l);var S=(l.flags&128)!==0;if(!m&&!S)return x&&$f(l,f,!1),mn(s,l,_);m=l.stateNode,U0.current=l;var k=S&&typeof f.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,s!==null&&S?(l.child=Yi(l,s.child,null,_),l.child=Yi(l,null,k,_)):gt(s,l,k,_),l.memoizedState=m.state,x&&$f(l,f,!0),l.child}function Hh(s){var l=s.stateNode;l.pendingContext?Of(s,l.pendingContext,l.pendingContext!==l.context):l.context&&Of(s,l.context,!1),su(s,l.containerInfo)}function zh(s,l,f,m,x){return Ji(),Qa(x),l.flags|=256,gt(s,l,f,m),l.child}var Su={dehydrated:null,treeContext:null,retryLane:0};function wu(s){return{baseLanes:s,cachePool:null,transitions:null}}function Oh(s,l,f){var m=l.pendingProps,x=qe.current,_=!1,S=(l.flags&128)!==0,k;if((k=S)||(k=s!==null&&s.memoizedState===null?!1:(x&2)!==0),k?(_=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),Le(qe,x&1),s===null)return Xa(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(S=m.children,s=m.fallback,_?(m=l.mode,_=l.child,S={mode:"hidden",children:S},(m&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=S):_=Xr(S,m,0,null),s=hi(s,m,f,null),_.return=l,s.return=l,_.sibling=s,l.child=_,l.child.memoizedState=wu(f),l.memoizedState=Su,s):Eu(l,S));if(x=s.memoizedState,x!==null&&(k=x.dehydrated,k!==null))return V0(s,l,S,m,k,x,f);if(_){_=m.fallback,S=l.mode,x=s.child,k=x.sibling;var I={mode:"hidden",children:m.children};return(S&1)===0&&l.child!==x?(m=l.child,m.childLanes=0,m.pendingProps=I,l.deletions=null):(m=On(x,I),m.subtreeFlags=x.subtreeFlags&14680064),k!==null?_=On(k,_):(_=hi(_,S,f,null),_.flags|=2),_.return=l,m.return=l,m.sibling=_,l.child=m,m=_,_=l.child,S=s.child.memoizedState,S=S===null?wu(f):{baseLanes:S.baseLanes|f,cachePool:null,transitions:S.transitions},_.memoizedState=S,_.childLanes=s.childLanes&~f,l.memoizedState=Su,m}return _=s.child,s=_.sibling,m=On(_,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=f),m.return=l,m.sibling=null,s!==null&&(f=l.deletions,f===null?(l.deletions=[s],l.flags|=16):f.push(s)),l.child=m,l.memoizedState=null,m}function Eu(s,l){return l=Xr({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function Vr(s,l,f,m){return m!==null&&Qa(m),Yi(l,s.child,null,f),s=Eu(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function V0(s,l,f,m,x,_,S){if(f)return l.flags&256?(l.flags&=-257,m=xu(Error(n(422))),Vr(s,l,S,m)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(_=m.fallback,x=l.mode,m=Xr({mode:"visible",children:m.children},x,0,null),_=hi(_,x,S,null),_.flags|=2,m.return=l,_.return=l,m.sibling=_,l.child=m,(l.mode&1)!==0&&Yi(l,s.child,null,S),l.child.memoizedState=wu(S),l.memoizedState=Su,_);if((l.mode&1)===0)return Vr(s,l,S,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var k=m.dgst;return m=k,_=Error(n(419)),m=xu(_,m,void 0),Vr(s,l,S,m)}if(k=(S&s.childLanes)!==0,Ct||k){if(m=ot,m!==null){switch(S&-S){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|S))!==0?0:x,x!==0&&x!==_.retryLane&&(_.retryLane=x,hn(s,x),Kt(m,s,x,-1))}return zu(),m=xu(Error(n(421))),Vr(s,l,S,m)}return x.data==="$?"?(l.flags|=128,l.child=s.child,l=X0.bind(null,s),x._reactRetry=l,null):(s=_.treeContext,It=Pn(x.nextSibling),bt=l,Oe=!0,Wt=null,s!==null&&(Rt[Dt++]=dn,Rt[Dt++]=fn,Rt[Dt++]=oi,dn=s.id,fn=s.overflow,oi=l),l=Eu(l,m.children),l.flags|=4096,l)}function qh(s,l,f){s.lanes|=l;var m=s.alternate;m!==null&&(m.lanes|=l),nu(s.return,l,f)}function Mu(s,l,f,m,x){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:x}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=f,_.tailMode=x)}function $h(s,l,f){var m=l.pendingProps,x=m.revealOrder,_=m.tail;if(gt(s,l,m.children,f),m=qe.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qh(s,f,l);else if(s.tag===19)qh(s,f,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(Le(qe,m),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(f=l.child,x=null;f!==null;)s=f.alternate,s!==null&&Pr(s)===null&&(x=f),f=f.sibling;f=x,f===null?(x=l.child,l.child=null):(x=f.sibling,f.sibling=null),Mu(l,!1,x,f,_);break;case"backwards":for(f=null,x=l.child,l.child=null;x!==null;){if(s=x.alternate,s!==null&&Pr(s)===null){l.child=x;break}s=x.sibling,x.sibling=f,f=x,x=s}Mu(l,!0,f,null,_);break;case"together":Mu(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Br(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function mn(s,l,f){if(s!==null&&(l.dependencies=s.dependencies),ui|=l.lanes,(f&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,f=On(s,s.pendingProps),l.child=f,f.return=l;s.sibling!==null;)s=s.sibling,f=f.sibling=On(s,s.pendingProps),f.return=l;f.sibling=null}return l.child}function B0(s,l,f){switch(l.tag){case 3:Hh(l),Ji();break;case 5:oh(l);break;case 1:xt(l.type)&&_r(l);break;case 4:su(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,x=l.memoizedProps.value;Le(kr,m._currentValue),m._currentValue=x;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(Le(qe,qe.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?Oh(s,l,f):(Le(qe,qe.current&1),s=mn(s,l,f),s!==null?s.sibling:null);Le(qe,qe.current&1);break;case 19:if(m=(f&l.childLanes)!==0,(s.flags&128)!==0){if(m)return $h(s,l,f);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Le(qe,qe.current),m)break;return null;case 22:case 23:return l.lanes=0,Uh(s,l,f)}return mn(s,l,f)}var Gh,ku,Wh,jh;Gh=function(s,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},ku=function(){},Wh=function(s,l,f,m){var x=s.memoizedProps;if(x!==m){s=l.stateNode,li(Zt.current);var _=null;switch(f){case"input":x=na(s,x),m=na(s,m),_=[];break;case"select":x=Z({},x,{value:void 0}),m=Z({},m,{value:void 0}),_=[];break;case"textarea":x=sa(s,x),m=sa(s,m),_=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=vr)}la(f,m);var S;f=null;for(B in x)if(!m.hasOwnProperty(B)&&x.hasOwnProperty(B)&&x[B]!=null)if(B==="style"){var k=x[B];for(S in k)k.hasOwnProperty(S)&&(f||(f={}),f[S]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?_||(_=[]):(_=_||[]).push(B,null));for(B in m){var I=m[B];if(k=x!=null?x[B]:void 0,m.hasOwnProperty(B)&&I!==k&&(I!=null||k!=null))if(B==="style")if(k){for(S in k)!k.hasOwnProperty(S)||I&&I.hasOwnProperty(S)||(f||(f={}),f[S]="");for(S in I)I.hasOwnProperty(S)&&k[S]!==I[S]&&(f||(f={}),f[S]=I[S])}else f||(_||(_=[]),_.push(B,f)),f=I;else B==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,k=k?k.__html:void 0,I!=null&&k!==I&&(_=_||[]).push(B,I)):B==="children"?typeof I!="string"&&typeof I!="number"||(_=_||[]).push(B,""+I):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(I!=null&&B==="onScroll"&&Fe("scroll",s),_||k===I||(_=[])):(_=_||[]).push(B,I))}f&&(_=_||[]).push("style",f);var B=_;(l.updateQueue=B)&&(l.flags|=4)}},jh=function(s,l,f,m){f!==m&&(l.flags|=4)};function ds(s,l){if(!Oe)switch(s.tailMode){case"hidden":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function dt(s){var l=s.alternate!==null&&s.alternate.child===s.child,f=0,m=0;if(l)for(var x=s.child;x!==null;)f|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)f|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=m,s.childLanes=f,l}function H0(s,l,f){var m=l.pendingProps;switch(Ya(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(l),null;case 1:return xt(l.type)&&Cr(),dt(l),null;case 3:return m=l.stateNode,Qi(),Ue(vt),Ue(ut),au(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Er(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Wt!==null&&(Vu(Wt),Wt=null))),ku(s,l),dt(l),null;case 5:ru(l);var x=li(rs.current);if(f=l.type,s!==null&&l.stateNode!=null)Wh(s,l,f,m,x),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return dt(l),null}if(s=li(Zt.current),Er(l)){m=l.stateNode,f=l.type;var _=l.memoizedProps;switch(m[Qt]=l,m[ts]=_,s=(l.mode&1)!==0,f){case"dialog":Fe("cancel",m),Fe("close",m);break;case"iframe":case"object":case"embed":Fe("load",m);break;case"video":case"audio":for(x=0;x<Qo.length;x++)Fe(Qo[x],m);break;case"source":Fe("error",m);break;case"img":case"image":case"link":Fe("error",m),Fe("load",m);break;case"details":Fe("toggle",m);break;case"input":Md(m,_),Fe("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!_.multiple},Fe("invalid",m);break;case"textarea":bd(m,_),Fe("invalid",m)}la(f,_),x=null;for(var S in _)if(_.hasOwnProperty(S)){var k=_[S];S==="children"?typeof k=="string"?m.textContent!==k&&(_.suppressHydrationWarning!==!0&&yr(m.textContent,k,s),x=["children",k]):typeof k=="number"&&m.textContent!==""+k&&(_.suppressHydrationWarning!==!0&&yr(m.textContent,k,s),x=["children",""+k]):o.hasOwnProperty(S)&&k!=null&&S==="onScroll"&&Fe("scroll",m)}switch(f){case"input":Js(m),Nd(m,_,!0);break;case"textarea":Js(m),Pd(m);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(m.onclick=vr)}m=x,l.updateQueue=m,m!==null&&(l.flags|=4)}else{S=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ad(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=S.createElement(f,{is:m.is}):(s=S.createElement(f),f==="select"&&(S=s,m.multiple?S.multiple=!0:m.size&&(S.size=m.size))):s=S.createElementNS(s,f),s[Qt]=l,s[ts]=m,Gh(s,l,!1,!1),l.stateNode=s;e:{switch(S=aa(f,m),f){case"dialog":Fe("cancel",s),Fe("close",s),x=m;break;case"iframe":case"object":case"embed":Fe("load",s),x=m;break;case"video":case"audio":for(x=0;x<Qo.length;x++)Fe(Qo[x],s);x=m;break;case"source":Fe("error",s),x=m;break;case"img":case"image":case"link":Fe("error",s),Fe("load",s),x=m;break;case"details":Fe("toggle",s),x=m;break;case"input":Md(s,m),x=na(s,m),Fe("invalid",s);break;case"option":x=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},x=Z({},m,{value:void 0}),Fe("invalid",s);break;case"textarea":bd(s,m),x=sa(s,m),Fe("invalid",s);break;default:x=m}la(f,x),k=x;for(_ in k)if(k.hasOwnProperty(_)){var I=k[_];_==="style"?Ld(s,I):_==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&Rd(s,I)):_==="children"?typeof I=="string"?(f!=="textarea"||I!=="")&&Ro(s,I):typeof I=="number"&&Ro(s,""+I):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?I!=null&&_==="onScroll"&&Fe("scroll",s):I!=null&&R(s,_,I,S))}switch(f){case"input":Js(s),Nd(s,m,!1);break;case"textarea":Js(s),Pd(s);break;case"option":m.value!=null&&s.setAttribute("value",""+be(m.value));break;case"select":s.multiple=!!m.multiple,_=m.value,_!=null?Ri(s,!!m.multiple,_,!1):m.defaultValue!=null&&Ri(s,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=vr)}switch(f){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return dt(l),null;case 6:if(s&&l.stateNode!=null)jh(s,l,s.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(f=li(rs.current),li(Zt.current),Er(l)){if(m=l.stateNode,f=l.memoizedProps,m[Qt]=l,(_=m.nodeValue!==f)&&(s=bt,s!==null))switch(s.tag){case 3:yr(m.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&yr(m.nodeValue,f,(s.mode&1)!==0)}_&&(l.flags|=4)}else m=(f.nodeType===9?f:f.ownerDocument).createTextNode(m),m[Qt]=l,l.stateNode=m}return dt(l),null;case 13:if(Ue(qe),m=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Oe&&It!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Kf(),Ji(),l.flags|=98560,_=!1;else if(_=Er(l),m!==null&&m.dehydrated!==null){if(s===null){if(!_)throw Error(n(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Qt]=l}else Ji(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;dt(l),_=!1}else Wt!==null&&(Vu(Wt),Wt=null),_=!0;if(!_)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(qe.current&1)!==0?et===0&&(et=3):zu())),l.updateQueue!==null&&(l.flags|=4),dt(l),null);case 4:return Qi(),ku(s,l),s===null&&Zo(l.stateNode.containerInfo),dt(l),null;case 10:return tu(l.type._context),dt(l),null;case 17:return xt(l.type)&&Cr(),dt(l),null;case 19:if(Ue(qe),_=l.memoizedState,_===null)return dt(l),null;if(m=(l.flags&128)!==0,S=_.rendering,S===null)if(m)ds(_,!1);else{if(et!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(S=Pr(s),S!==null){for(l.flags|=128,ds(_,!1),m=S.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=f,f=l.child;f!==null;)_=f,s=m,_.flags&=14680066,S=_.alternate,S===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=S.childLanes,_.lanes=S.lanes,_.child=S.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=S.memoizedProps,_.memoizedState=S.memoizedState,_.updateQueue=S.updateQueue,_.type=S.type,s=S.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return Le(qe,qe.current&1|2),l.child}s=s.sibling}_.tail!==null&&je()>no&&(l.flags|=128,m=!0,ds(_,!1),l.lanes=4194304)}else{if(!m)if(s=Pr(S),s!==null){if(l.flags|=128,m=!0,f=s.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),ds(_,!0),_.tail===null&&_.tailMode==="hidden"&&!S.alternate&&!Oe)return dt(l),null}else 2*je()-_.renderingStartTime>no&&f!==1073741824&&(l.flags|=128,m=!0,ds(_,!1),l.lanes=4194304);_.isBackwards?(S.sibling=l.child,l.child=S):(f=_.last,f!==null?f.sibling=S:l.child=S,_.last=S)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=je(),l.sibling=null,f=qe.current,Le(qe,m?f&1|2:f&1),l):(dt(l),null);case 22:case 23:return Hu(),m=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(Pt&1073741824)!==0&&(dt(l),l.subtreeFlags&6&&(l.flags|=8192)):dt(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function z0(s,l){switch(Ya(l),l.tag){case 1:return xt(l.type)&&Cr(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Qi(),Ue(vt),Ue(ut),au(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return ru(l),null;case 13:if(Ue(qe),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Ji()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Ue(qe),null;case 4:return Qi(),null;case 10:return tu(l.type._context),null;case 22:case 23:return Hu(),null;case 24:return null;default:return null}}var Hr=!1,ft=!1,O0=typeof WeakSet=="function"?WeakSet:Set,ne=null;function eo(s,l){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(m){We(s,l,m)}else f.current=null}function Nu(s,l,f){try{f()}catch(m){We(s,l,m)}}var Jh=!1;function q0(s,l){if(Ha=rr,s=Mf(),Aa(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var x=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var S=0,k=-1,I=-1,B=0,$=0,G=s,q=null;t:for(;;){for(var ee;G!==f||x!==0&&G.nodeType!==3||(k=S+x),G!==_||m!==0&&G.nodeType!==3||(I=S+m),G.nodeType===3&&(S+=G.nodeValue.length),(ee=G.firstChild)!==null;)q=G,G=ee;for(;;){if(G===s)break t;if(q===f&&++B===x&&(k=S),q===_&&++$===m&&(I=S),(ee=G.nextSibling)!==null)break;G=q,q=G.parentNode}G=ee}f=k===-1||I===-1?null:{start:k,end:I}}else f=null}f=f||{start:0,end:0}}else f=null;for(za={focusedElem:s,selectionRange:f},rr=!1,ne=l;ne!==null;)if(l=ne,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,ne=s;else for(;ne!==null;){l=ne;try{var ie=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var oe=ie.memoizedProps,Je=ie.memoizedState,U=l.stateNode,A=U.getSnapshotBeforeUpdate(l.elementType===l.type?oe:jt(l.type,oe),Je);U.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var V=l.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(j){We(l,l.return,j)}if(s=l.sibling,s!==null){s.return=l.return,ne=s;break}ne=l.return}return ie=Jh,Jh=!1,ie}function fs(s,l,f){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&s)===s){var _=x.destroy;x.destroy=void 0,_!==void 0&&Nu(l,f,_)}x=x.next}while(x!==m)}}function zr(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&s)===s){var m=f.create;f.destroy=m()}f=f.next}while(f!==l)}}function bu(s){var l=s.ref;if(l!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof l=="function"?l(s):l.current=s}}function Yh(s){var l=s.alternate;l!==null&&(s.alternate=null,Yh(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[Qt],delete l[ts],delete l[Ga],delete l[E0],delete l[M0])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Kh(s){return s.tag===5||s.tag===3||s.tag===4}function Xh(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Kh(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Iu(s,l,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(s,l):f.insertBefore(s,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(s,f)):(l=f,l.appendChild(s)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=vr));else if(m!==4&&(s=s.child,s!==null))for(Iu(s,l,f),s=s.sibling;s!==null;)Iu(s,l,f),s=s.sibling}function Pu(s,l,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?f.insertBefore(s,l):f.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(Pu(s,l,f),s=s.sibling;s!==null;)Pu(s,l,f),s=s.sibling}var lt=null,Jt=!1;function Un(s,l,f){for(f=f.child;f!==null;)Qh(s,l,f),f=f.sibling}function Qh(s,l,f){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(er,f)}catch{}switch(f.tag){case 5:ft||eo(f,l);case 6:var m=lt,x=Jt;lt=null,Un(s,l,f),lt=m,Jt=x,lt!==null&&(Jt?(s=lt,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):lt.removeChild(f.stateNode));break;case 18:lt!==null&&(Jt?(s=lt,f=f.stateNode,s.nodeType===8?$a(s.parentNode,f):s.nodeType===1&&$a(s,f),$o(s)):$a(lt,f.stateNode));break;case 4:m=lt,x=Jt,lt=f.stateNode.containerInfo,Jt=!0,Un(s,l,f),lt=m,Jt=x;break;case 0:case 11:case 14:case 15:if(!ft&&(m=f.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var _=x,S=_.destroy;_=_.tag,S!==void 0&&((_&2)!==0||(_&4)!==0)&&Nu(f,l,S),x=x.next}while(x!==m)}Un(s,l,f);break;case 1:if(!ft&&(eo(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=f.memoizedProps,m.state=f.memoizedState,m.componentWillUnmount()}catch(k){We(f,l,k)}Un(s,l,f);break;case 21:Un(s,l,f);break;case 22:f.mode&1?(ft=(m=ft)||f.memoizedState!==null,Un(s,l,f),ft=m):Un(s,l,f);break;default:Un(s,l,f)}}function Zh(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new O0),l.forEach(function(m){var x=Q0.bind(null,s,m);f.has(m)||(f.add(m),m.then(x,x))})}}function Yt(s,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var x=f[m];try{var _=s,S=l,k=S;e:for(;k!==null;){switch(k.tag){case 5:lt=k.stateNode,Jt=!1;break e;case 3:lt=k.stateNode.containerInfo,Jt=!0;break e;case 4:lt=k.stateNode.containerInfo,Jt=!0;break e}k=k.return}if(lt===null)throw Error(n(160));Qh(_,S,x),lt=null,Jt=!1;var I=x.alternate;I!==null&&(I.return=null),x.return=null}catch(B){We(x,l,B)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)ep(l,s),l=l.sibling}function ep(s,l){var f=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Yt(l,s),tn(s),m&4){try{fs(3,s,s.return),zr(3,s)}catch(oe){We(s,s.return,oe)}try{fs(5,s,s.return)}catch(oe){We(s,s.return,oe)}}break;case 1:Yt(l,s),tn(s),m&512&&f!==null&&eo(f,f.return);break;case 5:if(Yt(l,s),tn(s),m&512&&f!==null&&eo(f,f.return),s.flags&32){var x=s.stateNode;try{Ro(x,"")}catch(oe){We(s,s.return,oe)}}if(m&4&&(x=s.stateNode,x!=null)){var _=s.memoizedProps,S=f!==null?f.memoizedProps:_,k=s.type,I=s.updateQueue;if(s.updateQueue=null,I!==null)try{k==="input"&&_.type==="radio"&&_.name!=null&&kd(x,_),aa(k,S);var B=aa(k,_);for(S=0;S<I.length;S+=2){var $=I[S],G=I[S+1];$==="style"?Ld(x,G):$==="dangerouslySetInnerHTML"?Rd(x,G):$==="children"?Ro(x,G):R(x,$,G,B)}switch(k){case"input":ia(x,_);break;case"textarea":Id(x,_);break;case"select":var q=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!_.multiple;var ee=_.value;ee!=null?Ri(x,!!_.multiple,ee,!1):q!==!!_.multiple&&(_.defaultValue!=null?Ri(x,!!_.multiple,_.defaultValue,!0):Ri(x,!!_.multiple,_.multiple?[]:"",!1))}x[ts]=_}catch(oe){We(s,s.return,oe)}}break;case 6:if(Yt(l,s),tn(s),m&4){if(s.stateNode===null)throw Error(n(162));x=s.stateNode,_=s.memoizedProps;try{x.nodeValue=_}catch(oe){We(s,s.return,oe)}}break;case 3:if(Yt(l,s),tn(s),m&4&&f!==null&&f.memoizedState.isDehydrated)try{$o(l.containerInfo)}catch(oe){We(s,s.return,oe)}break;case 4:Yt(l,s),tn(s);break;case 13:Yt(l,s),tn(s),x=s.child,x.flags&8192&&(_=x.memoizedState!==null,x.stateNode.isHidden=_,!_||x.alternate!==null&&x.alternate.memoizedState!==null||(Du=je())),m&4&&Zh(s);break;case 22:if($=f!==null&&f.memoizedState!==null,s.mode&1?(ft=(B=ft)||$,Yt(l,s),ft=B):Yt(l,s),tn(s),m&8192){if(B=s.memoizedState!==null,(s.stateNode.isHidden=B)&&!$&&(s.mode&1)!==0)for(ne=s,$=s.child;$!==null;){for(G=ne=$;ne!==null;){switch(q=ne,ee=q.child,q.tag){case 0:case 11:case 14:case 15:fs(4,q,q.return);break;case 1:eo(q,q.return);var ie=q.stateNode;if(typeof ie.componentWillUnmount=="function"){m=q,f=q.return;try{l=m,ie.props=l.memoizedProps,ie.state=l.memoizedState,ie.componentWillUnmount()}catch(oe){We(m,f,oe)}}break;case 5:eo(q,q.return);break;case 22:if(q.memoizedState!==null){ip(G);continue}}ee!==null?(ee.return=q,ne=ee):ip(G)}$=$.sibling}e:for($=null,G=s;;){if(G.tag===5){if($===null){$=G;try{x=G.stateNode,B?(_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(k=G.stateNode,I=G.memoizedProps.style,S=I!=null&&I.hasOwnProperty("display")?I.display:null,k.style.display=Dd("display",S))}catch(oe){We(s,s.return,oe)}}}else if(G.tag===6){if($===null)try{G.stateNode.nodeValue=B?"":G.memoizedProps}catch(oe){We(s,s.return,oe)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===s)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===s)break e;for(;G.sibling===null;){if(G.return===null||G.return===s)break e;$===G&&($=null),G=G.return}$===G&&($=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Yt(l,s),tn(s),m&4&&Zh(s);break;case 21:break;default:Yt(l,s),tn(s)}}function tn(s){var l=s.flags;if(l&2){try{e:{for(var f=s.return;f!==null;){if(Kh(f)){var m=f;break e}f=f.return}throw Error(n(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(Ro(x,""),m.flags&=-33);var _=Xh(s);Pu(s,_,x);break;case 3:case 4:var S=m.stateNode.containerInfo,k=Xh(s);Iu(s,k,S);break;default:throw Error(n(161))}}catch(I){We(s,s.return,I)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function $0(s,l,f){ne=s,tp(s)}function tp(s,l,f){for(var m=(s.mode&1)!==0;ne!==null;){var x=ne,_=x.child;if(x.tag===22&&m){var S=x.memoizedState!==null||Hr;if(!S){var k=x.alternate,I=k!==null&&k.memoizedState!==null||ft;k=Hr;var B=ft;if(Hr=S,(ft=I)&&!B)for(ne=x;ne!==null;)S=ne,I=S.child,S.tag===22&&S.memoizedState!==null?op(x):I!==null?(I.return=S,ne=I):op(x);for(;_!==null;)ne=_,tp(_),_=_.sibling;ne=x,Hr=k,ft=B}np(s)}else(x.subtreeFlags&8772)!==0&&_!==null?(_.return=x,ne=_):np(s)}}function np(s){for(;ne!==null;){var l=ne;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:ft||zr(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!ft)if(f===null)m.componentDidMount();else{var x=l.elementType===l.type?f.memoizedProps:jt(l.type,f.memoizedProps);m.componentDidUpdate(x,f.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&ih(l,_,m);break;case 3:var S=l.updateQueue;if(S!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}ih(l,S,f)}break;case 5:var k=l.stateNode;if(f===null&&l.flags&4){f=k;var I=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&f.focus();break;case"img":I.src&&(f.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var B=l.alternate;if(B!==null){var $=B.memoizedState;if($!==null){var G=$.dehydrated;G!==null&&$o(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ft||l.flags&512&&bu(l)}catch(q){We(l,l.return,q)}}if(l===s){ne=null;break}if(f=l.sibling,f!==null){f.return=l.return,ne=f;break}ne=l.return}}function ip(s){for(;ne!==null;){var l=ne;if(l===s){ne=null;break}var f=l.sibling;if(f!==null){f.return=l.return,ne=f;break}ne=l.return}}function op(s){for(;ne!==null;){var l=ne;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{zr(4,l)}catch(I){We(l,f,I)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var x=l.return;try{m.componentDidMount()}catch(I){We(l,x,I)}}var _=l.return;try{bu(l)}catch(I){We(l,_,I)}break;case 5:var S=l.return;try{bu(l)}catch(I){We(l,S,I)}}}catch(I){We(l,l.return,I)}if(l===s){ne=null;break}var k=l.sibling;if(k!==null){k.return=l.return,ne=k;break}ne=l.return}}var G0=Math.ceil,Or=D.ReactCurrentDispatcher,Au=D.ReactCurrentOwner,Ut=D.ReactCurrentBatchConfig,Se=0,ot=null,Ke=null,at=0,Pt=0,to=An(0),et=0,hs=null,ui=0,qr=0,Ru=0,ps=null,_t=null,Du=0,no=1/0,gn=null,$r=!1,Lu=null,Vn=null,Gr=!1,Bn=null,Wr=0,ms=0,Fu=null,jr=-1,Jr=0;function yt(){return(Se&6)!==0?je():jr!==-1?jr:jr=je()}function Hn(s){return(s.mode&1)===0?1:(Se&2)!==0&&at!==0?at&-at:N0.transition!==null?(Jr===0&&(Jr=Kd()),Jr):(s=Ie,s!==0||(s=window.event,s=s===void 0?16:rf(s.type)),s)}function Kt(s,l,f,m){if(50<ms)throw ms=0,Fu=null,Error(n(185));Bo(s,f,m),((Se&2)===0||s!==ot)&&(s===ot&&((Se&2)===0&&(qr|=f),et===4&&zn(s,at)),Tt(s,m),f===1&&Se===0&&(l.mode&1)===0&&(no=je()+500,Tr&&Dn()))}function Tt(s,l){var f=s.callbackNode;Nx(s,l);var m=ir(s,s===ot?at:0);if(m===0)f!==null&&jd(f),s.callbackNode=null,s.callbackPriority=0;else if(l=m&-m,s.callbackPriority!==l){if(f!=null&&jd(f),l===1)s.tag===0?k0(rp.bind(null,s)):Gf(rp.bind(null,s)),S0(function(){(Se&6)===0&&Dn()}),f=null;else{switch(Xd(m)){case 1:f=ma;break;case 4:f=Jd;break;case 16:f=Zs;break;case 536870912:f=Yd;break;default:f=Zs}f=pp(f,sp.bind(null,s))}s.callbackPriority=l,s.callbackNode=f}}function sp(s,l){if(jr=-1,Jr=0,(Se&6)!==0)throw Error(n(327));var f=s.callbackNode;if(io()&&s.callbackNode!==f)return null;var m=ir(s,s===ot?at:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||l)l=Yr(s,m);else{l=m;var x=Se;Se|=2;var _=ap();(ot!==s||at!==l)&&(gn=null,no=je()+500,di(s,l));do try{J0();break}catch(k){lp(s,k)}while(!0);eu(),Or.current=_,Se=x,Ke!==null?l=0:(ot=null,at=0,l=et)}if(l!==0){if(l===2&&(x=ga(s),x!==0&&(m=x,l=Uu(s,x))),l===1)throw f=hs,di(s,0),zn(s,m),Tt(s,je()),f;if(l===6)zn(s,m);else{if(x=s.current.alternate,(m&30)===0&&!W0(x)&&(l=Yr(s,m),l===2&&(_=ga(s),_!==0&&(m=_,l=Uu(s,_))),l===1))throw f=hs,di(s,0),zn(s,m),Tt(s,je()),f;switch(s.finishedWork=x,s.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:fi(s,_t,gn);break;case 3:if(zn(s,m),(m&130023424)===m&&(l=Du+500-je(),10<l)){if(ir(s,0)!==0)break;if(x=s.suspendedLanes,(x&m)!==m){yt(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=qa(fi.bind(null,s,_t,gn),l);break}fi(s,_t,gn);break;case 4:if(zn(s,m),(m&4194240)===m)break;for(l=s.eventTimes,x=-1;0<m;){var S=31-$t(m);_=1<<S,S=l[S],S>x&&(x=S),m&=~_}if(m=x,m=je()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*G0(m/1960))-m,10<m){s.timeoutHandle=qa(fi.bind(null,s,_t,gn),m);break}fi(s,_t,gn);break;case 5:fi(s,_t,gn);break;default:throw Error(n(329))}}}return Tt(s,je()),s.callbackNode===f?sp.bind(null,s):null}function Uu(s,l){var f=ps;return s.current.memoizedState.isDehydrated&&(di(s,l).flags|=256),s=Yr(s,l),s!==2&&(l=_t,_t=f,l!==null&&Vu(l)),s}function Vu(s){_t===null?_t=s:_t.push.apply(_t,s)}function W0(s){for(var l=s;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var m=0;m<f.length;m++){var x=f[m],_=x.getSnapshot;x=x.value;try{if(!Gt(_(),x))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function zn(s,l){for(l&=~Ru,l&=~qr,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var f=31-$t(l),m=1<<f;s[f]=-1,l&=~m}}function rp(s){if((Se&6)!==0)throw Error(n(327));io();var l=ir(s,0);if((l&1)===0)return Tt(s,je()),null;var f=Yr(s,l);if(s.tag!==0&&f===2){var m=ga(s);m!==0&&(l=m,f=Uu(s,m))}if(f===1)throw f=hs,di(s,0),zn(s,l),Tt(s,je()),f;if(f===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,fi(s,_t,gn),Tt(s,je()),null}function Bu(s,l){var f=Se;Se|=1;try{return s(l)}finally{Se=f,Se===0&&(no=je()+500,Tr&&Dn())}}function ci(s){Bn!==null&&Bn.tag===0&&(Se&6)===0&&io();var l=Se;Se|=1;var f=Ut.transition,m=Ie;try{if(Ut.transition=null,Ie=1,s)return s()}finally{Ie=m,Ut.transition=f,Se=l,(Se&6)===0&&Dn()}}function Hu(){Pt=to.current,Ue(to)}function di(s,l){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,T0(f)),Ke!==null)for(f=Ke.return;f!==null;){var m=f;switch(Ya(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Cr();break;case 3:Qi(),Ue(vt),Ue(ut),au();break;case 5:ru(m);break;case 4:Qi();break;case 13:Ue(qe);break;case 19:Ue(qe);break;case 10:tu(m.type._context);break;case 22:case 23:Hu()}f=f.return}if(ot=s,Ke=s=On(s.current,null),at=Pt=l,et=0,hs=null,Ru=qr=ui=0,_t=ps=null,ri!==null){for(l=0;l<ri.length;l++)if(f=ri[l],m=f.interleaved,m!==null){f.interleaved=null;var x=m.next,_=f.pending;if(_!==null){var S=_.next;_.next=x,m.next=S}f.pending=m}ri=null}return s}function lp(s,l){do{var f=Ke;try{if(eu(),Ar.current=Fr,Rr){for(var m=$e.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Rr=!1}if(ai=0,it=Ze=$e=null,ls=!1,as=0,Au.current=null,f===null||f.return===null){et=1,hs=l,Ke=null;break}e:{var _=s,S=f.return,k=f,I=l;if(l=at,k.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var B=I,$=k,G=$.tag;if(($.mode&1)===0&&(G===0||G===11||G===15)){var q=$.alternate;q?($.updateQueue=q.updateQueue,$.memoizedState=q.memoizedState,$.lanes=q.lanes):($.updateQueue=null,$.memoizedState=null)}var ee=Ah(S);if(ee!==null){ee.flags&=-257,Rh(ee,S,k,_,l),ee.mode&1&&Ph(_,B,l),l=ee,I=B;var ie=l.updateQueue;if(ie===null){var oe=new Set;oe.add(I),l.updateQueue=oe}else ie.add(I);break e}else{if((l&1)===0){Ph(_,B,l),zu();break e}I=Error(n(426))}}else if(Oe&&k.mode&1){var Je=Ah(S);if(Je!==null){(Je.flags&65536)===0&&(Je.flags|=256),Rh(Je,S,k,_,l),Qa(Zi(I,k));break e}}_=I=Zi(I,k),et!==4&&(et=2),ps===null?ps=[_]:ps.push(_),_=S;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l;var U=bh(_,I,l);nh(_,U);break e;case 1:k=I;var A=_.type,V=_.stateNode;if((_.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Vn===null||!Vn.has(V)))){_.flags|=65536,l&=-l,_.lanes|=l;var j=Ih(_,k,l);nh(_,j);break e}}_=_.return}while(_!==null)}cp(f)}catch(se){l=se,Ke===f&&f!==null&&(Ke=f=f.return);continue}break}while(!0)}function ap(){var s=Or.current;return Or.current=Fr,s===null?Fr:s}function zu(){(et===0||et===3||et===2)&&(et=4),ot===null||(ui&268435455)===0&&(qr&268435455)===0||zn(ot,at)}function Yr(s,l){var f=Se;Se|=2;var m=ap();(ot!==s||at!==l)&&(gn=null,di(s,l));do try{j0();break}catch(x){lp(s,x)}while(!0);if(eu(),Se=f,Or.current=m,Ke!==null)throw Error(n(261));return ot=null,at=0,et}function j0(){for(;Ke!==null;)up(Ke)}function J0(){for(;Ke!==null&&!xx();)up(Ke)}function up(s){var l=hp(s.alternate,s,Pt);s.memoizedProps=s.pendingProps,l===null?cp(s):Ke=l,Au.current=null}function cp(s){var l=s;do{var f=l.alternate;if(s=l.return,(l.flags&32768)===0){if(f=H0(f,l,Pt),f!==null){Ke=f;return}}else{if(f=z0(f,l),f!==null){f.flags&=32767,Ke=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{et=6,Ke=null;return}}if(l=l.sibling,l!==null){Ke=l;return}Ke=l=s}while(l!==null);et===0&&(et=5)}function fi(s,l,f){var m=Ie,x=Ut.transition;try{Ut.transition=null,Ie=1,Y0(s,l,f,m)}finally{Ut.transition=x,Ie=m}return null}function Y0(s,l,f,m){do io();while(Bn!==null);if((Se&6)!==0)throw Error(n(327));f=s.finishedWork;var x=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var _=f.lanes|f.childLanes;if(bx(s,_),s===ot&&(Ke=ot=null,at=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Gr||(Gr=!0,pp(Zs,function(){return io(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=Ut.transition,Ut.transition=null;var S=Ie;Ie=1;var k=Se;Se|=4,Au.current=null,q0(s,f),ep(f,s),m0(za),rr=!!Ha,za=Ha=null,s.current=f,$0(f),Cx(),Se=k,Ie=S,Ut.transition=_}else s.current=f;if(Gr&&(Gr=!1,Bn=s,Wr=x),_=s.pendingLanes,_===0&&(Vn=null),Sx(f.stateNode),Tt(s,je()),l!==null)for(m=s.onRecoverableError,f=0;f<l.length;f++)x=l[f],m(x.value,{componentStack:x.stack,digest:x.digest});if($r)throw $r=!1,s=Lu,Lu=null,s;return(Wr&1)!==0&&s.tag!==0&&io(),_=s.pendingLanes,(_&1)!==0?s===Fu?ms++:(ms=0,Fu=s):ms=0,Dn(),null}function io(){if(Bn!==null){var s=Xd(Wr),l=Ut.transition,f=Ie;try{if(Ut.transition=null,Ie=16>s?16:s,Bn===null)var m=!1;else{if(s=Bn,Bn=null,Wr=0,(Se&6)!==0)throw Error(n(331));var x=Se;for(Se|=4,ne=s.current;ne!==null;){var _=ne,S=_.child;if((ne.flags&16)!==0){var k=_.deletions;if(k!==null){for(var I=0;I<k.length;I++){var B=k[I];for(ne=B;ne!==null;){var $=ne;switch($.tag){case 0:case 11:case 15:fs(8,$,_)}var G=$.child;if(G!==null)G.return=$,ne=G;else for(;ne!==null;){$=ne;var q=$.sibling,ee=$.return;if(Yh($),$===B){ne=null;break}if(q!==null){q.return=ee,ne=q;break}ne=ee}}}var ie=_.alternate;if(ie!==null){var oe=ie.child;if(oe!==null){ie.child=null;do{var Je=oe.sibling;oe.sibling=null,oe=Je}while(oe!==null)}}ne=_}}if((_.subtreeFlags&2064)!==0&&S!==null)S.return=_,ne=S;else e:for(;ne!==null;){if(_=ne,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:fs(9,_,_.return)}var U=_.sibling;if(U!==null){U.return=_.return,ne=U;break e}ne=_.return}}var A=s.current;for(ne=A;ne!==null;){S=ne;var V=S.child;if((S.subtreeFlags&2064)!==0&&V!==null)V.return=S,ne=V;else e:for(S=A;ne!==null;){if(k=ne,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:zr(9,k)}}catch(se){We(k,k.return,se)}if(k===S){ne=null;break e}var j=k.sibling;if(j!==null){j.return=k.return,ne=j;break e}ne=k.return}}if(Se=x,Dn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(er,s)}catch{}m=!0}return m}finally{Ie=f,Ut.transition=l}}return!1}function dp(s,l,f){l=Zi(f,l),l=bh(s,l,1),s=Fn(s,l,1),l=yt(),s!==null&&(Bo(s,1,l),Tt(s,l))}function We(s,l,f){if(s.tag===3)dp(s,s,f);else for(;l!==null;){if(l.tag===3){dp(l,s,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Vn===null||!Vn.has(m))){s=Zi(f,s),s=Ih(l,s,1),l=Fn(l,s,1),s=yt(),l!==null&&(Bo(l,1,s),Tt(l,s));break}}l=l.return}}function K0(s,l,f){var m=s.pingCache;m!==null&&m.delete(l),l=yt(),s.pingedLanes|=s.suspendedLanes&f,ot===s&&(at&f)===f&&(et===4||et===3&&(at&130023424)===at&&500>je()-Du?di(s,0):Ru|=f),Tt(s,l)}function fp(s,l){l===0&&((s.mode&1)===0?l=1:(l=nr,nr<<=1,(nr&130023424)===0&&(nr=4194304)));var f=yt();s=hn(s,l),s!==null&&(Bo(s,l,f),Tt(s,f))}function X0(s){var l=s.memoizedState,f=0;l!==null&&(f=l.retryLane),fp(s,f)}function Q0(s,l){var f=0;switch(s.tag){case 13:var m=s.stateNode,x=s.memoizedState;x!==null&&(f=x.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),fp(s,f)}var hp;hp=function(s,l,f){if(s!==null)if(s.memoizedProps!==l.pendingProps||vt.current)Ct=!0;else{if((s.lanes&f)===0&&(l.flags&128)===0)return Ct=!1,B0(s,l,f);Ct=(s.flags&131072)!==0}else Ct=!1,Oe&&(l.flags&1048576)!==0&&Wf(l,wr,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;Br(s,l),s=l.pendingProps;var x=Gi(l,ut.current);Xi(l,f),x=du(null,l,m,s,x,f);var _=fu();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,xt(m)?(_=!0,_r(l)):_=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,ou(l),x.updater=Ur,l.stateNode=x,x._reactInternals=l,vu(l,m,s,f),l=Tu(null,l,m,!0,_,f)):(l.tag=0,Oe&&_&&Ja(l),gt(null,l,x,f),l=l.child),l;case 16:m=l.elementType;e:{switch(Br(s,l),s=l.pendingProps,x=m._init,m=x(m._payload),l.type=m,x=l.tag=eC(m),s=jt(m,s),x){case 0:l=_u(null,l,m,s,f);break e;case 1:l=Bh(null,l,m,s,f);break e;case 11:l=Dh(null,l,m,s,f);break e;case 14:l=Lh(null,l,m,jt(m.type,s),f);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:jt(m,x),_u(s,l,m,x,f);case 1:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:jt(m,x),Bh(s,l,m,x,f);case 3:e:{if(Hh(l),s===null)throw Error(n(387));m=l.pendingProps,_=l.memoizedState,x=_.element,th(s,l),Ir(l,m,null,f);var S=l.memoizedState;if(m=S.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){x=Zi(Error(n(423)),l),l=zh(s,l,m,f,x);break e}else if(m!==x){x=Zi(Error(n(424)),l),l=zh(s,l,m,f,x);break e}else for(It=Pn(l.stateNode.containerInfo.firstChild),bt=l,Oe=!0,Wt=null,f=Zf(l,null,m,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ji(),m===x){l=mn(s,l,f);break e}gt(s,l,m,f)}l=l.child}return l;case 5:return oh(l),s===null&&Xa(l),m=l.type,x=l.pendingProps,_=s!==null?s.memoizedProps:null,S=x.children,Oa(m,x)?S=null:_!==null&&Oa(m,_)&&(l.flags|=32),Vh(s,l),gt(s,l,S,f),l.child;case 6:return s===null&&Xa(l),null;case 13:return Oh(s,l,f);case 4:return su(l,l.stateNode.containerInfo),m=l.pendingProps,s===null?l.child=Yi(l,null,m,f):gt(s,l,m,f),l.child;case 11:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:jt(m,x),Dh(s,l,m,x,f);case 7:return gt(s,l,l.pendingProps,f),l.child;case 8:return gt(s,l,l.pendingProps.children,f),l.child;case 12:return gt(s,l,l.pendingProps.children,f),l.child;case 10:e:{if(m=l.type._context,x=l.pendingProps,_=l.memoizedProps,S=x.value,Le(kr,m._currentValue),m._currentValue=S,_!==null)if(Gt(_.value,S)){if(_.children===x.children&&!vt.current){l=mn(s,l,f);break e}}else for(_=l.child,_!==null&&(_.return=l);_!==null;){var k=_.dependencies;if(k!==null){S=_.child;for(var I=k.firstContext;I!==null;){if(I.context===m){if(_.tag===1){I=pn(-1,f&-f),I.tag=2;var B=_.updateQueue;if(B!==null){B=B.shared;var $=B.pending;$===null?I.next=I:(I.next=$.next,$.next=I),B.pending=I}}_.lanes|=f,I=_.alternate,I!==null&&(I.lanes|=f),nu(_.return,f,l),k.lanes|=f;break}I=I.next}}else if(_.tag===10)S=_.type===l.type?null:_.child;else if(_.tag===18){if(S=_.return,S===null)throw Error(n(341));S.lanes|=f,k=S.alternate,k!==null&&(k.lanes|=f),nu(S,f,l),S=_.sibling}else S=_.child;if(S!==null)S.return=_;else for(S=_;S!==null;){if(S===l){S=null;break}if(_=S.sibling,_!==null){_.return=S.return,S=_;break}S=S.return}_=S}gt(s,l,x.children,f),l=l.child}return l;case 9:return x=l.type,m=l.pendingProps.children,Xi(l,f),x=Lt(x),m=m(x),l.flags|=1,gt(s,l,m,f),l.child;case 14:return m=l.type,x=jt(m,l.pendingProps),x=jt(m.type,x),Lh(s,l,m,x,f);case 15:return Fh(s,l,l.type,l.pendingProps,f);case 17:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:jt(m,x),Br(s,l),l.tag=1,xt(m)?(s=!0,_r(l)):s=!1,Xi(l,f),kh(l,m,x),vu(l,m,x,f),Tu(null,l,m,!0,s,f);case 19:return $h(s,l,f);case 22:return Uh(s,l,f)}throw Error(n(156,l.tag))};function pp(s,l){return Wd(s,l)}function Z0(s,l,f,m){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(s,l,f,m){return new Z0(s,l,f,m)}function Ou(s){return s=s.prototype,!(!s||!s.isReactComponent)}function eC(s){if(typeof s=="function")return Ou(s)?1:0;if(s!=null){if(s=s.$$typeof,s===le)return 11;if(s===de)return 14}return 2}function On(s,l){var f=s.alternate;return f===null?(f=Vt(s.tag,l,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=l,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,l=s.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function Kr(s,l,f,m,x,_){var S=2;if(m=s,typeof s=="function")Ou(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case O:return hi(f.children,x,_,l);case J:S=8,x|=8;break;case W:return s=Vt(12,f,l,x|2),s.elementType=W,s.lanes=_,s;case Te:return s=Vt(13,f,l,x),s.elementType=Te,s.lanes=_,s;case Ae:return s=Vt(19,f,l,x),s.elementType=Ae,s.lanes=_,s;case ge:return Xr(f,x,_,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Q:S=10;break e;case X:S=9;break e;case le:S=11;break e;case de:S=14;break e;case ye:S=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=Vt(S,f,l,x),l.elementType=s,l.type=m,l.lanes=_,l}function hi(s,l,f,m){return s=Vt(7,s,m,l),s.lanes=f,s}function Xr(s,l,f,m){return s=Vt(22,s,m,l),s.elementType=ge,s.lanes=f,s.stateNode={isHidden:!1},s}function qu(s,l,f){return s=Vt(6,s,null,l),s.lanes=f,s}function $u(s,l,f){return l=Vt(4,s.children!==null?s.children:[],s.key,l),l.lanes=f,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function tC(s,l,f,m,x){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ya(0),this.expirationTimes=ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Gu(s,l,f,m,x,_,S,k,I){return s=new tC(s,l,f,k,I),l===1?(l=1,_===!0&&(l|=8)):l=0,_=Vt(3,null,null,l),s.current=_,_.stateNode=s,_.memoizedState={element:m,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},ou(_),s}function nC(s,l,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:m==null?null:""+m,children:s,containerInfo:l,implementation:f}}function mp(s){if(!s)return Rn;s=s._reactInternals;e:{if(ti(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(xt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var f=s.type;if(xt(f))return qf(s,f,l)}return l}function gp(s,l,f,m,x,_,S,k,I){return s=Gu(f,m,!0,s,x,_,S,k,I),s.context=mp(null),f=s.current,m=yt(),x=Hn(f),_=pn(m,x),_.callback=l??null,Fn(f,_,x),s.current.lanes=x,Bo(s,x,m),Tt(s,m),s}function Qr(s,l,f,m){var x=l.current,_=yt(),S=Hn(x);return f=mp(f),l.context===null?l.context=f:l.pendingContext=f,l=pn(_,S),l.payload={element:s},m=m===void 0?null:m,m!==null&&(l.callback=m),s=Fn(x,l,S),s!==null&&(Kt(s,x,S,_),br(s,x,S)),S}function Zr(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function yp(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<l?f:l}}function Wu(s,l){yp(s,l),(s=s.alternate)&&yp(s,l)}function iC(){return null}var vp=typeof reportError=="function"?reportError:function(s){console.error(s)};function ju(s){this._internalRoot=s}el.prototype.render=ju.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));Qr(s,l,null,null)},el.prototype.unmount=ju.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;ci(function(){Qr(null,s,null,null)}),l[un]=null}};function el(s){this._internalRoot=s}el.prototype.unstable_scheduleHydration=function(s){if(s){var l=ef();s={blockedOn:null,target:s,priority:l};for(var f=0;f<Nn.length&&l!==0&&l<Nn[f].priority;f++);Nn.splice(f,0,s),f===0&&of(s)}};function Ju(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function tl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function xp(){}function oC(s,l,f,m,x){if(x){if(typeof m=="function"){var _=m;m=function(){var B=Zr(S);_.call(B)}}var S=gp(l,m,s,0,null,!1,!1,"",xp);return s._reactRootContainer=S,s[un]=S.current,Zo(s.nodeType===8?s.parentNode:s),ci(),S}for(;x=s.lastChild;)s.removeChild(x);if(typeof m=="function"){var k=m;m=function(){var B=Zr(I);k.call(B)}}var I=Gu(s,0,!1,null,null,!1,!1,"",xp);return s._reactRootContainer=I,s[un]=I.current,Zo(s.nodeType===8?s.parentNode:s),ci(function(){Qr(l,I,f,m)}),I}function nl(s,l,f,m,x){var _=f._reactRootContainer;if(_){var S=_;if(typeof x=="function"){var k=x;x=function(){var I=Zr(S);k.call(I)}}Qr(l,S,s,x)}else S=oC(f,l,s,x,m);return Zr(S)}Qd=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var f=Vo(l.pendingLanes);f!==0&&(va(l,f|1),Tt(l,je()),(Se&6)===0&&(no=je()+500,Dn()))}break;case 13:ci(function(){var m=hn(s,1);if(m!==null){var x=yt();Kt(m,s,1,x)}}),Wu(s,1)}},xa=function(s){if(s.tag===13){var l=hn(s,134217728);if(l!==null){var f=yt();Kt(l,s,134217728,f)}Wu(s,134217728)}},Zd=function(s){if(s.tag===13){var l=Hn(s),f=hn(s,l);if(f!==null){var m=yt();Kt(f,s,l,m)}Wu(s,l)}},ef=function(){return Ie},tf=function(s,l){var f=Ie;try{return Ie=s,l()}finally{Ie=f}},da=function(s,l,f){switch(l){case"input":if(ia(s,f),l=f.name,f.type==="radio"&&l!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var m=f[l];if(m!==s&&m.form===s.form){var x=xr(m);if(!x)throw Error(n(90));Ed(m),ia(m,x)}}}break;case"textarea":Id(s,f);break;case"select":l=f.value,l!=null&&Ri(s,!!f.multiple,l,!1)}},Bd=Bu,Hd=ci;var sC={usingClientEntryPoint:!1,Events:[ns,qi,xr,Ud,Vd,Bu]},gs={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rC={bundleType:gs.bundleType,version:gs.version,rendererPackageName:gs.rendererPackageName,rendererConfig:gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=$d(s),s===null?null:s.stateNode},findFiberByHostInstance:gs.findFiberByHostInstance||iC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{er=il.inject(rC),Xt=il}catch{}}return St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sC,St.createPortal=function(s,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ju(l))throw Error(n(200));return nC(s,l,null,f)},St.createRoot=function(s,l){if(!Ju(s))throw Error(n(299));var f=!1,m="",x=vp;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=Gu(s,1,!1,null,null,f,!1,m,x),s[un]=l.current,Zo(s.nodeType===8?s.parentNode:s),new ju(l)},St.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=$d(l),s=s===null?null:s.stateNode,s},St.flushSync=function(s){return ci(s)},St.hydrate=function(s,l,f){if(!tl(l))throw Error(n(200));return nl(null,s,l,!0,f)},St.hydrateRoot=function(s,l,f){if(!Ju(s))throw Error(n(405));var m=f!=null&&f.hydratedSources||null,x=!1,_="",S=vp;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(S=f.onRecoverableError)),l=gp(l,null,s,1,f??null,x,!1,_,S),s[un]=l.current,Zo(s),m)for(s=0;s<m.length;s++)f=m[s],x=f._getVersion,x=x(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,x]:l.mutableSourceEagerHydrationData.push(f,x);return new el(l)},St.render=function(s,l,f){if(!tl(l))throw Error(n(200));return nl(null,s,l,!1,f)},St.unmountComponentAtNode=function(s){if(!tl(s))throw Error(n(40));return s._reactRootContainer?(ci(function(){nl(null,null,s,!1,function(){s._reactRootContainer=null,s[un]=null})}),!0):!1},St.unstable_batchedUpdates=Bu,St.unstable_renderSubtreeIntoContainer=function(s,l,f,m){if(!tl(f))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return nl(s,l,f,!1,m)},St.version="18.3.1-next-f1338f8080-20240426",St}var kp;function _y(){if(kp)return Xu.exports;kp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xu.exports=yC(),Xu.exports}var Np;function vC(){if(Np)return ol;Np=1;var t=_y();return ol.createRoot=t.createRoot,ol.hydrateRoot=t.hydrateRoot,ol}var xC=vC();const CC=Cy(xC);_y();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ds(){return Ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ds.apply(this,arguments)}var Gn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gn||(Gn={}));const bp="popstate";function _C(t){t===void 0&&(t={});function e(o,r){let{pathname:a="/",search:d="",hash:h=""}=Ii(o.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),vc("",{pathname:a,search:d,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(o,r){let a=o.document.querySelector("base"),d="";if(a&&a.getAttribute("href")){let h=o.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof r=="string"?r:bl(r))}function i(o,r){Gc(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(r)+")")}return SC(e,n,i,t)}function Ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TC(){return Math.random().toString(36).substr(2,8)}function Ip(t,e){return{usr:t.state,key:t.key,idx:e}}function vc(t,e,n,i){return n===void 0&&(n=null),Ds({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ii(e):e,{state:n,key:e&&e.key||i||TC()})}function bl(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function SC(t,e,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:r=!1}=i,a=o.history,d=Gn.Pop,h=null,p=g();p==null&&(p=0,a.replaceState(Ds({},a.state,{idx:p}),""));function g(){return(a.state||{idx:null}).idx}function v(){d=Gn.Pop;let M=g(),b=M==null?null:M-p;p=M,h&&h({action:d,location:E.location,delta:b})}function C(M,b){d=Gn.Push;let P=vc(E.location,M,b);n&&n(P,M),p=g()+1;let R=Ip(P,p),D=E.createHref(P);try{a.pushState(R,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(D)}r&&h&&h({action:d,location:E.location,delta:1})}function T(M,b){d=Gn.Replace;let P=vc(E.location,M,b);n&&n(P,M),p=g();let R=Ip(P,p),D=E.createHref(P);a.replaceState(R,"",D),r&&h&&h({action:d,location:E.location,delta:0})}function w(M){let b=o.location.origin!=="null"?o.location.origin:o.location.href,P=typeof M=="string"?M:bl(M);return P=P.replace(/ $/,"%20"),Ge(b,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,b)}let E={get action(){return d},get location(){return t(o,a)},listen(M){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(bp,v),h=M,()=>{o.removeEventListener(bp,v),h=null}},createHref(M){return e(o,M)},createURL:w,encodeLocation(M){let b=w(M);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:C,replace:T,go(M){return a.go(M)}};return E}var Pp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pp||(Pp={}));function wC(t,e,n){return n===void 0&&(n="/"),EC(t,e,n)}function EC(t,e,n,i){let o=typeof e=="string"?Ii(e):e,r=_o(o.pathname||"/",n);if(r==null)return null;let a=Ty(t);MC(a);let d=null;for(let h=0;d==null&&h<a.length;++h){let p=UC(r);d=LC(a[h],p)}return d}function Ty(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(r,a,d)=>{let h={relativePath:d===void 0?r.path||"":d,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};h.relativePath.startsWith("/")&&(Ge(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let p=Yn([i,h.relativePath]),g=n.concat(h);r.children&&r.children.length>0&&(Ge(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Ty(r.children,e,g,p)),!(r.path==null&&!r.index)&&e.push({path:p,score:RC(p,r.index),routesMeta:g})};return t.forEach((r,a)=>{var d;if(r.path===""||!((d=r.path)!=null&&d.includes("?")))o(r,a);else for(let h of Sy(r.path))o(r,a,h)}),e}function Sy(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return o?[r,""]:[r];let a=Sy(i.join("/")),d=[];return d.push(...a.map(h=>h===""?r:[r,h].join("/"))),o&&d.push(...a),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function MC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const kC=/^:[\w-]+$/,NC=3,bC=2,IC=1,PC=10,AC=-2,Ap=t=>t==="*";function RC(t,e){let n=t.split("/"),i=n.length;return n.some(Ap)&&(i+=AC),e&&(i+=bC),n.filter(o=>!Ap(o)).reduce((o,r)=>o+(kC.test(r)?NC:r===""?IC:PC),i)}function DC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function LC(t,e,n){let{routesMeta:i}=t,o={},r="/",a=[];for(let d=0;d<i.length;++d){let h=i[d],p=d===i.length-1,g=r==="/"?e:e.slice(r.length)||"/",v=xc({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),C=h.route;if(!v)return null;Object.assign(o,v.params),a.push({params:o,pathname:Yn([r,v.pathname]),pathnameBase:zC(Yn([r,v.pathnameBase])),route:C}),v.pathnameBase!=="/"&&(r=Yn([r,v.pathnameBase]))}return a}function xc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=FC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let r=o[0],a=r.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,g,v)=>{let{paramName:C,isOptional:T}=g;if(C==="*"){let E=d[v]||"";a=r.slice(0,r.length-E.length).replace(/(.)\/+$/,"$1")}const w=d[v];return T&&!w?p[C]=void 0:p[C]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:r,pathnameBase:a,pattern:t}}function FC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function UC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _o(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function VC(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Ii(t):t;return{pathname:n?n.startsWith("/")?n:BC(n,e):e,search:OC(i),hash:qC(o)}}function BC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ec(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wc(t,e){let n=HC(t);return e?n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function jc(t,e,n,i){i===void 0&&(i=!1);let o;typeof t=="string"?o=Ii(t):(o=Ds({},t),Ge(!o.pathname||!o.pathname.includes("?"),ec("?","pathname","search",o)),Ge(!o.pathname||!o.pathname.includes("#"),ec("#","pathname","hash",o)),Ge(!o.search||!o.search.includes("#"),ec("#","search","hash",o)));let r=t===""||o.pathname==="",a=r?"/":o.pathname,d;if(a==null)d=n;else{let v=e.length-1;if(!i&&a.startsWith("..")){let C=a.split("/");for(;C[0]==="..";)C.shift(),v-=1;o.pathname=C.join("/")}d=v>=0?e[v]:"/"}let h=VC(o,d),p=a&&a!=="/"&&a.endsWith("/"),g=(r||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}const Yn=t=>t.join("/").replace(/\/\/+/g,"/"),zC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $C(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wy=["post","put","patch","delete"];new Set(wy);const GC=["get",...wy];new Set(GC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ls.apply(this,arguments)}const $l=N.createContext(null),Ey=N.createContext(null),Sn=N.createContext(null),Gl=N.createContext(null),rn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),My=N.createContext(null);function WC(t,e){let{relative:n}=e===void 0?{}:e;So()||Ge(!1);let{basename:i,navigator:o}=N.useContext(Sn),{hash:r,pathname:a,search:d}=Wl(t,{relative:n}),h=a;return i!=="/"&&(h=a==="/"?i:Yn([i,a])),o.createHref({pathname:h,search:d,hash:r})}function So(){return N.useContext(Gl)!=null}function ln(){return So()||Ge(!1),N.useContext(Gl).location}function ky(t){N.useContext(Sn).static||N.useLayoutEffect(t)}function Zn(){let{isDataRoute:t}=N.useContext(rn);return t?l_():jC()}function jC(){So()||Ge(!1);let t=N.useContext($l),{basename:e,future:n,navigator:i}=N.useContext(Sn),{matches:o}=N.useContext(rn),{pathname:r}=ln(),a=JSON.stringify(Wc(o,n.v7_relativeSplatPath)),d=N.useRef(!1);return ky(()=>{d.current=!0}),N.useCallback(function(p,g){if(g===void 0&&(g={}),!d.current)return;if(typeof p=="number"){i.go(p);return}let v=jc(p,JSON.parse(a),r,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Yn([e,v.pathname])),(g.replace?i.replace:i.push)(v,g.state,g)},[e,i,a,r,t])}const JC=N.createContext(null);function YC(t){let e=N.useContext(rn).outlet;return e&&N.createElement(JC.Provider,{value:t},e)}function Jc(){let{matches:t}=N.useContext(rn),e=t[t.length-1];return e?e.params:{}}function Wl(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=N.useContext(Sn),{matches:o}=N.useContext(rn),{pathname:r}=ln(),a=JSON.stringify(Wc(o,i.v7_relativeSplatPath));return N.useMemo(()=>jc(t,JSON.parse(a),r,n==="path"),[t,a,r,n])}function KC(t,e){return XC(t,e)}function XC(t,e,n,i){So()||Ge(!1);let{navigator:o}=N.useContext(Sn),{matches:r}=N.useContext(rn),a=r[r.length-1],d=a?a.params:{};a&&a.pathname;let h=a?a.pathnameBase:"/";a&&a.route;let p=ln(),g;if(e){var v;let M=typeof e=="string"?Ii(e):e;h==="/"||(v=M.pathname)!=null&&v.startsWith(h)||Ge(!1),g=M}else g=p;let C=g.pathname||"/",T=C;if(h!=="/"){let M=h.replace(/^\//,"").split("/");T="/"+C.replace(/^\//,"").split("/").slice(M.length).join("/")}let w=wC(t,{pathname:T}),E=n_(w&&w.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Yn([h,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?h:Yn([h,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),r,n,i);return e&&E?N.createElement(Gl.Provider,{value:{location:Ls({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Gn.Pop}},E):E}function QC(){let t=r_(),e=$C(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:o},n):null,null)}const ZC=N.createElement(QC,null);class e_ extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(rn.Provider,{value:this.props.routeContext},N.createElement(My.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t_(t){let{routeContext:e,match:n,children:i}=t,o=N.useContext($l);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(rn.Provider,{value:e},i)}function n_(t,e,n,i){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=i)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,d=(o=n)==null?void 0:o.errors;if(d!=null){let g=a.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);g>=0||Ge(!1),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,p=-1;if(n&&i&&i.v7_partialHydration)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:C,errors:T}=n,w=v.route.loader&&C[v.route.id]===void 0&&(!T||T[v.route.id]===void 0);if(v.route.lazy||w){h=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((g,v,C)=>{let T,w=!1,E=null,M=null;n&&(T=d&&v.route.id?d[v.route.id]:void 0,E=v.route.errorElement||ZC,h&&(p<0&&C===0?(a_("route-fallback"),w=!0,M=null):p===C&&(w=!0,M=v.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,C+1)),P=()=>{let R;return T?R=E:w?R=M:v.route.Component?R=N.createElement(v.route.Component,null):v.route.element?R=v.route.element:R=g,N.createElement(t_,{match:v,routeContext:{outlet:g,matches:b,isDataRoute:n!=null},children:R})};return n&&(v.route.ErrorBoundary||v.route.errorElement||C===0)?N.createElement(e_,{location:n.location,revalidation:n.revalidation,component:E,error:T,children:P(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):P()},null)}var Ny=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Ny||{}),by=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(by||{});function i_(t){let e=N.useContext($l);return e||Ge(!1),e}function o_(t){let e=N.useContext(Ey);return e||Ge(!1),e}function s_(t){let e=N.useContext(rn);return e||Ge(!1),e}function Iy(t){let e=s_(),n=e.matches[e.matches.length-1];return n.route.id||Ge(!1),n.route.id}function r_(){var t;let e=N.useContext(My),n=o_(),i=Iy();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function l_(){let{router:t}=i_(Ny.UseNavigateStable),e=Iy(by.UseNavigateStable),n=N.useRef(!1);return ky(()=>{n.current=!0}),N.useCallback(function(o,r){r===void 0&&(r={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Ls({fromRouteId:e},r)))},[t,e])}const Rp={};function a_(t,e,n){Rp[t]||(Rp[t]=!0)}function u_(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vs(t){let{to:e,replace:n,state:i,relative:o}=t;So()||Ge(!1);let{future:r,static:a}=N.useContext(Sn),{matches:d}=N.useContext(rn),{pathname:h}=ln(),p=Zn(),g=jc(e,Wc(d,r.v7_relativeSplatPath),h,o==="path"),v=JSON.stringify(g);return N.useEffect(()=>p(JSON.parse(v),{replace:n,state:i,relative:o}),[p,v,o,n,i]),null}function tc(t){return YC(t.context)}function Re(t){Ge(!1)}function c_(t){let{basename:e="/",children:n=null,location:i,navigationType:o=Gn.Pop,navigator:r,static:a=!1,future:d}=t;So()&&Ge(!1);let h=e.replace(/^\/*/,"/"),p=N.useMemo(()=>({basename:h,navigator:r,static:a,future:Ls({v7_relativeSplatPath:!1},d)}),[h,d,r,a]);typeof i=="string"&&(i=Ii(i));let{pathname:g="/",search:v="",hash:C="",state:T=null,key:w="default"}=i,E=N.useMemo(()=>{let M=_o(g,h);return M==null?null:{location:{pathname:M,search:v,hash:C,state:T,key:w},navigationType:o}},[h,g,v,C,T,w,o]);return E==null?null:N.createElement(Sn.Provider,{value:p},N.createElement(Gl.Provider,{children:n,value:E}))}function d_(t){let{children:e,location:n}=t;return KC(Cc(e),n)}new Promise(()=>{});function Cc(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(i,o)=>{if(!N.isValidElement(i))return;let r=[...e,o];if(i.type===N.Fragment){n.push.apply(n,Cc(i.props.children,r));return}i.type!==Re&&Ge(!1),!i.props.index||!i.props.children||Ge(!1);let a={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Cc(i.props.children,r)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Il.apply(this,arguments)}function Py(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,r;for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function f_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function h_(t,e){return t.button===0&&(!e||e==="_self")&&!f_(t)}const p_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g_="6";try{window.__reactRouterVersion=g_}catch{}const y_=N.createContext({isTransitioning:!1}),v_="startTransition",Dp=pC[v_];function x_(t){let{basename:e,children:n,future:i,window:o}=t,r=N.useRef();r.current==null&&(r.current=_C({window:o,v5Compat:!0}));let a=r.current,[d,h]=N.useState({action:a.action,location:a.location}),{v7_startTransition:p}=i||{},g=N.useCallback(v=>{p&&Dp?Dp(()=>h(v)):h(v)},[h,p]);return N.useLayoutEffect(()=>a.listen(g),[a,g]),N.useEffect(()=>u_(i),[i]),N.createElement(c_,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:a,future:i})}const C_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",__=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ei=N.forwardRef(function(e,n){let{onClick:i,relative:o,reloadDocument:r,replace:a,state:d,target:h,to:p,preventScrollReset:g,viewTransition:v}=e,C=Py(e,p_),{basename:T}=N.useContext(Sn),w,E=!1;if(typeof p=="string"&&__.test(p)&&(w=p,C_))try{let R=new URL(window.location.href),D=p.startsWith("//")?new URL(R.protocol+p):new URL(p),L=_o(D.pathname,T);D.origin===R.origin&&L!=null?p=L+D.search+D.hash:E=!0}catch{}let M=WC(p,{relative:o}),b=S_(p,{replace:a,state:d,target:h,preventScrollReset:g,relative:o,viewTransition:v});function P(R){i&&i(R),R.defaultPrevented||b(R)}return N.createElement("a",Il({},C,{href:w||M,onClick:E||r?i:P,ref:n,target:h}))}),rt=N.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:o=!1,className:r="",end:a=!1,style:d,to:h,viewTransition:p,children:g}=e,v=Py(e,m_),C=Wl(h,{relative:v.relative}),T=ln(),w=N.useContext(Ey),{navigator:E,basename:M}=N.useContext(Sn),b=w!=null&&w_(C)&&p===!0,P=E.encodeLocation?E.encodeLocation(C).pathname:C.pathname,R=T.pathname,D=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;o||(R=R.toLowerCase(),D=D?D.toLowerCase():null,P=P.toLowerCase()),D&&M&&(D=_o(D,M)||D);const L=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let H=R===P||!a&&R.startsWith(P)&&R.charAt(L)==="/",O=D!=null&&(D===P||!a&&D.startsWith(P)&&D.charAt(P.length)==="/"),J={isActive:H,isPending:O,isTransitioning:b},W=H?i:void 0,Q;typeof r=="function"?Q=r(J):Q=[r,H?"active":null,O?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let X=typeof d=="function"?d(J):d;return N.createElement(Ei,Il({},v,{"aria-current":W,className:Q,ref:n,style:X,to:h,viewTransition:p}),typeof g=="function"?g(J):g)});var _c;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_c||(_c={}));var Lp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Lp||(Lp={}));function T_(t){let e=N.useContext($l);return e||Ge(!1),e}function S_(t,e){let{target:n,replace:i,state:o,preventScrollReset:r,relative:a,viewTransition:d}=e===void 0?{}:e,h=Zn(),p=ln(),g=Wl(t,{relative:a});return N.useCallback(v=>{if(h_(v,n)){v.preventDefault();let C=i!==void 0?i:bl(p)===bl(g);h(t,{replace:C,state:o,preventScrollReset:r,relative:a,viewTransition:d})}},[p,h,g,i,o,n,t,r,a,d])}function w_(t,e){e===void 0&&(e={});let n=N.useContext(y_);n==null&&Ge(!1);let{basename:i}=T_(_c.useViewTransitionState),o=Wl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let r=_o(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=_o(n.nextLocation.pathname,i)||n.nextLocation.pathname;return xc(o.pathname,a)!=null||xc(o.pathname,r)!=null}const E_=[{id:"poi-1",name:"Pedra do Segredo",description:"Formação rochosa icônica com vista panorâmica.",longDescription:"A Pedra do Segredo é um dos mais belos e misteriosos pontos turísticos de Caçapava do Sul. A subida é recompensada com uma vista de 360 graus da região, perfeita para fotos e contemplação.",imageUrl:"https://i.ytimg.com/vi/bYf2-T20W0g/maxresdefault.jpg",points:25,lat:-30.5694,lng:-53.4913},{id:"poi-2",name:"Minas do Camaquã",description:"Complexo mineiro histórico e paisagens deslumbrantes.",longDescription:"Explore as ruínas do maior complexo de mineração de cobre do Brasil. O local oferece uma viagem no tempo, com prédios antigos, equipamentos e uma paisagem única moldada pela atividade mineradora.",imageUrl:"https://www.minasdocamaqua.com.br/wp-content/uploads/2019/08/Pr%C3%A9dio-do-escrit%C3%B3rio-da-CBC-1.jpg",points:30,lat:-30.7303,lng:-53.7664},{id:"poi-3",name:"Cascata do Salso",description:"Queda d'água refrescante em meio à natureza.",longDescription:"Uma bela cascata de fácil acesso, ideal para um banho refrescante nos dias quentes. O som da água e a vegetação ao redor criam um ambiente perfeito para relaxar e se conectar com a natureza.",imageUrl:"https://media-cdn.tripadvisor.com/media/photo-s/0d/18/0a/73/cascata-do-salso.jpg",points:20,lat:-30.5054,lng:-53.4116},{id:"poi-4",name:"Forte Dom Pedro II",description:"Marco histórico da Revolução Farroupilha.",longDescription:"Construído em 1848, o Forte Dom Pedro II é um importante sítio histórico. Suas muralhas de pedra contam histórias de batalhas e da importância estratégica de Caçapava do Sul no passado.",imageUrl:"https://live.staticflickr.com/832/42079148484_f04a796d8e_b.jpg",points:15,lat:-30.5144,lng:-53.4883},{id:"poi-5",name:"Casa de Ulhôa Cintra",description:"Centro de cultura e história local.",longDescription:"Este casarão histórico, antiga residência do Visconde de Jaguari, hoje abriga um centro cultural com exposições que narram a rica história de Caçapava do Sul e seus personagens ilustres.",imageUrl:"https://www.jornalfolhadacidade.com.br/img/noticias/casa-de-ulhoa-cintra-e-tema-de-audiencia-publica.jpg",points:10,lat:-30.515,lng:-53.4891},{id:"poi-6",name:"Igreja Matriz Nossa Sra. da Assunção",description:"Imponente igreja gótica no coração da cidade.",longDescription:"Com sua arquitetura gótica impressionante, a Igreja Matriz é um marco de fé e arte. Seus vitrais e detalhes arquitetônicos encantam visitantes e fiéis, sendo um dos cartões-postais da cidade.",imageUrl:"https://live.staticflickr.com/7120/7424597086_e5491104e7_b.jpg",points:10,lat:-30.5148,lng:-53.4899},{id:"poi-7",name:"Guaritas",description:"Formações rochosas que parecem sentinelas.",longDescription:"O Parque das Guaritas é um santuário geológico com formações de arenito que se assemelham a torres e guardiões. Um lugar de energia única, perfeito para trekking e observação de estrelas.",imageUrl:"https://www.cacapavadosul.rs.gov.br/arquivos/noticias/guaritas-uma-das-7-maravilhas-do-rs_16112022120026.jpeg",points:25,lat:-30.7397,lng:-53.4682},{id:"poi-8",name:"Churrascaria Rodeio",description:"O autêntico churrasco gaúcho.",longDescription:"Experimente o verdadeiro sabor do pampa na Churrascaria Rodeio. Com cortes de carne nobres e um buffet completo de pratos tradicionais, é uma parada obrigatória para os amantes da boa gastronomia.",imageUrl:"https://media-cdn.tripadvisor.com/media/photo-s/07/9e/29/46/churrascaria-rodeio.jpg",points:15,lat:-30.5201,lng:-53.4925},{id:"poi-9",name:"Doçaria Pelotense",description:"Doces tradicionais para adoçar a vida.",longDescription:"Uma vitrine repleta de delícias que representam a famosa tradição dos doces de Pelotas. Quindins, pastéis de nata e outras iguarias feitas com receitas de família.",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR611m9H1o0X2B-w5Zg9C1W7L9o_hB9bF3nQ&s",points:10,lat:-30.5135,lng:-53.487}],jl=[{id:"route-1",name:"Belezas Naturais",description:"Explore paisagens de tirar o fôlego, de formações rochosas a cascatas refrescantes.",pointsOfInterest:["poi-1","poi-3","poi-7"],imageUrl:"https://www.aventurebox.com/wp-content/uploads/2021/10/trekking-nas-guaritas-3.jpg"},{id:"route-2",name:"Riqueza Histórica",description:"Viaje no tempo conhecendo os locais que marcaram a história da região.",pointsOfInterest:["poi-2","poi-4","poi-5","poi-6"],imageUrl:"https://i0.wp.com/serrasdonovosul.com/wp-content/uploads/2022/01/forte-dom-pedro-II.jpg?fit=800%2C533&ssl=1"},{id:"route-3",name:"Sabores da Terra",description:"Uma rota para os amantes da boa comida, do churrasco gaúcho aos doces tradicionais.",pointsOfInterest:["poi-8","poi-9"],imageUrl:"https://img.freepik.com/fotos-premium/churrasco-gaucho-tradicional-picanha-e-outras-carnes-na-grelha_801454-1595.jpg"}];var yy;const M_=new Set(((yy=jl.find(t=>t.id==="route-1"))==null?void 0:yy.pointsOfInterest)||[]);var vy;const k_=new Set(((vy=jl.find(t=>t.id==="route-2"))==null?void 0:vy.pointsOfInterest)||[]);var xy;const N_=new Set(((xy=jl.find(t=>t.id==="route-3"))==null?void 0:xy.pointsOfInterest)||[]),b_=[{id:"badge-1",name:"Explorador da Natureza",description:"Visitou todos os pontos da rota Belezas Naturais.",icon:"Mountain",criteria:t=>Array.from(M_).every(e=>t.has(e))},{id:"badge-2",name:"Historiador",description:"Visitou todos os pontos da rota Riqueza Histórica.",icon:"BookOpen",criteria:t=>Array.from(k_).every(e=>t.has(e))},{id:"badge-5",name:"Bom de Garfo",description:"Visitou todos os pontos da rota Sabores da Terra.",icon:"Utensils",criteria:t=>Array.from(N_).every(e=>t.has(e))},{id:"badge-3",name:"Pioneiro",description:"Realizou seu primeiro check-in.",icon:"Star",criteria:t=>t.size===1},{id:"badge-4",name:"Mestre Desbravador",description:"Visitou todos os pontos turísticos disponíveis.",icon:"Leaf",criteria:(t,e)=>e?t.size===e.size:!1}],I_=[{id:"user-1",name:"Ana Exploradora",email:"turista@email.com",password:"senha123",role:"tourist",avatarUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",points:55,visited:[{pointId:"poi-1",date:"2023-10-26T10:00:00Z"},{pointId:"poi-4",date:"2023-10-26T14:30:00Z"}],badges:["badge-3"],routeProgress:[]},{id:"user-4",name:"Carlos Viajante",email:"carlos@email.com",password:"senha123",role:"tourist",avatarUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",points:120,visited:[],badges:[],routeProgress:[]},{id:"user-5",name:"Mariana Aventureira",email:"mariana@email.com",password:"senha123",role:"tourist",avatarUrl:"https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",points:85,visited:[],badges:[],routeProgress:[]},{id:"user-6",name:"João Gaúcho",email:"joao@email.com",password:"senha123",role:"tourist",avatarUrl:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",points:20,visited:[],badges:[],routeProgress:[]},{id:"user-2",name:"Hotel Plaza",email:"hotel@email.com",password:"senha123",role:"hotel",avatarUrl:"https://picsum.photos/seed/hotel/200",points:0,visited:[],badges:[],routeProgress:[]},{id:"user-hotel-2",name:"Pousada Charme",email:"pousada@email.com",password:"senha123",role:"hotel",avatarUrl:"https://picsum.photos/seed/pousada/200",points:0,visited:[],badges:[],routeProgress:[]},{id:"user-3",name:"Admin da Cidade",email:"secretaria@email.com",password:"senha123",role:"secretaria",avatarUrl:"https://picsum.photos/seed/admin/200",points:0,visited:[],badges:[],routeProgress:[]}],P_=[{id:"checkin-1",hotelId:"user-2",touristName:"Carlos Viajante",phone:"55999999999",profession:"Engenheiro",nationality:"Brasileira",birthDate:"1990-05-15",gender:"Masculino",idDocument:"123456789",originCity:"Porto Alegre/RS",travelReason:"Turismo",transportMean:"Automóvel",discoveryChannel:"Indicação de amigos",poiOpinion:"Muito boa",cityOpinion:"Ótima",checkInDate:"2023-10-25T14:00:00Z",checkOutDate:"2023-10-28T11:00:00Z"},{id:"checkin-2",hotelId:"user-2",touristName:"Mariana Aventureira",phone:"21988888888",profession:"Designer",nationality:"Brasileira",birthDate:"1995-08-20",gender:"Feminino",idDocument:"987654321",originCity:"Rio de Janeiro/RJ",travelReason:"Férias",transportMean:"Ônibus",discoveryChannel:"Rede Social",poiOpinion:"Ótima",cityOpinion:"Ótima",checkInDate:"2023-10-20T16:00:00Z",checkOutDate:"2023-10-24T12:00:00Z"},{id:"checkin-3",hotelId:"user-hotel-2",touristName:"Ana Exploradora",phone:"11977777777",profession:"Jornalista",nationality:"Brasileira",birthDate:"1988-11-30",gender:"Feminino",idDocument:"555555555",originCity:"São Paulo/SP",travelReason:"Negócio",transportMean:"Outros",discoveryChannel:"Site",poiOpinion:"Ótima",cityOpinion:"Ótima",checkInDate:"2023-11-01T18:00:00Z",checkOutDate:"2023-11-05T10:00:00Z"}],A_=[{id:"challenge-1",title:"Maratona Fotográfica",description:"Tire uma foto em 3 pontos de interesse diferentes em um único dia.",points:50,type:"challenge"},{id:"challenge-2",title:"Festival de Inverno",description:"Participe do evento de abertura do Festival de Inverno na praça central.",points:30,type:"event",startDate:"2025-07-20T18:00:00Z",endDate:"2025-07-20T22:00:00Z"},{id:"challenge-3",title:"Caçador de Lendas",description:"Visite o Forte Dom Pedro II e a Pedra do Segredo para desvendar mistérios.",points:40,type:"challenge",relatedPoiIds:["poi-1","poi-4"]}],R_=[{id:"photo-1",userId:"user-1",userName:"Ana Exploradora",userAvatarUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",imageUrl:"https://www.aventurebox.com/wp-content/uploads/2021/10/trekking-nas-guaritas-3.jpg",caption:"Vista incrível da Pedra do Segredo! 🤩 #CaçapavaDoSul",poiId:"poi-1",timestamp:"2025-08-17T16:30:00Z",likes:["user-4","user-5"]},{id:"photo-2",userId:"user-4",userName:"Carlos Viajante",userAvatarUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=200&q=80",imageUrl:"https://i0.wp.com/serrasdonovosul.com/wp-content/uploads/2022/01/forte-dom-pedro-II.jpg?fit=800%2C533&ssl=1",caption:"Conhecendo um pouco da história do Brasil no Forte Dom Pedro II.",poiId:"poi-4",timestamp:"2025-08-16T11:00:00Z",likes:["user-1"]}],pi=(t,e)=>{try{const n=sessionStorage.getItem(t);if(n){const i=JSON.parse(n);return i!==null?i:e}return e}catch(n){return console.error(`Error reading from sessionStorage key "${t}":`,n),e}},mi=(t,e)=>{try{sessionStorage.setItem(t,JSON.stringify(e))}catch(n){console.error(`Error writing to sessionStorage key "${t}":`,n)}};class D_{constructor(){this.users=pi("db_users",I_),this.routes=pi("db_routes",jl),this.pois=pi("db_pois",E_),this.badges=pi("db_badges",b_),this.checkIns=pi("db_checkins",P_),this.challenges=pi("db_challenges",A_),this.photos=pi("db_photos",R_)}save(){mi("db_users",this.users),mi("db_routes",this.routes),mi("db_pois",this.pois),mi("db_badges",this.badges),mi("db_checkins",this.checkIns),mi("db_challenges",this.challenges),mi("db_photos",this.photos)}}let K=new D_;const we=t=>new Promise(e=>setTimeout(e,t)),ve={async login(t,e){await we(300);const n=K.users.find(i=>i.email.toLowerCase()===t.toLowerCase());if(n&&n.password===e){const{password:i,...o}=n;return o}return null},async getUserById(t){await we(50);const e=K.users.find(n=>n.id===t);return e?{...e}:null},async getLeaderboard(){return await we(200),[...K.users].filter(t=>t.role==="tourist").sort((t,e)=>e.points-t.points)},async updateUser(t,e){await we(150);const n=K.users.findIndex(i=>i.id===t);return n>-1?(K.users[n]={...K.users[n],...e},K.save(),{...K.users[n]}):null},async getRoutes(){return await we(100),[...K.routes]},async getRouteById(t){await we(50);const e=K.routes.find(n=>n.id===t);return e?{...e}:null},async createRoute(t){await we(200);const e={id:`route-${Date.now()}`,...t};return K.routes.push(e),K.save(),e},async updateRoute(t,e){await we(200);const n=K.routes.findIndex(i=>i.id===t);return n>-1?(K.routes[n]={...K.routes[n],...e},K.save(),{...K.routes[n]}):null},async deleteRoute(t){return await we(300),K.routes=K.routes.filter(e=>e.id!==t),K.save(),!0},async getPointsOfInterest(){return await we(100),[...K.pois]},async getPointOfInterestById(t){await we(50);const e=K.pois.find(n=>n.id===t);return e?{...e}:null},async createPointOfInterest(t){await we(200);const e={id:`poi-${Date.now()}`,...t};return K.pois.push(e),K.save(),e},async updatePointOfInterest(t,e){await we(200);const n=K.pois.findIndex(i=>i.id===t);return n>-1?(K.pois[n]={...K.pois[n],...e},K.save(),{...K.pois[n]}):null},async deletePointOfInterest(t){return await we(300),K.pois=K.pois.filter(e=>e.id!==t),K.routes.forEach(e=>{e.pointsOfInterest=e.pointsOfInterest.filter(n=>n!==t)}),K.save(),!0},async checkIn(t,e){await we(500);const n=K.users.findIndex(p=>p.id===t),i=K.pois.find(p=>p.id===e);if(n===-1||!i)return{success:!1,message:"Usuário ou Ponto de Interesse não encontrado.",newBadges:[]};const o=K.users[n];if(o.visited.some(p=>p.pointId===e))return{success:!1,message:"Você já fez check-in neste local.",newBadges:[]};o.visited.push({pointId:e,date:new Date().toISOString()}),o.points+=i.points;const r=[],a=new Set(o.visited.map(p=>p.pointId)),d=new Set(K.pois.map(p=>p.id));K.badges.forEach(p=>{!o.badges.includes(p.id)&&p.criteria(a,d)&&(o.badges.push(p.id),r.push(p))}),K.save();let h=`Check-in realizado! Você ganhou ${i.points} pontos.`;return r.length>0&&(h+=` E ${r.length} nova(s) conquista(s)!`),{success:!0,message:h,newBadges:r}},async getBadgesForUser(t){await we(100);const e=K.users.find(n=>n.id===t);return e?K.badges.filter(n=>e.badges.includes(n.id)):[]},async getAllBadges(){return await we(50),[...K.badges]},async getChallenges(){return await we(100),[...K.challenges]},async createChallenge(t){await we(200);const e={id:`challenge-${Date.now()}`,...t};return K.challenges.push(e),K.save(),e},async updateChallenge(t,e){await we(200);const n=K.challenges.findIndex(i=>i.id===t);return n>-1?(K.challenges[n]={...K.challenges[n],...e},K.save(),{...K.challenges[n]}):null},async deleteChallenge(t){return await we(300),K.challenges=K.challenges.filter(e=>e.id!==t),K.save(),!0},async getPhotos(){return await we(150),[...K.photos].sort((t,e)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime())},async createPhoto(t){await we(300);const e=await this.getUserById(t.userId);if(!e)throw new Error("User not found");const n={id:`photo-${Date.now()}`,...t,userName:e.name,userAvatarUrl:e.avatarUrl,timestamp:new Date().toISOString(),likes:[]};return K.photos.push(n),await this.updateUser(t.userId,{points:e.points+15}),K.save(),n},async likePhoto(t,e){await we(100);const n=K.photos.findIndex(r=>r.id===t);if(n===-1)return null;const i=K.photos[n],o=await this.getUserById(i.userId);return o?i.userId===e||i.likes.includes(e)?i:(i.likes.push(e),await this.updateUser(i.userId,{points:o.points+2}),K.save(),{...i}):null},async getHotelDashboardData(t){await we(300);const e=K.checkIns.filter(a=>a.hotelId===t);if(e.length===0)return{totalGuests:0,satisfaction:{city:{},poi:{}},demographics:{byOrigin:{}},travelBehavior:{byReason:{}},recentCheckIns:[]};const n={city:{},poi:{}},i={byOrigin:{}},o={byReason:{}},r=(a,d)=>{a[d]=(a[d]||0)+1};return e.forEach(a=>{r(n.city,a.cityOpinion),r(n.poi,a.poiOpinion),r(i.byOrigin,a.originCity),r(o.byReason,a.travelReason)}),{totalGuests:e.length,satisfaction:n,demographics:i,travelBehavior:o,recentCheckIns:e.slice(0,5).sort((a,d)=>new Date(d.checkInDate).getTime()-new Date(a.checkInDate).getTime())}},async getAllHotelsAnalytics(){return await we(400),{summary:K.users.filter(n=>n.role==="hotel").map(n=>{const i=K.checkIns.filter(h=>h.hotelId===n.id),o=i.length,r={Péssimo:1,Ruim:2,Boa:3,"Muito boa":4,Ótima:5},a=i.reduce((h,p)=>h+(r[p.cityOpinion]||3),0),d=o>0?(a/o).toFixed(1):"N/A";return{hotelId:n.id,hotelName:n.name,totalGuests:o,avgRating:d}}),allCheckIns:[...K.checkIns]}},async getHotelCheckIns(t){return await we(150),K.checkIns.filter(e=>e.hotelId===t)},async createHotelCheckIn(t,e){await we(300);const n={id:`checkin-${Date.now()}`,hotelId:t,...e};return K.checkIns.push(n),K.save(),n},async getAdminStats(){var r;await we(200);const t=K.users.reduce((a,d)=>a+d.visited.length,0),e={};K.users.forEach(a=>{a.visited.forEach(d=>{e[d.pointId]=(e[d.pointId]||0)+1})});const n=Object.entries(e).sort((a,d)=>d[1]-a[1])[0],i=n?n[0]:null,o=i?(r=K.pois.find(a=>a.id===i))==null?void 0:r.name:"Nenhum";return{totalTourists:K.users.filter(a=>a.role==="tourist").length,totalRoutes:K.routes.length,totalCheckIns:t,mostVisitedPoi:o}},async getAnalyticsSummary(){if(await we(150),K.checkIns.length===0)return{totalVisitors:0,avgCityRating:"N/A",mostPopularRoute:"N/A"};const t=new Set(K.checkIns.map(a=>a.touristName)).size,e={Péssimo:1,Ruim:2,Boa:3,"Muito boa":4,Ótima:5},i=(K.checkIns.reduce((a,d)=>a+(e[d.cityOpinion]||3),0)/K.checkIns.length).toFixed(1),r=Object.entries({"Belezas Naturais":1,"Riqueza Histórica":0,"Sabores da Terra":0}).sort((a,d)=>d[1]-a[1])[0][0]||"N/A";return{totalVisitors:t,avgCityRating:i,mostPopularRoute:r}},async getAnalyticsData(){await we(400);const t={demographics:{byGender:{},ageRanges:{},byNationality:{}},travelBehavior:{byReason:{},byTransport:{},byDiscovery:{}},satisfaction:{poi:{},city:{}},routeAnalytics:{completionsByRoute:{"Belezas Naturais":1,"Riqueza Histórica":0,"Sabores da Terra":0},mostPopularRoute:"Belezas Naturais"}},e=(n,i)=>{n[i]=(n[i]||0)+1};return K.checkIns.forEach(n=>{e(t.demographics.byGender,n.gender),e(t.demographics.byNationality,n.nationality);const i=new Date().getFullYear()-new Date(n.birthDate).getFullYear();i<20?e(t.demographics.ageRanges,"0-19"):i<30?e(t.demographics.ageRanges,"20-29"):i<40?e(t.demographics.ageRanges,"30-39"):i<50?e(t.demographics.ageRanges,"40-49"):e(t.demographics.ageRanges,"50+"),e(t.travelBehavior.byReason,n.travelReason),e(t.travelBehavior.byTransport,n.transportMean),e(t.travelBehavior.byDiscovery,n.discoveryChannel),e(t.satisfaction.poi,n.poiOpinion),e(t.satisfaction.city,n.cityOpinion)}),t},async getFullAdminDashboardData(){await we(450);const t=await this.getAdminStats(),e=await this.getAnalyticsData(),n={totalInteractions:1245,commonQuestions:[{question:"Horários da Cascata",count:230},{question:"Onde comer?",count:180},{question:"Roteiro de 1 dia",count:150}],satisfaction:"92%"},i=K.checkIns.length;return{...t,analytics:e,totalHotelCheckIns:i,botUsage:n}},async getAllTouristsData(){await we(200);const t=K.users.filter(n=>n.role==="tourist"),e=K.checkIns.reduce((n,i)=>(n[i.touristName.toLowerCase()]=i,n),{});return t.map(n=>{const i=e[n.name.toLowerCase()];return{id:n.id,name:n.name,email:n.email,points:n.points,phone:i?i.phone:"N/A"}})}},Ay=N.createContext(void 0),L_=({children:t})=>{const[e,n]=N.useState(null);N.useEffect(()=>{try{const a=sessionStorage.getItem("user");a&&n(JSON.parse(a))}catch(a){console.error("Failed to parse user from sessionStorage",a),n(null)}},[]);const i=async(a,d)=>{try{const h=await ve.login(a,d);return h?(sessionStorage.setItem("user",JSON.stringify(h)),n(h),{success:!0,role:h.role}):{success:!1}}catch(h){return console.error("AuthContext: Erro durante o login:",h),{success:!1}}},o=()=>{sessionStorage.removeItem("user"),n(null)},r=N.useMemo(()=>({user:e,isAuthenticated:!!e,login:i,logout:o}),[e]);return y.jsx(Ay.Provider,{value:r,children:t})},an=()=>{const t=N.useContext(Ay);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Ry=N.createContext(void 0),F_=({children:t})=>{const{user:e}=an(),[n,i]=N.useState(null);N.useEffect(()=>{(e==null?void 0:e.role)==="tourist"&&ve.getUserById(e.id).then(h=>{h&&i(h)})},[e]);const o=N.useCallback(()=>new Set((n==null?void 0:n.visited.map(h=>h.pointId))||[]),[n]),r=N.useCallback(async h=>{if(!n)return{success:!1,message:"Usuário não encontrado.",newBadges:[]};const p=await ve.checkIn(n.id,h);if(p.success){const g=await ve.getUserById(n.id);g&&i(g)}return p},[n]),a=N.useCallback(async(h,p)=>{if(!n)return null;const g=await ve.updateUser(n.id,{name:h,avatarUrl:p});return g&&i(g),g},[n]),d=N.useMemo(()=>({currentUser:n,checkIn:r,getVisitedIds:o,updateUserProfile:a}),[n,r,o,a]);return y.jsx(Ry.Provider,{value:d,children:t})},Jl=()=>{const t=N.useContext(Ry);if(t===void 0)throw new Error("useGamification must be used within a GamificationProvider");return t},nc=({children:t,roles:e})=>{const{user:n,isAuthenticated:i}=an(),o=ln();if(!i||!n)return y.jsx(vs,{to:"/login",state:{from:o},replace:!0});if(!e.includes(n.role))switch(n.role){case"tourist":return y.jsx(vs,{to:"/",replace:!0});case"secretaria":return y.jsx(vs,{to:"/admin",replace:!0});case"hotel":return y.jsx(vs,{to:"/hotel",replace:!0});default:return y.jsx(vs,{to:"/login",replace:!0})}return y.jsx(y.Fragment,{children:t})},$s=t=>y.jsx("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:y.jsx("path",{d:"M51.8743 14.8393L53.9161 11.25L59.7348 13.985L64.2123 10L68.3228 15.0185L70.9304 20.2161L75.4078 26.2917L72.2344 31.8477L73.9602 38.8188L71.3526 44.9965L73.9602 51.5326L69.2139 55.3379L70.9304 60.5355L66.5511 67.5066L61.8048 72.8833L54.673 80.2128L50.9975 88.75L45.5458 84.7656L39.3601 88.3916L32.2283 83.0149L29.6207 77.2798L25.1432 74.5447L26.502 68.367L24.4602 60.9939L29.2065 56.4424L26.869 49.7547L30.3776 43.2186L28.2588 34.6729L33.7104 29.3998L39.7271 31.1305L44.8285 24.5944L47.4361 19.3968L51.8743 14.8393Z",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})}),U_=()=>{var T,w;const[t,e]=N.useState(""),[n,i]=N.useState(""),[o,r]=N.useState(""),[a,d]=N.useState(!1),{login:h}=an(),p=Zn(),v=((w=(T=ln().state)==null?void 0:T.from)==null?void 0:w.pathname)||"/",C=async E=>{E.preventDefault(),r(""),d(!0);const M=await h(t,n);if(d(!1),M.success)switch(M.role){case"tourist":p(v==="/login"||v.startsWith("/admin")||v.startsWith("/hotel")?"/":v,{replace:!0});break;case"secretaria":p("/admin");break;case"hotel":p("/hotel");break;default:p("/")}else r("Email ou senha inválidos. Por favor, tente novamente.")};return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-brand-dark-green p-4",children:y.jsxs("div",{className:"w-full max-w-md",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"inline-block w-24 h-24 text-brand-light-green",children:y.jsx($s,{})}),y.jsxs("div",{className:"text-brand-beige",children:[y.jsx("div",{className:"font-display tracking-wider text-3xl leading-none",children:"VISITE"}),y.jsx("div",{className:"font-black text-4xl leading-none -mt-1",children:"CAÇAPAVA"}),y.jsx("div",{className:"font-semibold text-xl leading-none",children:"DO SUL"})]})]}),y.jsxs("div",{className:"bg-brand-beige p-8 rounded-2xl shadow-2xl",children:[y.jsx("h2",{className:"text-2xl font-bold text-center text-brand-dark-green mb-6",children:"Login"}),y.jsxs("form",{onSubmit:C,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),y.jsx("input",{id:"email",type:"email",autoComplete:"email",value:t,onChange:E=>e(E.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-green focus:border-brand-green sm:text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),y.jsx("input",{id:"password",type:"password",autoComplete:"current-password",value:n,onChange:E=>i(E.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-green focus:border-brand-green sm:text-sm"})]}),o&&y.jsx("p",{className:"text-brand-red text-sm",children:o}),y.jsx("div",{children:y.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-brand-green hover:bg-brand-dark-green focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-light-green disabled:bg-gray-400",children:a?"Entrando...":"Entrar"})})]}),y.jsxs("div",{className:"mt-6 p-4 bg-green-50 border-l-4 border-brand-green rounded-r-lg text-sm",children:[y.jsx("p",{className:"font-bold",children:"Para demonstração, use:"}),y.jsxs("ul",{className:"list-disc list-inside mt-1 text-gray-700",children:[y.jsxs("li",{children:[y.jsx("strong",{className:"font-semibold",children:"Turista:"})," turista@email.com"]}),y.jsxs("li",{children:[y.jsx("strong",{className:"font-semibold",children:"Hotel:"})," hotel@email.com"]}),y.jsxs("li",{children:[y.jsx("strong",{className:"font-semibold",children:"Admin:"})," secretaria@email.com"]})]}),y.jsxs("p",{className:"mt-2",children:["A senha para todos é: ",y.jsx("strong",{className:"font-semibold",children:"senha123"})]})]})]})]})})};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B_=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Fp=t=>{const e=B_(t);return e.charAt(0).toUpperCase()+e.slice(1)},Dy=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),H_=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:r,iconNode:a,...d},h)=>N.createElement("svg",{ref:h,...z_,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Dy("lucide",o),...!r&&!H_(d)&&{"aria-hidden":"true"},...d},[...a.map(([p,g])=>N.createElement(p,g)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(t,e)=>{const n=N.forwardRef(({className:i,...o},r)=>N.createElement(O_,{ref:r,iconNode:e,className:Dy(`lucide-${V_(Fp(t))}`,`lucide-${t}`,i),...o}));return n.displayName=Fp(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Mi=he("award",q_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],G_=he("bed-double",$_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ly=he("book-open",W_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Yc=he("bot",j_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tc=he("calendar",J_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M10 5V3",key:"1y54qe"}],["path",{d:"M14 5V3",key:"m6isi"}],["path",{d:"M15 21v-3a3 3 0 0 0-6 0v3",key:"lbp5hj"}],["path",{d:"M18 3v8",key:"2ollhf"}],["path",{d:"M18 5H6",key:"98imr9"}],["path",{d:"M22 11H2",key:"1lmjae"}],["path",{d:"M22 9v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9",key:"1rly83"}],["path",{d:"M6 3v8",key:"csox7g"}]],K_=he("castle",Y_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Fy=he("chart-no-axes-column",X_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],Z_=he("chevrons-right",Q_);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sc=he("circle-check-big",eT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nT=he("compass",tT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],oT=he("crown",iT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],rT=he("feather",sT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],aT=he("flag",lT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],wc=he("heart",uT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Uy=he("hotel",cT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],fT=he("house",dT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pT=he("info",hT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],gT=he("layout-dashboard",mT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],vT=he("leaf",yT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],CT=he("loader",xT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vy=he("log-out",_T);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ST=he("mail",TT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ei=he("map-pin",wT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],MT=he("medal",ET);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],NT=he("menu",kT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],By=he("message-square",bT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],Hy=he("mountain",IT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],AT=he("phone",PT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],DT=he("plane",RT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kc=he("plus",LT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],UT=he("rotate-ccw",FT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],zy=he("route",VT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Oy=he("send",BT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],zT=he("sparkles",HT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Yl=he("square-pen",OT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Gs=he("star",qT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],GT=he("sun",$T);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xc=he("trash-2",WT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],JT=he("trees",jT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KT=he("triangle-alert",YT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Qc=he("trophy",XT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ZT=he("user-plus",QT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tS=he("user",eS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Si=he("users",nS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],oS=he("utensils",iS);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zc=he("x",sS);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let rS,lS;function aS(){return{geminiUrl:rS,vertexUrl:lS}}function uS(t,e,n,i){var o,r;if(!(t!=null&&t.baseUrl)){const a=aS();return e?(o=a.vertexUrl)!==null&&o!==void 0?o:n:(r=a.geminiUrl)!==null&&r!==void 0?r:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pi{}function re(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const r=e[o];return r!=null?String(r):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function c(t,e,n){for(let r=0;r<e.length-1;r++){const a=e[r];if(a.endsWith("[]")){const d=a.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[d])){const h=t[d];if(Array.isArray(n))for(let p=0;p<h.length;p++){const g=h[p];c(g,e.slice(r+1),n[p])}else for(const p of h)c(p,e.slice(r+1),n)}return}else if(a.endsWith("[0]")){const d=a.slice(0,-3);d in t||(t[d]=[{}]);const h=t[d];c(h[0],e.slice(r+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function u(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const r=t[o];return Array.isArray(r)?r.map(a=>u(a,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ec(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Up;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Up||(Up={}));var Vp;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Vp||(Vp={}));var Wn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Wn||(Wn={}));var Bp;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Bp||(Bp={}));var Hp;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Hp||(Hp={}));var zp;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(zp||(zp={}));var Op;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Op||(Op={}));var qp;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(qp||(qp={}));var $p;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})($p||($p={}));var Gp;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Gp||(Gp={}));var Wp;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Wp||(Wp={}));var jp;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(jp||(jp={}));var Jp;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Jp||(Jp={}));var Yp;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Yp||(Yp={}));var Kp;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Kp||(Kp={}));var Pl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Pl||(Pl={}));var Xp;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Xp||(Xp={}));var Mc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Mc||(Mc={}));var Qp;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Qp||(Qp={}));var Zp;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Zp||(Zp={}));var em;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(em||(em={}));var tm;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(tm||(tm={}));var nm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(nm||(nm={}));var im;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(im||(im={}));var om;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(om||(om={}));var sm;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(sm||(sm={}));var rm;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(rm||(rm={}));var lm;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(lm||(lm={}));var am;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(am||(am={}));var um;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(um||(um={}));var cm;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(cm||(cm={}));var dm;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(dm||(dm={}));var fm;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(fm||(fm={}));var hm;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(hm||(hm={}));var pm;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(pm||(pm={}));var mm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(mm||(mm={}));var gm;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gm||(gm={}));var ym;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ym||(ym={}));var vm;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(vm||(vm={}));var xm;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xm||(xm={}));var Cm;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Cm||(Cm={}));var _m;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_m||(_m={}));var Tm;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Tm||(Tm={}));var co;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(co||(co={}));class kc{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class xs{get text(){var e,n,i,o,r,a,d,h;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",g=!1;const v=[];for(const C of(h=(d=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[T,w]of Object.entries(C))T!=="text"&&T!=="thought"&&(w!==null||w!==void 0)&&v.push(T);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;g=!0,p+=C.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?p:void 0}get data(){var e,n,i,o,r,a,d,h;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const g=[];for(const v of(h=(d=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[C,T]of Object.entries(v))C!=="inlineData"&&(T!==null||T!==void 0)&&g.push(C);v.inlineData&&typeof v.inlineData.data=="string"&&(p+=atob(v.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,n,i,o,r,a,d,h;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(h=(d=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,n,i,o,r,a,d,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(h=(d=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return(p=g==null?void 0:g[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,n,i,o,r,a,d,h,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(h=(d=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return(p=g==null?void 0:g[0])===null||p===void 0?void 0:p.output}}class Sm{}class wm{}class cS{}class dS{}class fS{}class Em{}class Mm{}class km{}class hS{}class Nm{}class bm{}class Im{}class Pm{}class pS{}class mS{}class gS{}class Am{}class yS{get text(){var e,n,i;let o="",r=!1;const a=[];for(const d of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(d))h!=="text"&&h!=="thought"&&p!==null&&a.push(h);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;r=!0,o+=d.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?o:void 0}get data(){var e,n,i;let o="";const r=[];for(const a of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[d,h]of Object.entries(a))d!=="inlineData"&&h!==null&&r.push(d);a.inlineData&&typeof a.inlineData.data=="string"&&(o+=atob(a.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class Al{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const i=new Al;if(i.name=e.name,i.metadata=e.metadata,i.done=e.done,i.error=e.error,n){const o=e.response;if(o){const r=new Nm,a=o.videos;r.generatedVideos=a==null?void 0:a.map(d=>({video:{uri:d.gcsUri,videoBytes:d.bytesBase64Encoded?Ec(d.bytesBase64Encoded):void 0,mimeType:d.mimeType}})),r.raiMediaFilteredCount=o.raiMediaFilteredCount,r.raiMediaFilteredReasons=o.raiMediaFilteredReasons,i.response=r}}else{const o=e.response;if(o){const r=new Nm,a=o.generateVideoResponse,d=a==null?void 0:a.generatedSamples;r.generatedVideos=d==null?void 0:d.map(h=>{const p=h.video;return{video:{uri:p==null?void 0:p.uri,videoBytes:p!=null&&p.encodedVideo?Ec(p==null?void 0:p.encodedVideo):void 0,mimeType:h.encoding}}}),r.raiMediaFilteredCount=a==null?void 0:a.raiMediaFilteredCount,r.raiMediaFilteredReasons=a==null?void 0:a.raiMediaFilteredReasons,i.response=r}}return i}}class vS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ne(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function qy(t,e){const n=Ne(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function $y(t){return Array.isArray(t)?t.map(e=>Rl(e)):[Rl(t)]}function Rl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Gy(t){const e=Rl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Wy(t){const e=Rl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Rm(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function jy(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Rm(e)):[Rm(t)]}function Nc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Dm(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Lm(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function pt(t){if(t==null)throw new Error("ContentUnion is required");return Nc(t)?t:{role:"user",parts:jy(t)}}function Jy(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=pt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=pt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>pt(n)):[pt(e)]}function zt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Dm(t)||Lm(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pt(t)]}const e=[],n=[],i=Nc(t[0]);for(const o of t){const r=Nc(o);if(r!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)e.push(o);else{if(Dm(o)||Lm(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:jy(n)}),e}function xS(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Wn).includes(n[0].toUpperCase())?n[0].toUpperCase():Wn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Wn).includes(i.toUpperCase())?i.toUpperCase():Wn.TYPE_UNSPECIFIED})}}function po(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=t.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,t=r[1]):r[1].type==="null"&&(e.nullable=!0,t=r[0])),t.type instanceof Array&&xS(t.type,e);for(const[a,d]of Object.entries(t))if(d!=null)if(a=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(Wn).includes(d.toUpperCase())?d.toUpperCase():Wn.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=po(d);else if(i.includes(a)){const h=[];for(const p of d){if(p.type=="null"){e.nullable=!0;continue}h.push(po(p))}e[a]=h}else if(o.includes(a)){const h={};for(const[p,g]of Object.entries(d))h[p]=po(g);e[a]=h}else{if(a==="additionalProperties")continue;e[a]=d}return e}function ed(t){return po(t)}function td(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function nd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function wo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=po(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=po(e.response));return t}function Eo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function CS(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function wn(t,e){if(typeof e!="string")throw new Error("name must be a string");return CS(t,e,"cachedContents")}function Yy(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ai(t){return Ec(t)}function _S(t){return t!=null&&typeof t=="object"&&"name"in t}function TS(t){return t!=null&&typeof t=="object"&&"video"in t}function SS(t){return t!=null&&typeof t=="object"&&"uri"in t}function Ky(t){var e;let n;if(_S(t)&&(n=t.name),!(SS(t)&&(n=t.uri,n===void 0))&&!(TS(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Xy(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Qy(t){for(const e of["models","tunedModels","publisherModels"])if(wS(t,e))return t[e];return[]}function wS(t,e){return t!==null&&typeof t=="object"&&e in t}function ES(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function MS(t,e={}){const n=[],i=new Set;for(const o of t){const r=o.name;if(i.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);i.add(r);const a=ES(o,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function Zy(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function kS(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Mo(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ev(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NS(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function bS(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function IS(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function PS(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],NS(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],bS(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],IS(r));const a=u(t,["thoughtSignature"]);a!=null&&c(e,["thoughtSignature"],a);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const v=u(t,["text"]);return v!=null&&c(e,["text"],v),e}function tv(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>PS(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function AS(t){const e={},n=u(t,["anyOf"]);n!=null&&c(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&c(e,["default"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["enum"]);r!=null&&c(e,["enum"],r);const a=u(t,["example"]);a!=null&&c(e,["example"],a);const d=u(t,["format"]);d!=null&&c(e,["format"],d);const h=u(t,["items"]);h!=null&&c(e,["items"],h);const p=u(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const g=u(t,["maxLength"]);g!=null&&c(e,["maxLength"],g);const v=u(t,["maxProperties"]);v!=null&&c(e,["maxProperties"],v);const C=u(t,["maximum"]);C!=null&&c(e,["maximum"],C);const T=u(t,["minItems"]);T!=null&&c(e,["minItems"],T);const w=u(t,["minLength"]);w!=null&&c(e,["minLength"],w);const E=u(t,["minProperties"]);E!=null&&c(e,["minProperties"],E);const M=u(t,["minimum"]);M!=null&&c(e,["minimum"],M);const b=u(t,["nullable"]);b!=null&&c(e,["nullable"],b);const P=u(t,["pattern"]);P!=null&&c(e,["pattern"],P);const R=u(t,["properties"]);R!=null&&c(e,["properties"],R);const D=u(t,["propertyOrdering"]);D!=null&&c(e,["propertyOrdering"],D);const L=u(t,["required"]);L!=null&&c(e,["required"],L);const H=u(t,["title"]);H!=null&&c(e,["title"],H);const O=u(t,["type"]);return O!=null&&c(e,["type"],O),e}function RS(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&c(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&c(e,["threshold"],i),e}function DS(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const a=u(t,["parametersJsonSchema"]);a!=null&&c(e,["parametersJsonSchema"],a);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function LS(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function FS(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],LS(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function US(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function VS(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],US(n)),e}function BS(){return{}}function HS(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function zS(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>DS(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],FS(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],VS(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],BS());const a=u(t,["computerUse"]);a!=null&&c(e,["computerUse"],HS(a));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function OS(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function qS(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function $S(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],qS(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function GS(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],OS(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],$S(i)),e}function WS(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function nv(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],WS(n)),e}function jS(t){const e={},n=u(t,["speaker"]);n!=null&&c(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&c(e,["voiceConfig"],nv(i)),e}function JS(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jS(o))),c(e,["speakerVoiceConfigs"],i)}return e}function YS(t){const e={},n=u(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],nv(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&c(e,["multiSpeakerVoiceConfig"],JS(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function KS(t){const e={},n=u(t,["includeThoughts"]);n!=null&&c(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&c(e,["thinkingBudget"],i),e}function XS(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&c(n,["systemInstruction"],tv(pt(o)));const r=u(e,["temperature"]);r!=null&&c(i,["temperature"],r);const a=u(e,["topP"]);a!=null&&c(i,["topP"],a);const d=u(e,["topK"]);d!=null&&c(i,["topK"],d);const h=u(e,["candidateCount"]);h!=null&&c(i,["candidateCount"],h);const p=u(e,["maxOutputTokens"]);p!=null&&c(i,["maxOutputTokens"],p);const g=u(e,["stopSequences"]);g!=null&&c(i,["stopSequences"],g);const v=u(e,["responseLogprobs"]);v!=null&&c(i,["responseLogprobs"],v);const C=u(e,["logprobs"]);C!=null&&c(i,["logprobs"],C);const T=u(e,["presencePenalty"]);T!=null&&c(i,["presencePenalty"],T);const w=u(e,["frequencyPenalty"]);w!=null&&c(i,["frequencyPenalty"],w);const E=u(e,["seed"]);E!=null&&c(i,["seed"],E);const M=u(e,["responseMimeType"]);M!=null&&c(i,["responseMimeType"],M);const b=u(e,["responseSchema"]);b!=null&&c(i,["responseSchema"],AS(ed(b)));const P=u(e,["responseJsonSchema"]);if(P!=null&&c(i,["responseJsonSchema"],P),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=u(e,["safetySettings"]);if(n!==void 0&&R!=null){let X=R;Array.isArray(X)&&(X=X.map(le=>RS(le))),c(n,["safetySettings"],X)}const D=u(e,["tools"]);if(n!==void 0&&D!=null){let X=Eo(D);Array.isArray(X)&&(X=X.map(le=>zS(wo(le)))),c(n,["tools"],X)}const L=u(e,["toolConfig"]);if(n!==void 0&&L!=null&&c(n,["toolConfig"],GS(L)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const H=u(e,["cachedContent"]);n!==void 0&&H!=null&&c(n,["cachedContent"],wn(t,H));const O=u(e,["responseModalities"]);O!=null&&c(i,["responseModalities"],O);const J=u(e,["mediaResolution"]);J!=null&&c(i,["mediaResolution"],J);const W=u(e,["speechConfig"]);if(W!=null&&c(i,["speechConfig"],YS(td(W))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=u(e,["thinkingConfig"]);return Q!=null&&c(i,["thinkingConfig"],KS(Q)),i}function QS(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["request","model"],Ne(t,i));const o=u(e,["contents"]);if(o!=null){let a=zt(o);Array.isArray(a)&&(a=a.map(d=>tv(d))),c(n,["request","contents"],a)}const r=u(e,["config"]);return r!=null&&c(n,["request","generationConfig"],XS(t,r,n)),n}function ZS(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=u(e,["fileName"]);i!=null&&c(n,["fileName"],i);const o=u(e,["inlinedRequests"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>QS(t,a))),c(n,["requests","requests"],r)}return n}function ew(t,e){const n={},i=u(t,["displayName"]);if(e!==void 0&&i!=null&&c(e,["batch","displayName"],i),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function tw(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["src"]);o!=null&&c(n,["batch","inputConfig"],ZS(t,Zy(t,o)));const r=u(e,["config"]);return r!=null&&c(n,["config"],ew(r,n)),n}function nw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Mo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function iw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Mo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function ow(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);if(e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function sw(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],ow(n,e)),e}function rw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Mo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function lw(t){const e={},n=u(t,["format"]);n!=null&&c(e,["instancesFormat"],n);const i=u(t,["gcsUri"]);i!=null&&c(e,["gcsSource","uris"],i);const o=u(t,["bigqueryUri"]);if(o!=null&&c(e,["bigquerySource","inputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function aw(t){const e={},n=u(t,["format"]);n!=null&&c(e,["predictionsFormat"],n);const i=u(t,["gcsUri"]);i!=null&&c(e,["gcsDestination","outputUriPrefix"],i);const o=u(t,["bigqueryUri"]);if(o!=null&&c(e,["bigqueryDestination","outputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function uw(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);const o=u(t,["dest"]);return e!==void 0&&o!=null&&c(e,["outputConfig"],aw(kS(o))),n}function cw(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["model"],Ne(t,i));const o=u(e,["src"]);o!=null&&c(n,["inputConfig"],lw(Zy(t,o)));const r=u(e,["config"]);return r!=null&&c(n,["config"],uw(r,n)),n}function dw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Mo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function fw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Mo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function hw(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&c(e,["_query","pageToken"],o);const r=u(t,["filter"]);return e!==void 0&&r!=null&&c(e,["_query","filter"],r),n}function pw(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],hw(n,e)),e}function mw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],Mo(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function gw(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function yw(t){const e={},n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function vw(t){const e={},n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function xw(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],gw(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],yw(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],vw(r));const a=u(t,["thoughtSignature"]);a!=null&&c(e,["thoughtSignature"],a);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const v=u(t,["text"]);return v!=null&&c(e,["text"],v),e}function Cw(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>xw(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function _w(t){const e={},n=u(t,["citationSources"]);return n!=null&&c(e,["citations"],n),e}function Tw(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&c(e,["urlRetrievalStatus"],i),e}function Sw(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Tw(o))),c(e,["urlMetadata"],i)}return e}function ww(t){const e={},n=u(t,["content"]);n!=null&&c(e,["content"],Cw(n));const i=u(t,["citationMetadata"]);i!=null&&c(e,["citationMetadata"],_w(i));const o=u(t,["tokenCount"]);o!=null&&c(e,["tokenCount"],o);const r=u(t,["finishReason"]);r!=null&&c(e,["finishReason"],r);const a=u(t,["urlContextMetadata"]);a!=null&&c(e,["urlContextMetadata"],Sw(a));const d=u(t,["avgLogprobs"]);d!=null&&c(e,["avgLogprobs"],d);const h=u(t,["groundingMetadata"]);h!=null&&c(e,["groundingMetadata"],h);const p=u(t,["index"]);p!=null&&c(e,["index"],p);const g=u(t,["logprobsResult"]);g!=null&&c(e,["logprobsResult"],g);const v=u(t,["safetyRatings"]);return v!=null&&c(e,["safetyRatings"],v),e}function Ew(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>ww(p))),c(e,["candidates"],h)}const o=u(t,["modelVersion"]);o!=null&&c(e,["modelVersion"],o);const r=u(t,["promptFeedback"]);r!=null&&c(e,["promptFeedback"],r);const a=u(t,["responseId"]);a!=null&&c(e,["responseId"],a);const d=u(t,["usageMetadata"]);return d!=null&&c(e,["usageMetadata"],d),e}function iv(t){const e={},n=u(t,["details"]);n!=null&&c(e,["details"],n);const i=u(t,["code"]);i!=null&&c(e,["code"],i);const o=u(t,["message"]);return o!=null&&c(e,["message"],o),e}function Mw(t){const e={},n=u(t,["response"]);n!=null&&c(e,["response"],Ew(n));const i=u(t,["error"]);return i!=null&&c(e,["error"],iv(i)),e}function kw(t){const e={},n=u(t,["responsesFile"]);n!=null&&c(e,["fileName"],n);const i=u(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>Mw(r))),c(e,["inlinedResponses"],o)}return e}function bc(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["metadata","displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["metadata","state"]);o!=null&&c(e,["state"],ev(o));const r=u(t,["metadata","createTime"]);r!=null&&c(e,["createTime"],r);const a=u(t,["metadata","endTime"]);a!=null&&c(e,["endTime"],a);const d=u(t,["metadata","updateTime"]);d!=null&&c(e,["updateTime"],d);const h=u(t,["metadata","model"]);h!=null&&c(e,["model"],h);const p=u(t,["metadata","output"]);return p!=null&&c(e,["dest"],kw(p)),e}function Nw(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["operations"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>bc(a))),c(e,["batchJobs"],r)}return e}function bw(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["done"]);o!=null&&c(e,["done"],o);const r=u(t,["error"]);return r!=null&&c(e,["error"],iv(r)),e}function ov(t){const e={},n=u(t,["details"]);n!=null&&c(e,["details"],n);const i=u(t,["code"]);i!=null&&c(e,["code"],i);const o=u(t,["message"]);return o!=null&&c(e,["message"],o),e}function Iw(t){const e={},n=u(t,["instancesFormat"]);n!=null&&c(e,["format"],n);const i=u(t,["gcsSource","uris"]);i!=null&&c(e,["gcsUri"],i);const o=u(t,["bigquerySource","inputUri"]);return o!=null&&c(e,["bigqueryUri"],o),e}function Pw(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&c(e,["format"],n);const i=u(t,["gcsDestination","outputUriPrefix"]);i!=null&&c(e,["gcsUri"],i);const o=u(t,["bigqueryDestination","outputUri"]);return o!=null&&c(e,["bigqueryUri"],o),e}function Ic(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["state"]);o!=null&&c(e,["state"],ev(o));const r=u(t,["error"]);r!=null&&c(e,["error"],ov(r));const a=u(t,["createTime"]);a!=null&&c(e,["createTime"],a);const d=u(t,["startTime"]);d!=null&&c(e,["startTime"],d);const h=u(t,["endTime"]);h!=null&&c(e,["endTime"],h);const p=u(t,["updateTime"]);p!=null&&c(e,["updateTime"],p);const g=u(t,["model"]);g!=null&&c(e,["model"],g);const v=u(t,["inputConfig"]);v!=null&&c(e,["src"],Iw(v));const C=u(t,["outputConfig"]);return C!=null&&c(e,["dest"],Pw(C)),e}function Aw(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["batchPredictionJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>Ic(a))),c(e,["batchJobs"],r)}return e}function Rw(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["done"]);o!=null&&c(e,["done"],o);const r=u(t,["error"]);return r!=null&&c(e,["error"],ov(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ki;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ki||(ki={}));class Ws{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,r;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!i||Object.keys(i).length===0?a={config:{}}:typeof i=="object"?a=Object.assign({},i):a=i,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(r=(o=a.config)===null||o===void 0?void 0:o.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dw extends Pi{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const o=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${o}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Ws(ki.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=cw(this.apiClient,e);return d=re("batchPredictionJobs",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>Ic(g))}else{const p=tw(this.apiClient,e);return d=re("{model}:batchGenerateContent",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>bc(g))}}async get(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=dw(this.apiClient,e);return d=re("batchPredictionJobs/{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>Ic(g))}else{const p=nw(this.apiClient,e);return d=re("batches/{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>bc(g))}}async cancel(e){var n,i,o,r;let a="",d={};if(this.apiClient.isVertexAI()){const h=fw(this.apiClient,e);a=re("batchPredictionJobs/{name}:cancel",h._url),d=h._query,delete h.config,delete h._url,delete h._query,await this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const h=iw(this.apiClient,e);a=re("batches/{name}:cancel",h._url),d=h._query,delete h.config,delete h._url,delete h._query,await this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=pw(e);return d=re("batchPredictionJobs",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=Aw(g),C=new Am;return Object.assign(C,v),C})}else{const p=sw(e);return d=re("batches",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=Nw(g),C=new Am;return Object.assign(C,v),C})}}async delete(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=mw(this.apiClient,e);return d=re("batchPredictionJobs/{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>Rw(g))}else{const p=rw(this.apiClient,e);return d=re("batches/{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>bw(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lw(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function Fw(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Uw(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Vw(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],Lw(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],Fw(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],Uw(r));const a=u(t,["thoughtSignature"]);a!=null&&c(e,["thoughtSignature"],a);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const v=u(t,["text"]);return v!=null&&c(e,["text"],v),e}function Fm(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Vw(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function Bw(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const a=u(t,["parametersJsonSchema"]);a!=null&&c(e,["parametersJsonSchema"],a);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function Hw(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function zw(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],Hw(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Ow(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function qw(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],Ow(n)),e}function $w(){return{}}function Gw(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function Ww(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Bw(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],zw(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],qw(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],$w());const a=u(t,["computerUse"]);a!=null&&c(e,["computerUse"],Gw(a));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function jw(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function Jw(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function Yw(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],Jw(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function Kw(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],jw(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],Yw(i)),e}function Xw(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&c(e,["expireTime"],o);const r=u(t,["displayName"]);e!==void 0&&r!=null&&c(e,["displayName"],r);const a=u(t,["contents"]);if(e!==void 0&&a!=null){let g=zt(a);Array.isArray(g)&&(g=g.map(v=>Fm(v))),c(e,["contents"],g)}const d=u(t,["systemInstruction"]);e!==void 0&&d!=null&&c(e,["systemInstruction"],Fm(pt(d)));const h=u(t,["tools"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>Ww(v))),c(e,["tools"],g)}const p=u(t,["toolConfig"]);if(e!==void 0&&p!=null&&c(e,["toolConfig"],Kw(p)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Qw(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["model"],qy(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],Xw(o,n)),n}function Zw(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],wn(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function e1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],wn(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function t1(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&c(e,["expireTime"],o),n}function n1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],wn(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],t1(o,n)),n}function i1(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),n}function o1(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],i1(n,e)),e}function s1(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function r1(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function l1(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function a1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],s1(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],r1(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],l1(r));const a=u(t,["thoughtSignature"]);a!=null&&c(e,["thoughtSignature"],a);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const v=u(t,["text"]);return v!=null&&c(e,["text"],v),e}function Um(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>a1(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function u1(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&c(e,["description"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["parameters"]);o!=null&&c(e,["parameters"],o);const r=u(t,["parametersJsonSchema"]);r!=null&&c(e,["parametersJsonSchema"],r);const a=u(t,["response"]);a!=null&&c(e,["response"],a);const d=u(t,["responseJsonSchema"]);return d!=null&&c(e,["responseJsonSchema"],d),e}function c1(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function d1(t){const e={},n=u(t,["timeRangeFilter"]);n!=null&&c(e,["timeRangeFilter"],c1(n));const i=u(t,["excludeDomains"]);return i!=null&&c(e,["excludeDomains"],i),e}function f1(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function h1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],f1(n)),e}function p1(t){const e={},n=u(t,["excludeDomains"]);return n!=null&&c(e,["excludeDomains"],n),e}function m1(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&c(e,["apiKeyString"],n),e}function g1(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&c(e,["apiKeyConfig"],m1(n));const i=u(t,["authType"]);i!=null&&c(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&c(e,["googleServiceAccountConfig"],o);const r=u(t,["httpBasicAuthConfig"]);r!=null&&c(e,["httpBasicAuthConfig"],r);const a=u(t,["oauthConfig"]);a!=null&&c(e,["oauthConfig"],a);const d=u(t,["oidcConfig"]);return d!=null&&c(e,["oidcConfig"],d),e}function y1(t){const e={},n=u(t,["authConfig"]);return n!=null&&c(e,["authConfig"],g1(n)),e}function v1(){return{}}function x1(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function C1(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(C=>u1(C))),c(e,["functionDeclarations"],v)}const i=u(t,["retrieval"]);i!=null&&c(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],d1(o));const r=u(t,["googleSearchRetrieval"]);r!=null&&c(e,["googleSearchRetrieval"],h1(r));const a=u(t,["enterpriseWebSearch"]);a!=null&&c(e,["enterpriseWebSearch"],p1(a));const d=u(t,["googleMaps"]);d!=null&&c(e,["googleMaps"],y1(d)),u(t,["urlContext"])!=null&&c(e,["urlContext"],v1());const p=u(t,["computerUse"]);p!=null&&c(e,["computerUse"],x1(p));const g=u(t,["codeExecution"]);return g!=null&&c(e,["codeExecution"],g),e}function _1(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function T1(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function S1(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],T1(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function w1(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],_1(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],S1(i)),e}function E1(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&c(e,["expireTime"],o);const r=u(t,["displayName"]);e!==void 0&&r!=null&&c(e,["displayName"],r);const a=u(t,["contents"]);if(e!==void 0&&a!=null){let v=zt(a);Array.isArray(v)&&(v=v.map(C=>Um(C))),c(e,["contents"],v)}const d=u(t,["systemInstruction"]);e!==void 0&&d!=null&&c(e,["systemInstruction"],Um(pt(d)));const h=u(t,["tools"]);if(e!==void 0&&h!=null){let v=h;Array.isArray(v)&&(v=v.map(C=>C1(C))),c(e,["tools"],v)}const p=u(t,["toolConfig"]);e!==void 0&&p!=null&&c(e,["toolConfig"],w1(p));const g=u(t,["kmsKeyName"]);return e!==void 0&&g!=null&&c(e,["encryption_spec","kmsKeyName"],g),n}function M1(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["model"],qy(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],E1(o,n)),n}function k1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],wn(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function N1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],wn(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function b1(t,e){const n={},i=u(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&c(e,["expireTime"],o),n}function I1(t,e){const n={},i=u(e,["name"]);i!=null&&c(n,["_url","name"],wn(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],b1(o,n)),n}function P1(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),n}function A1(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],P1(n,e)),e}function Sl(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["model"]);o!=null&&c(e,["model"],o);const r=u(t,["createTime"]);r!=null&&c(e,["createTime"],r);const a=u(t,["updateTime"]);a!=null&&c(e,["updateTime"],a);const d=u(t,["expireTime"]);d!=null&&c(e,["expireTime"],d);const h=u(t,["usageMetadata"]);return h!=null&&c(e,["usageMetadata"],h),e}function R1(){return{}}function D1(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>Sl(a))),c(e,["cachedContents"],r)}return e}function wl(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["model"]);o!=null&&c(e,["model"],o);const r=u(t,["createTime"]);r!=null&&c(e,["createTime"],r);const a=u(t,["updateTime"]);a!=null&&c(e,["updateTime"],a);const d=u(t,["expireTime"]);d!=null&&c(e,["expireTime"],d);const h=u(t,["usageMetadata"]);return h!=null&&c(e,["usageMetadata"],h),e}function L1(){return{}}function F1(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>wl(a))),c(e,["cachedContents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U1 extends Pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ws(ki.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=M1(this.apiClient,e);return d=re("cachedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>wl(g))}else{const p=Qw(this.apiClient,e);return d=re("cachedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>Sl(g))}}async get(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=k1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>wl(g))}else{const p=Zw(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>Sl(g))}}async delete(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=N1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(()=>{const g=L1(),v=new Im;return Object.assign(v,g),v})}else{const p=e1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(()=>{const g=R1(),v=new Im;return Object.assign(v,g),v})}}async update(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=I1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>wl(g))}else{const p=n1(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>Sl(g))}}async listInternal(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=A1(e);return d=re("cachedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=F1(g),C=new Pm;return Object.assign(C,v),C})}else{const p=o1(e);return d=re("cachedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=D1(g),C=new Pm;return Object.assign(C,v),C})}}}function Vm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ve(t){return this instanceof Ve?(this.v=t,this):new Ve(t)}function mo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(T){return function(w){return Promise.resolve(w).then(T,v)}}function d(T,w){i[T]&&(o[T]=function(E){return new Promise(function(M,b){r.push([T,E,M,b])>1||h(T,E)})},w&&(o[T]=w(o[T])))}function h(T,w){try{p(i[T](w))}catch(E){C(r[0][3],E)}}function p(T){T.value instanceof Ve?Promise.resolve(T.value.v).then(g,v):C(r[0][2],T)}function g(T){h("next",T)}function v(T){h("throw",T)}function C(T,w){T(w),r.shift(),r.length&&h(r[0][0],r[0][1])}}function Is(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Vm=="function"?Vm(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=t[r]&&function(a){return new Promise(function(d,h){a=t[r](a),o(d,h,a.done,a.value)})}}function o(r,a,d,h){Promise.resolve(h).then(function(p){r({value:p,done:d})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V1(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:sv(n)}function sv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function B1(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Bm(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let r=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),r&&!sv(t[i])&&(r=!1),i++;r?e.push(...o):e.pop()}return e}class H1{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new z1(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class z1{constructor(e,n,i,o={},r=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=r,this.sendPromise=Promise.resolve(),B1(r)}async sendMessage(e){var n;await this.sendPromise;const i=pt(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var r,a,d;const h=await o,p=(a=(r=h.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content,g=h.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let C=[];g!=null&&(C=(d=g.slice(v))!==null&&d!==void 0?d:[]);const T=p?[p]:[];this.recordHistory(i,T,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=pt(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const r=await o;return this.processStreamResponse(r,i)}getHistory(e=!1){const n=e?Bm(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return mo(this,arguments,function*(){var a,d,h,p;const g=[];try{for(var v=!0,C=Is(e),T;T=yield Ve(C.next()),a=T.done,!a;v=!0){p=T.value,v=!1;const w=p;if(V1(w)){const E=(o=(i=w.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;E!==void 0&&g.push(E)}yield yield Ve(w)}}catch(w){d={error:w}}finally{try{!v&&!a&&(h=C.return)&&(yield Ve(h.call(C)))}finally{if(d)throw d.error}}this.recordHistory(n,g)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(r=>r.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Bm(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Kl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O1(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),n}function q1(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],O1(n,e)),e}function $1(t){const e={},n=u(t,["details"]);n!=null&&c(e,["details"],n);const i=u(t,["message"]);i!=null&&c(e,["message"],i);const o=u(t,["code"]);return o!=null&&c(e,["code"],o),e}function G1(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["mimeType"]);o!=null&&c(e,["mimeType"],o);const r=u(t,["sizeBytes"]);r!=null&&c(e,["sizeBytes"],r);const a=u(t,["createTime"]);a!=null&&c(e,["createTime"],a);const d=u(t,["expirationTime"]);d!=null&&c(e,["expirationTime"],d);const h=u(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const p=u(t,["sha256Hash"]);p!=null&&c(e,["sha256Hash"],p);const g=u(t,["uri"]);g!=null&&c(e,["uri"],g);const v=u(t,["downloadUri"]);v!=null&&c(e,["downloadUri"],v);const C=u(t,["state"]);C!=null&&c(e,["state"],C);const T=u(t,["source"]);T!=null&&c(e,["source"],T);const w=u(t,["videoMetadata"]);w!=null&&c(e,["videoMetadata"],w);const E=u(t,["error"]);return E!=null&&c(e,["error"],$1(E)),e}function W1(t){const e={},n=u(t,["file"]);n!=null&&c(e,["file"],G1(n));const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function j1(t){const e={},n=u(t,["name"]);n!=null&&c(e,["_url","file"],Ky(n));const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function J1(t){const e={},n=u(t,["name"]);n!=null&&c(e,["_url","file"],Ky(n));const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function Y1(t){const e={},n=u(t,["details"]);n!=null&&c(e,["details"],n);const i=u(t,["message"]);i!=null&&c(e,["message"],i);const o=u(t,["code"]);return o!=null&&c(e,["code"],o),e}function Pc(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["mimeType"]);o!=null&&c(e,["mimeType"],o);const r=u(t,["sizeBytes"]);r!=null&&c(e,["sizeBytes"],r);const a=u(t,["createTime"]);a!=null&&c(e,["createTime"],a);const d=u(t,["expirationTime"]);d!=null&&c(e,["expirationTime"],d);const h=u(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const p=u(t,["sha256Hash"]);p!=null&&c(e,["sha256Hash"],p);const g=u(t,["uri"]);g!=null&&c(e,["uri"],g);const v=u(t,["downloadUri"]);v!=null&&c(e,["downloadUri"],v);const C=u(t,["state"]);C!=null&&c(e,["state"],C);const T=u(t,["source"]);T!=null&&c(e,["source"],T);const w=u(t,["videoMetadata"]);w!=null&&c(e,["videoMetadata"],w);const E=u(t,["error"]);return E!=null&&c(e,["error"],Y1(E)),e}function K1(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>Pc(a))),c(e,["files"],r)}return e}function X1(t){const e={},n=u(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function Q1(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z1 extends Pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ws(ki.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Pc(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=q1(e);return r=re("files",d._url),a=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const p=K1(h),g=new pS;return Object.assign(g,p),g})}}async createInternal(e){var n,i;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=W1(e);return r=re("upload/v1beta/files",d._url),a=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const p=X1(h),g=new mS;return Object.assign(g,p),g})}}async get(e){var n,i;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=j1(e);return r=re("files/{file}",d._url),a=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Pc(h))}}async delete(e){var n,i;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=J1(e);return r=re("files/{file}",d._url),a=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(()=>{const h=Q1(),p=new gS;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eE(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function rv(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],eE(n)),e}function tE(t){const e={},n=u(t,["speaker"]);n!=null&&c(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&c(e,["voiceConfig"],rv(i)),e}function nE(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tE(o))),c(e,["speakerVoiceConfigs"],i)}return e}function iE(t){const e={},n=u(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],rv(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&c(e,["multiSpeakerVoiceConfig"],nE(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function oE(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function sE(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function rE(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function lE(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],oE(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],sE(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],rE(r));const a=u(t,["thoughtSignature"]);a!=null&&c(e,["thoughtSignature"],a);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const v=u(t,["text"]);return v!=null&&c(e,["text"],v),e}function aE(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>lE(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function uE(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const a=u(t,["parametersJsonSchema"]);a!=null&&c(e,["parametersJsonSchema"],a);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function cE(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function dE(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],cE(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function fE(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function hE(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],fE(n)),e}function pE(){return{}}function mE(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function gE(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>uE(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],dE(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],hE(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],pE());const a=u(t,["computerUse"]);a!=null&&c(e,["computerUse"],mE(a));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function yE(t){const e={},n=u(t,["handle"]);if(n!=null&&c(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Hm(){return{}}function vE(t){const e={},n=u(t,["disabled"]);n!=null&&c(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&c(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&c(e,["endOfSpeechSensitivity"],o);const r=u(t,["prefixPaddingMs"]);r!=null&&c(e,["prefixPaddingMs"],r);const a=u(t,["silenceDurationMs"]);return a!=null&&c(e,["silenceDurationMs"],a),e}function xE(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&c(e,["automaticActivityDetection"],vE(n));const i=u(t,["activityHandling"]);i!=null&&c(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&c(e,["turnCoverage"],o),e}function CE(t){const e={},n=u(t,["targetTokens"]);return n!=null&&c(e,["targetTokens"],n),e}function _E(t){const e={},n=u(t,["triggerTokens"]);n!=null&&c(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&c(e,["slidingWindow"],CE(i)),e}function TE(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&c(e,["proactiveAudio"],n),e}function SE(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","responseModalities"],o);const r=u(t,["temperature"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","temperature"],r);const a=u(t,["topP"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig","topP"],a);const d=u(t,["topK"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","topK"],d);const h=u(t,["maxOutputTokens"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","maxOutputTokens"],h);const p=u(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const g=u(t,["seed"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","seed"],g);const v=u(t,["speechConfig"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","speechConfig"],iE(nd(v)));const C=u(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],C);const T=u(t,["systemInstruction"]);e!==void 0&&T!=null&&c(e,["setup","systemInstruction"],aE(pt(T)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let L=Eo(w);Array.isArray(L)&&(L=L.map(H=>gE(wo(H)))),c(e,["setup","tools"],L)}const E=u(t,["sessionResumption"]);e!==void 0&&E!=null&&c(e,["setup","sessionResumption"],yE(E));const M=u(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&c(e,["setup","inputAudioTranscription"],Hm());const b=u(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&c(e,["setup","outputAudioTranscription"],Hm());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&c(e,["setup","realtimeInputConfig"],xE(P));const R=u(t,["contextWindowCompression"]);e!==void 0&&R!=null&&c(e,["setup","contextWindowCompression"],_E(R));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&c(e,["setup","proactivity"],TE(D)),n}function wE(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["setup","model"],Ne(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],SE(o,n)),n}function EE(){return{}}function ME(){return{}}function kE(t){const e={},n=u(t,["media"]);n!=null&&c(e,["mediaChunks"],$y(n));const i=u(t,["audio"]);i!=null&&c(e,["audio"],Wy(i));const o=u(t,["audioStreamEnd"]);o!=null&&c(e,["audioStreamEnd"],o);const r=u(t,["video"]);r!=null&&c(e,["video"],Gy(r));const a=u(t,["text"]);return a!=null&&c(e,["text"],a),u(t,["activityStart"])!=null&&c(e,["activityStart"],EE()),u(t,["activityEnd"])!=null&&c(e,["activityEnd"],ME()),e}function lv(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["weight"]);return i!=null&&c(e,["weight"],i),e}function NE(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lv(o))),c(e,["weightedPrompts"],i)}return e}function av(t){const e={},n=u(t,["temperature"]);n!=null&&c(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&c(e,["topK"],i);const o=u(t,["seed"]);o!=null&&c(e,["seed"],o);const r=u(t,["guidance"]);r!=null&&c(e,["guidance"],r);const a=u(t,["bpm"]);a!=null&&c(e,["bpm"],a);const d=u(t,["density"]);d!=null&&c(e,["density"],d);const h=u(t,["brightness"]);h!=null&&c(e,["brightness"],h);const p=u(t,["scale"]);p!=null&&c(e,["scale"],p);const g=u(t,["muteBass"]);g!=null&&c(e,["muteBass"],g);const v=u(t,["muteDrums"]);v!=null&&c(e,["muteDrums"],v);const C=u(t,["onlyBassAndDrums"]);C!=null&&c(e,["onlyBassAndDrums"],C);const T=u(t,["musicGenerationMode"]);return T!=null&&c(e,["musicGenerationMode"],T),e}function bE(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&c(e,["musicGenerationConfig"],av(n)),e}function uv(t){const e={},n=u(t,["model"]);return n!=null&&c(e,["model"],n),e}function cv(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lv(o))),c(e,["weightedPrompts"],i)}return e}function Ac(t){const e={},n=u(t,["setup"]);n!=null&&c(e,["setup"],uv(n));const i=u(t,["clientContent"]);i!=null&&c(e,["clientContent"],cv(i));const o=u(t,["musicGenerationConfig"]);o!=null&&c(e,["musicGenerationConfig"],av(o));const r=u(t,["playbackControl"]);return r!=null&&c(e,["playbackControl"],r),e}function IE(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function PE(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],IE(n)),e}function AE(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&c(e,["voiceConfig"],PE(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function RE(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function DE(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function LE(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function FE(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],RE(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],DE(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],LE(r));const a=u(t,["thoughtSignature"]);a!=null&&c(e,["thoughtSignature"],a);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const v=u(t,["text"]);return v!=null&&c(e,["text"],v),e}function UE(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>FE(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function VE(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&c(e,["description"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["parameters"]);o!=null&&c(e,["parameters"],o);const r=u(t,["parametersJsonSchema"]);r!=null&&c(e,["parametersJsonSchema"],r);const a=u(t,["response"]);a!=null&&c(e,["response"],a);const d=u(t,["responseJsonSchema"]);return d!=null&&c(e,["responseJsonSchema"],d),e}function BE(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function HE(t){const e={},n=u(t,["timeRangeFilter"]);n!=null&&c(e,["timeRangeFilter"],BE(n));const i=u(t,["excludeDomains"]);return i!=null&&c(e,["excludeDomains"],i),e}function zE(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function OE(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],zE(n)),e}function qE(t){const e={},n=u(t,["excludeDomains"]);return n!=null&&c(e,["excludeDomains"],n),e}function $E(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&c(e,["apiKeyString"],n),e}function GE(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&c(e,["apiKeyConfig"],$E(n));const i=u(t,["authType"]);i!=null&&c(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&c(e,["googleServiceAccountConfig"],o);const r=u(t,["httpBasicAuthConfig"]);r!=null&&c(e,["httpBasicAuthConfig"],r);const a=u(t,["oauthConfig"]);a!=null&&c(e,["oauthConfig"],a);const d=u(t,["oidcConfig"]);return d!=null&&c(e,["oidcConfig"],d),e}function WE(t){const e={},n=u(t,["authConfig"]);return n!=null&&c(e,["authConfig"],GE(n)),e}function jE(){return{}}function JE(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function YE(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(C=>VE(C))),c(e,["functionDeclarations"],v)}const i=u(t,["retrieval"]);i!=null&&c(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],HE(o));const r=u(t,["googleSearchRetrieval"]);r!=null&&c(e,["googleSearchRetrieval"],OE(r));const a=u(t,["enterpriseWebSearch"]);a!=null&&c(e,["enterpriseWebSearch"],qE(a));const d=u(t,["googleMaps"]);d!=null&&c(e,["googleMaps"],WE(d)),u(t,["urlContext"])!=null&&c(e,["urlContext"],jE());const p=u(t,["computerUse"]);p!=null&&c(e,["computerUse"],JE(p));const g=u(t,["codeExecution"]);return g!=null&&c(e,["codeExecution"],g),e}function KE(t){const e={},n=u(t,["handle"]);n!=null&&c(e,["handle"],n);const i=u(t,["transparent"]);return i!=null&&c(e,["transparent"],i),e}function zm(){return{}}function XE(t){const e={},n=u(t,["disabled"]);n!=null&&c(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&c(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&c(e,["endOfSpeechSensitivity"],o);const r=u(t,["prefixPaddingMs"]);r!=null&&c(e,["prefixPaddingMs"],r);const a=u(t,["silenceDurationMs"]);return a!=null&&c(e,["silenceDurationMs"],a),e}function QE(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&c(e,["automaticActivityDetection"],XE(n));const i=u(t,["activityHandling"]);i!=null&&c(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&c(e,["turnCoverage"],o),e}function ZE(t){const e={},n=u(t,["targetTokens"]);return n!=null&&c(e,["targetTokens"],n),e}function eM(t){const e={},n=u(t,["triggerTokens"]);n!=null&&c(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&c(e,["slidingWindow"],ZE(i)),e}function tM(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&c(e,["proactiveAudio"],n),e}function nM(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","responseModalities"],o);const r=u(t,["temperature"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","temperature"],r);const a=u(t,["topP"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig","topP"],a);const d=u(t,["topK"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","topK"],d);const h=u(t,["maxOutputTokens"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","maxOutputTokens"],h);const p=u(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const g=u(t,["seed"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","seed"],g);const v=u(t,["speechConfig"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","speechConfig"],AE(nd(v)));const C=u(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],C);const T=u(t,["systemInstruction"]);e!==void 0&&T!=null&&c(e,["setup","systemInstruction"],UE(pt(T)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let L=Eo(w);Array.isArray(L)&&(L=L.map(H=>YE(wo(H)))),c(e,["setup","tools"],L)}const E=u(t,["sessionResumption"]);e!==void 0&&E!=null&&c(e,["setup","sessionResumption"],KE(E));const M=u(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&c(e,["setup","inputAudioTranscription"],zm());const b=u(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&c(e,["setup","outputAudioTranscription"],zm());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&c(e,["setup","realtimeInputConfig"],QE(P));const R=u(t,["contextWindowCompression"]);e!==void 0&&R!=null&&c(e,["setup","contextWindowCompression"],eM(R));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&c(e,["setup","proactivity"],tM(D)),n}function iM(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["setup","model"],Ne(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],nM(o,n)),n}function oM(){return{}}function sM(){return{}}function rM(t){const e={},n=u(t,["media"]);n!=null&&c(e,["mediaChunks"],$y(n));const i=u(t,["audio"]);i!=null&&c(e,["audio"],Wy(i));const o=u(t,["audioStreamEnd"]);o!=null&&c(e,["audioStreamEnd"],o);const r=u(t,["video"]);r!=null&&c(e,["video"],Gy(r));const a=u(t,["text"]);return a!=null&&c(e,["text"],a),u(t,["activityStart"])!=null&&c(e,["activityStart"],oM()),u(t,["activityEnd"])!=null&&c(e,["activityEnd"],sM()),e}function lM(){return{}}function aM(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function uM(t){const e={},n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function cM(t){const e={},n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function dM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],aM(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],uM(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],cM(r));const a=u(t,["thoughtSignature"]);a!=null&&c(e,["thoughtSignature"],a);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const v=u(t,["text"]);return v!=null&&c(e,["text"],v),e}function fM(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>dM(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function Om(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["finished"]);return i!=null&&c(e,["finished"],i),e}function hM(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&c(e,["urlRetrievalStatus"],i),e}function pM(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hM(o))),c(e,["urlMetadata"],i)}return e}function mM(t){const e={},n=u(t,["modelTurn"]);n!=null&&c(e,["modelTurn"],fM(n));const i=u(t,["turnComplete"]);i!=null&&c(e,["turnComplete"],i);const o=u(t,["interrupted"]);o!=null&&c(e,["interrupted"],o);const r=u(t,["groundingMetadata"]);r!=null&&c(e,["groundingMetadata"],r);const a=u(t,["generationComplete"]);a!=null&&c(e,["generationComplete"],a);const d=u(t,["inputTranscription"]);d!=null&&c(e,["inputTranscription"],Om(d));const h=u(t,["outputTranscription"]);h!=null&&c(e,["outputTranscription"],Om(h));const p=u(t,["urlContextMetadata"]);return p!=null&&c(e,["urlContextMetadata"],pM(p)),e}function gM(t){const e={},n=u(t,["id"]);n!=null&&c(e,["id"],n);const i=u(t,["args"]);i!=null&&c(e,["args"],i);const o=u(t,["name"]);return o!=null&&c(e,["name"],o),e}function yM(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gM(o))),c(e,["functionCalls"],i)}return e}function vM(t){const e={},n=u(t,["ids"]);return n!=null&&c(e,["ids"],n),e}function sl(t){const e={},n=u(t,["modality"]);n!=null&&c(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&c(e,["tokenCount"],i),e}function xM(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&c(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&c(e,["cachedContentTokenCount"],i);const o=u(t,["responseTokenCount"]);o!=null&&c(e,["responseTokenCount"],o);const r=u(t,["toolUsePromptTokenCount"]);r!=null&&c(e,["toolUsePromptTokenCount"],r);const a=u(t,["thoughtsTokenCount"]);a!=null&&c(e,["thoughtsTokenCount"],a);const d=u(t,["totalTokenCount"]);d!=null&&c(e,["totalTokenCount"],d);const h=u(t,["promptTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(T=>sl(T))),c(e,["promptTokensDetails"],C)}const p=u(t,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(T=>sl(T))),c(e,["cacheTokensDetails"],C)}const g=u(t,["responseTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(T=>sl(T))),c(e,["responseTokensDetails"],C)}const v=u(t,["toolUsePromptTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(T=>sl(T))),c(e,["toolUsePromptTokensDetails"],C)}return e}function CM(t){const e={},n=u(t,["timeLeft"]);return n!=null&&c(e,["timeLeft"],n),e}function _M(t){const e={},n=u(t,["newHandle"]);n!=null&&c(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&c(e,["resumable"],i);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&c(e,["lastConsumedClientMessageIndex"],o),e}function TM(t){const e={};u(t,["setupComplete"])!=null&&c(e,["setupComplete"],lM());const i=u(t,["serverContent"]);i!=null&&c(e,["serverContent"],mM(i));const o=u(t,["toolCall"]);o!=null&&c(e,["toolCall"],yM(o));const r=u(t,["toolCallCancellation"]);r!=null&&c(e,["toolCallCancellation"],vM(r));const a=u(t,["usageMetadata"]);a!=null&&c(e,["usageMetadata"],xM(a));const d=u(t,["goAway"]);d!=null&&c(e,["goAway"],CM(d));const h=u(t,["sessionResumptionUpdate"]);return h!=null&&c(e,["sessionResumptionUpdate"],_M(h)),e}function SM(){return{}}function wM(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["weight"]);return i!=null&&c(e,["weight"],i),e}function EM(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>wM(o))),c(e,["weightedPrompts"],i)}return e}function MM(t){const e={},n=u(t,["temperature"]);n!=null&&c(e,["temperature"],n);const i=u(t,["topK"]);i!=null&&c(e,["topK"],i);const o=u(t,["seed"]);o!=null&&c(e,["seed"],o);const r=u(t,["guidance"]);r!=null&&c(e,["guidance"],r);const a=u(t,["bpm"]);a!=null&&c(e,["bpm"],a);const d=u(t,["density"]);d!=null&&c(e,["density"],d);const h=u(t,["brightness"]);h!=null&&c(e,["brightness"],h);const p=u(t,["scale"]);p!=null&&c(e,["scale"],p);const g=u(t,["muteBass"]);g!=null&&c(e,["muteBass"],g);const v=u(t,["muteDrums"]);v!=null&&c(e,["muteDrums"],v);const C=u(t,["onlyBassAndDrums"]);C!=null&&c(e,["onlyBassAndDrums"],C);const T=u(t,["musicGenerationMode"]);return T!=null&&c(e,["musicGenerationMode"],T),e}function kM(t){const e={},n=u(t,["clientContent"]);n!=null&&c(e,["clientContent"],EM(n));const i=u(t,["musicGenerationConfig"]);return i!=null&&c(e,["musicGenerationConfig"],MM(i)),e}function NM(t){const e={},n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);i!=null&&c(e,["mimeType"],i);const o=u(t,["sourceMetadata"]);return o!=null&&c(e,["sourceMetadata"],kM(o)),e}function bM(t){const e={},n=u(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>NM(o))),c(e,["audioChunks"],i)}return e}function IM(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["filteredReason"]);return i!=null&&c(e,["filteredReason"],i),e}function PM(t){const e={};u(t,["setupComplete"])!=null&&c(e,["setupComplete"],SM());const i=u(t,["serverContent"]);i!=null&&c(e,["serverContent"],bM(i));const o=u(t,["filteredPrompt"]);return o!=null&&c(e,["filteredPrompt"],IM(o)),e}function AM(t){const e={},n=u(t,["sessionId"]);return n!=null&&c(e,["sessionId"],n),e}function RM(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function DM(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function LM(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function FM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],RM(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],DM(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],LM(r));const a=u(t,["thoughtSignature"]);a!=null&&c(e,["thoughtSignature"],a);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const v=u(t,["text"]);return v!=null&&c(e,["text"],v),e}function UM(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>FM(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function qm(t){const e={},n=u(t,["text"]);n!=null&&c(e,["text"],n);const i=u(t,["finished"]);return i!=null&&c(e,["finished"],i),e}function VM(t){const e={},n=u(t,["modelTurn"]);n!=null&&c(e,["modelTurn"],UM(n));const i=u(t,["turnComplete"]);i!=null&&c(e,["turnComplete"],i);const o=u(t,["interrupted"]);o!=null&&c(e,["interrupted"],o);const r=u(t,["groundingMetadata"]);r!=null&&c(e,["groundingMetadata"],r);const a=u(t,["generationComplete"]);a!=null&&c(e,["generationComplete"],a);const d=u(t,["inputTranscription"]);d!=null&&c(e,["inputTranscription"],qm(d));const h=u(t,["outputTranscription"]);return h!=null&&c(e,["outputTranscription"],qm(h)),e}function BM(t){const e={},n=u(t,["args"]);n!=null&&c(e,["args"],n);const i=u(t,["name"]);return i!=null&&c(e,["name"],i),e}function HM(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>BM(o))),c(e,["functionCalls"],i)}return e}function zM(t){const e={},n=u(t,["ids"]);return n!=null&&c(e,["ids"],n),e}function rl(t){const e={},n=u(t,["modality"]);n!=null&&c(e,["modality"],n);const i=u(t,["tokenCount"]);return i!=null&&c(e,["tokenCount"],i),e}function OM(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&c(e,["promptTokenCount"],n);const i=u(t,["cachedContentTokenCount"]);i!=null&&c(e,["cachedContentTokenCount"],i);const o=u(t,["candidatesTokenCount"]);o!=null&&c(e,["responseTokenCount"],o);const r=u(t,["toolUsePromptTokenCount"]);r!=null&&c(e,["toolUsePromptTokenCount"],r);const a=u(t,["thoughtsTokenCount"]);a!=null&&c(e,["thoughtsTokenCount"],a);const d=u(t,["totalTokenCount"]);d!=null&&c(e,["totalTokenCount"],d);const h=u(t,["promptTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(w=>rl(w))),c(e,["promptTokensDetails"],T)}const p=u(t,["cacheTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(w=>rl(w))),c(e,["cacheTokensDetails"],T)}const g=u(t,["candidatesTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(w=>rl(w))),c(e,["responseTokensDetails"],T)}const v=u(t,["toolUsePromptTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(w=>rl(w))),c(e,["toolUsePromptTokensDetails"],T)}const C=u(t,["trafficType"]);return C!=null&&c(e,["trafficType"],C),e}function qM(t){const e={},n=u(t,["timeLeft"]);return n!=null&&c(e,["timeLeft"],n),e}function $M(t){const e={},n=u(t,["newHandle"]);n!=null&&c(e,["newHandle"],n);const i=u(t,["resumable"]);i!=null&&c(e,["resumable"],i);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&c(e,["lastConsumedClientMessageIndex"],o),e}function GM(t){const e={},n=u(t,["setupComplete"]);n!=null&&c(e,["setupComplete"],AM(n));const i=u(t,["serverContent"]);i!=null&&c(e,["serverContent"],VM(i));const o=u(t,["toolCall"]);o!=null&&c(e,["toolCall"],HM(o));const r=u(t,["toolCallCancellation"]);r!=null&&c(e,["toolCallCancellation"],zM(r));const a=u(t,["usageMetadata"]);a!=null&&c(e,["usageMetadata"],OM(a));const d=u(t,["goAway"]);d!=null&&c(e,["goAway"],qM(d));const h=u(t,["sessionResumptionUpdate"]);return h!=null&&c(e,["sessionResumptionUpdate"],$M(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WM(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function jM(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function JM(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function YM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],WM(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],jM(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],JM(r));const a=u(t,["thoughtSignature"]);a!=null&&c(e,["thoughtSignature"],a);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const v=u(t,["text"]);return v!=null&&c(e,["text"],v),e}function Xl(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>YM(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function KM(t){const e={},n=u(t,["anyOf"]);n!=null&&c(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&c(e,["default"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["enum"]);r!=null&&c(e,["enum"],r);const a=u(t,["example"]);a!=null&&c(e,["example"],a);const d=u(t,["format"]);d!=null&&c(e,["format"],d);const h=u(t,["items"]);h!=null&&c(e,["items"],h);const p=u(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const g=u(t,["maxLength"]);g!=null&&c(e,["maxLength"],g);const v=u(t,["maxProperties"]);v!=null&&c(e,["maxProperties"],v);const C=u(t,["maximum"]);C!=null&&c(e,["maximum"],C);const T=u(t,["minItems"]);T!=null&&c(e,["minItems"],T);const w=u(t,["minLength"]);w!=null&&c(e,["minLength"],w);const E=u(t,["minProperties"]);E!=null&&c(e,["minProperties"],E);const M=u(t,["minimum"]);M!=null&&c(e,["minimum"],M);const b=u(t,["nullable"]);b!=null&&c(e,["nullable"],b);const P=u(t,["pattern"]);P!=null&&c(e,["pattern"],P);const R=u(t,["properties"]);R!=null&&c(e,["properties"],R);const D=u(t,["propertyOrdering"]);D!=null&&c(e,["propertyOrdering"],D);const L=u(t,["required"]);L!=null&&c(e,["required"],L);const H=u(t,["title"]);H!=null&&c(e,["title"],H);const O=u(t,["type"]);return O!=null&&c(e,["type"],O),e}function XM(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&c(e,["category"],n);const i=u(t,["threshold"]);return i!=null&&c(e,["threshold"],i),e}function QM(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const a=u(t,["parametersJsonSchema"]);a!=null&&c(e,["parametersJsonSchema"],a);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function ZM(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function ek(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],ZM(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function tk(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function nk(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],tk(n)),e}function ik(){return{}}function ok(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function sk(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>QM(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],ek(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],nk(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],ik());const a=u(t,["computerUse"]);a!=null&&c(e,["computerUse"],ok(a));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function rk(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function lk(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function ak(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],lk(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function uk(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],rk(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],ak(i)),e}function ck(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function dv(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],ck(n)),e}function dk(t){const e={},n=u(t,["speaker"]);n!=null&&c(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&c(e,["voiceConfig"],dv(i)),e}function fk(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>dk(o))),c(e,["speakerVoiceConfigs"],i)}return e}function hk(t){const e={},n=u(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],dv(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&c(e,["multiSpeakerVoiceConfig"],fk(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function pk(t){const e={},n=u(t,["includeThoughts"]);n!=null&&c(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&c(e,["thinkingBudget"],i),e}function mk(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&c(n,["systemInstruction"],Xl(pt(o)));const r=u(e,["temperature"]);r!=null&&c(i,["temperature"],r);const a=u(e,["topP"]);a!=null&&c(i,["topP"],a);const d=u(e,["topK"]);d!=null&&c(i,["topK"],d);const h=u(e,["candidateCount"]);h!=null&&c(i,["candidateCount"],h);const p=u(e,["maxOutputTokens"]);p!=null&&c(i,["maxOutputTokens"],p);const g=u(e,["stopSequences"]);g!=null&&c(i,["stopSequences"],g);const v=u(e,["responseLogprobs"]);v!=null&&c(i,["responseLogprobs"],v);const C=u(e,["logprobs"]);C!=null&&c(i,["logprobs"],C);const T=u(e,["presencePenalty"]);T!=null&&c(i,["presencePenalty"],T);const w=u(e,["frequencyPenalty"]);w!=null&&c(i,["frequencyPenalty"],w);const E=u(e,["seed"]);E!=null&&c(i,["seed"],E);const M=u(e,["responseMimeType"]);M!=null&&c(i,["responseMimeType"],M);const b=u(e,["responseSchema"]);b!=null&&c(i,["responseSchema"],KM(ed(b)));const P=u(e,["responseJsonSchema"]);if(P!=null&&c(i,["responseJsonSchema"],P),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=u(e,["safetySettings"]);if(n!==void 0&&R!=null){let X=R;Array.isArray(X)&&(X=X.map(le=>XM(le))),c(n,["safetySettings"],X)}const D=u(e,["tools"]);if(n!==void 0&&D!=null){let X=Eo(D);Array.isArray(X)&&(X=X.map(le=>sk(wo(le)))),c(n,["tools"],X)}const L=u(e,["toolConfig"]);if(n!==void 0&&L!=null&&c(n,["toolConfig"],uk(L)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const H=u(e,["cachedContent"]);n!==void 0&&H!=null&&c(n,["cachedContent"],wn(t,H));const O=u(e,["responseModalities"]);O!=null&&c(i,["responseModalities"],O);const J=u(e,["mediaResolution"]);J!=null&&c(i,["mediaResolution"],J);const W=u(e,["speechConfig"]);if(W!=null&&c(i,["speechConfig"],hk(td(W))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=u(e,["thinkingConfig"]);return Q!=null&&c(i,["thinkingConfig"],pk(Q)),i}function $m(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["contents"]);if(o!=null){let a=zt(o);Array.isArray(a)&&(a=a.map(d=>Xl(d))),c(n,["contents"],a)}const r=u(e,["config"]);return r!=null&&c(n,["generationConfig"],mk(t,r,n)),n}function gk(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&c(e,["requests[]","taskType"],i);const o=u(t,["title"]);e!==void 0&&o!=null&&c(e,["requests[]","title"],o);const r=u(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&c(e,["requests[]","outputDimensionality"],r),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function yk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["contents"]);o!=null&&c(n,["requests[]","content"],Jy(t,o));const r=u(e,["config"]);r!=null&&c(n,["config"],gk(r,n));const a=u(e,["model"]);return a!==void 0&&c(n,["requests[]","model"],Ne(t,a)),n}function vk(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);const o=u(t,["aspectRatio"]);e!==void 0&&o!=null&&c(e,["parameters","aspectRatio"],o);const r=u(t,["guidanceScale"]);if(e!==void 0&&r!=null&&c(e,["parameters","guidanceScale"],r),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=u(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&c(e,["parameters","safetySetting"],a);const d=u(t,["personGeneration"]);e!==void 0&&d!=null&&c(e,["parameters","personGeneration"],d);const h=u(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&c(e,["parameters","includeSafetyAttributes"],h);const p=u(t,["includeRaiReason"]);e!==void 0&&p!=null&&c(e,["parameters","includeRaiReason"],p);const g=u(t,["language"]);e!==void 0&&g!=null&&c(e,["parameters","language"],g);const v=u(t,["outputMimeType"]);e!==void 0&&v!=null&&c(e,["parameters","outputOptions","mimeType"],v);const C=u(t,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&c(e,["parameters","outputOptions","compressionQuality"],C),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const T=u(t,["imageSize"]);if(e!==void 0&&T!=null&&c(e,["parameters","sampleImageSize"],T),u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function xk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["config"]);return r!=null&&c(n,["config"],vk(r,n)),n}function Ck(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],Ne(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function _k(t,e,n){const i={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&c(n,["_query","pageSize"],o);const r=u(e,["pageToken"]);n!==void 0&&r!=null&&c(n,["_query","pageToken"],r);const a=u(e,["filter"]);n!==void 0&&a!=null&&c(n,["_query","filter"],a);const d=u(e,["queryBase"]);return n!==void 0&&d!=null&&c(n,["_url","models_url"],Xy(t,d)),i}function Tk(t,e){const n={},i=u(e,["config"]);return i!=null&&c(n,["config"],_k(t,i,n)),n}function Sk(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&c(e,["description"],o);const r=u(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&c(e,["defaultCheckpointId"],r),n}function wk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],Ne(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],Sk(o,n)),n}function Ek(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],Ne(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function Mk(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function kk(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["contents"]);if(o!=null){let a=zt(o);Array.isArray(a)&&(a=a.map(d=>Xl(d))),c(n,["contents"],a)}const r=u(e,["config"]);return r!=null&&c(n,["config"],Mk(r)),n}function Nk(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&c(e,["bytesBase64Encoded"],Ai(n));const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function bk(t,e){const n={},i=u(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=u(t,["durationSeconds"]);if(e!==void 0&&o!=null&&c(e,["parameters","durationSeconds"],o),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=u(t,["aspectRatio"]);if(e!==void 0&&r!=null&&c(e,["parameters","aspectRatio"],r),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const a=u(t,["personGeneration"]);if(e!==void 0&&a!=null&&c(e,["parameters","personGeneration"],a),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=u(t,["negativePrompt"]);e!==void 0&&d!=null&&c(e,["parameters","negativePrompt"],d);const h=u(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&c(e,["parameters","enhancePrompt"],h),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Ik(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["image"]);if(r!=null&&c(n,["instances[0]","image"],Nk(r)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=u(e,["config"]);return a!=null&&c(n,["config"],bk(a,n)),n}function Pk(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function Ak(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Rk(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Dk(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],Pk(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],Ak(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],Rk(r));const a=u(t,["thoughtSignature"]);a!=null&&c(e,["thoughtSignature"],a);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const v=u(t,["text"]);return v!=null&&c(e,["text"],v),e}function ko(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Dk(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function Lk(t){const e={},n=u(t,["anyOf"]);n!=null&&c(e,["anyOf"],n);const i=u(t,["default"]);i!=null&&c(e,["default"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["enum"]);r!=null&&c(e,["enum"],r);const a=u(t,["example"]);a!=null&&c(e,["example"],a);const d=u(t,["format"]);d!=null&&c(e,["format"],d);const h=u(t,["items"]);h!=null&&c(e,["items"],h);const p=u(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const g=u(t,["maxLength"]);g!=null&&c(e,["maxLength"],g);const v=u(t,["maxProperties"]);v!=null&&c(e,["maxProperties"],v);const C=u(t,["maximum"]);C!=null&&c(e,["maximum"],C);const T=u(t,["minItems"]);T!=null&&c(e,["minItems"],T);const w=u(t,["minLength"]);w!=null&&c(e,["minLength"],w);const E=u(t,["minProperties"]);E!=null&&c(e,["minProperties"],E);const M=u(t,["minimum"]);M!=null&&c(e,["minimum"],M);const b=u(t,["nullable"]);b!=null&&c(e,["nullable"],b);const P=u(t,["pattern"]);P!=null&&c(e,["pattern"],P);const R=u(t,["properties"]);R!=null&&c(e,["properties"],R);const D=u(t,["propertyOrdering"]);D!=null&&c(e,["propertyOrdering"],D);const L=u(t,["required"]);L!=null&&c(e,["required"],L);const H=u(t,["title"]);H!=null&&c(e,["title"],H);const O=u(t,["type"]);return O!=null&&c(e,["type"],O),e}function Fk(t){const e={},n=u(t,["featureSelectionPreference"]);return n!=null&&c(e,["featureSelectionPreference"],n),e}function Uk(t){const e={},n=u(t,["method"]);n!=null&&c(e,["method"],n);const i=u(t,["category"]);i!=null&&c(e,["category"],i);const o=u(t,["threshold"]);return o!=null&&c(e,["threshold"],o),e}function Vk(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&c(e,["description"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["parameters"]);o!=null&&c(e,["parameters"],o);const r=u(t,["parametersJsonSchema"]);r!=null&&c(e,["parametersJsonSchema"],r);const a=u(t,["response"]);a!=null&&c(e,["response"],a);const d=u(t,["responseJsonSchema"]);return d!=null&&c(e,["responseJsonSchema"],d),e}function Bk(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function Hk(t){const e={},n=u(t,["timeRangeFilter"]);n!=null&&c(e,["timeRangeFilter"],Bk(n));const i=u(t,["excludeDomains"]);return i!=null&&c(e,["excludeDomains"],i),e}function zk(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function Ok(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],zk(n)),e}function qk(t){const e={},n=u(t,["excludeDomains"]);return n!=null&&c(e,["excludeDomains"],n),e}function $k(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&c(e,["apiKeyString"],n),e}function Gk(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&c(e,["apiKeyConfig"],$k(n));const i=u(t,["authType"]);i!=null&&c(e,["authType"],i);const o=u(t,["googleServiceAccountConfig"]);o!=null&&c(e,["googleServiceAccountConfig"],o);const r=u(t,["httpBasicAuthConfig"]);r!=null&&c(e,["httpBasicAuthConfig"],r);const a=u(t,["oauthConfig"]);a!=null&&c(e,["oauthConfig"],a);const d=u(t,["oidcConfig"]);return d!=null&&c(e,["oidcConfig"],d),e}function Wk(t){const e={},n=u(t,["authConfig"]);return n!=null&&c(e,["authConfig"],Gk(n)),e}function jk(){return{}}function Jk(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function fv(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(C=>Vk(C))),c(e,["functionDeclarations"],v)}const i=u(t,["retrieval"]);i!=null&&c(e,["retrieval"],i);const o=u(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],Hk(o));const r=u(t,["googleSearchRetrieval"]);r!=null&&c(e,["googleSearchRetrieval"],Ok(r));const a=u(t,["enterpriseWebSearch"]);a!=null&&c(e,["enterpriseWebSearch"],qk(a));const d=u(t,["googleMaps"]);d!=null&&c(e,["googleMaps"],Wk(d)),u(t,["urlContext"])!=null&&c(e,["urlContext"],jk());const p=u(t,["computerUse"]);p!=null&&c(e,["computerUse"],Jk(p));const g=u(t,["codeExecution"]);return g!=null&&c(e,["codeExecution"],g),e}function Yk(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["allowedFunctionNames"]);return i!=null&&c(e,["allowedFunctionNames"],i),e}function Kk(t){const e={},n=u(t,["latitude"]);n!=null&&c(e,["latitude"],n);const i=u(t,["longitude"]);return i!=null&&c(e,["longitude"],i),e}function Xk(t){const e={},n=u(t,["latLng"]);n!=null&&c(e,["latLng"],Kk(n));const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function Qk(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],Yk(n));const i=u(t,["retrievalConfig"]);return i!=null&&c(e,["retrievalConfig"],Xk(i)),e}function Zk(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function eN(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],Zk(n)),e}function tN(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&c(e,["voiceConfig"],eN(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=u(t,["languageCode"]);return i!=null&&c(e,["languageCode"],i),e}function nN(t){const e={},n=u(t,["includeThoughts"]);n!=null&&c(e,["includeThoughts"],n);const i=u(t,["thinkingBudget"]);return i!=null&&c(e,["thinkingBudget"],i),e}function iN(t,e,n){const i={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&c(n,["systemInstruction"],ko(pt(o)));const r=u(e,["temperature"]);r!=null&&c(i,["temperature"],r);const a=u(e,["topP"]);a!=null&&c(i,["topP"],a);const d=u(e,["topK"]);d!=null&&c(i,["topK"],d);const h=u(e,["candidateCount"]);h!=null&&c(i,["candidateCount"],h);const p=u(e,["maxOutputTokens"]);p!=null&&c(i,["maxOutputTokens"],p);const g=u(e,["stopSequences"]);g!=null&&c(i,["stopSequences"],g);const v=u(e,["responseLogprobs"]);v!=null&&c(i,["responseLogprobs"],v);const C=u(e,["logprobs"]);C!=null&&c(i,["logprobs"],C);const T=u(e,["presencePenalty"]);T!=null&&c(i,["presencePenalty"],T);const w=u(e,["frequencyPenalty"]);w!=null&&c(i,["frequencyPenalty"],w);const E=u(e,["seed"]);E!=null&&c(i,["seed"],E);const M=u(e,["responseMimeType"]);M!=null&&c(i,["responseMimeType"],M);const b=u(e,["responseSchema"]);b!=null&&c(i,["responseSchema"],Lk(ed(b)));const P=u(e,["responseJsonSchema"]);P!=null&&c(i,["responseJsonSchema"],P);const R=u(e,["routingConfig"]);R!=null&&c(i,["routingConfig"],R);const D=u(e,["modelSelectionConfig"]);D!=null&&c(i,["modelConfig"],Fk(D));const L=u(e,["safetySettings"]);if(n!==void 0&&L!=null){let de=L;Array.isArray(de)&&(de=de.map(ye=>Uk(ye))),c(n,["safetySettings"],de)}const H=u(e,["tools"]);if(n!==void 0&&H!=null){let de=Eo(H);Array.isArray(de)&&(de=de.map(ye=>fv(wo(ye)))),c(n,["tools"],de)}const O=u(e,["toolConfig"]);n!==void 0&&O!=null&&c(n,["toolConfig"],Qk(O));const J=u(e,["labels"]);n!==void 0&&J!=null&&c(n,["labels"],J);const W=u(e,["cachedContent"]);n!==void 0&&W!=null&&c(n,["cachedContent"],wn(t,W));const Q=u(e,["responseModalities"]);Q!=null&&c(i,["responseModalities"],Q);const X=u(e,["mediaResolution"]);X!=null&&c(i,["mediaResolution"],X);const le=u(e,["speechConfig"]);le!=null&&c(i,["speechConfig"],tN(td(le)));const Te=u(e,["audioTimestamp"]);Te!=null&&c(i,["audioTimestamp"],Te);const Ae=u(e,["thinkingConfig"]);return Ae!=null&&c(i,["thinkingConfig"],nN(Ae)),i}function Gm(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["contents"]);if(o!=null){let a=zt(o);Array.isArray(a)&&(a=a.map(d=>ko(d))),c(n,["contents"],a)}const r=u(e,["config"]);return r!=null&&c(n,["generationConfig"],iN(t,r,n)),n}function oN(t,e){const n={},i=u(t,["taskType"]);e!==void 0&&i!=null&&c(e,["instances[]","task_type"],i);const o=u(t,["title"]);e!==void 0&&o!=null&&c(e,["instances[]","title"],o);const r=u(t,["outputDimensionality"]);e!==void 0&&r!=null&&c(e,["parameters","outputDimensionality"],r);const a=u(t,["mimeType"]);e!==void 0&&a!=null&&c(e,["instances[]","mimeType"],a);const d=u(t,["autoTruncate"]);return e!==void 0&&d!=null&&c(e,["parameters","autoTruncate"],d),n}function sN(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["contents"]);o!=null&&c(n,["instances[]","content"],Jy(t,o));const r=u(e,["config"]);return r!=null&&c(n,["config"],oN(r,n)),n}function rN(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&c(e,["parameters","storageUri"],i);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&c(e,["parameters","negativePrompt"],o);const r=u(t,["numberOfImages"]);e!==void 0&&r!=null&&c(e,["parameters","sampleCount"],r);const a=u(t,["aspectRatio"]);e!==void 0&&a!=null&&c(e,["parameters","aspectRatio"],a);const d=u(t,["guidanceScale"]);e!==void 0&&d!=null&&c(e,["parameters","guidanceScale"],d);const h=u(t,["seed"]);e!==void 0&&h!=null&&c(e,["parameters","seed"],h);const p=u(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&c(e,["parameters","safetySetting"],p);const g=u(t,["personGeneration"]);e!==void 0&&g!=null&&c(e,["parameters","personGeneration"],g);const v=u(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&c(e,["parameters","includeSafetyAttributes"],v);const C=u(t,["includeRaiReason"]);e!==void 0&&C!=null&&c(e,["parameters","includeRaiReason"],C);const T=u(t,["language"]);e!==void 0&&T!=null&&c(e,["parameters","language"],T);const w=u(t,["outputMimeType"]);e!==void 0&&w!=null&&c(e,["parameters","outputOptions","mimeType"],w);const E=u(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&c(e,["parameters","outputOptions","compressionQuality"],E);const M=u(t,["addWatermark"]);e!==void 0&&M!=null&&c(e,["parameters","addWatermark"],M);const b=u(t,["imageSize"]);e!==void 0&&b!=null&&c(e,["parameters","sampleImageSize"],b);const P=u(t,["enhancePrompt"]);return e!==void 0&&P!=null&&c(e,["parameters","enhancePrompt"],P),n}function lN(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["config"]);return r!=null&&c(n,["config"],rN(r,n)),n}function No(t){const e={},n=u(t,["gcsUri"]);n!=null&&c(e,["gcsUri"],n);const i=u(t,["imageBytes"]);i!=null&&c(e,["bytesBase64Encoded"],Ai(i));const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function aN(t){const e={},n=u(t,["maskMode"]);n!=null&&c(e,["maskMode"],n);const i=u(t,["segmentationClasses"]);i!=null&&c(e,["maskClasses"],i);const o=u(t,["maskDilation"]);return o!=null&&c(e,["dilation"],o),e}function uN(t){const e={},n=u(t,["controlType"]);n!=null&&c(e,["controlType"],n);const i=u(t,["enableControlImageComputation"]);return i!=null&&c(e,["computeControl"],i),e}function cN(t){const e={},n=u(t,["styleDescription"]);return n!=null&&c(e,["styleDescription"],n),e}function dN(t){const e={},n=u(t,["subjectType"]);n!=null&&c(e,["subjectType"],n);const i=u(t,["subjectDescription"]);return i!=null&&c(e,["subjectDescription"],i),e}function fN(t){const e={},n=u(t,["referenceImage"]);n!=null&&c(e,["referenceImage"],No(n));const i=u(t,["referenceId"]);i!=null&&c(e,["referenceId"],i);const o=u(t,["referenceType"]);o!=null&&c(e,["referenceType"],o);const r=u(t,["maskImageConfig"]);r!=null&&c(e,["maskImageConfig"],aN(r));const a=u(t,["controlImageConfig"]);a!=null&&c(e,["controlImageConfig"],uN(a));const d=u(t,["styleImageConfig"]);d!=null&&c(e,["styleImageConfig"],cN(d));const h=u(t,["subjectImageConfig"]);return h!=null&&c(e,["subjectImageConfig"],dN(h)),e}function hN(t,e){const n={},i=u(t,["outputGcsUri"]);e!==void 0&&i!=null&&c(e,["parameters","storageUri"],i);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&c(e,["parameters","negativePrompt"],o);const r=u(t,["numberOfImages"]);e!==void 0&&r!=null&&c(e,["parameters","sampleCount"],r);const a=u(t,["aspectRatio"]);e!==void 0&&a!=null&&c(e,["parameters","aspectRatio"],a);const d=u(t,["guidanceScale"]);e!==void 0&&d!=null&&c(e,["parameters","guidanceScale"],d);const h=u(t,["seed"]);e!==void 0&&h!=null&&c(e,["parameters","seed"],h);const p=u(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&c(e,["parameters","safetySetting"],p);const g=u(t,["personGeneration"]);e!==void 0&&g!=null&&c(e,["parameters","personGeneration"],g);const v=u(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&c(e,["parameters","includeSafetyAttributes"],v);const C=u(t,["includeRaiReason"]);e!==void 0&&C!=null&&c(e,["parameters","includeRaiReason"],C);const T=u(t,["language"]);e!==void 0&&T!=null&&c(e,["parameters","language"],T);const w=u(t,["outputMimeType"]);e!==void 0&&w!=null&&c(e,["parameters","outputOptions","mimeType"],w);const E=u(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&c(e,["parameters","outputOptions","compressionQuality"],E);const M=u(t,["addWatermark"]);e!==void 0&&M!=null&&c(e,["parameters","addWatermark"],M);const b=u(t,["editMode"]);e!==void 0&&b!=null&&c(e,["parameters","editMode"],b);const P=u(t,["baseSteps"]);return e!==void 0&&P!=null&&c(e,["parameters","editConfig","baseSteps"],P),n}function pN(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["referenceImages"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>fN(h))),c(n,["instances[0]","referenceImages"],d)}const a=u(e,["config"]);return a!=null&&c(n,["config"],hN(a,n)),n}function mN(t,e){const n={},i=u(t,["includeRaiReason"]);e!==void 0&&i!=null&&c(e,["parameters","includeRaiReason"],i);const o=u(t,["outputMimeType"]);e!==void 0&&o!=null&&c(e,["parameters","outputOptions","mimeType"],o);const r=u(t,["outputCompressionQuality"]);e!==void 0&&r!=null&&c(e,["parameters","outputOptions","compressionQuality"],r);const a=u(t,["enhanceInputImage"]);e!==void 0&&a!=null&&c(e,["parameters","upscaleConfig","enhanceInputImage"],a);const d=u(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&c(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=u(t,["numberOfImages"]);e!==void 0&&h!=null&&c(e,["parameters","sampleCount"],h);const p=u(t,["mode"]);return e!==void 0&&p!=null&&c(e,["parameters","mode"],p),n}function gN(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["image"]);o!=null&&c(n,["instances[0]","image"],No(o));const r=u(e,["upscaleFactor"]);r!=null&&c(n,["parameters","upscaleConfig","upscaleFactor"],r);const a=u(e,["config"]);return a!=null&&c(n,["config"],mN(a,n)),n}function yN(t){const e={},n=u(t,["productImage"]);return n!=null&&c(e,["image"],No(n)),e}function vN(t,e){const n={},i=u(t,["prompt"]);e!==void 0&&i!=null&&c(e,["instances[0]","prompt"],i);const o=u(t,["personImage"]);e!==void 0&&o!=null&&c(e,["instances[0]","personImage","image"],No(o));const r=u(t,["productImages"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>yN(d))),c(e,["instances[0]","productImages"],a)}return n}function xN(t,e){const n={},i=u(t,["numberOfImages"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);const o=u(t,["baseSteps"]);e!==void 0&&o!=null&&c(e,["parameters","editConfig","baseSteps"],o);const r=u(t,["outputGcsUri"]);e!==void 0&&r!=null&&c(e,["parameters","storageUri"],r);const a=u(t,["seed"]);e!==void 0&&a!=null&&c(e,["parameters","seed"],a);const d=u(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&c(e,["parameters","safetySetting"],d);const h=u(t,["personGeneration"]);e!==void 0&&h!=null&&c(e,["parameters","personGeneration"],h);const p=u(t,["outputMimeType"]);e!==void 0&&p!=null&&c(e,["parameters","outputOptions","mimeType"],p);const g=u(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&c(e,["parameters","outputOptions","compressionQuality"],g);const v=u(t,["enhancePrompt"]);return e!==void 0&&v!=null&&c(e,["parameters","enhancePrompt"],v),n}function CN(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["source"]);o!=null&&c(n,["config"],vN(o,n));const r=u(e,["config"]);return r!=null&&c(n,["config"],xN(r,n)),n}function _N(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],Ne(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function TN(t,e,n){const i={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&c(n,["_query","pageSize"],o);const r=u(e,["pageToken"]);n!==void 0&&r!=null&&c(n,["_query","pageToken"],r);const a=u(e,["filter"]);n!==void 0&&a!=null&&c(n,["_query","filter"],a);const d=u(e,["queryBase"]);return n!==void 0&&d!=null&&c(n,["_url","models_url"],Xy(t,d)),i}function SN(t,e){const n={},i=u(e,["config"]);return i!=null&&c(n,["config"],TN(t,i,n)),n}function wN(t,e){const n={},i=u(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);const o=u(t,["description"]);e!==void 0&&o!=null&&c(e,["description"],o);const r=u(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&c(e,["defaultCheckpointId"],r),n}function EN(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],wN(o,n)),n}function MN(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","name"],Ne(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],o),n}function kN(t,e){const n={},i=u(t,["systemInstruction"]);e!==void 0&&i!=null&&c(e,["systemInstruction"],ko(pt(i)));const o=u(t,["tools"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(d=>fv(d))),c(e,["tools"],a)}const r=u(t,["generationConfig"]);return e!==void 0&&r!=null&&c(e,["generationConfig"],r),n}function NN(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["contents"]);if(o!=null){let a=zt(o);Array.isArray(a)&&(a=a.map(d=>ko(d))),c(n,["contents"],a)}const r=u(e,["config"]);return r!=null&&c(n,["config"],kN(r,n)),n}function bN(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["contents"]);if(o!=null){let a=zt(o);Array.isArray(a)&&(a=a.map(d=>ko(d))),c(n,["contents"],a)}const r=u(e,["config"]);return r!=null&&c(n,["config"],r),n}function IN(t){const e={},n=u(t,["uri"]);n!=null&&c(e,["gcsUri"],n);const i=u(t,["videoBytes"]);i!=null&&c(e,["bytesBase64Encoded"],Ai(i));const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function PN(t,e){const n={},i=u(t,["numberOfVideos"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);const o=u(t,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);const r=u(t,["fps"]);e!==void 0&&r!=null&&c(e,["parameters","fps"],r);const a=u(t,["durationSeconds"]);e!==void 0&&a!=null&&c(e,["parameters","durationSeconds"],a);const d=u(t,["seed"]);e!==void 0&&d!=null&&c(e,["parameters","seed"],d);const h=u(t,["aspectRatio"]);e!==void 0&&h!=null&&c(e,["parameters","aspectRatio"],h);const p=u(t,["resolution"]);e!==void 0&&p!=null&&c(e,["parameters","resolution"],p);const g=u(t,["personGeneration"]);e!==void 0&&g!=null&&c(e,["parameters","personGeneration"],g);const v=u(t,["pubsubTopic"]);e!==void 0&&v!=null&&c(e,["parameters","pubsubTopic"],v);const C=u(t,["negativePrompt"]);e!==void 0&&C!=null&&c(e,["parameters","negativePrompt"],C);const T=u(t,["enhancePrompt"]);e!==void 0&&T!=null&&c(e,["parameters","enhancePrompt"],T);const w=u(t,["generateAudio"]);e!==void 0&&w!=null&&c(e,["parameters","generateAudio"],w);const E=u(t,["lastFrame"]);e!==void 0&&E!=null&&c(e,["instances[0]","lastFrame"],No(E));const M=u(t,["compressionQuality"]);return e!==void 0&&M!=null&&c(e,["parameters","compressionQuality"],M),n}function AN(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["_url","model"],Ne(t,i));const o=u(e,["prompt"]);o!=null&&c(n,["instances[0]","prompt"],o);const r=u(e,["image"]);r!=null&&c(n,["instances[0]","image"],No(r));const a=u(e,["video"]);a!=null&&c(n,["instances[0]","video"],IN(a));const d=u(e,["config"]);return d!=null&&c(n,["config"],PN(d,n)),n}function RN(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function DN(t){const e={},n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function LN(t){const e={},n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function FN(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],RN(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],DN(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],LN(r));const a=u(t,["thoughtSignature"]);a!=null&&c(e,["thoughtSignature"],a);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const v=u(t,["text"]);return v!=null&&c(e,["text"],v),e}function UN(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>FN(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function VN(t){const e={},n=u(t,["citationSources"]);return n!=null&&c(e,["citations"],n),e}function BN(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&c(e,["urlRetrievalStatus"],i),e}function HN(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>BN(o))),c(e,["urlMetadata"],i)}return e}function zN(t){const e={},n=u(t,["content"]);n!=null&&c(e,["content"],UN(n));const i=u(t,["citationMetadata"]);i!=null&&c(e,["citationMetadata"],VN(i));const o=u(t,["tokenCount"]);o!=null&&c(e,["tokenCount"],o);const r=u(t,["finishReason"]);r!=null&&c(e,["finishReason"],r);const a=u(t,["urlContextMetadata"]);a!=null&&c(e,["urlContextMetadata"],HN(a));const d=u(t,["avgLogprobs"]);d!=null&&c(e,["avgLogprobs"],d);const h=u(t,["groundingMetadata"]);h!=null&&c(e,["groundingMetadata"],h);const p=u(t,["index"]);p!=null&&c(e,["index"],p);const g=u(t,["logprobsResult"]);g!=null&&c(e,["logprobsResult"],g);const v=u(t,["safetyRatings"]);return v!=null&&c(e,["safetyRatings"],v),e}function Wm(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>zN(p))),c(e,["candidates"],h)}const o=u(t,["modelVersion"]);o!=null&&c(e,["modelVersion"],o);const r=u(t,["promptFeedback"]);r!=null&&c(e,["promptFeedback"],r);const a=u(t,["responseId"]);a!=null&&c(e,["responseId"],a);const d=u(t,["usageMetadata"]);return d!=null&&c(e,["usageMetadata"],d),e}function ON(t){const e={},n=u(t,["values"]);return n!=null&&c(e,["values"],n),e}function qN(){return{}}function $N(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>ON(a))),c(e,["embeddings"],r)}return u(t,["metadata"])!=null&&c(e,["metadata"],qN()),e}function GN(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&c(e,["imageBytes"],Ai(n));const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function hv(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&c(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&c(e,["scores"],i);const o=u(t,["contentType"]);return o!=null&&c(e,["contentType"],o),e}function WN(t){const e={},n=u(t,["_self"]);n!=null&&c(e,["image"],GN(n));const i=u(t,["raiFilteredReason"]);i!=null&&c(e,["raiFilteredReason"],i);const o=u(t,["_self"]);return o!=null&&c(e,["safetyAttributes"],hv(o)),e}function jN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>WN(a))),c(e,["generatedImages"],r)}const o=u(t,["positivePromptSafetyAttributes"]);return o!=null&&c(e,["positivePromptSafetyAttributes"],hv(o)),e}function JN(t){const e={},n=u(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&c(e,["createTime"],i);const o=u(t,["updateTime"]);return o!=null&&c(e,["updateTime"],o),e}function Rc(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["version"]);r!=null&&c(e,["version"],r);const a=u(t,["_self"]);a!=null&&c(e,["tunedModelInfo"],JN(a));const d=u(t,["inputTokenLimit"]);d!=null&&c(e,["inputTokenLimit"],d);const h=u(t,["outputTokenLimit"]);h!=null&&c(e,["outputTokenLimit"],h);const p=u(t,["supportedGenerationMethods"]);return p!=null&&c(e,["supportedActions"],p),e}function YN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["_self"]);if(o!=null){let r=Qy(o);Array.isArray(r)&&(r=r.map(a=>Rc(a))),c(e,["models"],r)}return e}function KN(){return{}}function XN(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["totalTokens"]);i!=null&&c(e,["totalTokens"],i);const o=u(t,["cachedContentTokenCount"]);return o!=null&&c(e,["cachedContentTokenCount"],o),e}function QN(t){const e={},n=u(t,["video","uri"]);n!=null&&c(e,["uri"],n);const i=u(t,["video","encodedVideo"]);i!=null&&c(e,["videoBytes"],Ai(i));const o=u(t,["encoding"]);return o!=null&&c(e,["mimeType"],o),e}function ZN(t){const e={},n=u(t,["_self"]);return n!=null&&c(e,["video"],QN(n)),e}function eb(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>ZN(a))),c(e,["generatedVideos"],r)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&c(e,["raiMediaFilteredReasons"],o),e}function tb(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["metadata"]);i!=null&&c(e,["metadata"],i);const o=u(t,["done"]);o!=null&&c(e,["done"],o);const r=u(t,["error"]);r!=null&&c(e,["error"],r);const a=u(t,["response","generateVideoResponse"]);return a!=null&&c(e,["response"],eb(a)),e}function nb(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function ib(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["data"]);i!=null&&c(e,["data"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function ob(t){const e={},n=u(t,["displayName"]);n!=null&&c(e,["displayName"],n);const i=u(t,["fileUri"]);i!=null&&c(e,["fileUri"],i);const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function sb(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],nb(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],ib(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],ob(r));const a=u(t,["thoughtSignature"]);a!=null&&c(e,["thoughtSignature"],a);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const v=u(t,["text"]);return v!=null&&c(e,["text"],v),e}function rb(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>sb(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function lb(t){const e={},n=u(t,["citations"]);return n!=null&&c(e,["citations"],n),e}function ab(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const i=u(t,["urlRetrievalStatus"]);return i!=null&&c(e,["urlRetrievalStatus"],i),e}function ub(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ab(o))),c(e,["urlMetadata"],i)}return e}function cb(t){const e={},n=u(t,["content"]);n!=null&&c(e,["content"],rb(n));const i=u(t,["citationMetadata"]);i!=null&&c(e,["citationMetadata"],lb(i));const o=u(t,["finishMessage"]);o!=null&&c(e,["finishMessage"],o);const r=u(t,["finishReason"]);r!=null&&c(e,["finishReason"],r);const a=u(t,["urlContextMetadata"]);a!=null&&c(e,["urlContextMetadata"],ub(a));const d=u(t,["avgLogprobs"]);d!=null&&c(e,["avgLogprobs"],d);const h=u(t,["groundingMetadata"]);h!=null&&c(e,["groundingMetadata"],h);const p=u(t,["index"]);p!=null&&c(e,["index"],p);const g=u(t,["logprobsResult"]);g!=null&&c(e,["logprobsResult"],g);const v=u(t,["safetyRatings"]);return v!=null&&c(e,["safetyRatings"],v),e}function jm(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(g=>cb(g))),c(e,["candidates"],p)}const o=u(t,["createTime"]);o!=null&&c(e,["createTime"],o);const r=u(t,["modelVersion"]);r!=null&&c(e,["modelVersion"],r);const a=u(t,["promptFeedback"]);a!=null&&c(e,["promptFeedback"],a);const d=u(t,["responseId"]);d!=null&&c(e,["responseId"],d);const h=u(t,["usageMetadata"]);return h!=null&&c(e,["usageMetadata"],h),e}function db(t){const e={},n=u(t,["truncated"]);n!=null&&c(e,["truncated"],n);const i=u(t,["token_count"]);return i!=null&&c(e,["tokenCount"],i),e}function fb(t){const e={},n=u(t,["values"]);n!=null&&c(e,["values"],n);const i=u(t,["statistics"]);return i!=null&&c(e,["statistics"],db(i)),e}function hb(t){const e={},n=u(t,["billableCharacterCount"]);return n!=null&&c(e,["billableCharacterCount"],n),e}function pb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions[]","embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>fb(a))),c(e,["embeddings"],r)}const o=u(t,["metadata"]);return o!=null&&c(e,["metadata"],hb(o)),e}function mb(t){const e={},n=u(t,["gcsUri"]);n!=null&&c(e,["gcsUri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&c(e,["imageBytes"],Ai(i));const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function pv(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&c(e,["categories"],n);const i=u(t,["safetyAttributes","scores"]);i!=null&&c(e,["scores"],i);const o=u(t,["contentType"]);return o!=null&&c(e,["contentType"],o),e}function Ql(t){const e={},n=u(t,["_self"]);n!=null&&c(e,["image"],mb(n));const i=u(t,["raiFilteredReason"]);i!=null&&c(e,["raiFilteredReason"],i);const o=u(t,["_self"]);o!=null&&c(e,["safetyAttributes"],pv(o));const r=u(t,["prompt"]);return r!=null&&c(e,["enhancedPrompt"],r),e}function gb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Ql(a))),c(e,["generatedImages"],r)}const o=u(t,["positivePromptSafetyAttributes"]);return o!=null&&c(e,["positivePromptSafetyAttributes"],pv(o)),e}function yb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>Ql(r))),c(e,["generatedImages"],o)}return e}function vb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>Ql(r))),c(e,["generatedImages"],o)}return e}function xb(t){const e={},n=u(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ql(o))),c(e,["generatedImages"],i)}return e}function Cb(t){const e={},n=u(t,["endpoint"]);n!=null&&c(e,["name"],n);const i=u(t,["deployedModelId"]);return i!=null&&c(e,["deployedModelId"],i),e}function _b(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&c(e,["baseModel"],n);const i=u(t,["createTime"]);i!=null&&c(e,["createTime"],i);const o=u(t,["updateTime"]);return o!=null&&c(e,["updateTime"],o),e}function Tb(t){const e={},n=u(t,["checkpointId"]);n!=null&&c(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&c(e,["epoch"],i);const o=u(t,["step"]);return o!=null&&c(e,["step"],o),e}function Dc(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["displayName"]);i!=null&&c(e,["displayName"],i);const o=u(t,["description"]);o!=null&&c(e,["description"],o);const r=u(t,["versionId"]);r!=null&&c(e,["version"],r);const a=u(t,["deployedModels"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(C=>Cb(C))),c(e,["endpoints"],v)}const d=u(t,["labels"]);d!=null&&c(e,["labels"],d);const h=u(t,["_self"]);h!=null&&c(e,["tunedModelInfo"],_b(h));const p=u(t,["defaultCheckpointId"]);p!=null&&c(e,["defaultCheckpointId"],p);const g=u(t,["checkpoints"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(C=>Tb(C))),c(e,["checkpoints"],v)}return e}function Sb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["_self"]);if(o!=null){let r=Qy(o);Array.isArray(r)&&(r=r.map(a=>Dc(a))),c(e,["models"],r)}return e}function wb(){return{}}function Eb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["totalTokens"]);return i!=null&&c(e,["totalTokens"],i),e}function Mb(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["tokensInfo"]);return i!=null&&c(e,["tokensInfo"],i),e}function kb(t){const e={},n=u(t,["gcsUri"]);n!=null&&c(e,["uri"],n);const i=u(t,["bytesBase64Encoded"]);i!=null&&c(e,["videoBytes"],Ai(i));const o=u(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Nb(t){const e={},n=u(t,["_self"]);return n!=null&&c(e,["video"],kb(n)),e}function bb(t){const e={},n=u(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Nb(a))),c(e,["generatedVideos"],r)}const i=u(t,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&c(e,["raiMediaFilteredReasons"],o),e}function Ib(t){const e={},n=u(t,["name"]);n!=null&&c(e,["name"],n);const i=u(t,["metadata"]);i!=null&&c(e,["metadata"],i);const o=u(t,["done"]);o!=null&&c(e,["done"],o);const r=u(t,["error"]);r!=null&&c(e,["error"],r);const a=u(t,["response"]);return a!=null&&c(e,["response"],bb(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pb="Content-Type",Ab="X-Server-Timeout",Rb="User-Agent",Lc="x-goog-api-client",Db="1.14.0",Lb=`google-genai-sdk/${Db}`,Fb="v1beta1",Ub="v1beta",Jm=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Vb{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Fb,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Ub,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[a,d]of Object.entries(e.queryParams))o.searchParams.append(a,String(d));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,n,e.abortSignal),this.unaryApiCall(o,r,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,r]of Object.entries(n))typeof r=="object"?i[o]=Object.assign(Object.assign({},i[o]),r):r!==void 0&&(i[o]=r);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,n,e.abortSignal),this.streamApiCall(o,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const o=new AbortController,r=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=r}return n&&n.extraBody!==null&&Bb(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Ym(o),new kc(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Ym(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return mo(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),r=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let a="";for(;;){const{done:d,value:h}=yield Ve(o.read());if(d){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=r.decode(h,{stream:!0});try{const v=JSON.parse(p);if("error"in v){const C=JSON.parse(JSON.stringify(v.error)),T=C.status,w=C.code,E=`got status: ${T}. ${JSON.stringify(v)}`;if(w>=400&&w<600)throw new Kl({message:E,status:w})}}catch(v){if(v.name==="ApiError")throw v}a+=p;let g=a.match(Jm);for(;g;){const v=g[1];try{const C=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ve(new kc(C)),a=a.slice(g[0].length),g=a.match(Jm)}catch(C){throw new Error(`exception parsing stream chunk ${v}. ${C}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=Lb+" "+this.clientOptions.userAgentExtra;return e[Rb]=n,e[Lc]=n,e[Pb]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append(Ab,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const r=this.clientOptions.uploader,a=await r.stat(e);o.sizeBytes=String(a.size);const d=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:a.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=d;const h=await this.fetchUploadUrl(o,n);return r.upload(e,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const r={file:e},a=await this.request({path:re("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:o});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(i=a==null?void 0:a.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function Ym(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Kl({message:o,status:n}):new Error(o)}}function Bb(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const r=JSON.parse(t.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))n=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(r,a){const d=Object.assign({},r);for(const h in a)if(Object.prototype.hasOwnProperty.call(a,h)){const p=a[h],g=d[h];p&&typeof p=="object"&&!Array.isArray(p)&&g&&typeof g=="object"&&!Array.isArray(g)?d[h]=i(g,p):(g&&p&&typeof g!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof g}, New type: ${typeof p}. Overwriting.`),d[h]=p)}return d}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hb="mcp_used/unknown";let zb=!1;function mv(t){for(const e of t)if(Ob(e)||typeof e=="object"&&"inputSchema"in e)return!0;return zb}function gv(t){var e;const n=(e=t[Lc])!==null&&e!==void 0?e:"";t[Lc]=(n+` ${Hb}`).trimStart()}function Ob(t){return t!==null&&typeof t=="object"&&t instanceof id}function qb(t,e=100){return mo(this,arguments,function*(){let i,o=0;for(;o<e;){const r=yield Ve(t.listTools({cursor:i}));for(const a of r.tools)yield yield Ve(a),o++;if(!r.nextCursor)break;i=r.nextCursor}})}class id{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new id(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const r={},a=[];for(const g of this.mcpClients)try{for(var d=!0,h=(n=void 0,Is(qb(g))),p;p=await h.next(),e=p.done,!e;d=!0){o=p.value,d=!1;const v=o;a.push(v);const C=v.name;if(r[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);r[C]=g}}catch(v){n={error:v}}finally{try{!d&&!e&&(i=h.return)&&await i.call(h)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),MS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const a=await o.callTool({name:i.name,arguments:i.args},void 0,r);n.push({functionResponse:{name:i.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $b(t,e,n){const i=new vS;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const r=PM(o);Object.assign(i,r),e(i)}class Gb{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),a=Jb(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),h=`${o}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${d}`;let p=()=>{};const g=new Promise(R=>{p=R}),v=e.callbacks,C=function(){p({})},T=this.apiClient,w={onopen:C,onmessage:R=>{$b(T,v.onmessage,R)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(R){},onclose:(i=v==null?void 0:v.onclose)!==null&&i!==void 0?i:function(R){}},E=this.webSocketFactory.create(h,jb(a),w);E.connect(),await g;const M=Ne(this.apiClient,e.model),b=uv({model:M}),P=Ac({setup:b});return E.send(JSON.stringify(P)),new Wb(E,this.apiClient)}}class Wb{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=NE(e),i=cv(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=bE(e),i=Ac(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=Ac({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(co.PLAY)}pause(){this.sendPlaybackControl(co.PAUSE)}stop(){this.sendPlaybackControl(co.STOP)}resetContext(){this.sendPlaybackControl(co.RESET_CONTEXT)}close(){this.conn.close()}}function jb(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Jb(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yb="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Kb(t,e,n){const i=new yS;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const r=JSON.parse(o);if(t.isVertexAI()){const a=GM(r);Object.assign(i,a)}else{const a=TM(r);Object.assign(i,a)}e(i)}class Xb{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new Gb(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,r,a,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let g;const v=this.apiClient.getHeaders();e.config&&e.config.tools&&mv(e.config.tools)&&gv(v);const C=tI(v);if(this.apiClient.isVertexAI())g=`${h}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const W=this.apiClient.getApiKey();let Q="BidiGenerateContent",X="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Q="BidiGenerateContentConstrained",X="access_token"),g=`${h}/ws/google.ai.generativelanguage.${p}.GenerativeService.${Q}?${X}=${W}`}let T=()=>{};const w=new Promise(W=>{T=W}),E=e.callbacks,M=function(){var W;(W=E==null?void 0:E.onopen)===null||W===void 0||W.call(E),T({})},b=this.apiClient,P={onopen:M,onmessage:W=>{Kb(b,E.onmessage,W)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(W){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(W){}},R=this.webSocketFactory.create(g,eI(C),P);R.connect(),await w;let D=Ne(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const W=this.apiClient.getProject(),Q=this.apiClient.getLocation();D=`projects/${W}/locations/${Q}/`+D}let L={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Pl.AUDIO]}:e.config.responseModalities=[Pl.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const H=(d=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&d!==void 0?d:[],O=[];for(const W of H)if(this.isCallableTool(W)){const Q=W;O.push(await Q.tool())}else O.push(W);O.length>0&&(e.config.tools=O);const J={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=iM(this.apiClient,J):L=wE(this.apiClient,J),delete L.config,R.send(JSON.stringify(L)),new Zb(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Qb={turnComplete:!0};class Zb{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=zt(n.turns),e.isVertexAI()?i=i.map(o=>ko(o)):i=i.map(o=>Xl(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const r of i){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(Yb)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},Qb),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:rM(e)}:n={realtimeInput:kE(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function eI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function tI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Km=10;function Xm(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(go(a)){o=!0;break}if(!o)return!0;const r=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function go(t){return"callTool"in t&&typeof t.callTool=="function"}function nI(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>go(o)))!==null&&i!==void 0?i:!1}function iI(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!go(o)))!==null&&i!==void 0?i:!1}function Qm(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oI extends Pi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,r,a,d;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!nI(n)||Xm(n.config))return await this.generateContentInternal(h);if(iI(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,g;const v=zt(h.contents),C=(r=(o=(i=h.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Km;let T=0;for(;T<C&&(p=await this.generateContentInternal(h),!(!p.functionCalls||p.functionCalls.length===0));){const w=p.candidates[0].content,E=[];for(const M of(d=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&d!==void 0?d:[])if(go(M)){const P=await M.callTool(p.functionCalls);E.push(...P)}T++,g={role:"user",parts:E},h.contents=zt(h.contents),h.contents.push(w),h.contents.push(g),Qm(h.config)&&(v.push(w),v.push(g))}return Qm(h.config)&&(p.automaticFunctionCallingHistory=v),p},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Xm(n.config)){const i=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let r;const a=[];if(i!=null&&i.generatedImages)for(const h of i.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((o=h==null?void 0:h.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?r=h==null?void 0:h.safetyAttributes:a.push(h);let d;return r?d={generatedImages:a,positivePromptSafetyAttributes:r,sdkHttpResponse:i.sdkHttpResponse}:d={generatedImages:a,sdkHttpResponse:i.sdkHttpResponse},d}),this.list=async n=>{var i;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((i=a.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Ws(ki.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(a),a)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>await this.generateVideosInternal(n)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const r=(n=e.config)===null||n===void 0?void 0:n.tools;if(!r)return e;const a=await Promise.all(r.map(async h=>go(h)?await h.tool():h)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(d.config.tools=a,e.config&&e.config.tools&&mv(e.config.tools)){const h=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let p=Object.assign({},h);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),gv(p),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return d}async initAfcToolsMap(e){var n,i,o;const r=new Map;for(const a of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(go(a)){const d=a,h=await d.tool();for(const p of(o=h.functionDeclarations)!==null&&o!==void 0?o:[]){if(!p.name)throw new Error("Function declaration name is required.");if(r.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);r.set(p.name,d)}}return r}async processAfcStream(e){var n,i,o;const r=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Km;let a=!1,d=0;const h=await this.initAfcToolsMap(e);return(function(p,g,v){var C,T;return mo(this,arguments,function*(){for(var w,E,M,b;d<r;){a&&(d++,a=!1);const L=yield Ve(p.processParamsMaybeAddMcpUsage(v)),H=yield Ve(p.generateContentStreamInternal(L)),O=[],J=[];try{for(var P=!0,R=(E=void 0,Is(H)),D;D=yield Ve(R.next()),w=D.done,!w;P=!0){b=D.value,P=!1;const W=b;if(yield yield Ve(W),W.candidates&&(!((C=W.candidates[0])===null||C===void 0)&&C.content)){J.push(W.candidates[0].content);for(const Q of(T=W.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(d<r&&Q.functionCall){if(!Q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(Q.functionCall.name)){const X=yield Ve(g.get(Q.functionCall.name).callTool([Q.functionCall]));O.push(...X)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${Q.functionCall.name}`)}}}}catch(W){E={error:W}}finally{try{!P&&!w&&(M=R.return)&&(yield Ve(M.call(R)))}finally{if(E)throw E.error}}if(O.length>0){a=!0;const W=new xs;W.candidates=[{content:{role:"user",parts:O}}],yield yield Ve(W);const Q=[];Q.push(...J),Q.push({role:"user",parts:O});const X=zt(v.contents).concat(Q);v.contents=X}else break}})})(this,h,e)}async generateContentInternal(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=Gm(this.apiClient,e);return d=re("{model}:generateContent",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=jm(g),C=new xs;return Object.assign(C,v),C})}else{const p=$m(this.apiClient,e);return d=re("{model}:generateContent",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=Wm(g),C=new xs;return Object.assign(C,v),C})}}async generateContentStreamInternal(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=Gm(this.apiClient,e);return d=re("{model}:streamGenerateContent?alt=sse",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.requestStream({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(v){return mo(this,arguments,function*(){var C,T,w,E;try{for(var M=!0,b=Is(v),P;P=yield Ve(b.next()),C=P.done,!C;M=!0){E=P.value,M=!1;const R=E,D=jm(yield Ve(R.json()));D.sdkHttpResponse={headers:R.headers};const L=new xs;Object.assign(L,D),yield yield Ve(L)}}catch(R){T={error:R}}finally{try{!M&&!C&&(w=b.return)&&(yield Ve(w.call(b)))}finally{if(T)throw T.error}}})})}else{const p=$m(this.apiClient,e);return d=re("{model}:streamGenerateContent?alt=sse",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.requestStream({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(v){return mo(this,arguments,function*(){var C,T,w,E;try{for(var M=!0,b=Is(v),P;P=yield Ve(b.next()),C=P.done,!C;M=!0){E=P.value,M=!1;const R=E,D=Wm(yield Ve(R.json()));D.sdkHttpResponse={headers:R.headers};const L=new xs;Object.assign(L,D),yield yield Ve(L)}}catch(R){T={error:R}}finally{try{!M&&!C&&(w=b.return)&&(yield Ve(w.call(b)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=sN(this.apiClient,e);return d=re("{model}:predict",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=pb(g),C=new Sm;return Object.assign(C,v),C})}else{const p=yk(this.apiClient,e);return d=re("{model}:batchEmbedContents",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=$N(g),C=new Sm;return Object.assign(C,v),C})}}async generateImagesInternal(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=lN(this.apiClient,e);return d=re("{model}:predict",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=gb(g),C=new wm;return Object.assign(C,v),C})}else{const p=xk(this.apiClient,e);return d=re("{model}:predict",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=jN(g),C=new wm;return Object.assign(C,v),C})}}async editImageInternal(e){var n,i;let o,r="",a={};if(this.apiClient.isVertexAI()){const d=pN(this.apiClient,e);return r=re("{model}:predict",d._url),a=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const p=yb(h),g=new cS;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,r="",a={};if(this.apiClient.isVertexAI()){const d=gN(this.apiClient,e);return r=re("{model}:predict",d._url),a=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const p=vb(h),g=new dS;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,r="",a={};if(this.apiClient.isVertexAI()){const d=CN(this.apiClient,e);return r=re("{model}:predict",d._url),a=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const p=xb(h),g=new fS;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=_N(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>Dc(g))}else{const p=Ck(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>Rc(g))}}async listInternal(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=SN(this.apiClient,e);return d=re("{models_url}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=Sb(g),C=new Em;return Object.assign(C,v),C})}else{const p=Tk(this.apiClient,e);return d=re("{models_url}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=YN(g),C=new Em;return Object.assign(C,v),C})}}async update(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=EN(this.apiClient,e);return d=re("{model}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>Dc(g))}else{const p=wk(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>Rc(g))}}async delete(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=MN(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(()=>{const g=wb(),v=new Mm;return Object.assign(v,g),v})}else{const p=Ek(this.apiClient,e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(()=>{const g=KN(),v=new Mm;return Object.assign(v,g),v})}}async countTokens(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=NN(this.apiClient,e);return d=re("{model}:countTokens",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=Eb(g),C=new km;return Object.assign(C,v),C})}else{const p=kk(this.apiClient,e);return d=re("{model}:countTokens",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=XN(g),C=new km;return Object.assign(C,v),C})}}async computeTokens(e){var n,i;let o,r="",a={};if(this.apiClient.isVertexAI()){const d=bN(this.apiClient,e);return r=re("{model}:computeTokens",d._url),a=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>{const p=Mb(h),g=new hS;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=AN(this.apiClient,e);return d=re("{model}:predictLongRunning",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const v=Ib(g),C=new Al;return Object.assign(C,v),C})}else{const p=Ik(this.apiClient,e);return d=re("{model}:predictLongRunning",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const v=tb(g),C=new Al;return Object.assign(C,v),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sI(t){const e={},n=u(t,["operationName"]);n!=null&&c(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function rI(t){const e={},n=u(t,["operationName"]);n!=null&&c(e,["_url","operationName"],n);const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function lI(t){const e={},n=u(t,["operationName"]);n!=null&&c(e,["operationName"],n);const i=u(t,["resourceName"]);i!=null&&c(e,["_url","resourceName"],i);const o=u(t,["config"]);return o!=null&&c(e,["config"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aI extends Pi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let r;i&&"httpOptions"in i&&(r=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let r;i&&"httpOptions"in i&&(r=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=rI(e);return d=re("{operationName}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a}else{const p=sI(e);return d=re("{operationName}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a}}async fetchPredictVideosOperationInternal(e){var n,i;let o,r="",a={};if(this.apiClient.isVertexAI()){const d=lI(e);return r=re("{resourceName}:fetchPredictOperation",d._url),a=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uI(t){const e={},n=u(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function yv(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],uI(n)),e}function cI(t){const e={},n=u(t,["speaker"]);n!=null&&c(e,["speaker"],n);const i=u(t,["voiceConfig"]);return i!=null&&c(e,["voiceConfig"],yv(i)),e}function dI(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cI(o))),c(e,["speakerVoiceConfigs"],i)}return e}function fI(t){const e={},n=u(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],yv(n));const i=u(t,["multiSpeakerVoiceConfig"]);i!=null&&c(e,["multiSpeakerVoiceConfig"],dI(i));const o=u(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function hI(t){const e={},n=u(t,["fps"]);n!=null&&c(e,["fps"],n);const i=u(t,["endOffset"]);i!=null&&c(e,["endOffset"],i);const o=u(t,["startOffset"]);return o!=null&&c(e,["startOffset"],o),e}function pI(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&c(e,["data"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function mI(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const i=u(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function gI(t){const e={},n=u(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],hI(n));const i=u(t,["thought"]);i!=null&&c(e,["thought"],i);const o=u(t,["inlineData"]);o!=null&&c(e,["inlineData"],pI(o));const r=u(t,["fileData"]);r!=null&&c(e,["fileData"],mI(r));const a=u(t,["thoughtSignature"]);a!=null&&c(e,["thoughtSignature"],a);const d=u(t,["codeExecutionResult"]);d!=null&&c(e,["codeExecutionResult"],d);const h=u(t,["executableCode"]);h!=null&&c(e,["executableCode"],h);const p=u(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const g=u(t,["functionResponse"]);g!=null&&c(e,["functionResponse"],g);const v=u(t,["text"]);return v!=null&&c(e,["text"],v),e}function yI(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>gI(r))),c(e,["parts"],o)}const i=u(t,["role"]);return i!=null&&c(e,["role"],i),e}function vI(t){const e={},n=u(t,["behavior"]);n!=null&&c(e,["behavior"],n);const i=u(t,["description"]);i!=null&&c(e,["description"],i);const o=u(t,["name"]);o!=null&&c(e,["name"],o);const r=u(t,["parameters"]);r!=null&&c(e,["parameters"],r);const a=u(t,["parametersJsonSchema"]);a!=null&&c(e,["parametersJsonSchema"],a);const d=u(t,["response"]);d!=null&&c(e,["response"],d);const h=u(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function xI(t){const e={},n=u(t,["startTime"]);n!=null&&c(e,["startTime"],n);const i=u(t,["endTime"]);return i!=null&&c(e,["endTime"],i),e}function CI(t){const e={},n=u(t,["timeRangeFilter"]);if(n!=null&&c(e,["timeRangeFilter"],xI(n)),u(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function _I(t){const e={},n=u(t,["mode"]);n!=null&&c(e,["mode"],n);const i=u(t,["dynamicThreshold"]);return i!=null&&c(e,["dynamicThreshold"],i),e}function TI(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],_I(n)),e}function SI(){return{}}function wI(t){const e={},n=u(t,["environment"]);return n!=null&&c(e,["environment"],n),e}function EI(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>vI(p))),c(e,["functionDeclarations"],h)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=u(t,["googleSearch"]);i!=null&&c(e,["googleSearch"],CI(i));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&c(e,["googleSearchRetrieval"],TI(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&c(e,["urlContext"],SI());const a=u(t,["computerUse"]);a!=null&&c(e,["computerUse"],wI(a));const d=u(t,["codeExecution"]);return d!=null&&c(e,["codeExecution"],d),e}function MI(t){const e={},n=u(t,["handle"]);if(n!=null&&c(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Zm(){return{}}function kI(t){const e={},n=u(t,["disabled"]);n!=null&&c(e,["disabled"],n);const i=u(t,["startOfSpeechSensitivity"]);i!=null&&c(e,["startOfSpeechSensitivity"],i);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&c(e,["endOfSpeechSensitivity"],o);const r=u(t,["prefixPaddingMs"]);r!=null&&c(e,["prefixPaddingMs"],r);const a=u(t,["silenceDurationMs"]);return a!=null&&c(e,["silenceDurationMs"],a),e}function NI(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&c(e,["automaticActivityDetection"],kI(n));const i=u(t,["activityHandling"]);i!=null&&c(e,["activityHandling"],i);const o=u(t,["turnCoverage"]);return o!=null&&c(e,["turnCoverage"],o),e}function bI(t){const e={},n=u(t,["targetTokens"]);return n!=null&&c(e,["targetTokens"],n),e}function II(t){const e={},n=u(t,["triggerTokens"]);n!=null&&c(e,["triggerTokens"],n);const i=u(t,["slidingWindow"]);return i!=null&&c(e,["slidingWindow"],bI(i)),e}function PI(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&c(e,["proactiveAudio"],n),e}function AI(t,e){const n={},i=u(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","responseModalities"],o);const r=u(t,["temperature"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","temperature"],r);const a=u(t,["topP"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig","topP"],a);const d=u(t,["topK"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","topK"],d);const h=u(t,["maxOutputTokens"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","maxOutputTokens"],h);const p=u(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const g=u(t,["seed"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","seed"],g);const v=u(t,["speechConfig"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","speechConfig"],fI(nd(v)));const C=u(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],C);const T=u(t,["systemInstruction"]);e!==void 0&&T!=null&&c(e,["setup","systemInstruction"],yI(pt(T)));const w=u(t,["tools"]);if(e!==void 0&&w!=null){let L=Eo(w);Array.isArray(L)&&(L=L.map(H=>EI(wo(H)))),c(e,["setup","tools"],L)}const E=u(t,["sessionResumption"]);e!==void 0&&E!=null&&c(e,["setup","sessionResumption"],MI(E));const M=u(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&c(e,["setup","inputAudioTranscription"],Zm());const b=u(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&c(e,["setup","outputAudioTranscription"],Zm());const P=u(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&c(e,["setup","realtimeInputConfig"],NI(P));const R=u(t,["contextWindowCompression"]);e!==void 0&&R!=null&&c(e,["setup","contextWindowCompression"],II(R));const D=u(t,["proactivity"]);return e!==void 0&&D!=null&&c(e,["setup","proactivity"],PI(D)),n}function RI(t,e){const n={},i=u(e,["model"]);i!=null&&c(n,["setup","model"],Ne(t,i));const o=u(e,["config"]);return o!=null&&c(n,["config"],AI(o,n)),n}function DI(t,e,n){const i={},o=u(e,["expireTime"]);n!==void 0&&o!=null&&c(n,["expireTime"],o);const r=u(e,["newSessionExpireTime"]);n!==void 0&&r!=null&&c(n,["newSessionExpireTime"],r);const a=u(e,["uses"]);n!==void 0&&a!=null&&c(n,["uses"],a);const d=u(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&c(n,["bidiGenerateContentSetup"],RI(t,d));const h=u(e,["lockAdditionalFields"]);return n!==void 0&&h!=null&&c(n,["fieldMask"],h),i}function LI(t,e){const n={},i=u(e,["config"]);return i!=null&&c(n,["config"],DI(t,i,n)),n}function FI(t){const e={},n=u(t,["name"]);return n!=null&&c(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UI(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(r=>`${n}.${r}`);e.push(...o)}else e.push(n)}return e.join(",")}function VI(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const r=i.setup;typeof r=="object"&&r!==null?(t.bidiGenerateContentSetup=r,n=r):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const r=UI(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?t.fieldMask=r:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];o.length>0&&(d=o.map(p=>a.includes(p)?`generationConfig.${p}`:p));const h=[];r&&h.push(r),d.length>0&&h.push(...d),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class BI extends Pi{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=LI(this.apiClient,e);r=re("auth_tokens",d._url),a=d._query,delete d.config,delete d._url,delete d._query;const h=VI(d,e.config);return o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>FI(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HI(t){const e={},n=u(t,["name"]);n!=null&&c(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function zI(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&c(e,["_query","pageToken"],o);const r=u(t,["filter"]);return e!==void 0&&r!=null&&c(e,["_query","filter"],r),n}function OI(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],zI(n,e)),e}function qI(t){const e={},n=u(t,["textInput"]);n!=null&&c(e,["textInput"],n);const i=u(t,["output"]);return i!=null&&c(e,["output"],i),e}function $I(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=u(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>qI(o))),c(e,["examples","examples"],i)}return e}function GI(t,e){const n={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=u(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&c(e,["displayName"],i),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=u(t,["epochCount"]);e!==void 0&&o!=null&&c(e,["tuningTask","hyperparameters","epochCount"],o);const r=u(t,["learningRateMultiplier"]);if(r!=null&&c(n,["tuningTask","hyperparameters","learningRateMultiplier"],r),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=u(t,["batchSize"]);e!==void 0&&a!=null&&c(e,["tuningTask","hyperparameters","batchSize"],a);const d=u(t,["learningRate"]);return e!==void 0&&d!=null&&c(e,["tuningTask","hyperparameters","learningRate"],d),n}function WI(t){const e={},n=u(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const i=u(t,["preTunedModel"]);i!=null&&c(e,["preTunedModel"],i);const o=u(t,["trainingDataset"]);o!=null&&c(e,["tuningTask","trainingData"],$I(o));const r=u(t,["config"]);return r!=null&&c(e,["config"],GI(r,e)),e}function jI(t){const e={},n=u(t,["name"]);n!=null&&c(e,["_url","name"],n);const i=u(t,["config"]);return i!=null&&c(e,["config"],i),e}function JI(t,e){const n={},i=u(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&c(e,["_query","pageToken"],o);const r=u(t,["filter"]);return e!==void 0&&r!=null&&c(e,["_query","filter"],r),n}function YI(t){const e={},n=u(t,["config"]);return n!=null&&c(e,["config"],JI(n,e)),e}function KI(t,e){const n={},i=u(t,["gcsUri"]);e!==void 0&&i!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],i);const o=u(t,["vertexDatasetResource"]);if(e!==void 0&&o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],o),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function XI(t,e){const n={},i=u(t,["gcsUri"]);i!=null&&c(n,["validationDatasetUri"],i);const o=u(t,["vertexDatasetResource"]);return e!==void 0&&o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],o),n}function QI(t,e){const n={},i=u(t,["validationDataset"]);e!==void 0&&i!=null&&c(e,["supervisedTuningSpec"],XI(i,n));const o=u(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&c(e,["tunedModelDisplayName"],o);const r=u(t,["description"]);e!==void 0&&r!=null&&c(e,["description"],r);const a=u(t,["epochCount"]);e!==void 0&&a!=null&&c(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const d=u(t,["learningRateMultiplier"]);e!==void 0&&d!=null&&c(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const h=u(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&c(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h);const p=u(t,["preTunedModelCheckpointId"]);p!=null&&c(n,["preTunedModel","checkpointId"],p);const g=u(t,["adapterSize"]);if(e!==void 0&&g!=null&&c(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function ZI(t){const e={},n=u(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const i=u(t,["preTunedModel"]);i!=null&&c(e,["preTunedModel"],i);const o=u(t,["trainingDataset"]);o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],KI(o,e));const r=u(t,["config"]);return r!=null&&c(e,["config"],QI(r,e)),e}function e2(t){const e={},n=u(t,["name"]);n!=null&&c(e,["model"],n);const i=u(t,["name"]);return i!=null&&c(e,["endpoint"],i),e}function vv(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["state"]);o!=null&&c(e,["state"],Yy(o));const r=u(t,["createTime"]);r!=null&&c(e,["createTime"],r);const a=u(t,["tuningTask","startTime"]);a!=null&&c(e,["startTime"],a);const d=u(t,["tuningTask","completeTime"]);d!=null&&c(e,["endTime"],d);const h=u(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const p=u(t,["description"]);p!=null&&c(e,["description"],p);const g=u(t,["baseModel"]);g!=null&&c(e,["baseModel"],g);const v=u(t,["_self"]);v!=null&&c(e,["tunedModel"],e2(v));const C=u(t,["customBaseModel"]);C!=null&&c(e,["customBaseModel"],C);const T=u(t,["experiment"]);T!=null&&c(e,["experiment"],T);const w=u(t,["labels"]);w!=null&&c(e,["labels"],w);const E=u(t,["outputUri"]);E!=null&&c(e,["outputUri"],E);const M=u(t,["pipelineJob"]);M!=null&&c(e,["pipelineJob"],M);const b=u(t,["serviceAccount"]);b!=null&&c(e,["serviceAccount"],b);const P=u(t,["tunedModelDisplayName"]);return P!=null&&c(e,["tunedModelDisplayName"],P),e}function t2(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["tunedModels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>vv(a))),c(e,["tuningJobs"],r)}return e}function n2(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["metadata"]);o!=null&&c(e,["metadata"],o);const r=u(t,["done"]);r!=null&&c(e,["done"],r);const a=u(t,["error"]);return a!=null&&c(e,["error"],a),e}function i2(t){const e={},n=u(t,["checkpointId"]);n!=null&&c(e,["checkpointId"],n);const i=u(t,["epoch"]);i!=null&&c(e,["epoch"],i);const o=u(t,["step"]);o!=null&&c(e,["step"],o);const r=u(t,["endpoint"]);return r!=null&&c(e,["endpoint"],r),e}function o2(t){const e={},n=u(t,["model"]);n!=null&&c(e,["model"],n);const i=u(t,["endpoint"]);i!=null&&c(e,["endpoint"],i);const o=u(t,["checkpoints"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>i2(a))),c(e,["checkpoints"],r)}return e}function Fc(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["name"]);i!=null&&c(e,["name"],i);const o=u(t,["state"]);o!=null&&c(e,["state"],Yy(o));const r=u(t,["createTime"]);r!=null&&c(e,["createTime"],r);const a=u(t,["startTime"]);a!=null&&c(e,["startTime"],a);const d=u(t,["endTime"]);d!=null&&c(e,["endTime"],d);const h=u(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const p=u(t,["error"]);p!=null&&c(e,["error"],p);const g=u(t,["description"]);g!=null&&c(e,["description"],g);const v=u(t,["baseModel"]);v!=null&&c(e,["baseModel"],v);const C=u(t,["tunedModel"]);C!=null&&c(e,["tunedModel"],o2(C));const T=u(t,["preTunedModel"]);T!=null&&c(e,["preTunedModel"],T);const w=u(t,["supervisedTuningSpec"]);w!=null&&c(e,["supervisedTuningSpec"],w);const E=u(t,["tuningDataStats"]);E!=null&&c(e,["tuningDataStats"],E);const M=u(t,["encryptionSpec"]);M!=null&&c(e,["encryptionSpec"],M);const b=u(t,["partnerModelTuningSpec"]);b!=null&&c(e,["partnerModelTuningSpec"],b);const P=u(t,["customBaseModel"]);P!=null&&c(e,["customBaseModel"],P);const R=u(t,["experiment"]);R!=null&&c(e,["experiment"],R);const D=u(t,["labels"]);D!=null&&c(e,["labels"],D);const L=u(t,["outputUri"]);L!=null&&c(e,["outputUri"],L);const H=u(t,["pipelineJob"]);H!=null&&c(e,["pipelineJob"],H);const O=u(t,["serviceAccount"]);O!=null&&c(e,["serviceAccount"],O);const J=u(t,["tunedModelDisplayName"]);return J!=null&&c(e,["tunedModelDisplayName"],J),e}function s2(t){const e={},n=u(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const i=u(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const o=u(t,["tuningJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>Fc(a))),c(e,["tuningJobs"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r2 extends Pi{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ws(ki.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel},o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let r="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?r=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(r=o.name.split("/operations/")[0]),{name:r,state:Mc.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=jI(e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>Fc(g))}else{const p=HI(e);return d=re("{name}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>vv(g))}}async listInternal(e){var n,i,o,r;let a,d="",h={};if(this.apiClient.isVertexAI()){const p=YI(e);return d=re("tuningJobs",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=s2(g),C=new bm;return Object.assign(C,v),C})}else{const p=OI(e);return d=re("tunedModels",p._url),h=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(v=>{const C=v;return C.sdkHttpResponse={headers:g.headers},C})),a.then(g=>{const v=t2(g),C=new bm;return Object.assign(C,v),C})}}async tuneInternal(e){var n,i;let o,r="",a={};if(this.apiClient.isVertexAI()){const d=ZI(e);return r=re("tuningJobs",d._url),a=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>Fc(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=WI(e);return r=re("tunedModels",d._url),a=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),o.then(h=>n2(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l2{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const a2=1024*1024*8,u2=3,c2=1e3,d2=2,ic="x-goog-upload-status";async function f2(t,e,n){var i,o,r;let a=0,d=0,h=new kc(new Response),p="upload";for(a=t.size;d<a;){const v=Math.min(a2,a-d),C=t.slice(d,d+v);d+v>=a&&(p+=", finalize");let T=0,w=c2;for(;T<u2&&(h=await n.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(d),"Content-Length":String(v)}}}),!(!((i=h==null?void 0:h.headers)===null||i===void 0)&&i[ic]));)T++,await p2(w),w=w*d2;if(d+=v,((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o[ic])!=="active")break;if(a<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const g=await(h==null?void 0:h.json());if(((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[ic])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return g.file}async function h2(t){return{size:t.size,type:t.type}}function p2(t){return new Promise(e=>setTimeout(e,t))}class m2{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await f2(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await h2(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g2{create(e,n,i){return new y2(e,n,i)}}class y2{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eg="x-goog-api-key";class v2{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(eg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(eg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const x2="gl-node/";class C2{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=uS(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new v2(this.apiKey);this.apiClient=new Vb({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:x2+"web",uploader:new m2,downloader:new l2}),this.models=new oI(this.apiClient),this.live=new Xb(this.apiClient,o,new g2),this.batches=new Dw(this.apiClient),this.chats=new H1(this.models,this.apiClient),this.caches=new U1(this.apiClient),this.files=new Z1(this.apiClient),this.operations=new aI(this.apiClient),this.authTokens=new BI(this.apiClient),this.tunings=new r2(this.apiClient)}}const xv=new C2({apiKey:""}),_2=async(t,e)=>{const n=`Você é um guia turístico amigável e experiente de Caçapava do Sul, Brasil. Um turista está visitando "${t}" e tem uma pergunta. Responda de forma concisa, útil e calorosa. Pergunta: "${e}"`;try{return await xv.models.generateContentStream({model:"gemini-2.5-flash",contents:n})}catch(i){console.error("Error calling Gemini API (askAIGuideStream):",i);const o=`Desculpe, meu cérebro de IA está offline no momento. Mas tenho certeza que ${t} é incrível! Tente perguntar a um guia local.`;async function*r(){for(const a of o.split(" "))await new Promise(d=>setTimeout(d,50)),yield{text:a+" "}}return r()}},T2=async t=>{const e=r=>{const a=r.name.toLowerCase();return a.includes("pedra")||a.includes("guaritas")||a.includes("cascata")?"Natureza, Aventura":a.includes("forte")||a.includes("igreja")||a.includes("casa de ulhôa")?"História, Cultura Local":a.includes("minas")?"História, Aventura":a.includes("churrascaria")||a.includes("doçaria")?"Gastronomia":"Geral"},o=`
        Você é um guia turístico especialista e criativo para a cidade de Caçapava do Sul, no Brasil.
        Sua tarefa é criar um roteiro de viagem personalizado e detalhado, baseado nas preferências de um turista.

        **Contexto - Pontos de Interesse Disponíveis:**
        Aqui está uma lista dos pontos de interesse em Caçapava do Sul que você DEVE usar como base para suas recomendações. Não invente lugares que não estão nesta lista.
        ${(await ve.getPointsOfInterest()).map(r=>`- ${r.name}: ${r.description} (Tipo: ${e(r)})`).join(`
`)}

        **Preferências do Turista:**
        - **Duração da Viagem:** ${t.duration}
        - **Principais Interesses:** ${t.interests.join(", ")}
        - **Ritmo Desejado:** ${t.pace}
        - **Observações Adicionais:** ${t.notes||"Nenhuma."}

        **Sua Tarefa:**
        1.  Crie um roteiro dia a dia, se a duração for maior que um dia.
        2.  Use os pontos de interesse da lista fornecida que melhor se encaixam nos interesses do turista.
        3.  Organize as atividades de forma lógica (manhã, tarde, noite) e considere o ritmo solicitado.
        4.  Para cada sugestão, escreva um parágrafo curto e envolvente, explicando por que o local é uma boa escolha e o que o turista pode fazer lá.
        5.  O tom deve ser amigável, acolhedor e inspirador.
        6.  Retorne a resposta em formato **Markdown**, usando títulos (##, ###) para os dias e negrito (**) para os nomes dos locais.

        Comece o roteiro com um título criativo.
    `;try{return(await xv.models.generateContent({model:"gemini-2.5-flash",contents:o})).text}catch(r){return console.error("Error calling Gemini API for itinerary:",r),`Modo de demonstração: A API do Gemini não está configurada ou a chamada falhou. Aqui está um exemplo de roteiro:

### Dia 1: Aventura e Natureza

**Manhã:**
- **Pedra do Segredo:** Comece o dia com uma trilha leve e aprecie a vista incrível deste famoso ponto turístico.

**Tarde:**
- **Guaritas:** Explore as formações rochosas que parecem castelos. Ótimo para fotos!

**Noite:**
- **Churrascaria Rodeio:** Termine o dia com um autêntico churrasco gaúcho.`}},tg=({mobile:t=!1})=>{const e=ln(),n=i=>{const o=e.pathname===i;return t?`block px-4 py-3 text-lg rounded-md transition-colors ${o?"bg-green-100 text-green-600 font-semibold":"text-slate-700 hover:bg-slate-100"}`:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${o?"bg-green-100 text-green-600":"text-slate-600 hover:bg-slate-100"}`};return y.jsxs(y.Fragment,{children:[y.jsx(rt,{to:"/",className:n("/"),end:!0,children:"Início"}),y.jsx(rt,{to:"/routes",className:n("/routes"),children:"Rotas"}),y.jsx(rt,{to:"/itinerary",className:n("/itinerary"),children:"Roteiro IA"}),y.jsx(rt,{to:"/challenges",className:n("/challenges"),children:"Desafios"}),y.jsx(rt,{to:"/gallery",className:n("/gallery"),children:"Galeria"}),y.jsx(rt,{to:"/about",className:n("/about"),children:"A Cidade"}),y.jsx(rt,{to:"/leaderboard",className:n("/leaderboard"),children:"Ranking"})]})},S2=()=>{const{user:t}=an(),[e,n]=N.useState(!1);return y.jsxs("header",{className:"fixed top-0 left-0 right-0 bg-white/90 backdrop-blur-sm shadow-sm z-50 border-b border-slate-200/80",children:[y.jsx("div",{className:"container mx-auto px-4",children:y.jsxs("div",{className:"flex justify-between items-center h-20",children:[y.jsxs(rt,{to:"/",className:"flex items-center gap-2 text-brand-dark-green",children:[y.jsx("div",{className:"w-10 h-10",children:y.jsx($s,{})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-display tracking-wider text-xl leading-none",children:"VISITE"}),y.jsx("div",{className:"font-black text-2xl leading-none -mt-1",children:"CAÇAPAVA"})]})]}),y.jsx("nav",{className:"hidden lg:flex items-center space-x-2",children:y.jsx(tg,{})}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs(rt,{to:"/profile",className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-slate-100",children:[y.jsx("img",{src:t==null?void 0:t.avatarUrl,alt:"Avatar",className:"h-10 w-10 rounded-full border-2 border-green-500"}),y.jsxs("div",{className:"hidden sm:block text-right",children:[y.jsx("p",{className:"font-semibold text-slate-800 text-sm",children:t==null?void 0:t.name}),y.jsxs("p",{className:"text-xs text-amber-600 font-bold",children:[t==null?void 0:t.points," Pontos"]})]})]}),y.jsx("button",{onClick:()=>n(!e),className:"lg:hidden p-2 rounded-md text-slate-600 hover:bg-slate-100",children:e?y.jsx(Zc,{size:28}):y.jsx(NT,{size:28})})]})]})}),e&&y.jsx("div",{className:"lg:hidden bg-white border-t border-slate-200",children:y.jsx("nav",{className:"flex flex-col space-y-2 p-4",children:y.jsx(tg,{mobile:!0})})})]})},w2=({children:t})=>y.jsxs("div",{className:"bg-brand-beige min-h-screen",children:[y.jsx(S2,{}),y.jsx("main",{className:"container mx-auto px-4 pt-28 pb-12",children:t})]}),E2=({children:t})=>{const{user:e,logout:n}=an(),i=Zn();ln();const o=()=>{n(),i("/login")},r=({isActive:a})=>`flex items-center gap-4 px-4 py-3 rounded-r-lg text-base transition-colors duration-200 border-l-4 ${a?"bg-brand-light-green/20 text-brand-light-green font-semibold border-brand-light-green":"border-transparent hover:bg-slate-800 text-slate-400 hover:text-slate-300"}`;return y.jsxs("div",{className:"min-h-screen flex bg-slate-100 text-slate-800",children:[y.jsxs("aside",{className:"w-64 bg-slate-900 text-slate-400 flex flex-col shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3 h-24 mb-4 px-6 border-b border-slate-800",children:[y.jsx("div",{className:"w-10 h-10 text-brand-light-green",children:y.jsx($s,{})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold text-sm leading-none text-slate-500",children:"PAINEL"}),y.jsx("div",{className:"font-display tracking-wider text-xl leading-none text-white",children:"ADMIN"})]})]}),y.jsxs("nav",{className:"mt-6 space-y-1 px-4",children:[y.jsxs(rt,{to:"/admin",className:r,end:!0,children:[y.jsx(fT,{size:20}),y.jsx("span",{children:"Dashboard"})]}),y.jsxs(rt,{to:"/admin/routes",className:r,children:[y.jsx(zy,{size:20}),y.jsx("span",{children:"Rotas"})]}),y.jsxs(rt,{to:"/admin/pois",className:r,children:[y.jsx(ei,{size:20}),y.jsx("span",{children:"Pontos de Interesse"})]}),y.jsxs(rt,{to:"/admin/challenges",className:r,children:[y.jsx(Mi,{size:20}),y.jsx("span",{children:"Desafios"})]}),y.jsxs(rt,{to:"/admin/tourists",className:r,children:[y.jsx(Si,{size:20}),y.jsx("span",{children:"Turistas"})]}),y.jsxs(rt,{to:"/admin/hotel-analytics",className:r,children:[y.jsx(Uy,{size:20}),y.jsx("span",{children:"Hotéis"})]}),y.jsxs(rt,{to:"/admin/analytics",className:r,children:[y.jsx(Fy,{size:20}),y.jsx("span",{children:"Analytics"})]})]}),y.jsxs("div",{className:"mt-auto p-4 border-t border-slate-800",children:[y.jsxs("div",{className:"p-2 mb-2",children:[y.jsx("p",{className:"font-semibold text-white truncate",children:e==null?void 0:e.name}),y.jsx("p",{className:"text-sm opacity-70 truncate",children:e==null?void 0:e.email})]}),y.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center gap-3 px-4 py-3 rounded-lg text-base bg-slate-800 hover:bg-brand-red text-white transition-colors",children:[y.jsx(Vy,{size:20}),y.jsx("span",{children:"Sair"})]})]})]}),y.jsx("main",{className:"flex-grow p-6 lg:p-8 overflow-y-auto",children:t})]})},M2=({children:t})=>{const{user:e,logout:n}=an(),i=Zn(),o=()=>{n(),i("/login")},r=({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-lg transition-colors ${a?"bg-brand-green text-white":"hover:bg-brand-dark-green/10"}`;return y.jsxs("div",{className:"min-h-screen flex bg-gray-100",children:[y.jsxs("aside",{className:"w-64 bg-brand-dark-green text-brand-beige flex flex-col p-4",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-8 p-2",children:[y.jsx("div",{className:"w-10 h-10 text-brand-light-green",children:y.jsx($s,{})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold text-sm leading-none",children:"PORTAL"}),y.jsx("div",{className:"font-display tracking-wider text-lg leading-none",children:"HOTEL"})]})]}),y.jsxs("nav",{className:"flex-grow space-y-2",children:[y.jsxs(rt,{to:"/hotel",end:!0,className:r,children:[y.jsx(gT,{size:22}),y.jsx("span",{children:"Dashboard"})]}),y.jsxs(rt,{to:"/hotel/checkin",className:r,children:[y.jsx(ZT,{size:22}),y.jsx("span",{children:"Check-in de Hóspede"})]})]}),y.jsxs("div",{className:"mt-auto",children:[y.jsxs("div",{className:"p-2 mb-2 border-t border-brand-green/20",children:[y.jsx("p",{className:"font-semibold",children:e==null?void 0:e.name}),y.jsx("p",{className:"text-sm opacity-70",children:e==null?void 0:e.email})]}),y.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-lg text-brand-beige hover:bg-brand-red/80 transition-colors",children:[y.jsx(Vy,{size:22}),y.jsx("span",{children:"Sair"})]})]})]}),y.jsx("main",{className:"flex-grow p-8 overflow-y-auto",children:t})]})},Cv=({route:t})=>{var o;const[e,n]=N.useState([]);N.useEffect(()=>{Promise.all(t.pointsOfInterest.map(r=>ve.getPointOfInterestById(r))).then(r=>n(r.filter(a=>!!a)))},[t]);const i=e.reduce((r,a)=>r+((a==null?void 0:a.points)||0),0);return y.jsxs(Ei,{to:`/routes/${t.id}`,className:"block bg-white rounded-2xl shadow-lg overflow-hidden group transform hover:-translate-y-2 transition-transform duration-300",children:[y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:t.imageUrl||((o=e[0])==null?void 0:o.imageUrl)||"https://picsum.photos/800/600",alt:t.name,className:"w-full h-48 object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),y.jsx("div",{className:"absolute bottom-0 left-0 p-4",children:y.jsx("h3",{className:"text-white text-2xl font-bold",children:t.name})}),y.jsxs("div",{className:"absolute top-4 right-4 bg-brand-light-green text-white text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[y.jsx(ei,{size:14}),y.jsxs("span",{children:[e.length," paradas"]})]})]}),y.jsxs("div",{className:"p-4",children:[y.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsxs("span",{className:"font-semibold text-brand-green",children:[i," Pontos Totais"]}),y.jsx("span",{className:"font-bold text-brand-dark-green group-hover:text-brand-light-green transition-colors",children:"Ver Rota →"})]})]})]})},k2=()=>{const{currentUser:t}=Jl(),[e,n]=N.useState([]),[i,o]=N.useState(!0);return N.useEffect(()=>{ve.getRoutes().then(r=>{n(r.slice(0,2)),o(!1)}).catch(r=>{console.error("Failed to fetch featured routes:",r),o(!1)})},[]),y.jsxs("div",{className:"space-y-16",children:[y.jsxs("section",{className:"relative text-center bg-brand-dark-green text-white rounded-3xl overflow-hidden py-20 px-4",children:[y.jsx("div",{className:"absolute inset-0 opacity-10 text-brand-green",children:y.jsx($s,{className:"w-full h-full"})}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("h1",{className:"font-display text-5xl md:text-7xl lg:text-8xl tracking-wider",children:"Explore. Conquiste."}),y.jsx("h2",{className:"font-black text-4xl md:text-6xl lg:text-7xl -mt-2 text-brand-light-green",children:"Caçapava do Sul"}),y.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-brand-beige",children:"Transforme sua visita em uma aventura inesquecível. Descubra rotas, complete desafios e ganhe recompensas!"}),y.jsx(Ei,{to:"/routes",className:"mt-8 inline-block bg-brand-light-green text-white font-bold py-3 px-8 rounded-full text-lg hover:bg-brand-green transition-transform transform hover:scale-105",children:"Começar a Explorar"})]})]}),y.jsxs("section",{className:"grid md:grid-cols-3 gap-8 text-center",children:[y.jsxs("div",{className:"bg-white/50 p-6 rounded-2xl shadow-sm",children:[y.jsx(nT,{className:"w-12 h-12 mx-auto text-brand-green"}),y.jsx("h3",{className:"font-bold text-xl mt-4",children:"Rotas Temáticas"}),y.jsx("p",{className:"mt-2 text-gray-600",children:"Siga roteiros criados para todos os gostos: natureza, história, gastronomia e mais."})]}),y.jsxs("div",{className:"bg-white/50 p-6 rounded-2xl shadow-sm",children:[y.jsx(Qc,{className:"w-12 h-12 mx-auto text-brand-green"}),y.jsx("h3",{className:"font-bold text-xl mt-4",children:"Ganhe Pontos e Badges"}),y.jsx("p",{className:"mt-2 text-gray-600",children:"Faça check-in nos locais, complete desafios e colecione conquistas exclusivas."})]}),y.jsxs("div",{className:"bg-white/50 p-6 rounded-2xl shadow-sm",children:[y.jsx(Si,{className:"w-12 h-12 mx-auto text-brand-green"}),y.jsx("h3",{className:"font-bold text-xl mt-4",children:"Compita no Ranking"}),y.jsx("p",{className:"mt-2 text-gray-600",children:"Veja sua posição no ranking de exploradores e desafie seus amigos."})]})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Rotas em Destaque"}),i?y.jsx("div",{className:"text-center text-gray-600",children:"Carregando rotas..."}):y.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:e.map(r=>y.jsx(Cv,{route:r},r.id))})]})]})},N2=()=>{const[t,e]=N.useState([]),[n,i]=N.useState(!0);return N.useEffect(()=>{ve.getRoutes().then(o=>{e(o),i(!1)})},[]),n?y.jsx("div",{className:"text-center",children:"Carregando rotas..."}):y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-display text-center mb-2",children:"Nossas Rotas"}),y.jsx("p",{className:"text-lg text-center text-gray-600 mb-8",children:"Escolha uma aventura e comece a explorar Caçapava do Sul."}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(o=>y.jsx(Cv,{route:o},o.id))})]})},b2={Mountain:Hy,BookOpen:Ly,Utensils:oS,Star:Gs,Leaf:vT},I2=({badge:t})=>{const e=b2[t.icon];return e?y.jsxs("div",{className:"group relative flex flex-col items-center text-center",children:[y.jsx("div",{className:"w-20 h-20 bg-brand-green rounded-full flex items-center justify-center transition-transform transform group-hover:scale-110",children:y.jsx(e,{className:"w-8 h-8 text-white"})}),y.jsx("p",{className:"text-sm font-semibold mt-2",children:t.name}),y.jsxs("div",{className:"absolute bottom-full mb-2 w-48 bg-brand-dark-green text-white text-xs rounded-lg p-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:[t.description,y.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-x-8 border-x-transparent border-t-8 border-t-brand-dark-green"})]})]}):null},P2=({onClose:t})=>{const{currentUser:e,updateUserProfile:n}=Jl(),[i,o]=N.useState((e==null?void 0:e.name)||""),[r,a]=N.useState((e==null?void 0:e.avatarUrl)||""),[d,h]=N.useState(!1),p=async g=>{g.preventDefault(),h(!0),await n(i,r),h(!1),t()};return y.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:y.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",onClick:g=>g.stopPropagation(),children:y.jsxs("div",{className:"p-6 relative",children:[y.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Editar Perfil"}),y.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-brand-dark-green",children:y.jsx(Zc,{size:24})}),y.jsxs("form",{onSubmit:p,className:"space-y-4",children:[y.jsx("div",{className:"flex justify-center",children:y.jsx("img",{src:r||"https://picsum.photos/seed/you/200",alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border-4 border-brand-light-green"})}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome"}),y.jsx("input",{id:"name",type:"text",value:i,onChange:g=>o(g.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"avatarUrl",className:"block text-sm font-medium text-gray-700",children:"URL da Foto de Perfil"}),y.jsx("input",{id:"avatarUrl",type:"text",value:r,onChange:g=>a(g.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),y.jsx("div",{className:"pt-4",children:y.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-full shadow-sm text-sm font-medium text-white bg-brand-green hover:bg-brand-dark-green disabled:bg-gray-400",children:d?"Salvando...":"Salvar Alterações"})})]})]})})})},A2=()=>{const{currentUser:t}=Jl(),[e,n]=N.useState([]),[i,o]=N.useState([]),[r,a]=N.useState(!1);return N.useEffect(()=>{t&&(ve.getBadgesForUser(t.id).then(n),(async()=>{const h=await Promise.all(t.visited.map(async p=>{const g=await ve.getPointOfInterestById(p.pointId);return g?{...g,visitDate:p.date}:null}));o(h.filter(p=>!!p).sort((p,g)=>new Date(g.visitDate).getTime()-new Date(p.visitDate).getTime()))})())},[t]),t?y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 flex flex-col md:flex-row items-center gap-8 relative",children:[y.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-32 h-32 rounded-full border-4 border-brand-light-green object-cover"}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-bold",children:t.name}),y.jsxs("div",{className:"flex items-center gap-6 mt-4 text-gray-600",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-3xl font-bold text-brand-green",children:t.points}),y.jsx("div",{className:"text-sm",children:"Pontos"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-3xl font-bold text-brand-green",children:t.visited.length}),y.jsx("div",{className:"text-sm",children:"Locais Visitados"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-3xl font-bold text-brand-green",children:e.length}),y.jsx("div",{className:"text-sm",children:"Conquistas"})]})]})]}),y.jsx("button",{onClick:()=>a(!0),className:"absolute top-4 right-4 bg-brand-beige p-2 rounded-full hover:bg-brand-light-green/20 transition-colors",children:y.jsx(Yl,{className:"w-5 h-5 text-brand-dark-green"})})]}),y.jsx("div",{className:"mt-8",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[y.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[y.jsx(Mi,{className:"text-brand-green"}),"Minhas Conquistas"]}),e.length>0?y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e.map(d=>y.jsx(I2,{badge:d},d.id))}):y.jsx("p",{className:"text-gray-500",children:"Continue explorando para ganhar conquistas!"})]})}),y.jsx("div",{className:"mt-8",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[y.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[y.jsx(ei,{className:"text-brand-green"}),"Histórico de Visitas"]}),y.jsx("ul",{className:"space-y-4",children:i.map(d=>y.jsxs("li",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold",children:d.name}),y.jsxs("p",{className:"text-sm text-gray-500",children:["Visitado em: ",new Date(d.visitDate).toLocaleDateString()]})]}),y.jsxs("span",{className:"font-bold text-brand-green flex items-center gap-1",children:["+",d.points," ",y.jsx(Gs,{size:16})]})]},d.visitDate))})]})}),r&&y.jsx(P2,{onClose:()=>a(!1)})]}):y.jsx("div",{children:"Carregando perfil..."})},R2=({rank:t})=>t===0?y.jsx(oT,{className:"w-6 h-6 text-yellow-400"}):t===1?y.jsx(MT,{className:"w-6 h-6 text-gray-400"}):t===2?y.jsx(Mi,{className:"w-6 h-6 text-yellow-600"}):y.jsx("span",{className:"font-bold text-gray-500 w-6 text-center",children:t+1}),D2=()=>{const{user:t}=an(),[e,n]=N.useState([]),[i,o]=N.useState(!0);return N.useEffect(()=>{ve.getLeaderboard().then(r=>{n(r),o(!1)})},[]),i?y.jsx("div",{className:"text-center",children:"Carregando ranking..."}):y.jsxs("div",{className:"max-w-2xl mx-auto",children:[y.jsx("h1",{className:"text-4xl font-display text-center mb-2",children:"Ranking de Exploradores"}),y.jsx("p",{className:"text-lg text-center text-gray-600 mb-8",children:"Veja quem são os maiores aventureiros de Caçapava do Sul!"}),y.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 space-y-2",children:e.map((r,a)=>y.jsxs("div",{className:`flex items-center p-4 rounded-xl transition-all ${r.id===(t==null?void 0:t.id)?"bg-brand-light-green/20 border-2 border-brand-light-green":"bg-gray-50"}`,children:[y.jsx("div",{className:"flex-shrink-0 w-10 flex justify-center",children:y.jsx(R2,{rank:a})}),y.jsx("img",{src:r.avatarUrl,alt:r.name,className:"w-12 h-12 rounded-full mx-4 object-cover"}),y.jsx("div",{className:"flex-grow",children:y.jsx("p",{className:"font-bold text-lg",children:r.name})}),y.jsxs("div",{className:"font-black text-xl text-brand-green",children:[r.points," pts"]})]},r.id))})]})},_v=({poi:t,onClose:e})=>{const{checkIn:n,getVisitedIds:i}=Jl(),[o,r]=N.useState(null),[a,d]=N.useState([]),[h,p]=N.useState(!1),[g,v]=N.useState(""),[C,T]=N.useState(""),[w,E]=N.useState(!1),[M,b]=N.useState(!1),P=i().has(t.id),R=async()=>{p(!0);const L=await n(t.id);r({type:L.success?"success":"info",message:L.message}),L.success&&d(L.newBadges),p(!1)},D=async L=>{if(L.preventDefault(),!(!g.trim()||w)){E(!0),T("");try{const H=await _2(t.name,g);for await(const O of H)T(J=>J+O.text)}catch{T("Desculpe, não consegui obter uma resposta. Tente novamente.")}finally{E(!1),v("")}}};return N.useEffect(()=>{const L=H=>{H.key==="Escape"&&e()};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[e]),y.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:y.jsxs("div",{className:"bg-brand-beige rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col md:flex-row",onClick:L=>L.stopPropagation(),children:[y.jsx("div",{className:"w-full md:w-1/2",children:y.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-64 md:h-full object-cover rounded-t-2xl md:rounded-l-2xl md:rounded-tr-none"})}),y.jsxs("div",{className:"w-full md:w-1/2 p-6 flex flex-col relative",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-brand-dark-green",children:y.jsx(Zc,{size:24})}),y.jsx("h2",{className:"text-3xl font-bold mb-2",children:t.name}),y.jsxs("span",{className:"font-semibold text-brand-green mb-4",children:[t.points," pontos"]}),y.jsx("p",{className:"text-gray-700 mb-4 flex-grow",children:t.longDescription}),!M&&y.jsxs(y.Fragment,{children:[o&&y.jsxs("div",{className:`p-3 rounded-lg mb-4 flex items-center gap-3 text-white ${o.type==="success"?"bg-brand-green":"bg-yellow-500"}`,children:[o.type==="success"?y.jsx(Sc,{size:20}):y.jsx(pT,{size:20}),y.jsx("span",{children:o.message})]}),a.length>0&&y.jsxs("div",{className:"p-3 rounded-lg mb-4 bg-brand-light-green text-white",children:[y.jsxs("h4",{className:"font-bold flex items-center gap-2",children:[y.jsx(Qc,{size:20}),"Novas Conquistas!"]}),a.map(L=>y.jsxs("p",{className:"text-sm",children:["- ",L.name]},L.id))]}),y.jsxs("div",{className:"mt-auto space-y-3",children:[y.jsx("button",{onClick:R,disabled:P||h,className:"w-full bg-brand-green text-white font-bold py-3 px-6 rounded-full flex items-center justify-center gap-2 hover:bg-brand-dark-green transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:h?"Processando...":P?y.jsxs(y.Fragment,{children:[y.jsx(Sc,{size:20})," Já Visitado"]}):y.jsxs(y.Fragment,{children:[y.jsx(Gs,{size:20})," Fazer Check-in (Simula QR Code)"]})}),y.jsxs("button",{onClick:()=>b(!0),className:"w-full bg-brand-dark-green text-white font-bold py-3 px-6 rounded-full flex items-center justify-center gap-2 hover:bg-opacity-80 transition-colors",children:[y.jsx(By,{size:20})," Perguntar ao Guia IA"]})]})]}),M&&y.jsxs("div",{className:"flex flex-col h-full bg-white/70 rounded-lg p-4 -m-2 mt-2",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(Yc,{size:20}),"Guia de IA"]}),y.jsx("button",{onClick:()=>b(!1),className:"text-sm text-gray-600 hover:underline",children:"Voltar"})]}),y.jsxs("div",{className:"flex-grow bg-gray-100 rounded-lg p-3 overflow-y-auto mb-2 min-h-[150px]",children:[C?y.jsx("p",{className:"text-sm whitespace-pre-wrap",children:C}):y.jsxs("p",{className:"text-sm text-gray-500",children:["Faça uma pergunta sobre ",t.name,"..."]}),w&&y.jsx("div",{className:"animate-pulse text-sm text-gray-500",children:"...pensando"})]}),y.jsxs("form",{onSubmit:D,className:"flex gap-2",children:[y.jsx("input",{type:"text",value:g,onChange:L=>v(L.target.value),placeholder:"Qual a melhor hora para visitar?",className:"flex-grow p-2 border rounded-full text-sm focus:ring-brand-green focus:border-brand-green"}),y.jsx("button",{type:"submit",disabled:w,className:"bg-brand-green text-white rounded-full p-2 hover:bg-brand-dark-green disabled:bg-gray-400",children:y.jsx(Oy,{size:20})})]})]})]})]})})};let Cs=null;const L2=()=>{if(Cs)return Cs;let t="https://maps.googleapis.com/maps/api/js?v=stable";return console.warn("Google Maps API key is not configured or is likely invalid. Map will be loaded in development mode."),Cs=new Promise((e,n)=>{if(window.google&&window.google.maps){e();return}const i=document.createElement("script");i.src=t,i.async=!0,i.defer=!0,i.onload=()=>e(),i.onerror=()=>{Cs=null,n(new Error("Failed to load Google Maps script."))},document.head.appendChild(i)}),Cs},F2=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#d9ead3"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#a4c2f4"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],Tv=({center:t,zoom:e=14,pois:n,onMarkerClick:i,bounds:o})=>{const r=N.useRef(null),[a,d]=N.useState(null),[h,p]=N.useState({}),[g,v]=N.useState(null),C=N.useRef(!1);return N.useEffect(()=>{const T=()=>{C.current||(C.current=!0,console.error("Google Maps API authentication failed. This can be caused by an invalid API key, or billing not being enabled on the associated account."),v("Falha na autenticação do Google Maps. A chave de API pode ser inválida ou o projeto não está configurado corretamente."))};return window.gm_authFailure=T,L2().then(()=>{if(!C.current)try{if(r.current&&!a){const w=new window.google.maps.Map(r.current,{center:t,zoom:e,styles:F2,disableDefaultUI:!0,zoomControl:!0});d(w),v(null)}}catch(w){console.error("Error initializing Google Map:",w),v("Ocorreu um erro ao inicializar o mapa. O serviço pode estar indisponível.")}}).catch(w=>{console.error("Failed to load Google Maps:",w),C.current||v("Não foi possível carregar o mapa. Verifique sua conexão com a internet.")}),()=>{window.gm_authFailure===T&&delete window.gm_authFailure}},[]),N.useEffect(()=>{a&&(o?a.fitBounds(o,100):(a.setCenter(t),a.setZoom(e)))},[a,t,e,o]),N.useEffect(()=>{if(a){Object.keys(h).forEach(w=>{n.find(E=>E.id===w)||(h[w].setMap(null),delete h[w])});const T={...h};n.forEach(w=>{if(!T[w.id]){const E=new window.google.maps.Marker({position:{lat:w.lat,lng:w.lng},map:a,title:w.name});E.addListener("click",()=>{i(w)}),T[w.id]=E}}),p(T)}},[a,n,i]),g?y.jsxs("div",{className:"w-full h-full bg-yellow-50 flex flex-col p-4 text-center",children:[y.jsxs("div",{className:"flex-shrink-0",children:[y.jsx(KT,{className:"w-10 h-10 text-yellow-500 mx-auto mb-2"}),y.jsx("h3",{className:"font-bold text-yellow-800",children:"Mapa Indisponível"}),y.jsx("p",{className:"text-sm text-yellow-700 mb-4",children:g})]}),y.jsxs("div",{className:"flex-grow overflow-y-auto w-full text-left pr-2",children:[y.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Alternativamente, explore os pontos na lista:"}),y.jsx("div",{className:"space-y-2",children:n.map(T=>y.jsxs("button",{onClick:()=>i(T),className:"w-full flex items-center gap-4 p-2 bg-white/80 rounded-lg shadow-sm hover:bg-brand-light-green/20 transition-colors text-left",children:[y.jsx("img",{src:T.imageUrl,alt:T.name,className:"w-12 h-12 object-cover rounded-md flex-shrink-0"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-sm text-brand-dark-green",children:T.name}),y.jsx("p",{className:"text-xs text-gray-600",children:T.description})]})]},T.id))})]})]}):y.jsx("div",{ref:r,className:"w-full h-full"})},U2=()=>{const{routeId:t}=Jc(),[e,n]=N.useState(null),[i,o]=N.useState([]),[r,a]=N.useState(!0),[d,h]=N.useState(null);N.useEffect(()=>{if(!t)return;(async()=>{a(!0);const C=await ve.getRouteById(t);if(C){n(C);const T=await Promise.all(C.pointsOfInterest.map(w=>ve.getPointOfInterestById(w)));o(T.filter(w=>!!w))}a(!1)})()},[t]);const p=N.useMemo(()=>{if(i.length===0)return{lat:-30.5119,lng:-53.4908};const v=i.reduce((T,w)=>T+w.lat,0)/i.length,C=i.reduce((T,w)=>T+w.lng,0)/i.length;return{lat:v,lng:C}},[i]),g=N.useMemo(()=>{if(i.length<2)return;const v=i.map(T=>T.lat),C=i.map(T=>T.lng);return{north:Math.max(...v),south:Math.min(...v),east:Math.max(...C),west:Math.min(...C)}},[i]);return r?y.jsx("div",{className:"text-center",children:"Carregando detalhes da rota..."}):e?y.jsxs("div",{children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h1",{className:"text-4xl font-display mb-2",children:e.name}),y.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:e.description})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"lg:h-[600px] flex flex-col space-y-4",children:[y.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[y.jsx(ei,{className:"text-brand-green"})," Pontos de Interesse"]}),y.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:i.map(v=>y.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden flex",children:[y.jsx("img",{src:v.imageUrl,alt:v.name,className:"w-24 h-24 object-cover"}),y.jsxs("div",{className:"p-4 flex flex-col justify-between flex-grow",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold",children:v.name}),y.jsxs("p",{className:"text-sm text-brand-green font-semibold flex items-center gap-1",children:[v.points," ",y.jsx(Gs,{size:14})]})]}),y.jsx("button",{onClick:()=>h(v),className:"text-sm self-start mt-2 font-bold text-brand-dark-green hover:text-brand-light-green transition-colors",children:"Ver Detalhes →"})]})]},v.id))})]}),y.jsx("div",{className:"h-96 lg:h-[600px] rounded-2xl overflow-hidden shadow-lg border-4 border-white",children:y.jsx(Tv,{center:p,pois:i,onMarkerClick:h,bounds:g})})]}),d&&y.jsx(_v,{poi:d,onClose:()=>h(null)})]}):y.jsx("div",{className:"text-center",children:"Rota não encontrada."})},V2=()=>{const[t,e]=N.useState([]),[n,i]=N.useState(null),[o,r]=N.useState(!0);qs.useEffect(()=>{ve.getPointsOfInterest().then(d=>{e(d),r(!1)})},[]);const a={lat:-30.5119,lng:-53.4908};return y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-display text-center mb-2",children:"Mapa Interativo"}),y.jsx("p",{className:"text-lg text-center text-gray-600 mb-8",children:"Clique em um ponto no mapa para saber mais e fazer check-in."}),y.jsx("div",{className:"relative w-full aspect-[4/3] bg-brand-light-green/20 rounded-2xl shadow-lg overflow-hidden border-4 border-white",children:o?y.jsx("div",{className:"flex items-center justify-center h-full",children:y.jsx("p",{children:"Carregando mapa..."})}):y.jsx(Tv,{center:a,zoom:13,pois:t,onMarkerClick:i})}),n&&y.jsx(_v,{poi:n,onClose:()=>i(null)})]})},B2=["Natureza","História","Gastronomia","Aventura","Cultura Local"],ll=["Consultando nosso especialista em Caçapava...","Analisando as melhores paisagens...","Montando seu dia perfeito...","Adicionando um toque de magia...","Quase pronto!"],H2=()=>{const[t,e]=N.useState("1"),[n,i]=N.useState(new Set),[o,r]=N.useState("Moderado"),[a,d]=N.useState(""),[h,p]=N.useState(!1),[g,v]=N.useState(""),[C,T]=N.useState(""),[w,E]=N.useState(ll[0]),M=D=>{const L=new Set(n);L.has(D)?L.delete(D):L.add(D),i(L)},b=async D=>{if(D.preventDefault(),n.size===0){v("Por favor, selecione pelo menos um interesse.");return}v(""),p(!0),T("");const L=setInterval(()=>{E(H=>{const O=ll.indexOf(H);return ll[(O+1)%ll.length]})},2500);try{const H={duration:`${t} dia(s)`,interests:Array.from(n),pace:o,notes:a},O=await T2(H);T(O)}catch(H){v("Ocorreu um erro ao gerar o roteiro. Por favor, tente novamente."),console.error(H)}finally{p(!1),clearInterval(L)}},P=()=>{T(""),e("1"),i(new Set),r("Moderado"),d(""),v("")},R=()=>h?y.jsxs("div",{className:"text-center p-8 bg-white/50 rounded-2xl",children:[y.jsx(CT,{className:"w-16 h-16 mx-auto text-brand-green animate-spin mb-6"}),y.jsx("h2",{className:"text-2xl font-bold text-brand-dark-green mb-2",children:"Criando seu Roteiro..."}),y.jsx("p",{className:"text-gray-600 transition-opacity duration-500",children:w})]}):C?y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-brand-dark-green",children:"Seu Roteiro Personalizado"}),y.jsx("p",{className:"text-gray-600",children:"Uma aventura única, criada especialmente para você!"})]}),y.jsxs("button",{onClick:P,className:"flex items-center gap-2 bg-brand-beige text-brand-dark-green font-semibold py-2 px-4 rounded-full hover:bg-brand-light-green/20 transition-colors",children:[y.jsx(UT,{size:18}),"Criar Novo"]})]}),y.jsx("div",{className:"prose max-w-none text-gray-800 whitespace-pre-wrap font-sans",children:C})]}):y.jsxs("form",{onSubmit:b,className:"space-y-8",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-lg font-semibold block mb-2",children:"1. Duração da Viagem"}),y.jsxs("select",{value:t,onChange:D=>e(D.target.value),className:"w-full p-3 bg-white border border-gray-300 rounded-lg",children:[y.jsx("option",{value:"1",children:"1 Dia"}),y.jsx("option",{value:"2",children:"2 Dias"}),y.jsx("option",{value:"3",children:"3 Dias"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-lg font-semibold block mb-3",children:"2. Seus Interesses"}),y.jsx("div",{className:"flex flex-wrap gap-3",children:B2.map(D=>y.jsx("button",{type:"button",onClick:()=>M(D),className:`py-2 px-4 rounded-full font-medium transition-all duration-200 border-2 ${n.has(D)?"bg-brand-green text-white border-brand-green":"bg-white text-gray-700 border-gray-300 hover:border-brand-green"}`,children:D},D))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-lg font-semibold block mb-3",children:"3. Ritmo da Viagem"}),y.jsx("div",{className:"grid grid-cols-3 gap-4",children:["Relaxado","Moderado","Intenso"].map(D=>y.jsxs("button",{type:"button",onClick:()=>r(D),className:`p-4 rounded-lg text-center border-2 transition-all duration-200 ${o===D?"bg-brand-green text-white border-brand-green":"bg-white hover:border-brand-green"}`,children:[y.jsx("span",{className:"text-4xl mb-2 block",children:D==="Relaxado"?y.jsx(rT,{className:"mx-auto"}):D==="Moderado"?y.jsx(GT,{className:"mx-auto"}):y.jsx(Z_,{className:"mx-auto"})}),y.jsx("span",{className:"font-semibold",children:D})]},D))})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"notes",className:"text-lg font-semibold block mb-2",children:"4. Informações Adicionais (opcional)"}),y.jsx("textarea",{id:"notes",value:a,onChange:D=>d(D.target.value),placeholder:"Ex: Viajando com crianças, prefiro caminhadas leves, tenho pouco tempo pela manhã...",className:"w-full p-3 bg-white border border-gray-300 rounded-lg h-24"})]}),g&&y.jsx("p",{className:"text-brand-red text-center",children:g}),y.jsxs("button",{type:"submit",disabled:h,className:"w-full bg-brand-dark-green text-white font-bold text-lg py-4 px-6 rounded-full flex items-center justify-center gap-3 hover:bg-brand-green transition-transform transform hover:scale-105 disabled:bg-gray-400 disabled:scale-100",children:[y.jsx(zT,{size:24}),"Gerar Roteiro Mágico"]})]});return y.jsxs("div",{children:[!C&&y.jsxs("div",{className:"text-center mb-10",children:[y.jsxs("h1",{className:"text-4xl font-display text-brand-dark-green mb-2 flex items-center justify-center gap-3",children:[y.jsx(Yc,{}),"Crie seu Roteiro Personalizado com IA"]}),y.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Diga-nos o que você gosta e nosso guia de IA montará o plano perfeito para sua visita a Caçapava do Sul."})]}),y.jsx("div",{className:"max-w-3xl mx-auto",children:R()})]})},z2=()=>{const[t,e]=N.useState([]),[n,i]=N.useState(!0);if(N.useEffect(()=>{ve.getChallenges().then(a=>{e(a),i(!1)})},[]),n)return y.jsx("p",{className:"text-center mt-8",children:"Carregando desafios..."});const o=t.filter(a=>a.type==="event"&&a.startDate&&new Date(a.startDate)>new Date),r=t.filter(a=>a.type==="challenge");return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Desafios e Eventos"}),y.jsx("p",{className:"text-slate-600 mt-1",children:"Participe para ganhar pontos e novas conquistas!"})]}),o.length>0&&y.jsxs("section",{children:[y.jsxs("h2",{className:"text-2xl font-semibold text-slate-700 mb-4 flex items-center",children:[y.jsx(Tc,{className:"mr-3 text-indigo-500"})," Próximos Eventos"]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(a=>y.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-indigo-200",children:[y.jsx("h3",{className:"text-xl font-bold text-indigo-800",children:a.title}),y.jsx("p",{className:"text-slate-600 my-2",children:a.description}),y.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[y.jsxs("span",{className:"font-semibold text-amber-600 flex items-center",children:[y.jsx(Mi,{className:"mr-1 h-4 w-4"})," ",a.points," Pontos"]}),y.jsxs("span",{className:"font-medium text-slate-500 flex items-center",children:[y.jsx(Tc,{className:"mr-1 h-4 w-4"})," ",new Date(a.startDate).toLocaleDateString("pt-BR")]})]})]},a.id))})]}),y.jsxs("section",{children:[y.jsxs("h2",{className:"text-2xl font-semibold text-slate-700 mb-4 flex items-center",children:[y.jsx(aT,{className:"mr-3 text-green-500"})," Desafios Ativos"]}),y.jsx("div",{className:"space-y-4",children:r.map(a=>y.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-green-800",children:a.title}),y.jsx("p",{className:"text-slate-600",children:a.description})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("span",{className:"font-bold text-2xl text-amber-600 flex items-center",children:[y.jsx(Mi,{className:"mr-2 h-6 w-6"})," ",a.points]}),y.jsx("span",{className:"text-sm text-slate-500",children:"Pontos"})]})]},a.id))})]})]})},O2=({photo:t,onLike:e,currentUserId:n})=>{const i=n?t.likes.includes(n):!1;return y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[y.jsxs("div",{className:"p-4 flex items-center",children:[y.jsx("img",{src:t.userAvatarUrl,alt:t.userName,className:"h-10 w-10 rounded-full mr-3"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-slate-800",children:t.userName}),y.jsx("p",{className:"text-xs text-slate-500",children:new Date(t.timestamp).toLocaleString("pt-BR")})]})]}),y.jsx("img",{src:t.imageUrl,alt:t.caption,className:"w-full h-auto"}),y.jsxs("div",{className:"p-4",children:[y.jsx("p",{className:"text-slate-700 mb-4",children:t.caption}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("button",{onClick:()=>e(t.id),disabled:i,className:`flex items-center space-x-1 ${i?"text-pink-500":"text-slate-500 hover:text-pink-500"}`,children:[y.jsx(wc,{className:`h-6 w-6 ${i?"fill-current":""}`}),y.jsx("span",{className:"font-semibold",children:t.likes.length})]}),y.jsxs("button",{className:"flex items-center space-x-1 text-slate-500 hover:text-blue-500",children:[y.jsx(By,{className:"h-6 w-6"}),y.jsx("span",{className:"font-semibold",children:"0"})]})]})})]})]})},q2=()=>{const{user:t}=an(),[e,n]=N.useState([]),[i,o]=N.useState(!0);N.useEffect(()=>{r()},[]);const r=()=>{o(!0),ve.getPhotos().then(h=>{n(h),o(!1)})},a=async h=>{t&&(await ve.likePhoto(h,t.id),r())},d=async h=>{if(h.preventDefault(),!t)return;const p=new FormData(h.currentTarget),g=p.get("caption"),v=p.get("imageUrl");g&&v&&(await ve.createPhoto({userId:t.id,imageUrl:v,caption:g}),r(),h.currentTarget.reset())};return i?y.jsx("p",{className:"text-center mt-8",children:"Carregando galeria de fotos..."}):y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Galeria da Comunidade"}),y.jsx("p",{className:"text-slate-600 mt-1",children:"Veja e compartilhe os melhores momentos da sua viagem!"})]}),y.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:y.jsxs("form",{onSubmit:d,className:"space-y-3",children:[y.jsx("input",{name:"imageUrl",type:"text",placeholder:"URL da sua foto",className:"w-full p-2 border rounded-md",required:!0}),y.jsx("textarea",{name:"caption",placeholder:"Escreva uma legenda...",className:"w-full p-2 border rounded-md",required:!0}),y.jsxs("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded-lg shadow hover:bg-green-600 flex items-center",children:[y.jsx(Oy,{className:"h-4 w-4 mr-2"}),"Publicar Foto"]})]})}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(h=>y.jsx(O2,{photo:h,onLike:a,currentUserId:(t==null?void 0:t.id)||null},h.id))})]})},al=({title:t,icon:e,children:n})=>y.jsxs("section",{className:"mb-12",children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx("div",{className:"bg-green-100 text-green-600 p-3 rounded-full mr-4",children:e}),y.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:t})]}),y.jsx("div",{className:"prose prose-lg max-w-none text-slate-700",children:n})]}),$2=()=>y.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-xl shadow-sm border",children:[y.jsxs("header",{className:"text-center mb-12",children:[y.jsx("h1",{className:"text-5xl font-extrabold text-green-700 tracking-tight",children:"Caçapava do Sul"}),y.jsx("p",{className:"mt-4 text-xl text-slate-600",children:"A Capital Gaúcha da Geodiversidade"})]}),y.jsx(al,{title:"Nossa História",icon:y.jsx(Ly,{size:28}),children:y.jsxs("p",{children:["Fundada em 1831, Caçapava do Sul tem uma história rica e profundamente entrelaçada com os eventos que moldaram o Rio Grande do Sul. A cidade foi a ",y.jsx("strong",{children:"2ª Capital Farroupilha"})," durante a Revolução Farroupilha, um período de grande importância histórica para o estado. Suas ruas e edifícios antigos, como o Forte Dom Pedro II, são testemunhas silenciosas de batalhas e decisões que definiram fronteiras e culturas."]})}),y.jsx(al,{title:"Pontos Turísticos Emblemáticos",icon:y.jsx(K_,{size:28}),children:y.jsxs("p",{children:["Nossos pontos turísticos contam nossa história e revelam belezas únicas. O ",y.jsx("strong",{children:"Forte Dom Pedro II"}),", erguido para proteger a fronteira sul, hoje é um monumento à nossa herança militar. As ",y.jsx("strong",{children:"Minas do Camaquã"}),", um antigo complexo de mineração de cobre, oferecem uma paisagem quase lunar e uma fascinante viagem ao passado industrial da região. Já a ",y.jsx("strong",{children:"Igreja Matriz Nossa Senhora da Assunção"})," se destaca no centro da cidade com sua imponente arquitetura gótica."]})}),y.jsx(al,{title:"Lendas e Misticismo",icon:y.jsx(Hy,{size:28}),children:y.jsxs("p",{children:["Caçapava é uma terra de lendas. A mais famosa envolve a ",y.jsx("strong",{children:"Pedra do Segredo"}),", uma formação rochosa que equilibra uma pedra de toneladas em um pequeno ponto de apoio. Diz a lenda que a pedra guarda segredos antigos dos povos indígenas que habitavam a região. Outro local místico são as ",y.jsx("strong",{children:"Guaritas"}),", com suas formações rochosas que se assemelham a sentinelas silenciosas, guardando a entrada para um mundo de paisagens deslumbrantes e energia inexplicável."]})}),y.jsx(al,{title:"Capital da Geodiversidade",icon:y.jsx(JT,{size:28}),children:y.jsx("p",{children:'Reconhecida oficialmente como a "Capital Gaúcha da Geodiversidade", Caçapava do Sul é um museu a céu aberto. A região abriga uma incrível variedade de rochas, minerais e formações geológicas que contam a história de bilhões de anos do nosso planeta. Do ouro encontrado em nossas minas às paisagens esculpidas pelo tempo no Parque das Guaritas, cada canto da cidade é uma aula de geologia e uma celebração da natureza.'})})]}),oo=({title:t,value:e,icon:n,color:i})=>y.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border flex items-start",children:[y.jsx("div",{className:"p-3 rounded-full mr-4",style:{backgroundColor:`${i}20`},children:y.jsx(n,{className:"h-6 w-6",style:{color:i}})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-slate-500 font-medium",children:t}),y.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e})]})]});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function js(t){return t+.5|0}const jn=(t,e,n)=>Math.max(Math.min(t,n),e);function ks(t){return jn(js(t*2.55),0,255)}function Kn(t){return jn(js(t*255),0,255)}function Cn(t){return jn(js(t/2.55)/100,0,1)}function ng(t){return jn(js(t*100),0,100)}const Bt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Uc=[..."0123456789ABCDEF"],G2=t=>Uc[t&15],W2=t=>Uc[(t&240)>>4]+Uc[t&15],ul=t=>(t&240)>>4===(t&15),j2=t=>ul(t.r)&&ul(t.g)&&ul(t.b)&&ul(t.a);function J2(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Bt[t[1]]*17,g:255&Bt[t[2]]*17,b:255&Bt[t[3]]*17,a:e===5?Bt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Bt[t[1]]<<4|Bt[t[2]],g:Bt[t[3]]<<4|Bt[t[4]],b:Bt[t[5]]<<4|Bt[t[6]],a:e===9?Bt[t[7]]<<4|Bt[t[8]]:255})),n}const Y2=(t,e)=>t<255?e(t):"";function K2(t){var e=j2(t)?G2:W2;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Y2(t.a,e):void 0}const X2=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Sv(t,e,n){const i=e*Math.min(n,1-n),o=(r,a=(r+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[o(0),o(8),o(4)]}function Q2(t,e,n){const i=(o,r=(o+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Z2(t,e,n){const i=Sv(t,1,.5);let o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)i[o]*=1-e-n,i[o]+=e;return i}function eP(t,e,n,i,o){return t===o?(e-n)/i+(e<n?6:0):e===o?(n-t)/i+2:(t-e)/i+4}function od(t){const n=t.r/255,i=t.g/255,o=t.b/255,r=Math.max(n,i,o),a=Math.min(n,i,o),d=(r+a)/2;let h,p,g;return r!==a&&(g=r-a,p=d>.5?g/(2-r-a):g/(r+a),h=eP(n,i,o,g,r),h=h*60+.5),[h|0,p||0,d]}function sd(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Kn)}function rd(t,e,n){return sd(Sv,t,e,n)}function tP(t,e,n){return sd(Z2,t,e,n)}function nP(t,e,n){return sd(Q2,t,e,n)}function wv(t){return(t%360+360)%360}function iP(t){const e=X2.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?ks(+e[5]):Kn(+e[5]));const o=wv(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=tP(o,r,a):e[1]==="hsv"?i=nP(o,r,a):i=rd(o,r,a),{r:i[0],g:i[1],b:i[2],a:n}}function oP(t,e){var n=od(t);n[0]=wv(n[0]+e),n=rd(n),t.r=n[0],t.g=n[1],t.b=n[2]}function sP(t){if(!t)return;const e=od(t),n=e[0],i=ng(e[1]),o=ng(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${o}%, ${Cn(t.a)})`:`hsl(${n}, ${i}%, ${o}%)`}const ig={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},og={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function rP(){const t={},e=Object.keys(og),n=Object.keys(ig);let i,o,r,a,d;for(i=0;i<e.length;i++){for(a=d=e[i],o=0;o<n.length;o++)r=n[o],d=d.replace(r,ig[r]);r=parseInt(og[a],16),t[d]=[r>>16&255,r>>8&255,r&255]}return t}let cl;function lP(t){cl||(cl=rP(),cl.transparent=[0,0,0,0]);const e=cl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const aP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function uP(t){const e=aP.exec(t);let n=255,i,o,r;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?ks(a):jn(a*255,0,255)}return i=+e[1],o=+e[3],r=+e[5],i=255&(e[2]?ks(i):jn(i,0,255)),o=255&(e[4]?ks(o):jn(o,0,255)),r=255&(e[6]?ks(r):jn(r,0,255)),{r:i,g:o,b:r,a:n}}}function cP(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Cn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const oc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,so=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function dP(t,e,n){const i=so(Cn(t.r)),o=so(Cn(t.g)),r=so(Cn(t.b));return{r:Kn(oc(i+n*(so(Cn(e.r))-i))),g:Kn(oc(o+n*(so(Cn(e.g))-o))),b:Kn(oc(r+n*(so(Cn(e.b))-r))),a:t.a+n*(e.a-t.a)}}function dl(t,e,n){if(t){let i=od(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=rd(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Ev(t,e){return t&&Object.assign(e||{},t)}function sg(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Kn(t[3]))):(e=Ev(t,{r:0,g:0,b:0,a:1}),e.a=Kn(e.a)),e}function fP(t){return t.charAt(0)==="r"?uP(t):iP(t)}class Fs{constructor(e){if(e instanceof Fs)return e;const n=typeof e;let i;n==="object"?i=sg(e):n==="string"&&(i=J2(e)||lP(e)||fP(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Ev(this._rgb);return e&&(e.a=Cn(e.a)),e}set rgb(e){this._rgb=sg(e)}rgbString(){return this._valid?cP(this._rgb):void 0}hexString(){return this._valid?K2(this._rgb):void 0}hslString(){return this._valid?sP(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,o=e.rgb;let r;const a=n===r?.5:n,d=2*a-1,h=i.a-o.a,p=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;r=1-p,i.r=255&p*i.r+r*o.r+.5,i.g=255&p*i.g+r*o.g+.5,i.b=255&p*i.b+r*o.b+.5,i.a=a*i.a+(1-a)*o.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=dP(this._rgb,e._rgb,n)),this}clone(){return new Fs(this.rgb)}alpha(e){return this._rgb.a=Kn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=js(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return dl(this._rgb,2,e),this}darken(e){return dl(this._rgb,2,-e),this}saturate(e){return dl(this._rgb,1,e),this}desaturate(e){return dl(this._rgb,1,-e),this}rotate(e){return oP(this._rgb,e),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function yn(){}const hP=(()=>{let t=0;return()=>t++})();function He(t){return t===null||typeof t>"u"}function tt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ee(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ot(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function nn(t,e){return Ot(t)?t:e}function ke(t,e){return typeof t>"u"?e:t}const pP=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Mv=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Be(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Pe(t,e,n,i){let o,r,a;if(tt(t))for(r=t.length,o=0;o<r;o++)e.call(n,t[o],o);else if(Ee(t))for(a=Object.keys(t),r=a.length,o=0;o<r;o++)e.call(n,t[a[o]],a[o])}function Dl(t,e){let n,i,o,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(o=t[n],r=e[n],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function Ll(t){if(tt(t))return t.map(Ll);if(Ee(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let o=0;for(;o<i;++o)e[n[o]]=Ll(t[n[o]]);return e}return t}function kv(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function mP(t,e,n,i){if(!kv(t))return;const o=e[t],r=n[t];Ee(o)&&Ee(r)?Us(o,r,i):e[t]=Ll(r)}function Us(t,e,n){const i=tt(e)?e:[e],o=i.length;if(!Ee(t))return t;n=n||{};const r=n.merger||mP;let a;for(let d=0;d<o;++d){if(a=i[d],!Ee(a))continue;const h=Object.keys(a);for(let p=0,g=h.length;p<g;++p)r(h[p],t,a,n)}return t}function Ps(t,e){return Us(t,e,{merger:gP})}function gP(t,e,n){if(!kv(t))return;const i=e[t],o=n[t];Ee(i)&&Ee(o)?Ps(i,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ll(o))}const rg={"":t=>t,x:t=>t.x,y:t=>t.y};function yP(t){const e=t.split("."),n=[];let i="";for(const o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function vP(t){const e=yP(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Ni(t,e){return(rg[e]||(rg[e]=vP(e)))(t)}function ld(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Vs=t=>typeof t<"u",Qn=t=>typeof t=="function",lg=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function xP(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Qe=Math.PI,Xe=2*Qe,Fl=Number.POSITIVE_INFINITY,CP=Qe/180,nt=Qe/2,gi=Qe/4,ag=Qe*2/3,Nv=Math.log10,Xn=Math.sign;function El(t,e,n){return Math.abs(t-e)<n}function ug(t){const e=Math.round(t);t=El(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Nv(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function _P(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((o,r)=>o-r).pop(),e}function Ul(t){return!isNaN(parseFloat(t))&&isFinite(t)}function TP(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function SP(t,e,n){let i,o,r;for(i=0,o=t.length;i<o;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function _n(t){return t*(Qe/180)}function wP(t){return t*(180/Qe)}function cg(t){if(!Ot(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function bv(t,e){const n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Qe&&(r+=Xe),{angle:r,distance:o}}function EP(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yi(t){return(t%Xe+Xe)%Xe}function Vl(t,e,n,i){const o=yi(t),r=yi(e),a=yi(n),d=yi(r-o),h=yi(a-o),p=yi(o-r),g=yi(o-a);return o===r||o===a||i&&r===a||d>h&&p<g}function Mt(t,e,n){return Math.max(e,Math.min(n,t))}function MP(t){return Mt(t,-32768,32767)}function _i(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function ad(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,o=0,r;for(;i-o>1;)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const Vc=(t,e,n,i)=>ad(t,n,i?o=>{const r=t[o][e];return r<n||r===n&&t[o+1][e]===n}:o=>t[o][e]<n),kP=(t,e,n)=>ad(t,n,i=>t[i][e]>=n);function NP(t,e,n){let i=0,o=t.length;for(;i<o&&t[i]<e;)i++;for(;o>i&&t[o-1]>n;)o--;return i>0||o<t.length?t.slice(i,o):t}const Iv=["push","pop","shift","splice","unshift"];function bP(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Iv.forEach(n=>{const i="_onData"+ld(n),o=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const a=o.apply(this,r);return t._chartjs.listeners.forEach(d=>{typeof d[i]=="function"&&d[i](...r)}),a}})})}function dg(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(Iv.forEach(r=>{delete t[r]}),delete t._chartjs)}function Pv(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Av=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Rv(t,e){let n=[],i=!1;return function(...o){n=o,i||(i=!0,Av.call(window,()=>{i=!1,t.apply(e,n)}))}}function IP(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const ud=t=>t==="start"?"left":t==="end"?"right":"center",ht=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,PP=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,fl=t=>t===0||t===1,fg=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Xe/n)),hg=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Xe/n)+1,As={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*nt)+1,easeOutSine:t=>Math.sin(t*nt),easeInOutSine:t=>-.5*(Math.cos(Qe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>fl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>fl(t)?t:fg(t,.075,.3),easeOutElastic:t=>fl(t)?t:hg(t,.075,.3),easeInOutElastic(t){return fl(t)?t:t<.5?.5*fg(t*2,.1125,.45):.5+.5*hg(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-As.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?As.easeInBounce(t*2)*.5:As.easeOutBounce(t*2-1)*.5+.5};function Dv(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function pg(t){return Dv(t)?t:new Fs(t)}function sc(t){return Dv(t)?t:new Fs(t).saturate(.5).darken(.1).hexString()}const AP=["x","y","borderWidth","radius","tension"],RP=["color","borderColor","backgroundColor"];function DP(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:RP},numbers:{type:"number",properties:AP}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function LP(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const mg=new Map;function FP(t,e){e=e||{};const n=t+JSON.stringify(e);let i=mg.get(n);return i||(i=new Intl.NumberFormat(t,e),mg.set(n,i)),i}function cd(t,e,n){return FP(e,n).format(t)}const UP={values(t){return tt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let o,r=t;if(n.length>1){const p=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(p<1e-4||p>1e15)&&(o="scientific"),r=VP(t,n)}const a=Nv(Math.abs(r)),d=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),h={notation:o,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),cd(t,i,h)}};function VP(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Lv={formatters:UP};function BP(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Lv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const bi=Object.create(null),Bc=Object.create(null);function Rs(t,e){if(!e)return t;const n=e.split(".");for(let i=0,o=n.length;i<o;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function rc(t,e,n){return typeof e=="string"?Us(Rs(t,e),n):Us(Rs(t,""),e)}class HP{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>sc(o.backgroundColor),this.hoverBorderColor=(i,o)=>sc(o.borderColor),this.hoverColor=(i,o)=>sc(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return rc(this,e,n)}get(e){return Rs(this,e)}describe(e,n){return rc(Bc,e,n)}override(e,n){return rc(bi,e,n)}route(e,n,i,o){const r=Rs(this,e),a=Rs(this,i),d="_"+n;Object.defineProperties(r,{[d]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[d],p=a[o];return Ee(h)?Object.assign({},p,h):ke(h,p)},set(h){this[d]=h}}})}apply(e){e.forEach(n=>n(this))}}var Ye=new HP({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[DP,LP,BP]);function zP(t){return!t||He(t.size)||He(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function gg(t,e,n,i,o){let r=e[o];return r||(r=e[o]=t.measureText(o).width,n.push(o)),r>i&&(i=r),i}function vi(t,e,n){const i=t.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((e-o)*i)/i+o}function yg(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function vg(t,e,n,i){Fv(t,e,n,i,null)}function Fv(t,e,n,i,o){let r,a,d,h,p,g,v,C;const T=e.pointStyle,w=e.rotation,E=e.radius;let M=(w||0)*CP;if(T&&typeof T=="object"&&(r=T.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(M),t.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),t.restore();return}if(!(isNaN(E)||E<=0)){switch(t.beginPath(),T){default:o?t.ellipse(n,i,o/2,E,0,0,Xe):t.arc(n,i,E,0,Xe),t.closePath();break;case"triangle":g=o?o/2:E,t.moveTo(n+Math.sin(M)*g,i-Math.cos(M)*E),M+=ag,t.lineTo(n+Math.sin(M)*g,i-Math.cos(M)*E),M+=ag,t.lineTo(n+Math.sin(M)*g,i-Math.cos(M)*E),t.closePath();break;case"rectRounded":p=E*.516,h=E-p,a=Math.cos(M+gi)*h,v=Math.cos(M+gi)*(o?o/2-p:h),d=Math.sin(M+gi)*h,C=Math.sin(M+gi)*(o?o/2-p:h),t.arc(n-v,i-d,p,M-Qe,M-nt),t.arc(n+C,i-a,p,M-nt,M),t.arc(n+v,i+d,p,M,M+nt),t.arc(n-C,i+a,p,M+nt,M+Qe),t.closePath();break;case"rect":if(!w){h=Math.SQRT1_2*E,g=o?o/2:h,t.rect(n-g,i-h,2*g,2*h);break}M+=gi;case"rectRot":v=Math.cos(M)*(o?o/2:E),a=Math.cos(M)*E,d=Math.sin(M)*E,C=Math.sin(M)*(o?o/2:E),t.moveTo(n-v,i-d),t.lineTo(n+C,i-a),t.lineTo(n+v,i+d),t.lineTo(n-C,i+a),t.closePath();break;case"crossRot":M+=gi;case"cross":v=Math.cos(M)*(o?o/2:E),a=Math.cos(M)*E,d=Math.sin(M)*E,C=Math.sin(M)*(o?o/2:E),t.moveTo(n-v,i-d),t.lineTo(n+v,i+d),t.moveTo(n+C,i-a),t.lineTo(n-C,i+a);break;case"star":v=Math.cos(M)*(o?o/2:E),a=Math.cos(M)*E,d=Math.sin(M)*E,C=Math.sin(M)*(o?o/2:E),t.moveTo(n-v,i-d),t.lineTo(n+v,i+d),t.moveTo(n+C,i-a),t.lineTo(n-C,i+a),M+=gi,v=Math.cos(M)*(o?o/2:E),a=Math.cos(M)*E,d=Math.sin(M)*E,C=Math.sin(M)*(o?o/2:E),t.moveTo(n-v,i-d),t.lineTo(n+v,i+d),t.moveTo(n+C,i-a),t.lineTo(n-C,i+a);break;case"line":a=o?o/2:Math.cos(M)*E,d=Math.sin(M)*E,t.moveTo(n-a,i-d),t.lineTo(n+a,i+d);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(M)*(o?o/2:E),i+Math.sin(M)*E);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Uv(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function dd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function fd(t){t.restore()}function OP(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),He(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function qP(t,e,n,i,o){if(o.strikethrough||o.underline){const r=t.measureText(i),a=e-r.actualBoundingBoxLeft,d=e+r.actualBoundingBoxRight,h=n-r.actualBoundingBoxAscent,p=n+r.actualBoundingBoxDescent,g=o.strikethrough?(h+p)/2:p;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(a,g),t.lineTo(d,g),t.stroke()}}function $P(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Bs(t,e,n,i,o,r={}){const a=tt(e)?e:[e],d=r.strokeWidth>0&&r.strokeColor!=="";let h,p;for(t.save(),t.font=o.string,OP(t,r),h=0;h<a.length;++h)p=a[h],r.backdrop&&$P(t,r.backdrop),d&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),He(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(p,n,i,r.maxWidth)),t.fillText(p,n,i,r.maxWidth),qP(t,n,i,p,r),i+=Number(o.lineHeight);t.restore()}function Bl(t,e){const{x:n,y:i,w:o,h:r,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*Qe,Qe,!0),t.lineTo(n,i+r-a.bottomLeft),t.arc(n+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,Qe,nt,!0),t.lineTo(n+o-a.bottomRight,i+r),t.arc(n+o-a.bottomRight,i+r-a.bottomRight,a.bottomRight,nt,0,!0),t.lineTo(n+o,i+a.topRight),t.arc(n+o-a.topRight,i+a.topRight,a.topRight,0,-nt,!0),t.lineTo(n+a.topLeft,i)}const GP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,WP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function jP(t,e){const n=(""+t).match(GP);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const JP=t=>+t||0;function hd(t,e){const n={},i=Ee(e),o=i?Object.keys(e):e,r=Ee(t)?i?a=>ke(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of o)n[a]=JP(r(a));return n}function Vv(t){return hd(t,{top:"y",right:"x",bottom:"y",left:"x"})}function yo(t){return hd(t,["topLeft","topRight","bottomLeft","bottomRight"])}function qt(t){const e=Vv(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function mt(t,e){t=t||{},e=e||Ye.font;let n=ke(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=ke(t.style,e.style);i&&!(""+i).match(WP)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:ke(t.family,e.family),lineHeight:jP(ke(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:ke(t.weight,e.weight),string:""};return o.string=zP(o),o}function hl(t,e,n,i){let o,r,a;for(o=0,r=t.length;o<r;++o)if(a=t[o],a!==void 0&&a!==void 0)return a}function YP(t,e,n){const{min:i,max:o}=t,r=Mv(e,(o-i)/2),a=(d,h)=>n&&d===0?0:d+h;return{min:a(i,-Math.abs(r)),max:a(o,r)}}function bo(t,e){return Object.assign(Object.create(t),e)}function pd(t,e=[""],n,i,o=()=>t[0]){const r=n||t;typeof i>"u"&&(i=Ov("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:o,override:d=>pd([d,...t],e,r,i)};return new Proxy(a,{deleteProperty(d,h){return delete d[h],delete d._keys,delete t[0][h],!0},get(d,h){return Hv(d,h,()=>iA(h,e,t,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,h){return Cg(d).includes(h)},ownKeys(d){return Cg(d)},set(d,h,p){const g=d._storage||(d._storage=o());return d[h]=g[h]=p,delete d._keys,!0}})}function To(t,e,n,i){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Bv(t,i),setContext:r=>To(t,r,n,i),override:r=>To(t.override(r),e,n,i)};return new Proxy(o,{deleteProperty(r,a){return delete r[a],delete t[a],!0},get(r,a,d){return Hv(r,a,()=>XP(r,a,d))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(r,a,d){return t[a]=d,delete r[a],!0}})}function Bv(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:n,indexable:i,isScriptable:Qn(n)?n:()=>n,isIndexable:Qn(i)?i:()=>i}}const KP=(t,e)=>t?t+ld(e):e,md=(t,e)=>Ee(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Hv(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function XP(t,e,n){const{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=t;let d=i[e];return Qn(d)&&a.isScriptable(e)&&(d=QP(e,d,t,n)),tt(d)&&d.length&&(d=ZP(e,d,t,a.isIndexable)),md(e,d)&&(d=To(d,o,r&&r[e],a)),d}function QP(t,e,n,i){const{_proxy:o,_context:r,_subProxy:a,_stack:d}=n;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let h=e(r,a||i);return d.delete(t),md(t,h)&&(h=gd(o._scopes,o,t,h)),h}function ZP(t,e,n,i){const{_proxy:o,_context:r,_subProxy:a,_descriptors:d}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(Ee(e[0])){const h=e,p=o._scopes.filter(g=>g!==h);e=[];for(const g of h){const v=gd(p,o,t,g);e.push(To(v,r,a&&a[t],d))}}return e}function zv(t,e,n){return Qn(t)?t(e,n):t}const eA=(t,e)=>t===!0?e:typeof t=="string"?Ni(e,t):void 0;function tA(t,e,n,i,o){for(const r of e){const a=eA(n,r);if(a){t.add(a);const d=zv(a._fallback,n,o);if(typeof d<"u"&&d!==n&&d!==i)return d}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function gd(t,e,n,i){const o=e._rootScopes,r=zv(e._fallback,n,i),a=[...t,...o],d=new Set;d.add(i);let h=xg(d,a,n,r||n,i);return h===null||typeof r<"u"&&r!==n&&(h=xg(d,a,r,h,i),h===null)?!1:pd(Array.from(d),[""],o,r,()=>nA(e,n,i))}function xg(t,e,n,i,o){for(;n;)n=tA(t,e,n,i,o);return n}function nA(t,e,n){const i=t._getTarget();e in i||(i[e]={});const o=i[e];return tt(o)&&Ee(n)?n:o||{}}function iA(t,e,n,i){let o;for(const r of e)if(o=Ov(KP(r,t),n),typeof o<"u")return md(t,o)?gd(n,i,t,o):o}function Ov(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Cg(t){let e=t._keys;return e||(e=t._keys=oA(t._scopes)),e}function oA(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}function yd(){return typeof window<"u"&&typeof document<"u"}function vd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Hl(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Zl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function sA(t,e){return Zl(t).getPropertyValue(e)}const rA=["top","right","bottom","left"];function wi(t,e,n){const i={};n=n?"-"+n:"";for(let o=0;o<4;o++){const r=rA[o];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const lA=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function aA(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:o,offsetY:r}=i;let a=!1,d,h;if(lA(o,r,t.target))d=o,h=r;else{const p=e.getBoundingClientRect();d=i.clientX-p.left,h=i.clientY-p.top,a=!0}return{x:d,y:h,box:a}}function Ci(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,o=Zl(n),r=o.boxSizing==="border-box",a=wi(o,"padding"),d=wi(o,"border","width"),{x:h,y:p,box:g}=aA(t,n),v=a.left+(g&&d.left),C=a.top+(g&&d.top);let{width:T,height:w}=e;return r&&(T-=a.width+d.width,w-=a.height+d.height),{x:Math.round((h-v)/T*n.width/i),y:Math.round((p-C)/w*n.height/i)}}function uA(t,e,n){let i,o;if(e===void 0||n===void 0){const r=vd(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const a=r.getBoundingClientRect(),d=Zl(r),h=wi(d,"border","width"),p=wi(d,"padding");e=a.width-p.width-h.width,n=a.height-p.height-h.height,i=Hl(d.maxWidth,r,"clientWidth"),o=Hl(d.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||Fl,maxHeight:o||Fl}}const pl=t=>Math.round(t*10)/10;function cA(t,e,n,i){const o=Zl(t),r=wi(o,"margin"),a=Hl(o.maxWidth,t,"clientWidth")||Fl,d=Hl(o.maxHeight,t,"clientHeight")||Fl,h=uA(t,e,n);let{width:p,height:g}=h;if(o.boxSizing==="content-box"){const C=wi(o,"border","width"),T=wi(o,"padding");p-=T.width+C.width,g-=T.height+C.height}return p=Math.max(0,p-r.width),g=Math.max(0,i?p/i:g-r.height),p=pl(Math.min(p,a,h.maxWidth)),g=pl(Math.min(g,d,h.maxHeight)),p&&!g&&(g=pl(p/2)),(e!==void 0||n!==void 0)&&i&&h.height&&g>h.height&&(g=h.height,p=pl(Math.floor(g*i))),{width:p,height:g}}function _g(t,e,n){const i=e||1,o=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==o||a.width!==r?(t.currentDevicePixelRatio=i,a.height=o,a.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const dA=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};yd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Tg(t,e){const n=sA(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const fA=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},hA=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function vo(t,e,n){return t?fA(e,n):hA()}function qv(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function $v(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class pA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,o){const r=n.listeners[o],a=n.duration;r.forEach(d=>d({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Av.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const r=i.items;let a=r.length-1,d=!1,h;for(;a>=0;--a)h=r[a],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),d=!0):(r[a]=r[r.length-1],r.pop());d&&(o.draw(),this._notify(o,i,e,"progress")),r.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var vn=new pA;const Sg="transparent",mA={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=pg(t||Sg),o=i.valid&&pg(e||Sg);return o&&o.valid?o.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class gA{constructor(e,n,i,o){const r=n[i];o=hl([e.to,o,r,e.from]);const a=hl([e.from,r,o]);this._active=!0,this._fn=e.fn||mA[e.type||typeof a],this._easing=As[e.easing]||As.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=o,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const o=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=hl([e.to,n,o,e.from]),this._from=hl([e.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,o=this._prop,r=this._from,a=this._loop,d=this._to;let h;if(this._active=r!==d&&(a||n<i),!this._active){this._target[o]=d,this._notify(!0);return}if(n<0){this._target[o]=r;return}h=n/i%2,h=a&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[o]=this._fn(r,d,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][n]()}}class Gv{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ee(e))return;const n=Object.keys(Ye.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const r=e[o];if(!Ee(r))return;const a={};for(const d of n)a[d]=r[d];(tt(r.properties)&&r.properties||[o]).forEach(d=>{(d===o||!i.has(d))&&i.set(d,a)})})}_animateOptions(e,n){const i=n.options,o=vA(e,i);if(!o)return[];const r=this._createAnimations(o,i);return i.$shared&&yA(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,o=[],r=e.$animations||(e.$animations={}),a=Object.keys(n),d=Date.now();let h;for(h=a.length-1;h>=0;--h){const p=a[h];if(p.charAt(0)==="$")continue;if(p==="options"){o.push(...this._animateOptions(e,n));continue}const g=n[p];let v=r[p];const C=i.get(p);if(v)if(C&&v.active()){v.update(C,g,d);continue}else v.cancel();if(!C||!C.duration){e[p]=g;continue}r[p]=v=new gA(C,e,p,g),o.push(v)}return o}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return vn.add(this._chart,i),!0}}function yA(t,e){const n=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const r=t[i[o]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function vA(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function wg(t,e){const n=t&&t.options||{},i=n.reverse,o=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:o,end:i?o:r}}function xA(t,e,n){if(n===!1)return!1;const i=wg(t,n),o=wg(e,n);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function CA(t){let e,n,i,o;return Ee(t)?(e=t.top,n=t.right,i=t.bottom,o=t.left):e=n=i=o=t,{top:e,right:n,bottom:i,left:o,disabled:t===!1}}function Wv(t,e){const n=[],i=t._getSortedDatasetMetas(e);let o,r;for(o=0,r=i.length;o<r;++o)n.push(i[o].index);return n}function Eg(t,e,n,i={}){const o=t.keys,r=i.mode==="single";let a,d,h,p;if(e!==null){for(a=0,d=o.length;a<d;++a){if(h=+o[a],h===n){if(i.all)continue;break}p=t.values[h],Ot(p)&&(r||e===0||Xn(e)===Xn(p))&&(e+=p)}return e}}function _A(t){const e=Object.keys(t),n=new Array(e.length);let i,o,r;for(i=0,o=e.length;i<o;++i)r=e[i],n[i]={x:r,y:t[r]};return n}function Mg(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function TA(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function SA(t){const{min:e,max:n,minDefined:i,maxDefined:o}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function wA(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function kg(t,e,n,i){for(const o of e.getMatchingVisibleMetas(i).reverse()){const r=t[o.index];if(n&&r>0||!n&&r<0)return o.index}return null}function Ng(t,e){const{chart:n,_cachedMeta:i}=t,o=n._stacks||(n._stacks={}),{iScale:r,vScale:a,index:d}=i,h=r.axis,p=a.axis,g=TA(r,a,i),v=e.length;let C;for(let T=0;T<v;++T){const w=e[T],{[h]:E,[p]:M}=w,b=w._stacks||(w._stacks={});C=b[p]=wA(o,g,E),C[d]=M,C._top=kg(C,a,!0,i.type),C._bottom=kg(C,a,!1,i.type);const P=C._visualValues||(C._visualValues={});P[d]=M}}function lc(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function EA(t,e){return bo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function MA(t,e,n){return bo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function _s(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const o of e){const r=o._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const ac=t=>t==="reset"||t==="none",bg=(t,e)=>e?t:Object.assign({},t),kA=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Wv(n,!0),values:null};class xo{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Mg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&_s(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),o=(v,C,T,w)=>v==="x"?C:v==="r"?w:T,r=n.xAxisID=ke(i.xAxisID,lc(e,"x")),a=n.yAxisID=ke(i.yAxisID,lc(e,"y")),d=n.rAxisID=ke(i.rAxisID,lc(e,"r")),h=n.indexAxis,p=n.iAxisID=o(h,r,a,d),g=n.vAxisID=o(h,a,r,d);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(p),n.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&dg(this._data,this),e._stacked&&_s(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Ee(n))this._data=_A(n);else if(i!==n){if(i){dg(i,this);const o=this._cachedMeta;_s(o),o._parsed=[]}n&&Object.isExtensible(n)&&bP(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const r=n._stacked;n._stacked=Mg(n.vScale,n),n.stack!==i.stack&&(o=!0,_s(n),n.stack=i.stack),this._resyncElements(e),(o||r!==n._stacked)&&Ng(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:o}=this,{iScale:r,_stacked:a}=i,d=r.axis;let h=e===0&&n===o.length?!0:i._sorted,p=e>0&&i._parsed[e-1],g,v,C;if(this._parsing===!1)i._parsed=o,i._sorted=!0,C=o;else{tt(o[e])?C=this.parseArrayData(i,o,e,n):Ee(o[e])?C=this.parseObjectData(i,o,e,n):C=this.parsePrimitiveData(i,o,e,n);const T=()=>v[d]===null||p&&v[d]<p[d];for(g=0;g<n;++g)i._parsed[g+e]=v=C[g],h&&(T()&&(h=!1),p=v);i._sorted=h}a&&Ng(this,C)}parsePrimitiveData(e,n,i,o){const{iScale:r,vScale:a}=e,d=r.axis,h=a.axis,p=r.getLabels(),g=r===a,v=new Array(o);let C,T,w;for(C=0,T=o;C<T;++C)w=C+i,v[C]={[d]:g||r.parse(p[w],w),[h]:a.parse(n[w],w)};return v}parseArrayData(e,n,i,o){const{xScale:r,yScale:a}=e,d=new Array(o);let h,p,g,v;for(h=0,p=o;h<p;++h)g=h+i,v=n[g],d[h]={x:r.parse(v[0],g),y:a.parse(v[1],g)};return d}parseObjectData(e,n,i,o){const{xScale:r,yScale:a}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,p=new Array(o);let g,v,C,T;for(g=0,v=o;g<v;++g)C=g+i,T=n[C],p[g]={x:r.parse(Ni(T,d),C),y:a.parse(Ni(T,h),C)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const o=this.chart,r=this._cachedMeta,a=n[e.axis],d={keys:Wv(o,!0),values:n._stacks[e.axis]._visualValues};return Eg(d,a,r.index,{mode:i})}updateRangeFromParsed(e,n,i,o){const r=i[n.axis];let a=r===null?NaN:r;const d=o&&i._stacks[n.axis];o&&d&&(o.values=d,a=Eg(o,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,o=i._parsed,r=i._sorted&&e===i.iScale,a=o.length,d=this._getOtherScale(e),h=kA(n,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:v}=SA(d);let C,T;function w(){T=o[C];const E=T[d.axis];return!Ot(T[e.axis])||g>E||v<E}for(C=0;C<a&&!(!w()&&(this.updateRangeFromParsed(p,e,T,h),r));++C);if(r){for(C=a-1;C>=0;--C)if(!w()){this.updateRangeFromParsed(p,e,T,h);break}}return p}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let o,r,a;for(o=0,r=n.length;o<r;++o)a=n[o][e.axis],Ot(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,o=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=CA(ke(this.options.clip,xA(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,o=i.data||[],r=n.chartArea,a=[],d=this._drawStart||0,h=this._drawCount||o.length-d,p=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,r,d,h),g=d;g<d+h;++g){const v=o[g];v.hidden||(v.active&&p?a.push(v):v.draw(e,r))}for(g=0;g<a.length;++g)a[g].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const o=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=MA(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=o.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=EA(this.chart.getContext(),this.index)),r.dataset=o,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const o=n==="active",r=this._cachedDataOpts,a=e+"-"+n,d=r[a],h=this.enableOptionSharing&&Vs(i);if(d)return bg(d,h);const p=this.chart.config,g=p.datasetElementScopeKeys(this._type,e),v=o?[`${e}Hover`,"hover",e,""]:[e,""],C=p.getOptionScopes(this.getDataset(),g),T=Object.keys(Ye.elements[e]),w=()=>this.getContext(i,o,n),E=p.resolveNamedOptions(C,T,w,v);return E.$shared&&(E.$shared=h,r[a]=Object.freeze(bg(E,h))),E}_resolveAnimations(e,n,i){const o=this.chart,r=this._cachedDataOpts,a=`animation-${n}`,d=r[a];if(d)return d;let h;if(o.options.animation!==!1){const g=this.chart.config,v=g.datasetAnimationScopeKeys(this._type,n),C=g.getOptionScopes(this.getDataset(),v);h=g.createResolver(C,this.getContext(e,i,n))}const p=new Gv(o,h&&h.animations);return h&&h._cacheable&&(r[a]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||ac(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),o=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(n,r)||r!==o;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:a}}updateElement(e,n,i,o){ac(o)?Object.assign(e,i):this._resolveAnimations(n,o).update(e,i)}updateSharedOptions(e,n,i){e&&!ac(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,o){e.active=o;const r=this.getStyle(n,o);this._resolveAnimations(n,i,o).update(e,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[d,h,p]of this._syncList)this[d](h,p);this._syncList=[];const o=i.length,r=n.length,a=Math.min(r,o);a&&this.parse(0,a),r>o?this._insertElements(o,r-o,e):r<o&&this._removeElements(r,o-r)}_insertElements(e,n,i=!0){const o=this._cachedMeta,r=o.data,a=e+n;let d;const h=p=>{for(p.length+=n,d=p.length-1;d>=a;d--)p[d]=p[d-n]};for(h(r),d=e;d<a;++d)r[d]=new this.dataElementType;this._parsing&&h(o._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,o){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,n);i._stacked&&_s(i,o)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,o]=e;this[n](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ce(xo,"defaults",{}),ce(xo,"datasetElementType",null),ce(xo,"dataElementType",null);function NA(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let o=0,r=n.length;o<r;o++)i=i.concat(n[o].controller.getAllParsedValues(t));t._cache.$bar=Pv(i.sort((o,r)=>o-r))}return t._cache.$bar}function bA(t){const e=t.iScale,n=NA(e,t.type);let i=e._length,o,r,a,d;const h=()=>{a===32767||a===-32768||(Vs(d)&&(i=Math.min(i,Math.abs(a-d)||i)),d=a)};for(o=0,r=n.length;o<r;++o)a=e.getPixelForValue(n[o]),h();for(d=void 0,o=0,r=e.ticks.length;o<r;++o)a=e.getPixelForTick(o),h();return i}function IA(t,e,n,i){const o=n.barThickness;let r,a;return He(o)?(r=e.min*n.categoryPercentage,a=n.barPercentage):(r=o*i,a=1),{chunk:r/i,ratio:a,start:e.pixels[t]-r/2}}function PA(t,e,n,i){const o=e.pixels,r=o[t];let a=t>0?o[t-1]:null,d=t<o.length-1?o[t+1]:null;const h=n.categoryPercentage;a===null&&(a=r-(d===null?e.end-e.start:d-r)),d===null&&(d=r+r-a);const p=r-(r-Math.min(a,d))/2*h;return{chunk:Math.abs(d-a)/2*h/i,ratio:n.barPercentage,start:p}}function AA(t,e,n,i){const o=n.parse(t[0],i),r=n.parse(t[1],i),a=Math.min(o,r),d=Math.max(o,r);let h=a,p=d;Math.abs(a)>Math.abs(d)&&(h=d,p=a),e[n.axis]=p,e._custom={barStart:h,barEnd:p,start:o,end:r,min:a,max:d}}function jv(t,e,n,i){return tt(t)?AA(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Ig(t,e,n,i){const o=t.iScale,r=t.vScale,a=o.getLabels(),d=o===r,h=[];let p,g,v,C;for(p=n,g=n+i;p<g;++p)C=e[p],v={},v[o.axis]=d||o.parse(a[p],p),h.push(jv(C,v,r,p));return h}function uc(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function RA(t,e,n){return t!==0?Xn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function DA(t){let e,n,i,o,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(o="end",r="start"):(o="start",r="end"),{start:n,end:i,reverse:e,top:o,bottom:r}}function LA(t,e,n,i){let o=e.borderSkipped;const r={};if(!o){t.borderSkipped=r;return}if(o===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:d,reverse:h,top:p,bottom:g}=DA(t);o==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?o=p:(n._bottom||0)===i?o=g:(r[Pg(g,a,d,h)]=!0,o=p)),r[Pg(o,a,d,h)]=!0,t.borderSkipped=r}function Pg(t,e,n,i){return i?(t=FA(t,e,n),t=Ag(t,n,e)):t=Ag(t,e,n),t}function FA(t,e,n){return t===e?n:t===n?e:t}function Ag(t,e,n){return t==="start"?e:t==="end"?n:t}function UA(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ml extends xo{parsePrimitiveData(e,n,i,o){return Ig(e,n,i,o)}parseArrayData(e,n,i,o){return Ig(e,n,i,o)}parseObjectData(e,n,i,o){const{iScale:r,vScale:a}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,p=r.axis==="x"?d:h,g=a.axis==="x"?d:h,v=[];let C,T,w,E;for(C=i,T=i+o;C<T;++C)E=n[C],w={},w[r.axis]=r.parse(Ni(E,p),C),v.push(jv(Ni(E,g),w,a,C));return v}updateRangeFromParsed(e,n,i,o){super.updateRangeFromParsed(e,n,i,o);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:o}=n,r=this.getParsed(e),a=r._custom,d=uc(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,o){const r=o==="reset",{index:a,_cachedMeta:{vScale:d}}=this,h=d.getBasePixel(),p=d.isHorizontal(),g=this._getRuler(),{sharedOptions:v,includeOptions:C}=this._getSharedOptions(n,o);for(let T=n;T<n+i;T++){const w=this.getParsed(T),E=r||He(w[d.axis])?{base:h,head:h}:this._calculateBarValuePixels(T),M=this._calculateBarIndexPixels(T,g),b=(w._stacks||{})[d.axis],P={horizontal:p,base:E.base,enableBorderRadius:!b||uc(w._custom)||a===b._top||a===b._bottom,x:p?E.head:M.center,y:p?M.center:E.head,height:p?M.size:Math.abs(E.size),width:p?Math.abs(E.size):M.size};C&&(P.options=v||this.resolveDataElementOptions(T,e[T].active?"active":o));const R=P.options||e[T].options;LA(P,R,b,a),UA(P,R,g.ratio),this.updateElement(e[T],T,P,o)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=i.options.stacked,a=[],d=h=>{const p=h.controller.getParsed(n),g=p&&p[h.vScale.axis];if(He(g)||isNaN(g))return!0};for(const h of o)if(!(n!==void 0&&d(h))&&((r===!1||a.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const o=this._getStacks(e,i),r=n!==void 0?o.indexOf(n):-1;return r===-1?o.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,o=[];let r,a;for(r=0,a=n.data.length;r<a;++r)o.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const d=e.barThickness;return{min:d||bA(n),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:o},options:{base:r,minBarLength:a}}=this,d=r||0,h=this.getParsed(e),p=h._custom,g=uc(p);let v=h[n.axis],C=0,T=i?this.applyStack(n,h,i):v,w,E;T!==v&&(C=T-v,T=v),g&&(v=p.barStart,T=p.barEnd-p.barStart,v!==0&&Xn(v)!==Xn(p.barEnd)&&(C=0),C+=v);const M=!He(r)&&!g?r:C;let b=n.getPixelForValue(M);if(this.chart.getDataVisibility(e)?w=n.getPixelForValue(C+T):w=b,E=w-b,Math.abs(E)<a){E=RA(E,n,d)*a,v===d&&(b-=E/2);const P=n.getPixelForDecimal(0),R=n.getPixelForDecimal(1),D=Math.min(P,R),L=Math.max(P,R);b=Math.max(Math.min(b,L),D),w=b+E,i&&!g&&(h._stacks[n.axis]._visualValues[o]=n.getValueForPixel(w)-n.getValueForPixel(b))}if(b===n.getPixelForValue(d)){const P=Xn(E)*n.getLineWidthForValue(d)/2;b+=P,E-=P}return{size:E,base:b,head:w,center:w+E/2}}_calculateBarIndexPixels(e,n){const i=n.scale,o=this.options,r=o.skipNull,a=ke(o.maxBarThickness,1/0);let d,h;if(n.grouped){const p=r?this._getStackCount(e):n.stackCount,g=o.barThickness==="flex"?PA(e,n,o,p):IA(e,n,o,p),v=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);d=g.start+g.chunk*v+g.chunk/2,h=Math.min(a,g.chunk*g.ratio)}else d=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(a,n.min*n.ratio);return{base:d-h/2,head:d+h/2,center:d,size:h}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,o=i.length;let r=0;for(;r<o;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}ce(Ml,"id","bar"),ce(Ml,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ce(Ml,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function VA(t,e,n){let i=1,o=1,r=0,a=0;if(e<Xe){const d=t,h=d+e,p=Math.cos(d),g=Math.sin(d),v=Math.cos(h),C=Math.sin(h),T=(R,D,L)=>Vl(R,d,h,!0)?1:Math.max(D,D*n,L,L*n),w=(R,D,L)=>Vl(R,d,h,!0)?-1:Math.min(D,D*n,L,L*n),E=T(0,p,v),M=T(nt,g,C),b=w(Qe,p,v),P=w(Qe+nt,g,C);i=(E-b)/2,o=(M-P)/2,r=-(E+b)/2,a=-(M+P)/2}return{ratioX:i,ratioY:o,offsetX:r,offsetY:a}}class fo extends xo{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let r=h=>+i[h];if(Ee(i[e])){const{key:h="value"}=this._parsing;r=p=>+Ni(i[p],h)}let a,d;for(a=e,d=e+n;a<d;++a)o._parsed[a]=r(a)}}_getRotation(){return _n(this.options.rotation-90)}_getCircumference(){return _n(this.options.circumference)}_getRotationExtents(){let e=Xe,n=-Xe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const o=this.chart.getDatasetMeta(i).controller,r=o._getRotation(),a=o._getCircumference();e=Math.min(e,r),n=Math.max(n,r+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,o=this._cachedMeta,r=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,d=Math.max((Math.min(i.width,i.height)-a)/2,0),h=Math.min(pP(this.options.cutout,d),1),p=this._getRingWeight(this.index),{circumference:g,rotation:v}=this._getRotationExtents(),{ratioX:C,ratioY:T,offsetX:w,offsetY:E}=VA(v,g,h),M=(i.width-a)/C,b=(i.height-a)/T,P=Math.max(Math.min(M,b)/2,0),R=Mv(this.options.radius,P),D=Math.max(R*h,0),L=(R-D)/this._getVisibleDatasetWeightTotal();this.offsetX=w*R,this.offsetY=E*R,o.total=this.calculateTotal(),this.outerRadius=R-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*p,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,o=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*r/Xe)}updateElements(e,n,i,o){const r=o==="reset",a=this.chart,d=a.chartArea,p=a.options.animation,g=(d.left+d.right)/2,v=(d.top+d.bottom)/2,C=r&&p.animateScale,T=C?0:this.innerRadius,w=C?0:this.outerRadius,{sharedOptions:E,includeOptions:M}=this._getSharedOptions(n,o);let b=this._getRotation(),P;for(P=0;P<n;++P)b+=this._circumference(P,r);for(P=n;P<n+i;++P){const R=this._circumference(P,r),D=e[P],L={x:g+this.offsetX,y:v+this.offsetY,startAngle:b,endAngle:b+R,circumference:R,outerRadius:w,innerRadius:T};M&&(L.options=E||this.resolveDataElementOptions(P,D.active?"active":o)),b+=R,this.updateElement(D,P,L,o)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,o;for(o=0;o<n.length;o++){const r=e._parsed[o];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Xe*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,o=i.data.labels||[],r=cd(n._parsed[e],i.options.locale);return{label:o[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let o,r,a,d,h;if(!e){for(o=0,r=i.data.datasets.length;o<r;++o)if(i.isDatasetVisible(o)){a=i.getDatasetMeta(o),e=a.data,d=a.controller;break}}if(!e)return 0;for(o=0,r=e.length;o<r;++o)h=d.resolveDataElementOptions(o),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,o=e.length;i<o;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(ke(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ce(fo,"id","doughnut"),ce(fo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ce(fo,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ce(fo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:o}}=e.legend.options;return n.labels.map((r,a)=>{const h=e.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:o,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Hc extends fo{}ce(Hc,"id","pie"),ce(Hc,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function xi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class xd{constructor(e){ce(this,"options");this.options=e||{}}static override(e){Object.assign(xd.prototype,e)}init(){}formats(){return xi()}parse(){return xi()}format(){return xi()}add(){return xi()}diff(){return xi()}startOf(){return xi()}endOf(){return xi()}}var BA={_date:xd};function HA(t,e,n,i){const{controller:o,data:r,_sorted:a}=t,d=o._cachedMeta.iScale;if(d&&e===d.axis&&e!=="r"&&a&&r.length){const h=d._reversePixels?kP:Vc;if(i){if(o._sharedOptions){const p=r[0],g=typeof p.getRange=="function"&&p.getRange(e);if(g){const v=h(r,e,n-g),C=h(r,e,n+g);return{lo:v.lo,hi:C.hi}}}}else return h(r,e,n)}return{lo:0,hi:r.length-1}}function ea(t,e,n,i,o){const r=t.getSortedVisibleDatasetMetas(),a=n[e];for(let d=0,h=r.length;d<h;++d){const{index:p,data:g}=r[d],{lo:v,hi:C}=HA(r[d],e,a,o);for(let T=v;T<=C;++T){const w=g[T];w.skip||i(w,p,T)}}}function zA(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,o){const r=e?Math.abs(i.x-o.x):0,a=n?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function cc(t,e,n,i,o){const r=[];return!o&&!t.isPointInArea(e)||ea(t,n,e,function(d,h,p){!o&&!Uv(d,t.chartArea,0)||d.inRange(e.x,e.y,i)&&r.push({element:d,datasetIndex:h,index:p})},!0),r}function OA(t,e,n,i){let o=[];function r(a,d,h){const{startAngle:p,endAngle:g}=a.getProps(["startAngle","endAngle"],i),{angle:v}=bv(a,{x:e.x,y:e.y});Vl(v,p,g)&&o.push({element:a,datasetIndex:d,index:h})}return ea(t,n,e,r),o}function qA(t,e,n,i,o,r){let a=[];const d=zA(n);let h=Number.POSITIVE_INFINITY;function p(g,v,C){const T=g.inRange(e.x,e.y,o);if(i&&!T)return;const w=g.getCenterPoint(o);if(!(!!r||t.isPointInArea(w))&&!T)return;const M=d(e,w);M<h?(a=[{element:g,datasetIndex:v,index:C}],h=M):M===h&&a.push({element:g,datasetIndex:v,index:C})}return ea(t,n,e,p),a}function dc(t,e,n,i,o,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?OA(t,e,n,o):qA(t,e,n,i,o,r)}function Rg(t,e,n,i,o){const r=[],a=n==="x"?"inXRange":"inYRange";let d=!1;return ea(t,n,e,(h,p,g)=>{h[a](e[n],o)&&(r.push({element:h,datasetIndex:p,index:g}),d=d||h.inRange(e.x,e.y,o))}),i&&!d?[]:r}var $A={modes:{index(t,e,n,i){const o=Ci(e,t),r=n.axis||"x",a=n.includeInvisible||!1,d=n.intersect?cc(t,o,r,i,a):dc(t,o,r,!1,i,a),h=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(p=>{const g=d[0].index,v=p.data[g];v&&!v.skip&&h.push({element:v,datasetIndex:p.index,index:g})}),h):[]},dataset(t,e,n,i){const o=Ci(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;let d=n.intersect?cc(t,o,r,i,a):dc(t,o,r,!1,i,a);if(d.length>0){const h=d[0].datasetIndex,p=t.getDatasetMeta(h).data;d=[];for(let g=0;g<p.length;++g)d.push({element:p[g],datasetIndex:h,index:g})}return d},point(t,e,n,i){const o=Ci(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return cc(t,o,r,i,a)},nearest(t,e,n,i){const o=Ci(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return dc(t,o,r,n.intersect,i,a)},x(t,e,n,i){const o=Ci(e,t);return Rg(t,o,"x",n.intersect,i)},y(t,e,n,i){const o=Ci(e,t);return Rg(t,o,"y",n.intersect,i)}}};const Jv=["left","top","right","bottom"];function Ts(t,e){return t.filter(n=>n.pos===e)}function Dg(t,e){return t.filter(n=>Jv.indexOf(n.pos)===-1&&n.box.axis===e)}function Ss(t,e){return t.sort((n,i)=>{const o=e?i:n,r=e?n:i;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function GA(t){const e=[];let n,i,o,r,a,d;for(n=0,i=(t||[]).length;n<i;++n)o=t[n],{position:r,options:{stack:a,stackWeight:d=1}}=o,e.push({index:n,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:a&&r+a,stackWeight:d});return e}function WA(t){const e={};for(const n of t){const{stack:i,pos:o,stackWeight:r}=n;if(!i||!Jv.includes(o))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function jA(t,e){const n=WA(t),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e;let r,a,d;for(r=0,a=t.length;r<a;++r){d=t[r];const{fullSize:h}=d.box,p=n[d.stack],g=p&&d.stackWeight/p.weight;d.horizontal?(d.width=g?g*i:h&&e.availableWidth,d.height=o):(d.width=i,d.height=g?g*o:h&&e.availableHeight)}return n}function JA(t){const e=GA(t),n=Ss(e.filter(p=>p.box.fullSize),!0),i=Ss(Ts(e,"left"),!0),o=Ss(Ts(e,"right")),r=Ss(Ts(e,"top"),!0),a=Ss(Ts(e,"bottom")),d=Dg(e,"x"),h=Dg(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:o.concat(h).concat(a).concat(d),chartArea:Ts(e,"chartArea"),vertical:i.concat(o).concat(h),horizontal:r.concat(a).concat(d)}}function Lg(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Yv(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function YA(t,e,n,i){const{pos:o,box:r}=n,a=t.maxPadding;if(!Ee(o)){n.size&&(t[o]-=n.size);const v=i[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?r.height:r.width),n.size=v.size/v.count,t[o]+=n.size}r.getPadding&&Yv(a,r.getPadding());const d=Math.max(0,e.outerWidth-Lg(a,t,"left","right")),h=Math.max(0,e.outerHeight-Lg(a,t,"top","bottom")),p=d!==t.w,g=h!==t.h;return t.w=d,t.h=h,n.horizontal?{same:p,other:g}:{same:g,other:p}}function KA(t){const e=t.maxPadding;function n(i){const o=Math.max(e[i]-t[i],0);return t[i]+=o,o}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function XA(t,e){const n=e.maxPadding;function i(o){const r={left:0,top:0,right:0,bottom:0};return o.forEach(a=>{r[a]=Math.max(e[a],n[a])}),r}return i(t?["left","right"]:["top","bottom"])}function Ns(t,e,n,i){const o=[];let r,a,d,h,p,g;for(r=0,a=t.length,p=0;r<a;++r){d=t[r],h=d.box,h.update(d.width||e.w,d.height||e.h,XA(d.horizontal,e));const{same:v,other:C}=YA(e,n,d,i);p|=v&&o.length,g=g||C,h.fullSize||o.push(d)}return p&&Ns(o,e,n,i)||g}function ml(t,e,n,i,o){t.top=n,t.left=e,t.right=e+i,t.bottom=n+o,t.width=i,t.height=o}function Fg(t,e,n,i){const o=n.padding;let{x:r,y:a}=e;for(const d of t){const h=d.box,p=i[d.stack]||{placed:0,weight:1},g=d.stackWeight/p.weight||1;if(d.horizontal){const v=e.w*g,C=p.size||h.height;Vs(p.start)&&(a=p.start),h.fullSize?ml(h,o.left,a,n.outerWidth-o.right-o.left,C):ml(h,e.left+p.placed,a,v,C),p.start=a,p.placed+=v,a=h.bottom}else{const v=e.h*g,C=p.size||h.width;Vs(p.start)&&(r=p.start),h.fullSize?ml(h,r,o.top,C,n.outerHeight-o.bottom-o.top):ml(h,r,e.top+p.placed,C,v),p.start=r,p.placed+=v,r=h.right}}e.x=r,e.y=a}var Ht={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const o=qt(t.options.layout.padding),r=Math.max(e-o.width,0),a=Math.max(n-o.height,0),d=JA(t.boxes),h=d.vertical,p=d.horizontal;Pe(t.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const g=h.reduce((E,M)=>M.box.options&&M.box.options.display===!1?E:E+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/g,hBoxMaxHeight:a/2}),C=Object.assign({},o);Yv(C,qt(i));const T=Object.assign({maxPadding:C,w:r,h:a,x:o.left,y:o.top},o),w=jA(h.concat(p),v);Ns(d.fullSize,T,v,w),Ns(h,T,v,w),Ns(p,T,v,w)&&Ns(h,T,v,w),KA(T),Fg(d.leftAndTop,T,v,w),T.x+=T.w,T.y+=T.h,Fg(d.rightAndBottom,T,v,w),t.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},Pe(d.chartArea,E=>{const M=E.box;Object.assign(M,t.chartArea),M.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class Kv{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,o){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,o?Math.floor(n/o):i)}}isAttached(e){return!0}updateConfig(e){}}class QA extends Kv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const kl="$chartjs",ZA={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ug=t=>t===null||t==="";function eR(t,e){const n=t.style,i=t.getAttribute("height"),o=t.getAttribute("width");if(t[kl]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ug(o)){const r=Tg(t,"width");r!==void 0&&(t.width=r)}if(Ug(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Tg(t,"height");r!==void 0&&(t.height=r)}return t}const Xv=dA?{passive:!0}:!1;function tR(t,e,n){t&&t.addEventListener(e,n,Xv)}function nR(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Xv)}function iR(t,e){const n=ZA[t.type]||t.type,{x:i,y:o}=Ci(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:o!==void 0?o:null}}function zl(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function oR(t,e,n){const i=t.canvas,o=new MutationObserver(r=>{let a=!1;for(const d of r)a=a||zl(d.addedNodes,i),a=a&&!zl(d.removedNodes,i);a&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function sR(t,e,n){const i=t.canvas,o=new MutationObserver(r=>{let a=!1;for(const d of r)a=a||zl(d.removedNodes,i),a=a&&!zl(d.addedNodes,i);a&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const Hs=new Map;let Vg=0;function Qv(){const t=window.devicePixelRatio;t!==Vg&&(Vg=t,Hs.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function rR(t,e){Hs.size||window.addEventListener("resize",Qv),Hs.set(t,e)}function lR(t){Hs.delete(t),Hs.size||window.removeEventListener("resize",Qv)}function aR(t,e,n){const i=t.canvas,o=i&&vd(i);if(!o)return;const r=Rv((d,h)=>{const p=o.clientWidth;n(d,h),p<o.clientWidth&&n()},window),a=new ResizeObserver(d=>{const h=d[0],p=h.contentRect.width,g=h.contentRect.height;p===0&&g===0||r(p,g)});return a.observe(o),rR(t,r),a}function fc(t,e,n){n&&n.disconnect(),e==="resize"&&lR(t)}function uR(t,e,n){const i=t.canvas,o=Rv(r=>{t.ctx!==null&&n(iR(r,t))},t);return tR(i,e,o),o}class cR extends Kv{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(eR(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[kl])return!1;const i=n[kl].initial;["height","width"].forEach(r=>{const a=i[r];He(a)?n.removeAttribute(r):n.setAttribute(r,a)});const o=i.style||{};return Object.keys(o).forEach(r=>{n.style[r]=o[r]}),n.width=n.width,delete n[kl],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const o=e.$proxies||(e.$proxies={}),a={attach:oR,detach:sR,resize:aR}[n]||uR;o[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),o=i[n];if(!o)return;({attach:fc,detach:fc,resize:fc}[n]||nR)(e,n,o),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,o){return cA(e,n,i,o)}isAttached(e){const n=vd(e);return!!(n&&n.isConnected)}}function dR(t){return!yd()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?QA:cR}class Tn{constructor(){ce(this,"x");ce(this,"y");ce(this,"active",!1);ce(this,"options");ce(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Ul(this.x)&&Ul(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const o={};return e.forEach(r=>{o[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),o}}ce(Tn,"defaults",{}),ce(Tn,"defaultRoutes");function fR(t,e){const n=t.options.ticks,i=hR(t),o=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?mR(e):[],a=r.length,d=r[0],h=r[a-1],p=[];if(a>o)return gR(e,p,r,a/o),p;const g=pR(r,e,o);if(a>0){let v,C;const T=a>1?Math.round((h-d)/(a-1)):null;for(gl(e,p,g,He(T)?0:d-T,d),v=0,C=a-1;v<C;v++)gl(e,p,g,r[v],r[v+1]);return gl(e,p,g,h,He(T)?e.length:h+T),p}return gl(e,p,g),p}function hR(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),o=t._maxLength/n;return Math.floor(Math.min(i,o))}function pR(t,e,n){const i=yR(t),o=e.length/n;if(!i)return Math.max(o,1);const r=_P(i);for(let a=0,d=r.length-1;a<d;a++){const h=r[a];if(h>o)return h}return Math.max(o,1)}function mR(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function gR(t,e,n,i){let o=0,r=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===r&&(e.push(t[a]),o++,r=n[o*i])}function gl(t,e,n,i,o){const r=ke(i,0),a=Math.min(ke(o,t.length),t.length);let d=0,h,p,g;for(n=Math.ceil(n),o&&(h=o-i,n=h/Math.floor(h/n)),g=r;g<0;)d++,g=Math.round(r+d*n);for(p=Math.max(r,0);p<a;p++)p===g&&(e.push(t[p]),d++,g=Math.round(r+d*n))}function yR(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const vR=t=>t==="left"?"right":t==="right"?"left":t,Bg=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Hg=(t,e)=>Math.min(e||t,t);function zg(t,e){const n=[],i=t.length/e,o=t.length;let r=0;for(;r<o;r+=i)n.push(t[Math.floor(r)]);return n}function xR(t,e,n){const i=t.ticks.length,o=Math.min(e,i-1),r=t._startPixel,a=t._endPixel,d=1e-6;let h=t.getPixelForTick(o),p;if(!(n&&(i===1?p=Math.max(h-r,a-h):e===0?p=(t.getPixelForTick(1)-h)/2:p=(h-t.getPixelForTick(o-1))/2,h+=o<e?p:-p,h<r-d||h>a+d)))return h}function CR(t,e){Pe(t,n=>{const i=n.gc,o=i.length/2;let r;if(o>e){for(r=0;r<o;++r)delete n.data[i[r]];i.splice(0,o)}})}function ws(t){return t.drawTicks?t.tickLength:0}function Og(t,e){if(!t.display)return 0;const n=mt(t.font,e),i=qt(t.padding);return(tt(t.text)?t.text.length:1)*n.lineHeight+i.height}function _R(t,e){return bo(t,{scale:e,type:"scale"})}function TR(t,e,n){return bo(t,{tick:n,index:e,type:"tick"})}function SR(t,e,n){let i=ud(t);return(n&&e!=="right"||!n&&e==="right")&&(i=vR(i)),i}function wR(t,e,n,i){const{top:o,left:r,bottom:a,right:d,chart:h}=t,{chartArea:p,scales:g}=h;let v=0,C,T,w;const E=a-o,M=d-r;if(t.isHorizontal()){if(T=ht(i,r,d),Ee(n)){const b=Object.keys(n)[0],P=n[b];w=g[b].getPixelForValue(P)+E-e}else n==="center"?w=(p.bottom+p.top)/2+E-e:w=Bg(t,n,e);C=d-r}else{if(Ee(n)){const b=Object.keys(n)[0],P=n[b];T=g[b].getPixelForValue(P)-M+e}else n==="center"?T=(p.left+p.right)/2-M+e:T=Bg(t,n,e);w=ht(i,a,o),v=n==="left"?-nt:nt}return{titleX:T,titleY:w,maxWidth:C,rotation:v}}class Io extends Tn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:o}=this;return e=nn(e,Number.POSITIVE_INFINITY),n=nn(n,Number.NEGATIVE_INFINITY),i=nn(i,Number.POSITIVE_INFINITY),o=nn(o,Number.NEGATIVE_INFINITY),{min:nn(e,i),max:nn(n,o),minDefined:Ot(e),maxDefined:Ot(n)}}getMinMax(e){let{min:n,max:i,minDefined:o,maxDefined:r}=this.getUserBounds(),a;if(o&&r)return{min:n,max:i};const d=this.getMatchingVisibleMetas();for(let h=0,p=d.length;h<p;++h)a=d[h].controller.getMinMax(this,e),o||(n=Math.min(n,a.min)),r||(i=Math.max(i,a.max));return n=r&&n>i?i:n,i=o&&n>i?n:i,{min:nn(n,nn(i,n)),max:nn(i,nn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Be(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:o,grace:r,ticks:a}=this.options,d=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=YP(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?zg(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=fR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Be(this.options.afterUpdate,[this])}beforeSetDimensions(){Be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Be(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Be(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,o,r;for(i=0,o=e.length;i<o;i++)r=e[i],r.label=Be(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){Be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Hg(this.ticks.length,e.ticks.maxTicksLimit),o=n.minRotation||0,r=n.maxRotation;let a=o,d,h,p;if(!this._isVisible()||!n.display||o>=r||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const g=this._getLabelSizes(),v=g.widest.width,C=g.highest.height,T=Mt(this.chart.width-v,0,this.maxWidth);d=e.offset?this.maxWidth/i:T/(i-1),v+6>d&&(d=T/(i-(e.offset?.5:1)),h=this.maxHeight-ws(e.grid)-n.padding-Og(e.title,this.chart.options.font),p=Math.sqrt(v*v+C*C),a=wP(Math.min(Math.asin(Mt((g.highest.height+6)/d,-1,1)),Math.asin(Mt(h/p,-1,1))-Math.asin(Mt(C/p,-1,1)))),a=Math.max(o,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Be(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:o,grid:r}}=this,a=this._isVisible(),d=this.isHorizontal();if(a){const h=Og(o,n.options.font);if(d?(e.width=this.maxWidth,e.height=ws(r)+h):(e.height=this.maxHeight,e.width=ws(r)+h),i.display&&this.ticks.length){const{first:p,last:g,widest:v,highest:C}=this._getLabelSizes(),T=i.padding*2,w=_n(this.labelRotation),E=Math.cos(w),M=Math.sin(w);if(d){const b=i.mirror?0:M*v.width+E*C.height;e.height=Math.min(this.maxHeight,e.height+b+T)}else{const b=i.mirror?0:E*v.width+M*C.height;e.width=Math.min(this.maxWidth,e.width+b+T)}this._calculatePadding(p,g,M,E)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,o){const{ticks:{align:r,padding:a},position:d}=this.options,h=this.labelRotation!==0,p=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let C=0,T=0;h?p?(C=o*e.width,T=i*n.height):(C=i*e.height,T=o*n.width):r==="start"?T=n.width:r==="end"?C=e.width:r!=="inner"&&(C=e.width/2,T=n.width/2),this.paddingLeft=Math.max((C-g+a)*this.width/(this.width-g),0),this.paddingRight=Math.max((T-v+a)*this.width/(this.width-v),0)}else{let g=n.height/2,v=e.height/2;r==="start"?(g=0,v=e.height):r==="end"&&(g=n.height,v=0),this.paddingTop=g+a,this.paddingBottom=v+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Be(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)He(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=zg(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:o,_longestTextCache:r}=this,a=[],d=[],h=Math.floor(n/Hg(n,i));let p=0,g=0,v,C,T,w,E,M,b,P,R,D,L;for(v=0;v<n;v+=h){if(w=e[v].label,E=this._resolveTickFontOptions(v),o.font=M=E.string,b=r[M]=r[M]||{data:{},gc:[]},P=E.lineHeight,R=D=0,!He(w)&&!tt(w))R=gg(o,b.data,b.gc,R,w),D=P;else if(tt(w))for(C=0,T=w.length;C<T;++C)L=w[C],!He(L)&&!tt(L)&&(R=gg(o,b.data,b.gc,R,L),D+=P);a.push(R),d.push(D),p=Math.max(R,p),g=Math.max(D,g)}CR(r,n);const H=a.indexOf(p),O=d.indexOf(g),J=W=>({width:a[W]||0,height:d[W]||0});return{first:J(0),last:J(n-1),widest:J(H),highest:J(O),widths:a,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return MP(this._alignToPixels?vi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=TR(this.getContext(),e,i))}return this.$context||(this.$context=_R(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=_n(this.labelRotation),i=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,d=r?r.widest.width+a:0,h=r?r.highest.height+a:0;return this.isHorizontal()?h*i>d*o?d/i:h/o:h*o<d*i?h/i:d/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,o=this.options,{grid:r,position:a,border:d}=o,h=r.offset,p=this.isHorizontal(),v=this.ticks.length+(h?1:0),C=ws(r),T=[],w=d.setContext(this.getContext()),E=w.display?w.width:0,M=E/2,b=function(ye){return vi(i,ye,E)};let P,R,D,L,H,O,J,W,Q,X,le,Te;if(a==="top")P=b(this.bottom),O=this.bottom-C,W=P-M,X=b(e.top)+M,Te=e.bottom;else if(a==="bottom")P=b(this.top),X=e.top,Te=b(e.bottom)-M,O=P+M,W=this.top+C;else if(a==="left")P=b(this.right),H=this.right-C,J=P-M,Q=b(e.left)+M,le=e.right;else if(a==="right")P=b(this.left),Q=e.left,le=b(e.right)-M,H=P+M,J=this.left+C;else if(n==="x"){if(a==="center")P=b((e.top+e.bottom)/2+.5);else if(Ee(a)){const ye=Object.keys(a)[0],ge=a[ye];P=b(this.chart.scales[ye].getPixelForValue(ge))}X=e.top,Te=e.bottom,O=P+M,W=O+C}else if(n==="y"){if(a==="center")P=b((e.left+e.right)/2);else if(Ee(a)){const ye=Object.keys(a)[0],ge=a[ye];P=b(this.chart.scales[ye].getPixelForValue(ge))}H=P-M,J=H-C,Q=e.left,le=e.right}const Ae=ke(o.ticks.maxTicksLimit,v),de=Math.max(1,Math.ceil(v/Ae));for(R=0;R<v;R+=de){const ye=this.getContext(R),ge=r.setContext(ye),Y=d.setContext(ye),te=ge.lineWidth,Z=ge.color,F=Y.dash||[],z=Y.dashOffset,pe=ge.tickWidth,me=ge.tickColor,Ce=ge.tickBorderDash||[],xe=ge.tickBorderDashOffset;D=xR(this,R,h),D!==void 0&&(L=vi(i,D,te),p?H=J=Q=le=L:O=W=X=Te=L,T.push({tx1:H,ty1:O,tx2:J,ty2:W,x1:Q,y1:X,x2:le,y2:Te,width:te,color:Z,borderDash:F,borderDashOffset:z,tickWidth:pe,tickColor:me,tickBorderDash:Ce,tickBorderDashOffset:xe}))}return this._ticksLength=v,this._borderValue=P,T}_computeLabelItems(e){const n=this.axis,i=this.options,{position:o,ticks:r}=i,a=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:p,padding:g,mirror:v}=r,C=ws(i.grid),T=C+g,w=v?-g:T,E=-_n(this.labelRotation),M=[];let b,P,R,D,L,H,O,J,W,Q,X,le,Te="middle";if(o==="top")H=this.bottom-w,O=this._getXAxisLabelAlignment();else if(o==="bottom")H=this.top+w,O=this._getXAxisLabelAlignment();else if(o==="left"){const de=this._getYAxisLabelAlignment(C);O=de.textAlign,L=de.x}else if(o==="right"){const de=this._getYAxisLabelAlignment(C);O=de.textAlign,L=de.x}else if(n==="x"){if(o==="center")H=(e.top+e.bottom)/2+T;else if(Ee(o)){const de=Object.keys(o)[0],ye=o[de];H=this.chart.scales[de].getPixelForValue(ye)+T}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")L=(e.left+e.right)/2-T;else if(Ee(o)){const de=Object.keys(o)[0],ye=o[de];L=this.chart.scales[de].getPixelForValue(ye)}O=this._getYAxisLabelAlignment(C).textAlign}n==="y"&&(h==="start"?Te="top":h==="end"&&(Te="bottom"));const Ae=this._getLabelSizes();for(b=0,P=d.length;b<P;++b){R=d[b],D=R.label;const de=r.setContext(this.getContext(b));J=this.getPixelForTick(b)+r.labelOffset,W=this._resolveTickFontOptions(b),Q=W.lineHeight,X=tt(D)?D.length:1;const ye=X/2,ge=de.color,Y=de.textStrokeColor,te=de.textStrokeWidth;let Z=O;a?(L=J,O==="inner"&&(b===P-1?Z=this.options.reverse?"left":"right":b===0?Z=this.options.reverse?"right":"left":Z="center"),o==="top"?p==="near"||E!==0?le=-X*Q+Q/2:p==="center"?le=-Ae.highest.height/2-ye*Q+Q:le=-Ae.highest.height+Q/2:p==="near"||E!==0?le=Q/2:p==="center"?le=Ae.highest.height/2-ye*Q:le=Ae.highest.height-X*Q,v&&(le*=-1),E!==0&&!de.showLabelBackdrop&&(L+=Q/2*Math.sin(E))):(H=J,le=(1-X)*Q/2);let F;if(de.showLabelBackdrop){const z=qt(de.backdropPadding),pe=Ae.heights[b],me=Ae.widths[b];let Ce=le-z.top,xe=0-z.left;switch(Te){case"middle":Ce-=pe/2;break;case"bottom":Ce-=pe;break}switch(O){case"center":xe-=me/2;break;case"right":xe-=me;break;case"inner":b===P-1?xe-=me:b>0&&(xe-=me/2);break}F={left:xe,top:Ce,width:me+z.width,height:pe+z.height,color:de.backdropColor}}M.push({label:D,font:W,textOffset:le,options:{rotation:E,color:ge,strokeColor:Y,strokeWidth:te,textAlign:Z,textBaseline:Te,translation:[L,H],backdrop:F}})}return M}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-_n(this.labelRotation))return e==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:o,padding:r}}=this.options,a=this._getLabelSizes(),d=e+r,h=a.widest.width;let p,g;return n==="left"?o?(g=this.right+r,i==="near"?p="left":i==="center"?(p="center",g+=h/2):(p="right",g+=h)):(g=this.right-d,i==="near"?p="right":i==="center"?(p="center",g-=h/2):(p="left",g=this.left)):n==="right"?o?(g=this.left+r,i==="near"?p="right":i==="center"?(p="center",g-=h/2):(p="left",g-=h)):(g=this.left+d,i==="near"?p="left":i==="center"?(p="center",g+=h/2):(p="right",g=this.right)):p="right",{textAlign:p,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:o,width:r,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,o,r,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(r=>r.value===e);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const d=(h,p,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(n.display)for(r=0,a=o.length;r<a;++r){const h=o[r];n.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:o}}=this,r=i.setContext(this.getContext()),a=i.display?r.width:0;if(!a)return;const d=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,g,v,C;this.isHorizontal()?(p=vi(e,this.left,a)-a/2,g=vi(e,this.right,d)+d/2,v=C=h):(v=vi(e,this.top,a)-a/2,C=vi(e,this.bottom,d)+d/2,p=g=h),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(p,v),n.lineTo(g,C),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&dd(i,o);const r=this.getLabelItems(e);for(const a of r){const d=a.options,h=a.font,p=a.label,g=a.textOffset;Bs(i,p,0,g,h,d)}o&&fd(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:o}}=this;if(!i.display)return;const r=mt(i.font),a=qt(i.padding),d=i.align;let h=r.lineHeight/2;n==="bottom"||n==="center"||Ee(n)?(h+=a.bottom,tt(i.text)&&(h+=r.lineHeight*(i.text.length-1))):h+=a.top;const{titleX:p,titleY:g,maxWidth:v,rotation:C}=wR(this,h,n,d);Bs(e,i.text,0,0,r,{color:i.color,maxWidth:v,rotation:C,textAlign:SR(d,n,o),textBaseline:"middle",translation:[p,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=ke(e.grid&&e.grid.z,-1),o=ke(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Io.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let r,a;for(r=0,a=n.length;r<a;++r){const d=n[r];d[i]===this.id&&(!e||d.type===e)&&o.push(d)}return o}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return mt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class yl{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;kR(n)&&(i=this.register(n));const o=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in o||(o[r]=e,ER(e,a,i),this.override&&Ye.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,o=this.scope;i in n&&delete n[i],o&&i in Ye[o]&&(delete Ye[o][i],this.override&&delete bi[i])}}function ER(t,e,n){const i=Us(Object.create(null),[n?Ye.get(n):{},Ye.get(e),t.defaults]);Ye.set(e,i),t.defaultRoutes&&MR(e,t.defaultRoutes),t.descriptors&&Ye.describe(e,t.descriptors)}function MR(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),o=i.pop(),r=[t].concat(i).join("."),a=e[n].split("."),d=a.pop(),h=a.join(".");Ye.route(r,o,h,d)})}function kR(t){return"id"in t&&"defaults"in t}class NR{constructor(){this.controllers=new yl(xo,"datasets",!0),this.elements=new yl(Tn,"elements"),this.plugins=new yl(Object,"plugins"),this.scales=new yl(Io,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(o=>{const r=i||this._getRegistryForType(o);i||r.isForType(o)||r===this.plugins&&o.id?this._exec(e,r,o):Pe(o,a=>{const d=i||this._getRegistryForType(a);this._exec(e,d,a)})})}_exec(e,n,i){const o=ld(e);Be(i["before"+o],[],i),n[e](i),Be(i["after"+o],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const o=n.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}}var sn=new NR;class bR{constructor(){this._init=[]}notify(e,n,i,o){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=o?this._descriptors(e).filter(o):this._descriptors(e),a=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,i,o){o=o||{};for(const r of e){const a=r.plugin,d=a[i],h=[n,o,r.options];if(Be(d,h,a)===!1&&o.cancelable)return!1}return!0}invalidate(){He(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,o=ke(i.options&&i.options.plugins,{}),r=IR(i);return o===!1&&!n?[]:AR(e,r,o,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,o=(r,a)=>r.filter(d=>!a.some(h=>d.plugin.id===h.plugin.id));this._notify(o(n,i),e,"stop"),this._notify(o(i,n),e,"start")}}function IR(t){const e={},n=[],i=Object.keys(sn.plugins.items);for(let r=0;r<i.length;r++)n.push(sn.getPlugin(i[r]));const o=t.plugins||[];for(let r=0;r<o.length;r++){const a=o[r];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function PR(t,e){return!e&&t===!1?null:t===!0?{}:t}function AR(t,{plugins:e,localIds:n},i,o){const r=[],a=t.getContext();for(const d of e){const h=d.id,p=PR(i[h],o);p!==null&&r.push({plugin:d,options:RR(t.config,{plugin:d,local:n[h]},p,a)})}return r}function RR(t,{plugin:e,local:n},i,o){const r=t.pluginScopeKeys(e),a=t.getOptionScopes(i,r);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function zc(t,e){const n=Ye.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function DR(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function LR(t,e){return t===e?"_index_":"_value_"}function qg(t){if(t==="x"||t==="y"||t==="r")return t}function FR(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Oc(t,...e){if(qg(t))return t;for(const n of e){const i=n.axis||FR(n.position)||t.length>1&&qg(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function $g(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function UR(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return $g(t,"x",n[0])||$g(t,"y",n[0])}return{}}function VR(t,e){const n=bi[t.type]||{scales:{}},i=e.scales||{},o=zc(t.type,e),r=Object.create(null);return Object.keys(i).forEach(a=>{const d=i[a];if(!Ee(d))return console.error(`Invalid scale configuration for scale: ${a}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const h=Oc(a,d,UR(a,t),Ye.scales[d.type]),p=LR(h,o),g=n.scales||{};r[a]=Ps(Object.create(null),[{axis:h},d,g[h],g[p]])}),t.data.datasets.forEach(a=>{const d=a.type||t.type,h=a.indexAxis||zc(d,e),g=(bi[d]||{}).scales||{};Object.keys(g).forEach(v=>{const C=DR(v,h),T=a[C+"AxisID"]||C;r[T]=r[T]||Object.create(null),Ps(r[T],[{axis:C},i[T],g[v]])})}),Object.keys(r).forEach(a=>{const d=r[a];Ps(d,[Ye.scales[d.type],Ye.scale])}),r}function Zv(t){const e=t.options||(t.options={});e.plugins=ke(e.plugins,{}),e.scales=VR(t,e)}function ex(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function BR(t){return t=t||{},t.data=ex(t.data),Zv(t),t}const Gg=new Map,tx=new Set;function vl(t,e){let n=Gg.get(t);return n||(n=e(),Gg.set(t,n),tx.add(n)),n}const Es=(t,e,n)=>{const i=Ni(e,n);i!==void 0&&t.add(i)};class HR{constructor(e){this._config=BR(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ex(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Zv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return vl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return vl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return vl(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let o=i.get(e);return(!o||n)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,n,i){const{options:o,type:r}=this,a=this._cachedScopes(e,i),d=a.get(n);if(d)return d;const h=new Set;n.forEach(g=>{e&&(h.add(e),g.forEach(v=>Es(h,e,v))),g.forEach(v=>Es(h,o,v)),g.forEach(v=>Es(h,bi[r]||{},v)),g.forEach(v=>Es(h,Ye,v)),g.forEach(v=>Es(h,Bc,v))});const p=Array.from(h);return p.length===0&&p.push(Object.create(null)),tx.has(n)&&a.set(n,p),p}chartOptionScopes(){const{options:e,type:n}=this;return[e,bi[n]||{},Ye.datasets[n]||{},{type:n},Ye,Bc]}resolveNamedOptions(e,n,i,o=[""]){const r={$shared:!0},{resolver:a,subPrefixes:d}=Wg(this._resolverCache,e,o);let h=a;if(OR(a,n)){r.$shared=!1,i=Qn(i)?i():i;const p=this.createResolver(e,i,d);h=To(a,i,p)}for(const p of n)r[p]=h[p];return r}createResolver(e,n,i=[""],o){const{resolver:r}=Wg(this._resolverCache,e,i);return Ee(n)?To(r,n,void 0,o):r}}function Wg(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const o=n.join();let r=i.get(o);return r||(r={resolver:pd(e,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},i.set(o,r)),r}const zR=t=>Ee(t)&&Object.getOwnPropertyNames(t).some(e=>Qn(t[e]));function OR(t,e){const{isScriptable:n,isIndexable:i}=Bv(t);for(const o of e){const r=n(o),a=i(o),d=(a||r)&&t[o];if(r&&(Qn(d)||zR(d))||a&&tt(d))return!0}return!1}var qR="4.4.2";const $R=["top","bottom","left","right","chartArea"];function jg(t,e){return t==="top"||t==="bottom"||$R.indexOf(t)===-1&&e==="x"}function Jg(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Yg(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Be(n&&n.onComplete,[t],e)}function GR(t){const e=t.chart,n=e.options.animation;Be(n&&n.onProgress,[t],e)}function nx(t){return yd()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Nl={},Kg=t=>{const e=nx(t);return Object.values(Nl).filter(n=>n.canvas===e).pop()};function WR(t,e,n){const i=Object.keys(t);for(const o of i){const r=+o;if(r>=e){const a=t[o];delete t[o],(n>0||r>e)&&(t[r+n]=a)}}}function jR(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function xl(t,e,n){return t.options.clip?t[n]:e[n]}function JR(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:xl(n,e,"left"),right:xl(n,e,"right"),top:xl(i,e,"top"),bottom:xl(i,e,"bottom")}:e}var $n;let Po=($n=class{static register(...e){sn.add(...e),Xg()}static unregister(...e){sn.remove(...e),Xg()}constructor(e,n){const i=this.config=new HR(n),o=nx(e),r=Kg(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||dR(o)),this.platform.updateConfig(i);const d=this.platform.acquireContext(o,a.aspectRatio),h=d&&d.canvas,p=h&&h.height,g=h&&h.width;if(this.id=hP(),this.ctx=d,this.canvas=h,this.width=g,this.height=p,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=IP(v=>this.update(v),a.resizeDelay||0),this._dataChanges=[],Nl[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}vn.listen(this,"complete",Yg),vn.listen(this,"progress",GR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:o,_aspectRatio:r}=this;return He(e)?n&&r?r:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return sn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_g(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yg(this.canvas,this.ctx),this}stop(){return vn.stop(this),this}resize(e,n){vn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,o=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,e,n,r),d=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,_g(this,d,!0)&&(this.notifyPlugins("resize",{size:a}),Be(i.onResize,[this,a],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Pe(n,(i,o)=>{i.id=o})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,o=Object.keys(i).reduce((a,d)=>(a[d]=!1,a),{});let r=[];n&&(r=r.concat(Object.keys(n).map(a=>{const d=n[a],h=Oc(a,d),p=h==="r",g=h==="x";return{options:d,dposition:p?"chartArea":g?"bottom":"left",dtype:p?"radialLinear":g?"category":"linear"}}))),Pe(r,a=>{const d=a.options,h=d.id,p=Oc(h,d),g=ke(d.type,a.dtype);(d.position===void 0||jg(d.position,p)!==jg(a.dposition))&&(d.position=a.dposition),o[h]=!0;let v=null;if(h in i&&i[h].type===g)v=i[h];else{const C=sn.getScale(g);v=new C({id:h,type:g,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(d,e)}),Pe(o,(a,d)=>{a||delete i[d]}),Pe(i,a=>{Ht.configure(this,a,a.options),Ht.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((o,r)=>o.index-r.index),i>n){for(let o=n;o<i;++o)this._destroyDatasetMeta(o);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Jg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,o)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=n.length;i<o;i++){const r=n[i];let a=this.getDatasetMeta(i);const d=r.type||this.config.type;if(a.type&&a.type!==d&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=d,a.indexAxis=r.indexAxis||zc(d,this.options),a.order=r.order||0,a.index=i,a.label=""+r.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const h=sn.getController(d),{datasetElementType:p,dataElementType:g}=Ye.datasets[d];Object.assign(h,{dataElementType:sn.getElement(g),datasetElementType:p&&sn.getElement(p)}),a.controller=new h(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Pe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let p=0,g=this.data.datasets.length;p<g;p++){const{controller:v}=this.getDatasetMeta(p),C=!o&&r.indexOf(v)===-1;v.buildOrUpdateElements(C),a=Math.max(+v.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),o||Pe(r,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Jg("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Pe(this.scales,e=>{Ht.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!lg(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:r}of n){const a=i==="_removeElements"?-r:r;WR(e,o,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(a=>a[0]===r).map((a,d)=>d+","+a.splice(1).join(","))),o=i(0);for(let r=1;r<n;r++)if(!lg(o,i(r)))return;return Array.from(o).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ht.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Pe(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,r)=>{o._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Qn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(vn.has(this)?this.attached&&!vn.running(this)&&vn.start(this):(this.draw(),Yg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resize(i,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let o,r;for(o=0,r=n.length;o<r;++o){const a=n[o];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,o=!i.disabled,r=JR(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&dd(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),o&&fd(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Uv(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,o){const r=$A.modes[n];return typeof r=="function"?r(this,e,i,o):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let o=i.filter(r=>r&&r._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=bo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const o=i?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,o);Vs(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(r,{visible:i}),this.update(d=>d.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),vn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),yg(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Nl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,a)=>{n.addEventListener(this,r,a),e[r]=a},o=(r,a,d)=>{r.offsetX=a,r.offsetY=d,this._eventHandler(r)};Pe(this.options.events,r=>i(r,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(h,p)=>{n.addEventListener(this,h,p),e[h]=p},o=(h,p)=>{e[h]&&(n.removeEventListener(this,h,p),delete e[h])},r=(h,p)=>{this.canvas&&this.resize(h,p)};let a;const d=()=>{o("attach",d),this.attached=!0,this.resize(),i("resize",r),i("detach",a)};a=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),i("attach",d)},n.isAttached(this.canvas)?d():a()}unbindEvents(){Pe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Pe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const o=i?"set":"remove";let r,a,d,h;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),d=0,h=e.length;d<h;++d){a=e[d];const p=a&&this.getDatasetMeta(a.datasetIndex).controller;p&&p[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:a})=>{const d=this.getDatasetMeta(r);if(!d)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:d.data[a],index:a}});!Dl(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const o=this.options.hover,r=(h,p)=>h.filter(g=>!p.some(v=>g.datasetIndex===v.datasetIndex&&g.index===v.index)),a=r(n,e),d=i?e:r(e,n);a.length&&this.updateHoverStyle(a,o.mode,!1),d.length&&o.mode&&this.updateHoverStyle(d,o.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:o=[],options:r}=this,a=n,d=this._getActiveElements(e,o,i,a),h=xP(e),p=jR(e,this._lastEvent,i,h);i&&(this._lastEvent=null,Be(r.onHover,[e,d,this],this),h&&Be(r.onClick,[e,d,this],this));const g=!Dl(d,o);return(g||n)&&(this._active=d,this._updateHoverStyles(d,o,n)),this._lastEvent=p,g}_getActiveElements(e,n,i,o){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,o)}},ce($n,"defaults",Ye),ce($n,"instances",Nl),ce($n,"overrides",bi),ce($n,"registry",sn),ce($n,"version",qR),ce($n,"getChart",Kg),$n);function Xg(){return Pe(Po.instances,t=>t._plugins.invalidate())}function YR(t,e,n){const{startAngle:i,pixelMargin:o,x:r,y:a,outerRadius:d,innerRadius:h}=e;let p=o/d;t.beginPath(),t.arc(r,a,d,i-p,n+p),h>o?(p=o/h,t.arc(r,a,h,n+p,i-p,!0)):t.arc(r,a,o,n+nt,i-nt),t.closePath(),t.clip()}function KR(t){return hd(t,["outerStart","outerEnd","innerStart","innerEnd"])}function XR(t,e,n,i){const o=KR(t.options.borderRadius),r=(n-e)/2,a=Math.min(r,i*e/2),d=h=>{const p=(n-Math.min(r,h))*i/2;return Mt(h,0,Math.min(r,p))};return{outerStart:d(o.outerStart),outerEnd:d(o.outerEnd),innerStart:Mt(o.innerStart,0,a),innerEnd:Mt(o.innerEnd,0,a)}}function ro(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Ol(t,e,n,i,o,r){const{x:a,y:d,startAngle:h,pixelMargin:p,innerRadius:g}=e,v=Math.max(e.outerRadius+i+n-p,0),C=g>0?g+i+n+p:0;let T=0;const w=o-h;if(i){const de=g>0?g-i:0,ye=v>0?v-i:0,ge=(de+ye)/2,Y=ge!==0?w*ge/(ge+i):w;T=(w-Y)/2}const E=Math.max(.001,w*v-n/Qe)/v,M=(w-E)/2,b=h+M+T,P=o-M-T,{outerStart:R,outerEnd:D,innerStart:L,innerEnd:H}=XR(e,C,v,P-b),O=v-R,J=v-D,W=b+R/O,Q=P-D/J,X=C+L,le=C+H,Te=b+L/X,Ae=P-H/le;if(t.beginPath(),r){const de=(W+Q)/2;if(t.arc(a,d,v,W,de),t.arc(a,d,v,de,Q),D>0){const te=ro(J,Q,a,d);t.arc(te.x,te.y,D,Q,P+nt)}const ye=ro(le,P,a,d);if(t.lineTo(ye.x,ye.y),H>0){const te=ro(le,Ae,a,d);t.arc(te.x,te.y,H,P+nt,Ae+Math.PI)}const ge=(P-H/C+(b+L/C))/2;if(t.arc(a,d,C,P-H/C,ge,!0),t.arc(a,d,C,ge,b+L/C,!0),L>0){const te=ro(X,Te,a,d);t.arc(te.x,te.y,L,Te+Math.PI,b-nt)}const Y=ro(O,b,a,d);if(t.lineTo(Y.x,Y.y),R>0){const te=ro(O,W,a,d);t.arc(te.x,te.y,R,b-nt,W)}}else{t.moveTo(a,d);const de=Math.cos(W)*v+a,ye=Math.sin(W)*v+d;t.lineTo(de,ye);const ge=Math.cos(Q)*v+a,Y=Math.sin(Q)*v+d;t.lineTo(ge,Y)}t.closePath()}function QR(t,e,n,i,o){const{fullCircles:r,startAngle:a,circumference:d}=e;let h=e.endAngle;if(r){Ol(t,e,n,i,h,o);for(let p=0;p<r;++p)t.fill();isNaN(d)||(h=a+(d%Xe||Xe))}return Ol(t,e,n,i,h,o),t.fill(),h}function ZR(t,e,n,i,o){const{fullCircles:r,startAngle:a,circumference:d,options:h}=e,{borderWidth:p,borderJoinStyle:g,borderDash:v,borderDashOffset:C}=h,T=h.borderAlign==="inner";if(!p)return;t.setLineDash(v||[]),t.lineDashOffset=C,T?(t.lineWidth=p*2,t.lineJoin=g||"round"):(t.lineWidth=p,t.lineJoin=g||"bevel");let w=e.endAngle;if(r){Ol(t,e,n,i,w,o);for(let E=0;E<r;++E)t.stroke();isNaN(d)||(w=a+(d%Xe||Xe))}T&&YR(t,e,w),r||(Ol(t,e,n,i,w,o),t.stroke())}class ho extends Tn{constructor(n){super();ce(this,"circumference");ce(this,"endAngle");ce(this,"fullCircles");ce(this,"innerRadius");ce(this,"outerRadius");ce(this,"pixelMargin");ce(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,o){const r=this.getProps(["x","y"],o),{angle:a,distance:d}=bv(r,{x:n,y:i}),{startAngle:h,endAngle:p,innerRadius:g,outerRadius:v,circumference:C}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),T=(this.options.spacing+this.options.borderWidth)/2,E=ke(C,p-h)>=Xe||Vl(a,h,p),M=_i(d,g+T,v+T);return E&&M}getCenterPoint(n){const{x:i,y:o,startAngle:r,endAngle:a,innerRadius:d,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:p,spacing:g}=this.options,v=(r+a)/2,C=(d+h+g+p)/2;return{x:i+Math.cos(v)*C,y:o+Math.sin(v)*C}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:o}=this,r=(i.offset||0)/4,a=(i.spacing||0)/2,d=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=o>Xe?Math.floor(o/Xe):0,o===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*r,Math.sin(h)*r);const p=1-Math.sin(Math.min(Qe,o||0)),g=r*p;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,QR(n,this,g,a,d),ZR(n,this,g,a,d),n.restore()}}ce(ho,"id","arc"),ce(ho,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ce(ho,"defaultRoutes",{backgroundColor:"backgroundColor"}),ce(ho,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function ix(t,e){const{x:n,y:i,base:o,width:r,height:a}=t.getProps(["x","y","base","width","height"],e);let d,h,p,g,v;return t.horizontal?(v=a/2,d=Math.min(n,o),h=Math.max(n,o),p=i-v,g=i+v):(v=r/2,d=n-v,h=n+v,p=Math.min(i,o),g=Math.max(i,o)),{left:d,top:p,right:h,bottom:g}}function Jn(t,e,n,i){return t?0:Mt(e,n,i)}function eD(t,e,n){const i=t.options.borderWidth,o=t.borderSkipped,r=Vv(i);return{t:Jn(o.top,r.top,0,n),r:Jn(o.right,r.right,0,e),b:Jn(o.bottom,r.bottom,0,n),l:Jn(o.left,r.left,0,e)}}function tD(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,r=yo(o),a=Math.min(e,n),d=t.borderSkipped,h=i||Ee(o);return{topLeft:Jn(!h||d.top||d.left,r.topLeft,0,a),topRight:Jn(!h||d.top||d.right,r.topRight,0,a),bottomLeft:Jn(!h||d.bottom||d.left,r.bottomLeft,0,a),bottomRight:Jn(!h||d.bottom||d.right,r.bottomRight,0,a)}}function nD(t){const e=ix(t),n=e.right-e.left,i=e.bottom-e.top,o=eD(t,n/2,i/2),r=tD(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+o.l,y:e.top+o.t,w:n-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function hc(t,e,n,i){const o=e===null,r=n===null,d=t&&!(o&&r)&&ix(t,i);return d&&(o||_i(e,d.left,d.right))&&(r||_i(n,d.top,d.bottom))}function iD(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function oD(t,e){t.rect(e.x,e.y,e.w,e.h)}function pc(t,e,n={}){const i=t.x!==n.x?-e:0,o=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,a=(t.y+t.h!==n.y+n.h?e:0)-o;return{x:t.x+i,y:t.y+o,w:t.w+r,h:t.h+a,radius:t.radius}}class Co extends Tn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:o}}=this,{inner:r,outer:a}=nD(this),d=iD(a.radius)?Bl:oD;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),d(e,pc(a,n,r)),e.clip(),d(e,pc(r,-n,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),d(e,pc(r,n)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,n,i){return hc(this,e,n,i)}inXRange(e,n){return hc(this,e,null,n)}inYRange(e,n){return hc(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+o)/2:n,y:r?i:(i+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ce(Co,"id","bar"),ce(Co,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ce(Co,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Qg=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},sD=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Zg extends Tn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Be(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,o=mt(i.font),r=o.size,a=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=Qg(i,r);let p,g;n.font=o.string,this.isHorizontal()?(p=this.maxWidth,g=this._fitRows(a,r,d,h)+10):(g=this.maxHeight,p=this._fitCols(a,o,d,h)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,o){const{ctx:r,maxWidth:a,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],g=o+d;let v=e;r.textAlign="left",r.textBaseline="middle";let C=-1,T=-g;return this.legendItems.forEach((w,E)=>{const M=i+n/2+r.measureText(w.text).width;(E===0||p[p.length-1]+M+2*d>a)&&(v+=g,p[p.length-(E>0?0:1)]=0,T+=g,C++),h[E]={left:0,top:T,row:C,width:M,height:o},p[p.length-1]+=M+d}),v}_fitCols(e,n,i,o){const{ctx:r,maxHeight:a,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],g=a-e;let v=d,C=0,T=0,w=0,E=0;return this.legendItems.forEach((M,b)=>{const{itemWidth:P,itemHeight:R}=rD(i,n,r,M,o);b>0&&T+R+2*d>g&&(v+=C+d,p.push({width:C,height:T}),w+=C+d,E++,C=T=0),h[b]={left:w,top:T,col:E,width:P,height:R},C=Math.max(C,P),T+=R+d}),v+=C,p.push({width:C,height:T}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:o},rtl:r}}=this,a=vo(r,this.left,this.width);if(this.isHorizontal()){let d=0,h=ht(i,this.left+o,this.right-this.lineWidths[d]);for(const p of n)d!==p.row&&(d=p.row,h=ht(i,this.left+o,this.right-this.lineWidths[d])),p.top+=this.top+e+o,p.left=a.leftForLtr(a.x(h),p.width),h+=p.width+o}else{let d=0,h=ht(i,this.top+e+o,this.bottom-this.columnSizes[d].height);for(const p of n)p.col!==d&&(d=p.col,h=ht(i,this.top+e+o,this.bottom-this.columnSizes[d].height)),p.top=h,p.left+=this.left+o,p.left=a.leftForLtr(a.x(p.left),p.width),h+=p.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;dd(e,this),this._draw(),fd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:o}=this,{align:r,labels:a}=e,d=Ye.color,h=vo(e.rtl,this.left,this.width),p=mt(a.font),{padding:g}=a,v=p.size,C=v/2;let T;this.drawTitle(),o.textAlign=h.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=p.string;const{boxWidth:w,boxHeight:E,itemHeight:M}=Qg(a,v),b=function(H,O,J){if(isNaN(w)||w<=0||isNaN(E)||E<0)return;o.save();const W=ke(J.lineWidth,1);if(o.fillStyle=ke(J.fillStyle,d),o.lineCap=ke(J.lineCap,"butt"),o.lineDashOffset=ke(J.lineDashOffset,0),o.lineJoin=ke(J.lineJoin,"miter"),o.lineWidth=W,o.strokeStyle=ke(J.strokeStyle,d),o.setLineDash(ke(J.lineDash,[])),a.usePointStyle){const Q={radius:E*Math.SQRT2/2,pointStyle:J.pointStyle,rotation:J.rotation,borderWidth:W},X=h.xPlus(H,w/2),le=O+C;Fv(o,Q,X,le,a.pointStyleWidth&&w)}else{const Q=O+Math.max((v-E)/2,0),X=h.leftForLtr(H,w),le=yo(J.borderRadius);o.beginPath(),Object.values(le).some(Te=>Te!==0)?Bl(o,{x:X,y:Q,w,h:E,radius:le}):o.rect(X,Q,w,E),o.fill(),W!==0&&o.stroke()}o.restore()},P=function(H,O,J){Bs(o,J.text,H,O+M/2,p,{strikethrough:J.hidden,textAlign:h.textAlign(J.textAlign)})},R=this.isHorizontal(),D=this._computeTitleHeight();R?T={x:ht(r,this.left+g,this.right-i[0]),y:this.top+g+D,line:0}:T={x:this.left+g,y:ht(r,this.top+D+g,this.bottom-n[0].height),line:0},qv(this.ctx,e.textDirection);const L=M+g;this.legendItems.forEach((H,O)=>{o.strokeStyle=H.fontColor,o.fillStyle=H.fontColor;const J=o.measureText(H.text).width,W=h.textAlign(H.textAlign||(H.textAlign=a.textAlign)),Q=w+C+J;let X=T.x,le=T.y;h.setWidth(this.width),R?O>0&&X+Q+g>this.right&&(le=T.y+=L,T.line++,X=T.x=ht(r,this.left+g,this.right-i[T.line])):O>0&&le+L>this.bottom&&(X=T.x=X+n[T.line].width+g,T.line++,le=T.y=ht(r,this.top+D+g,this.bottom-n[T.line].height));const Te=h.x(X);if(b(Te,le,H),X=PP(W,X+w+C,R?X+Q:this.right,e.rtl),P(h.x(X),le,H),R)T.x+=Q+g;else if(typeof H.text!="string"){const Ae=p.lineHeight;T.y+=ox(H,Ae)+g}else T.y+=L}),$v(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=mt(n.font),o=qt(n.padding);if(!n.display)return;const r=vo(e.rtl,this.left,this.width),a=this.ctx,d=n.position,h=i.size/2,p=o.top+h;let g,v=this.left,C=this.width;if(this.isHorizontal())C=Math.max(...this.lineWidths),g=this.top+p,v=ht(e.align,v,this.right-C);else{const w=this.columnSizes.reduce((E,M)=>Math.max(E,M.height),0);g=p+ht(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const T=ht(d,v,v+C);a.textAlign=r.textAlign(ud(d)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,Bs(a,n.text,T,g,i)}_computeTitleHeight(){const e=this.options.title,n=mt(e.font),i=qt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,o,r;if(_i(e,this.left,this.right)&&_i(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(o=r[i],_i(e,o.left,o.left+o.width)&&_i(n,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!uD(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,r=sD(o,i);o&&!r&&Be(n.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!r&&Be(n.onHover,[e,i,this],this)}else i&&Be(n.onClick,[e,i,this],this)}}function rD(t,e,n,i,o){const r=lD(i,t,e,n),a=aD(o,i,e.lineHeight);return{itemWidth:r,itemHeight:a}}function lD(t,e,n,i){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((r,a)=>r.length>a.length?r:a)),e+n.size/2+i.measureText(o).width}function aD(t,e,n){let i=t;return typeof e.text!="string"&&(i=ox(e,n)),i}function ox(t,e){const n=t.text?t.text.length:0;return e*n}function uD(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Cd={id:"legend",_element:Zg,start(t,e,n){const i=t.legend=new Zg({ctx:t.ctx,options:n,chart:t});Ht.configure(t,i,n),Ht.addBox(t,i)},stop(t){Ht.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Ht.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,o=n.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:o,color:r,useBorderRadius:a,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(n?0:void 0),g=qt(p.borderWidth);return{text:e[h.index].label,fillStyle:p.backgroundColor,fontColor:r,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:o||p.textAlign,borderRadius:a&&(d||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class sx extends Tn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const o=tt(i.text)?i.text.length:1;this._padding=qt(i.padding);const r=o*mt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:o,right:r,options:a}=this,d=a.align;let h=0,p,g,v;return this.isHorizontal()?(g=ht(d,i,r),v=n+e,p=r-i):(a.position==="left"?(g=i+e,v=ht(d,o,n),h=Qe*-.5):(g=r-e,v=ht(d,n,o),h=Qe*.5),p=o-n),{titleX:g,titleY:v,maxWidth:p,rotation:h}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=mt(n.font),r=i.lineHeight/2+this._padding.top,{titleX:a,titleY:d,maxWidth:h,rotation:p}=this._drawArgs(r);Bs(e,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:p,textAlign:ud(n.align),textBaseline:"middle",translation:[a,d]})}}function cD(t,e){const n=new sx({ctx:t.ctx,options:e,chart:t});Ht.configure(t,n,e),Ht.addBox(t,n),t.titleBlock=n}var _d={id:"title",_element:sx,start(t,e,n){cD(t,n)},stop(t){const e=t.titleBlock;Ht.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Ht.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bs={average(t){if(!t.length)return!1;let e,n,i=new Set,o=0,r=0;for(e=0,n=t.length;e<n;++e){const d=t[e].element;if(d&&d.hasValue()){const h=d.tooltipPosition();i.add(h.x),o+=h.y,++r}}return{x:[...i].reduce((d,h)=>d+h)/i.size,y:o/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,o=Number.POSITIVE_INFINITY,r,a,d;for(r=0,a=t.length;r<a;++r){const h=t[r].element;if(h&&h.hasValue()){const p=h.getCenterPoint(),g=EP(e,p);g<o&&(o=g,d=h)}}if(d){const h=d.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function on(t,e){return e&&(tt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function xn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function dD(t,e){const{element:n,datasetIndex:i,index:o}=e,r=t.getDatasetMeta(i).controller,{label:a,value:d}=r.getLabelAndValue(o);return{chart:t,label:a,parsed:r.getParsed(o),raw:t.data.datasets[i].data[o],formattedValue:d,dataset:r.getDataset(),dataIndex:o,datasetIndex:i,element:n}}function ey(t,e){const n=t.chart.ctx,{body:i,footer:o,title:r}=t,{boxWidth:a,boxHeight:d}=e,h=mt(e.bodyFont),p=mt(e.titleFont),g=mt(e.footerFont),v=r.length,C=o.length,T=i.length,w=qt(e.padding);let E=w.height,M=0,b=i.reduce((D,L)=>D+L.before.length+L.lines.length+L.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,v&&(E+=v*p.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),b){const D=e.displayColors?Math.max(d,h.lineHeight):h.lineHeight;E+=T*D+(b-T)*h.lineHeight+(b-1)*e.bodySpacing}C&&(E+=e.footerMarginTop+C*g.lineHeight+(C-1)*e.footerSpacing);let P=0;const R=function(D){M=Math.max(M,n.measureText(D).width+P)};return n.save(),n.font=p.string,Pe(t.title,R),n.font=h.string,Pe(t.beforeBody.concat(t.afterBody),R),P=e.displayColors?a+2+e.boxPadding:0,Pe(i,D=>{Pe(D.before,R),Pe(D.lines,R),Pe(D.after,R)}),P=0,n.font=g.string,Pe(t.footer,R),n.restore(),M+=w.width,{width:M,height:E}}function fD(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function hD(t,e,n,i){const{x:o,width:r}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&o+r+a>e.width||t==="right"&&o-r-a<0)return!0}function pD(t,e,n,i){const{x:o,width:r}=n,{width:a,chartArea:{left:d,right:h}}=t;let p="center";return i==="center"?p=o<=(d+h)/2?"left":"right":o<=r/2?p="left":o>=a-r/2&&(p="right"),hD(p,t,e,n)&&(p="center"),p}function ty(t,e,n){const i=n.yAlign||e.yAlign||fD(t,n);return{xAlign:n.xAlign||e.xAlign||pD(t,e,n,i),yAlign:i}}function mD(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function gD(t,e,n){let{y:i,height:o}=t;return e==="top"?i+=n:e==="bottom"?i-=o+n:i-=o/2,i}function ny(t,e,n,i){const{caretSize:o,caretPadding:r,cornerRadius:a}=t,{xAlign:d,yAlign:h}=n,p=o+r,{topLeft:g,topRight:v,bottomLeft:C,bottomRight:T}=yo(a);let w=mD(e,d);const E=gD(e,h,p);return h==="center"?d==="left"?w+=p:d==="right"&&(w-=p):d==="left"?w-=Math.max(g,C)+o:d==="right"&&(w+=Math.max(v,T)+o),{x:Mt(w,0,i.width-e.width),y:Mt(E,0,i.height-e.height)}}function Cl(t,e,n){const i=qt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function iy(t){return on([],xn(t))}function yD(t,e,n){return bo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function oy(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const rx={beforeTitle:yn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:yn,beforeBody:yn,beforeLabel:yn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return He(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:yn,afterBody:yn,beforeFooter:yn,footer:yn,afterFooter:yn};function wt(t,e,n,i){const o=t[e].call(n,i);return typeof o>"u"?rx[e].call(n,i):o}class qc extends Tn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&n.options.animation&&i.animations,r=new Gv(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=yD(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,o=wt(i,"beforeTitle",this,e),r=wt(i,"title",this,e),a=wt(i,"afterTitle",this,e);let d=[];return d=on(d,xn(o)),d=on(d,xn(r)),d=on(d,xn(a)),d}getBeforeBody(e,n){return iy(wt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,o=[];return Pe(e,r=>{const a={before:[],lines:[],after:[]},d=oy(i,r);on(a.before,xn(wt(d,"beforeLabel",this,r))),on(a.lines,wt(d,"label",this,r)),on(a.after,xn(wt(d,"afterLabel",this,r))),o.push(a)}),o}getAfterBody(e,n){return iy(wt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,o=wt(i,"beforeFooter",this,e),r=wt(i,"footer",this,e),a=wt(i,"afterFooter",this,e);let d=[];return d=on(d,xn(o)),d=on(d,xn(r)),d=on(d,xn(a)),d}_createItems(e){const n=this._active,i=this.chart.data,o=[],r=[],a=[];let d=[],h,p;for(h=0,p=n.length;h<p;++h)d.push(dD(this.chart,n[h]));return e.filter&&(d=d.filter((g,v,C)=>e.filter(g,v,C,i))),e.itemSort&&(d=d.sort((g,v)=>e.itemSort(g,v,i))),Pe(d,g=>{const v=oy(e.callbacks,g);o.push(wt(v,"labelColor",this,g)),r.push(wt(v,"labelPointStyle",this,g)),a.push(wt(v,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=d,d}update(e,n){const i=this.options.setContext(this.getContext()),o=this._active;let r,a=[];if(!o.length)this.opacity!==0&&(r={opacity:0});else{const d=bs[i.position].call(this,o,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const h=this._size=ey(this,i),p=Object.assign({},d,h),g=ty(this.chart,i,p),v=ny(i,p,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,r={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,o){const r=this.getCaretPosition(e,i,o);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:o,yAlign:r}=this,{caretSize:a,cornerRadius:d}=i,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:v}=yo(d),{x:C,y:T}=e,{width:w,height:E}=n;let M,b,P,R,D,L;return r==="center"?(D=T+E/2,o==="left"?(M=C,b=M-a,R=D+a,L=D-a):(M=C+w,b=M+a,R=D-a,L=D+a),P=M):(o==="left"?b=C+Math.max(h,g)+a:o==="right"?b=C+w-Math.max(p,v)-a:b=this.caretX,r==="top"?(R=T,D=R-a,M=b-a,P=b+a):(R=T+E,D=R+a,M=b+a,P=b-a),L=R),{x1:M,x2:b,x3:P,y1:R,y2:D,y3:L}}drawTitle(e,n,i){const o=this.title,r=o.length;let a,d,h;if(r){const p=vo(i.rtl,this.x,this.width);for(e.x=Cl(this,i.titleAlign,i),n.textAlign=p.textAlign(i.titleAlign),n.textBaseline="middle",a=mt(i.titleFont),d=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,h=0;h<r;++h)n.fillText(o[h],p.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+d,h+1===r&&(e.y+=i.titleMarginBottom-d)}}_drawColorBox(e,n,i,o,r){const a=this.labelColors[i],d=this.labelPointStyles[i],{boxHeight:h,boxWidth:p}=r,g=mt(r.bodyFont),v=Cl(this,"left",r),C=o.x(v),T=h<g.lineHeight?(g.lineHeight-h)/2:0,w=n.y+T;if(r.usePointStyle){const E={radius:Math.min(p,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},M=o.leftForLtr(C,p)+p/2,b=w+h/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,vg(e,E,M,b),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,vg(e,E,M,b)}else{e.lineWidth=Ee(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const E=o.leftForLtr(C,p),M=o.leftForLtr(o.xPlus(C,1),p-2),b=yo(a.borderRadius);Object.values(b).some(P=>P!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Bl(e,{x:E,y:w,w:p,h,radius:b}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Bl(e,{x:M,y:w+1,w:p-2,h:h-2,radius:b}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(E,w,p,h),e.strokeRect(E,w,p,h),e.fillStyle=a.backgroundColor,e.fillRect(M,w+1,p-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:o}=this,{bodySpacing:r,bodyAlign:a,displayColors:d,boxHeight:h,boxWidth:p,boxPadding:g}=i,v=mt(i.bodyFont);let C=v.lineHeight,T=0;const w=vo(i.rtl,this.x,this.width),E=function(J){n.fillText(J,w.x(e.x+T),e.y+C/2),e.y+=C+r},M=w.textAlign(a);let b,P,R,D,L,H,O;for(n.textAlign=a,n.textBaseline="middle",n.font=v.string,e.x=Cl(this,M,i),n.fillStyle=i.bodyColor,Pe(this.beforeBody,E),T=d&&M!=="right"?a==="center"?p/2+g:p+2+g:0,D=0,H=o.length;D<H;++D){for(b=o[D],P=this.labelTextColors[D],n.fillStyle=P,Pe(b.before,E),R=b.lines,d&&R.length&&(this._drawColorBox(n,e,D,w,i),C=Math.max(v.lineHeight,h)),L=0,O=R.length;L<O;++L)E(R[L]),C=v.lineHeight;Pe(b.after,E)}T=0,C=v.lineHeight,Pe(this.afterBody,E),e.y-=r}drawFooter(e,n,i){const o=this.footer,r=o.length;let a,d;if(r){const h=vo(i.rtl,this.x,this.width);for(e.x=Cl(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",a=mt(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,d=0;d<r;++d)n.fillText(o[d],h.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,o){const{xAlign:r,yAlign:a}=this,{x:d,y:h}=e,{width:p,height:g}=i,{topLeft:v,topRight:C,bottomLeft:T,bottomRight:w}=yo(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(d+v,h),a==="top"&&this.drawCaret(e,n,i,o),n.lineTo(d+p-C,h),n.quadraticCurveTo(d+p,h,d+p,h+C),a==="center"&&r==="right"&&this.drawCaret(e,n,i,o),n.lineTo(d+p,h+g-w),n.quadraticCurveTo(d+p,h+g,d+p-w,h+g),a==="bottom"&&this.drawCaret(e,n,i,o),n.lineTo(d+T,h+g),n.quadraticCurveTo(d,h+g,d,h+g-T),a==="center"&&r==="left"&&this.drawCaret(e,n,i,o),n.lineTo(d,h+v),n.quadraticCurveTo(d,h,d+v,h),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,o=i&&i.x,r=i&&i.y;if(o||r){const a=bs[e.position].call(this,this._active,this._eventPosition);if(!a)return;const d=this._size=ey(this,e),h=Object.assign({},a,this._size),p=ty(n,e,h),g=ny(e,h,p,n);(o._to!==g.x||r._to!==g.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=d.width,this.height=d.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=qt(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,o,n),qv(e,n.textDirection),r.y+=a.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),$v(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,o=e.map(({datasetIndex:d,index:h})=>{const p=this.chart.getDatasetMeta(d);if(!p)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:p.data[h],index:h}}),r=!Dl(i,o),a=this._positionChanged(o,n);(r||a)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,r=this._active||[],a=this._getActiveElements(e,r,n,i),d=this._positionChanged(a,e),h=n||!Dl(a,r)||d;return h&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),h}_getActiveElements(e,n,i,o){const r=this.options;if(e.type==="mouseout")return[];if(!o)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:o,options:r}=this,a=bs[r.position].call(this,e,n);return a!==!1&&(i!==a.x||o!==a.y)}}ce(qc,"positioners",bs);var Td={id:"tooltip",_element:qc,positioners:bs,afterInit(t,e,n){n&&(t.tooltip=new qc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const vD=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function xD(t,e,n,i){const o=t.indexOf(e);if(o===-1)return vD(t,e,n,i);const r=t.lastIndexOf(e);return o!==r?n:o}const CD=(t,e)=>t===null?null:Mt(Math.round(t),0,e);function sy(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class zs extends Io{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:o,label:r}of n)i[o]===r&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(He(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:xD(i,e,ke(n,e),this._addedLabels),CD(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,o=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)o.push({value:a});return o}getLabelForValue(e){return sy.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ce(zs,"id","category"),ce(zs,"defaults",{ticks:{callback:sy}});function _D(t,e){const n=[],{bounds:o,step:r,min:a,max:d,precision:h,count:p,maxTicks:g,maxDigits:v,includeBounds:C}=t,T=r||1,w=g-1,{min:E,max:M}=e,b=!He(a),P=!He(d),R=!He(p),D=(M-E)/(v+1);let L=ug((M-E)/w/T)*T,H,O,J,W;if(L<1e-14&&!b&&!P)return[{value:E},{value:M}];W=Math.ceil(M/L)-Math.floor(E/L),W>w&&(L=ug(W*L/w/T)*T),He(h)||(H=Math.pow(10,h),L=Math.ceil(L*H)/H),o==="ticks"?(O=Math.floor(E/L)*L,J=Math.ceil(M/L)*L):(O=E,J=M),b&&P&&r&&TP((d-a)/r,L/1e3)?(W=Math.round(Math.min((d-a)/L,g)),L=(d-a)/W,O=a,J=d):R?(O=b?a:O,J=P?d:J,W=p-1,L=(J-O)/W):(W=(J-O)/L,El(W,Math.round(W),L/1e3)?W=Math.round(W):W=Math.ceil(W));const Q=Math.max(cg(L),cg(O));H=Math.pow(10,He(h)?Q:h),O=Math.round(O*H)/H,J=Math.round(J*H)/H;let X=0;for(b&&(C&&O!==a?(n.push({value:a}),O<a&&X++,El(Math.round((O+X*L)*H)/H,a,ry(a,D,t))&&X++):O<a&&X++);X<W;++X){const le=Math.round((O+X*L)*H)/H;if(P&&le>d)break;n.push({value:le})}return P&&C&&J!==d?n.length&&El(n[n.length-1].value,d,ry(d,D,t))?n[n.length-1].value=d:n.push({value:d}):(!P||J===d)&&n.push({value:J}),n}function ry(t,e,{horizontal:n,minRotation:i}){const o=_n(i),r=(n?Math.sin(o):Math.cos(o))||.001,a=.75*e*(""+t).length;return Math.min(e/r,a)}class TD extends Io{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return He(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:o,max:r}=this;const a=h=>o=n?o:h,d=h=>r=i?r:h;if(e){const h=Xn(o),p=Xn(r);h<0&&p<0?d(0):h>0&&p>0&&a(0)}if(o===r){let h=r===0?1:Math.abs(r*.05);d(r+h),e||a(o-h)}this.min=o,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,a=_D(o,r);return e.bounds==="ticks"&&SP(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const o=(i-n)/Math.max(e.length-1,1)/2;n-=o,i+=o}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return cd(e,this.chart.options.locale,this.options.ticks.format)}}class Os extends TD{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ot(e)?e:0,this.max=Ot(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=_n(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ce(Os,"id","linear"),ce(Os,"defaults",{ticks:{callback:Lv.formatters.numeric}});const ta={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Et=Object.keys(ta);function ly(t,e){return t-e}function ay(t,e){if(He(e))return null;const n=t._adapter,{parser:i,round:o,isoWeekday:r}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),Ot(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(o&&(a=o==="week"&&(Ul(r)||r===!0)?n.startOf(a,"isoWeek",r):n.startOf(a,o)),+a)}function uy(t,e,n,i){const o=Et.length;for(let r=Et.indexOf(t);r<o-1;++r){const a=ta[Et[r]],d=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(d*a.size))<=i)return Et[r]}return Et[o-1]}function SD(t,e,n,i,o){for(let r=Et.length-1;r>=Et.indexOf(n);r--){const a=Et[r];if(ta[a].common&&t._adapter.diff(o,i,a)>=e-1)return a}return Et[n?Et.indexOf(n):0]}function wD(t){for(let e=Et.indexOf(t)+1,n=Et.length;e<n;++e)if(ta[Et[e]].common)return Et[e]}function cy(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:o}=ad(n,e),r=n[i]>=e?n[i]:n[o];t[r]=!0}}function ED(t,e,n,i){const o=t._adapter,r=+o.startOf(e[0].value,i),a=e[e.length-1].value;let d,h;for(d=r;d<=a;d=+o.add(d,1,i))h=n[d],h>=0&&(e[h].major=!0);return e}function dy(t,e,n){const i=[],o={},r=e.length;let a,d;for(a=0;a<r;++a)d=e[a],o[d]=a,i.push({value:d,major:!1});return r===0||!n?i:ED(t,i,o,n)}class ql extends Io{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),o=this._adapter=new BA._date(e.adapters.date);o.init(n),Ps(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:ay(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:o,max:r,minDefined:a,maxDefined:d}=this.getUserBounds();function h(p){!a&&!isNaN(p.min)&&(o=Math.min(o,p.min)),!d&&!isNaN(p.max)&&(r=Math.max(r,p.max))}(!a||!d)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),o=Ot(o)&&!isNaN(o)?o:+n.startOf(Date.now(),i),r=Ot(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(o,r-1),this.max=Math.max(o+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const r=this.min,a=this.max,d=NP(o,r,a);return this._unit=n.unit||(i.autoSkip?uy(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):SD(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:wD(this._unit),this.initOffsets(o),e.reverse&&d.reverse(),dy(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,o,r;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Mt(n,0,a),i=Mt(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,o=this.options,r=o.time,a=r.unit||uy(r.minUnit,n,i,this._getLabelCapacity(n)),d=ke(o.ticks.stepSize,1),h=a==="week"?r.isoWeekday:!1,p=Ul(h)||h===!0,g={};let v=n,C,T;if(p&&(v=+e.startOf(v,"isoWeek",h)),v=+e.startOf(v,p?"day":a),e.diff(i,n,a)>1e5*d)throw new Error(n+" and "+i+" are too far apart with stepSize of "+d+" "+a);const w=o.ticks.source==="data"&&this.getDataTimestamps();for(C=v,T=0;C<i;C=+e.add(C,d,a),T++)cy(g,C,w);return(C===i||o.bounds==="ticks"||T===1)&&cy(g,C,w),Object.keys(g).sort(ly).map(E=>+E)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const o=this.options.time.displayFormats,r=this._unit,a=n||o[r];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,o){const r=this.options,a=r.ticks.callback;if(a)return Be(a,[e,n,i],this);const d=r.time.displayFormats,h=this._unit,p=this._majorUnit,g=h&&d[h],v=p&&d[p],C=i[n],T=p&&v&&C&&C.major;return this._adapter.format(e,o||(T?v:g))}generateTickLabels(e){let n,i,o;for(n=0,i=e.length;n<i;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,o=_n(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(o),a=Math.sin(o),d=this._resolveTickFontOptions(0).size;return{w:i*r+d*a,h:i*a+d*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,o=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,dy(this,[e],this._majorUnit),o),a=this._getLabelSize(r),d=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,i=o.length;n<i;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const o=this.getLabels();for(n=0,i=o.length;n<i;++n)e.push(ay(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Pv(e.sort(ly))}}ce(ql,"id","time"),ce(ql,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function _l(t,e,n){let i=0,o=t.length-1,r,a,d,h;n?(e>=t[i].pos&&e<=t[o].pos&&({lo:i,hi:o}=Vc(t,"pos",e)),{pos:r,time:d}=t[i],{pos:a,time:h}=t[o]):(e>=t[i].time&&e<=t[o].time&&({lo:i,hi:o}=Vc(t,"time",e)),{time:r,pos:d}=t[i],{time:a,pos:h}=t[o]);const p=a-r;return p?d+(h-d)*(e-r)/p:d}class fy extends ql{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=_l(n,this.min),this._tableRange=_l(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,o=[],r=[];let a,d,h,p,g;for(a=0,d=e.length;a<d;++a)p=e[a],p>=n&&p<=i&&o.push(p);if(o.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,d=o.length;a<d;++a)g=o[a+1],h=o[a-1],p=o[a],Math.round((g+h)/2)!==p&&r.push({time:p,pos:a/(d-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((o,r)=>o-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(_l(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return _l(this._table,i*this._tableRange+this._minPos,!0)}}ce(fy,"id","timeseries"),ce(fy,"defaults",ql.defaults);const lx="label";function hy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function MD(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function ax(t,e){t.labels=e}function ux(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lx;const i=[];t.datasets=e.map(o=>{const r=t.datasets.find(a=>a[n]===o[n]);return!r||!o.data||i.includes(r)?{...o}:(i.push(r),Object.assign(r,o),r)})}function kD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lx;const n={labels:[],datasets:[]};return ax(n,t.labels),ux(n,t.datasets,e),n}function ND(t,e){const{height:n=150,width:i=300,redraw:o=!1,datasetIdKey:r,type:a,data:d,options:h,plugins:p=[],fallbackContent:g,updateMode:v,...C}=t,T=N.useRef(null),w=N.useRef(),E=()=>{T.current&&(w.current=new Po(T.current,{type:a,data:kD(d,r),options:h&&{...h},plugins:p}),hy(e,w.current))},M=()=>{hy(e,null),w.current&&(w.current.destroy(),w.current=null)};return N.useEffect(()=>{!o&&w.current&&h&&MD(w.current,h)},[o,h]),N.useEffect(()=>{!o&&w.current&&ax(w.current.config.data,d.labels)},[o,d.labels]),N.useEffect(()=>{!o&&w.current&&d.datasets&&ux(w.current.config.data,d.datasets,r)},[o,d.datasets]),N.useEffect(()=>{w.current&&(o?(M(),setTimeout(E)):w.current.update(v))},[o,h,d.labels,d.datasets,v]),N.useEffect(()=>{w.current&&(M(),setTimeout(E))},[a]),N.useEffect(()=>(E(),()=>M()),[]),qs.createElement("canvas",Object.assign({ref:T,role:"img",height:n,width:i},C),g)}const bD=N.forwardRef(ND);function Sd(t,e){return Po.register(e),N.forwardRef((n,i)=>qs.createElement(bD,Object.assign({},n,{ref:i,type:t})))}const Ti=Sd("bar",Ml),wd=Sd("doughnut",fo),cx=Sd("pie",Hc),mc=({title:t,chartType:e,data:n,className:i})=>{const o=e==="pie"?cx:wd,r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{boxWidth:12,padding:15,font:{size:12}}}}};return y.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border border-slate-200/80 ${i}`,children:[y.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-4",children:t}),y.jsx("div",{className:"h-64",children:y.jsx(o,{data:n,options:r})})]})};Po.register(zs,Os,Co,_d,Td,Cd,ho);const At={blue:"#3b82f6",pink:"#ec4899",gray:"#6b7280",teal:"#14b8a6",green:"#22c55e",yellow:"#eab308",orange:"#f97316",red:"#ef4444",purple:"#8b5cf6",indigo:"#6366f1",cyan:"#06b6d4",lime:"#a3e635"},ID=["#3b82f6","#ec4899","#6b7280","#14b8a6","#22c55e","#eab308","#f97316","#ef4444","#8b5cf6","#6366f1","#06b6d4","#a3e635"],PD=ID.map(t=>`${t}B3`),AD=()=>{const[t,e]=N.useState(null),[n,i]=N.useState(!0);if(N.useEffect(()=>{ve.getFullAdminDashboardData().then(M=>{e(M),i(!1)}).catch(M=>{console.error("Failed to load dashboard data:",M),i(!1)})},[]),n)return y.jsx("p",{className:"text-center text-slate-500 mt-10",children:"Carregando dashboard aprimorado..."});if(!t||!t.analytics)return y.jsx("p",{className:"text-center text-red-500 mt-10",children:"Falha ao carregar os dados do dashboard."});const{analytics:o,totalTourists:r,totalRoutes:a,totalCheckIns:d,totalHotelCheckIns:h,botUsage:p}=t,g={demographics:(o==null?void 0:o.demographics)||{byGender:{Masculino:0,Feminino:0,Outro:0},ageRanges:{"18-25":0,"26-35":0,"36-45":0,"46-60":0,"60+":0},byNationality:{Brasil:0,Argentina:0,Uruguai:0}},travelBehavior:(o==null?void 0:o.travelBehavior)||{byReason:{Turismo:0,Negócios:0,Família:0}}},v=p||{totalInteractions:0,satisfaction:0,commonQuestions:[]},C={labels:Object.keys(g.demographics.byGender),datasets:[{data:Object.values(g.demographics.byGender),backgroundColor:[At.blue,At.pink,At.gray]}]},T={labels:Object.keys(g.demographics.ageRanges),datasets:[{data:Object.values(g.demographics.ageRanges),backgroundColor:[At.teal,At.green,At.yellow,At.orange,At.red]}]},w={labels:Object.keys(g.demographics.byNationality),datasets:[{label:"Visitantes por Origem",data:Object.values(g.demographics.byNationality),backgroundColor:At.purple}]},E={labels:Object.keys(g.travelBehavior.byReason),datasets:[{data:Object.values(g.travelBehavior.byReason),backgroundColor:[At.indigo,At.cyan,At.lime]}]};return y.jsxs("div",{className:"space-y-6 pb-10",children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Dashboard da Secretaria"}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-5",children:[y.jsx(oo,{icon:Si,title:"Turistas (App)",value:r||0,color:"#3b82f6"}),y.jsx(oo,{icon:Uy,title:"Check-ins (Hoteis)",value:h||0,color:"#10b981"}),y.jsx(oo,{icon:Sc,title:"Check-ins (POIs)",value:d||0,color:"#f97316"}),y.jsx(oo,{icon:ei,title:"Rotas Criadas",value:a||0,color:"#8b5cf6"}),y.jsx(oo,{icon:Yc,title:"Interações (Bot)",value:v.totalInteractions,color:"#14b8a6"}),y.jsx(oo,{icon:Fy,title:"Satisfação (Bot)",value:v.satisfaction,color:"#6366f1"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsx(mc,{title:"Gênero",chartType:"pie",data:C}),y.jsx(mc,{title:"Faixa Etária",chartType:"doughnut",data:T}),y.jsx(mc,{title:"Motivo da Viagem",chartType:"pie",data:E})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[y.jsxs("div",{className:"lg:col-span-3 bg-white p-6 rounded-xl shadow-sm border border-slate-200/80",children:[y.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-4",children:"Origem dos Visitantes"}),y.jsx("div",{className:"h-80",children:y.jsx(Ti,{data:w,options:{maintainAspectRatio:!1,indexAxis:"y"}})})]}),y.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-slate-200/80",children:[y.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-4",children:"Perguntas Frequentes (Bot)"}),y.jsxs("ul",{className:"space-y-3 text-slate-600",children:[v.commonQuestions.map((M,b)=>y.jsxs("li",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{children:M.question||"Pergunta não disponível"}),y.jsx("span",{className:"font-bold text-slate-800 bg-slate-100 px-2 py-1 rounded-md",children:M.count||0})]},M.question||b)),v.commonQuestions.length===0&&y.jsx("li",{className:"text-center text-slate-400 py-4",children:"Nenhuma pergunta registrada"})]})]})]})]})},RD=()=>{const[t,e]=N.useState([]),[n,i]=N.useState(!0),o=N.useCallback(()=>{i(!0),ve.getRoutes().then(a=>{e(a),i(!1)})},[]);N.useEffect(()=>{o()},[o]);const r=async(a,d)=>{window.confirm(`Tem certeza que deseja excluir a rota "${d}"?`)&&(await ve.deleteRoute(a),o())};return n?y.jsx("p",{children:"Carregando rotas..."}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Gerenciar Rotas"}),y.jsxs(Ei,{to:"/admin/routes/new",className:"bg-brand-green text-white font-bold py-2.5 px-5 rounded-lg flex items-center gap-2 hover:bg-brand-dark-green transition-colors shadow-sm",children:[y.jsx(Kc,{size:20}),y.jsx("span",{children:"Nova Rota"})]})]}),y.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200/80",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"border-b border-slate-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Nome da Rota"}),y.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Descrição"}),y.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600 text-center",children:"Paradas"}),y.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600 text-center",children:"Ações"})]})}),y.jsx("tbody",{children:t.map(a=>y.jsxs("tr",{className:"border-b border-slate-200/80 hover:bg-slate-50",children:[y.jsx("td",{className:"p-4 font-medium text-slate-800",children:a.name}),y.jsx("td",{className:"p-4 text-sm text-slate-600 max-w-sm",children:a.description}),y.jsx("td",{className:"p-4 text-center",children:y.jsxs("div",{className:"inline-flex items-center gap-2 bg-slate-100 px-3 py-1 rounded-full text-sm font-medium text-slate-700",children:[y.jsx(ei,{size:16}),a.pointsOfInterest.length]})}),y.jsx("td",{className:"p-4",children:y.jsxs("div",{className:"flex justify-center gap-2",children:[y.jsx(Ei,{to:`/admin/routes/edit/${a.id}`,className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full transition-colors",children:y.jsx(Yl,{size:18})}),y.jsx("button",{onClick:()=>r(a.id,a.name),className:"p-2 text-slate-500 hover:text-brand-red hover:bg-red-100 rounded-full transition-colors",children:y.jsx(Xc,{size:18})})]})})]},a.id))})]})})]})},py=()=>{const{routeId:t}=Jc(),e=Zn(),n=!!t,[i,o]=N.useState(""),[r,a]=N.useState(""),[d,h]=N.useState(""),[p,g]=N.useState(new Set),[v,C]=N.useState([]),[T,w]=N.useState(!0),[E,M]=N.useState(!1);N.useEffect(()=>{(async()=>{w(!0);const D=await ve.getPointsOfInterest();if(C(D),n){const L=await ve.getRouteById(t);L&&(o(L.name),a(L.description),h(L.imageUrl||""),g(new Set(L.pointsOfInterest)))}w(!1)})()},[t,n]);const b=R=>{const D=new Set(p);D.has(R)?D.delete(R):D.add(R),g(D)},P=async R=>{R.preventDefault(),M(!0);const D={name:i,description:r,imageUrl:d,pointsOfInterest:Array.from(p)};n?await ve.updateRoute(t,D):await ve.createRoute(D),M(!1),e("/admin/routes")};return T?y.jsx("p",{children:"Carregando editor..."}):y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold mb-6 text-brand-dark-green",children:n?"Editar Rota":"Criar Nova Rota"}),y.jsxs("form",{onSubmit:P,className:"bg-white p-8 rounded-lg shadow-md space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome da Rota"}),y.jsx("input",{type:"text",id:"name",value:i,onChange:R=>o(R.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descrição"}),y.jsx("textarea",{id:"description",value:r,onChange:R=>a(R.target.value),required:!0,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700",children:"URL da Imagem da Rota"}),y.jsx("input",{type:"text",id:"imageUrl",value:d,onChange:R=>h(R.target.value),placeholder:"Deixe em branco para usar a imagem do primeiro ponto",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green"})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Pontos Turísticos"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto p-4 border rounded-lg",children:v.map(R=>y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:`poi-${R.id}`,checked:p.has(R.id),onChange:()=>b(R.id),className:"h-4 w-4 text-brand-green border-gray-300 rounded focus:ring-brand-green"}),y.jsx("label",{htmlFor:`poi-${R.id}`,className:"ml-3 text-sm text-gray-700",children:R.name})]},R.id))})]}),y.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[y.jsx("button",{type:"button",onClick:()=>e("/admin/routes"),className:"bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),y.jsx("button",{type:"submit",disabled:E,className:"bg-brand-green text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-dark-green transition-colors disabled:bg-gray-400",children:E?"Salvando...":"Salvar Rota"})]})]})]})},gc=({icon:t,title:e,value:n,isText:i=!1})=>y.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200/80",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("p",{className:"text-slate-500 text-sm font-medium",children:e}),y.jsx("div",{className:"text-brand-green",children:y.jsx(t,{size:24})})]}),y.jsx("p",{className:`mt-2 font-bold ${i?"text-xl":"text-4xl"} text-slate-800`,children:n})]}),DD=["#02a343","#6cbc3a","#063f1f","#f2e9c6","#d82b2b","#ffe815"],Tl=["#063f1f","#02a343","#6cbc3a","#a5d6a7","#c8e6c9"],lo=(t,e,n,i=DD)=>({labels:t,datasets:[{label:n,data:e,backgroundColor:i.slice(0,t.length),borderColor:"#ffffff",borderWidth:2}]}),ao=(t,e="bottom")=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:e,labels:{boxWidth:12,padding:15,font:{size:12}}},title:{display:!0,text:t,font:{size:16,weight:"bold"},color:"#334155",padding:{bottom:20}}},scales:{y:{grid:{color:"#e2e8f0"},ticks:{color:"#64748b"}},x:{grid:{display:!1},ticks:{color:"#64748b"}}}}),uo=({title:t,icon:e,children:n})=>y.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200/80",children:[y.jsxs("h2",{className:"text-xl font-semibold mb-4 text-slate-700 flex items-center gap-3",children:[y.jsx(e,{className:"text-brand-green",size:24}),t]}),y.jsxs("div",{className:"h-80",children:[" ",n]})]}),LD=()=>{const[t,e]=N.useState(null),[n,i]=N.useState(null),[o,r]=N.useState(!0);if(N.useEffect(()=>{(async()=>{const[v,C]=await Promise.all([ve.getAnalyticsData(),ve.getAnalyticsSummary()]);e(v),i(C),r(!1)})()},[]),o)return y.jsx("p",{children:"Carregando análises..."});if(!t||!n)return y.jsx("p",{children:"Não foi possível carregar os dados."});const{demographics:a,travelBehavior:d,satisfaction:h,routeAnalytics:p}=t;return y.jsxs("div",{className:"space-y-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Business Intelligence"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx(gc,{icon:Si,title:"Visitantes Únicos",value:n.totalVisitors}),y.jsx(gc,{icon:wc,title:"Satisfação Média (Cidade)",value:`${n.avgCityRating} / 5.0`,isText:!0}),y.jsx(gc,{icon:Qc,title:"Rota Mais Popular",value:n.mostPopularRoute,isText:!0})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8",children:[y.jsx(uo,{title:"Distribuição por Gênero",icon:Si,children:y.jsx(wd,{data:lo(Object.keys(a.byGender),Object.values(a.byGender),"Gênero"),options:ao("","right")})}),y.jsx(uo,{title:"Distribuição por Faixa Etária",icon:Si,children:y.jsx(Ti,{data:lo(Object.keys(a.ageRanges),Object.values(a.ageRanges),"Faixa Etária",Tl),options:ao("")})}),y.jsx(uo,{title:"Motivo da Viagem",icon:DT,children:y.jsx(cx,{data:lo(Object.keys(d.byReason),Object.values(d.byReason),"Motivo"),options:ao("","right")})})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsx(uo,{title:"Opinião sobre Pontos Turísticos",icon:ei,children:y.jsx(Ti,{data:lo(["Péssimo","Ruim","Boa","Muito boa","Ótima"],["Péssimo","Ruim","Boa","Muito boa","Ótima"].map(g=>h.poi[g]||0),"Avaliações",Tl),options:ao("")})}),y.jsx(uo,{title:"Opinião sobre a Cidade",icon:wc,children:y.jsx(Ti,{data:lo(["Péssimo","Ruim","Boa","Muito boa","Ótima"],["Péssimo","Ruim","Boa","Muito boa","Ótima"].map(g=>h.city[g]||0),"Avaliações",Tl),options:ao("")})})]}),y.jsx(uo,{title:"Rotas Completadas por Turistas",icon:zy,children:y.jsx(Ti,{data:lo(Object.keys(p.completionsByRoute),Object.values(p.completionsByRoute),"Conclusões",Tl),options:ao("")})})]})},FD=()=>{const[t,e]=N.useState([]),[n,i]=N.useState(!0),o=N.useCallback(()=>{i(!0),ve.getPointsOfInterest().then(a=>{e(a),i(!1)})},[]);N.useEffect(()=>{o()},[o]);const r=async(a,d)=>{window.confirm(`Tem certeza que deseja excluir o ponto turístico "${d}"? Isso também o removerá de todas as rotas.`)&&(await ve.deletePointOfInterest(a),o())};return n?y.jsx("p",{children:"Carregando pontos turísticos..."}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Gerenciar Pontos Turísticos"}),y.jsxs(Ei,{to:"/admin/pois/new",className:"bg-brand-green text-white font-bold py-2.5 px-5 rounded-lg flex items-center gap-2 hover:bg-brand-dark-green transition-colors shadow-sm",children:[y.jsx(Kc,{size:20}),y.jsx("span",{children:"Novo Ponto"})]})]}),y.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200/80 overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"border-b border-slate-200 bg-slate-50/50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Nome do Ponto"}),y.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Descrição Curta"}),y.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600 text-center",children:"Pontos"}),y.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600 text-center",children:"Ações"})]})}),y.jsx("tbody",{children:t.map(a=>y.jsxs("tr",{className:"border-b border-slate-200/80 hover:bg-slate-50",children:[y.jsxs("td",{className:"p-4 font-medium text-slate-800 flex items-center gap-4",children:[y.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-16 h-12 object-cover rounded-md"}),y.jsx("span",{children:a.name})]}),y.jsx("td",{className:"p-4 text-sm text-slate-600 max-w-sm truncate",children:a.description}),y.jsx("td",{className:"p-4 text-center",children:y.jsxs("div",{className:"inline-flex items-center gap-1 bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium",children:[y.jsx(Gs,{size:16}),a.points]})}),y.jsx("td",{className:"p-4",children:y.jsxs("div",{className:"flex justify-center gap-2",children:[y.jsx(Ei,{to:`/admin/pois/edit/${a.id}`,className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full transition-colors",children:y.jsx(Yl,{size:18})}),y.jsx("button",{onClick:()=>r(a.id,a.name),className:"p-2 text-slate-500 hover:text-brand-red hover:bg-red-100 rounded-full transition-colors",children:y.jsx(Xc,{size:18})})]})})]},a.id))})]})})})]})},my=()=>{const{poiId:t}=Jc(),e=Zn(),n=!!t,[i,o]=N.useState({name:"",description:"",longDescription:"",imageUrl:"",points:10,lat:0,lng:0}),[r,a]=N.useState(!0),[d,h]=N.useState(!1);N.useEffect(()=>{n?(a(!0),ve.getPointOfInterestById(t).then(C=>{C&&o({name:C.name,description:C.description,longDescription:C.longDescription,imageUrl:C.imageUrl,points:C.points,lat:C.lat,lng:C.lng}),a(!1)})):a(!1)},[t,n]);const p=C=>{const{name:T,value:w,type:E}=C.target;o(M=>({...M,[T]:E==="number"?parseFloat(w)||0:w}))},g=async C=>{C.preventDefault(),h(!0);const T={...i,points:Number(i.points),lat:Number(i.lat),lng:Number(i.lng)};n?await ve.updatePointOfInterest(t,T):await ve.createPointOfInterest(T),h(!1),e("/admin/pois")};if(r)return y.jsx("p",{children:"Carregando editor..."});const v="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-green focus:border-brand-green";return y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold mb-6 text-brand-dark-green",children:n?"Editar Ponto Turístico":"Criar Novo Ponto Turístico"}),y.jsxs("form",{onSubmit:g,className:"bg-white p-8 rounded-lg shadow-md space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome"}),y.jsx("input",{type:"text",name:"name",value:i.name,onChange:p,required:!0,className:v})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descrição Curta"}),y.jsx("input",{type:"text",name:"description",value:i.description,onChange:p,required:!0,className:v})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700",children:"URL da Imagem"}),y.jsx("input",{type:"text",name:"imageUrl",value:i.imageUrl,onChange:p,required:!0,className:v})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"longDescription",className:"block text-sm font-medium text-gray-700",children:"Descrição Longa"}),y.jsx("textarea",{name:"longDescription",value:i.longDescription,onChange:p,required:!0,rows:4,className:v})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"points",className:"block text-sm font-medium text-gray-700",children:"Pontos"}),y.jsx("input",{type:"number",name:"points",value:i.points,onChange:p,required:!0,className:v})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"lat",className:"block text-sm font-medium text-gray-700",children:"Latitude"}),y.jsx("input",{type:"number",step:"any",name:"lat",value:i.lat,onChange:p,required:!0,className:v})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"lng",className:"block text-sm font-medium text-gray-700",children:"Longitude"}),y.jsx("input",{type:"number",step:"any",name:"lng",value:i.lng,onChange:p,required:!0,className:v})]})]}),y.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[y.jsx("button",{type:"button",onClick:()=>e("/admin/pois"),className:"bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),y.jsx("button",{type:"submit",disabled:d,className:"bg-brand-green text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-dark-green transition-colors disabled:bg-gray-400",children:d?"Salvando...":"Salvar Ponto"})]})]})]})},UD=()=>{const[t,e]=N.useState([]),[n,i]=N.useState(!0),[o,r]=N.useState("");N.useEffect(()=>{ve.getAllTouristsData().then(d=>{e(d),i(!1)})},[]);const a=t.filter(d=>d.name.toLowerCase().includes(o.toLowerCase())||d.email.toLowerCase().includes(o.toLowerCase()));return n?y.jsx("p",{children:"Carregando dados dos turistas..."}):y.jsxs("div",{className:"space-y-6",children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Gerenciar Turistas"}),y.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:y.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",className:"w-full p-2 border rounded-md",value:o,onChange:d=>r(d.target.value)})}),y.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:y.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[y.jsx("thead",{className:"bg-slate-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Nome"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Contato"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Pontos"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:a.map(d=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx(tS,{className:"h-5 w-5 text-slate-400 mr-3"}),y.jsx("span",{className:"font-medium text-slate-800",children:d.name})]})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:[y.jsxs("div",{className:"flex items-center mb-1",children:[y.jsx(ST,{className:"h-4 w-4 text-slate-400 mr-2"}),y.jsx("span",{children:d.email})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx(AT,{className:"h-4 w-4 text-slate-400 mr-2"}),y.jsx("span",{children:d.phone})]})]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center text-sm font-semibold text-amber-600",children:[y.jsx(Mi,{className:"h-5 w-5 mr-2"}),y.jsx("span",{children:d.points})]})})]},d.id))})]})})]})},VD=()=>{const[t,e]=N.useState([]),[n,i]=N.useState(!0),[o,r]=N.useState(!1),[a,d]=N.useState(null);N.useEffect(()=>{h()},[]);const h=()=>{i(!0),ve.getChallenges().then(T=>{e(T),i(!1)})},p=(T=null)=>{d(T),r(!0)},g=()=>{r(!1),d(null)},v=async T=>{a?await ve.updateChallenge(a.id,T):await ve.createChallenge(T),h(),g()},C=async T=>{window.confirm("Tem certeza que deseja excluir este desafio?")&&(await ve.deleteChallenge(T),h())};return n?y.jsx("p",{children:"Carregando desafios..."}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Gerenciar Desafios e Eventos"}),y.jsxs("button",{onClick:()=>p(),className:"bg-green-500 text-white px-4 py-2 rounded-lg shadow hover:bg-green-600 flex items-center",children:[y.jsx(Kc,{className:"h-5 w-5 mr-2"}),"Novo Desafio"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(T=>y.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${T.type==="event"?"bg-indigo-100 text-indigo-800":"bg-amber-100 text-amber-800"}`,children:T.type==="event"?"Evento":"Desafio"}),y.jsx("h3",{className:"text-xl font-bold text-slate-800 mt-3",children:T.title}),y.jsx("p",{className:"text-slate-600 text-sm my-2",children:T.description}),y.jsxs("div",{className:"flex items-center text-amber-600 font-semibold",children:[y.jsx(Mi,{className:"h-4 w-4 mr-1"})," ",T.points," pontos"]}),T.type==="event"&&T.startDate&&y.jsxs("div",{className:"flex items-center text-slate-500 text-sm mt-2",children:[y.jsx(Tc,{className:"h-4 w-4 mr-1"}),new Date(T.startDate).toLocaleDateString()]})]}),y.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[y.jsx("button",{onClick:()=>p(T),className:"p-2 text-slate-500 hover:text-blue-600",children:y.jsx(Yl,{className:"h-5 w-5"})}),y.jsx("button",{onClick:()=>C(T.id),className:"p-2 text-slate-500 hover:text-red-600",children:y.jsx(Xc,{className:"h-5 w-5"})})]})]},T.id))}),o&&y.jsx(BD,{challenge:a,onSave:v,onClose:g})]})},BD=({challenge:t,onSave:e,onClose:n})=>{const[i,o]=N.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",points:(t==null?void 0:t.points)||0,type:(t==null?void 0:t.type)||"challenge",startDate:t!=null&&t.startDate?t.startDate.split("T")[0]:"",endDate:t!=null&&t.endDate?t.endDate.split("T")[0]:""}),r=d=>{const{name:h,value:p}=d.target;o(g=>({...g,[h]:p}))},a=d=>{d.preventDefault();const h={...i,points:Number(i.points),startDate:i.type==="event"&&i.startDate?new Date(i.startDate).toISOString():void 0,endDate:i.type==="event"&&i.endDate?new Date(i.endDate).toISOString():void 0};e(h)};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:y.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-lg",children:[y.jsxs("h2",{className:"text-2xl font-bold mb-6",children:[t?"Editar":"Novo"," Desafio/Evento"]}),y.jsxs("form",{onSubmit:a,className:"space-y-4",children:[y.jsx("input",{type:"text",name:"title",value:i.title,onChange:r,placeholder:"Título",className:"w-full p-2 border rounded",required:!0}),y.jsx("textarea",{name:"description",value:i.description,onChange:r,placeholder:"Descrição",className:"w-full p-2 border rounded",required:!0}),y.jsx("input",{type:"number",name:"points",value:i.points,onChange:r,placeholder:"Pontos",className:"w-full p-2 border rounded",required:!0}),y.jsxs("select",{name:"type",value:i.type,onChange:r,className:"w-full p-2 border rounded",children:[y.jsx("option",{value:"challenge",children:"Desafio"}),y.jsx("option",{value:"event",children:"Evento"})]}),i.type==="event"&&y.jsxs("div",{className:"flex space-x-4",children:[y.jsx("input",{type:"date",name:"startDate",value:i.startDate,onChange:r,className:"w-full p-2 border rounded"}),y.jsx("input",{type:"date",name:"endDate",value:i.endDate,onChange:r,className:"w-full p-2 border rounded"})]}),y.jsxs("div",{className:"flex justify-end space-x-4",children:[y.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-slate-200 rounded",children:"Cancelar"}),y.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-500 text-white rounded",children:"Salvar"})]})]})]})})};Po.register(zs,Os,Co,_d,Td,Cd);const HD=()=>{const[t,e]=N.useState(null),[n,i]=N.useState([]),[o,r]=N.useState("all"),[a,d]=N.useState(!0);if(N.useEffect(()=>{ve.getAllHotelsAnalytics().then(p=>{e(p),i(p.allCheckIns),d(!1)}).catch(console.error)},[]),N.useEffect(()=>{t&&i(o==="all"?t.allCheckIns:t.allCheckIns.filter(p=>p.hotelId===o))},[o,t]),a)return y.jsx("div",{className:"text-center py-10",children:"Carregando análises..."});if(!t)return y.jsx("div",{className:"text-center py-10 text-red-500",children:"Não foi possível carregar as análises."});const h={labels:t.summary.map(p=>p.hotelName),datasets:[{label:"Total de Hóspedes",data:t.summary.map(p=>p.totalGuests),backgroundColor:"rgba(54, 162, 235, 0.6)"},{label:"Avaliação Média",data:t.summary.map(p=>parseFloat(p.avgRating)||0),backgroundColor:"rgba(75, 192, 192, 0.6)"}]};return y.jsxs("div",{className:"space-y-6",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Análise da Rede Hoteleira"}),y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[y.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Visão Geral"}),y.jsx("div",{style:{height:"400px"},children:y.jsx(Ti,{data:h,options:{responsive:!0,maintainAspectRatio:!1}})})]}),y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[y.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Detalhes dos Check-ins"}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"hotel-filter",className:"block text-sm font-medium text-gray-700",children:"Filtrar por Hotel"}),y.jsxs("select",{id:"hotel-filter",value:o,onChange:p=>r(p.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[y.jsx("option",{value:"all",children:"Todos os Hotéis"}),t.summary.map(p=>y.jsx("option",{value:p.hotelId,children:p.hotelName},p.hotelId))]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full bg-white",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Hotel"}),y.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Turista"}),y.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Data"}),y.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Origem"}),y.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Motivo"})]})}),y.jsx("tbody",{children:n.map(p=>{var g;return y.jsxs("tr",{children:[y.jsx("td",{className:"py-2 px-4 border-b",children:(g=t.summary.find(v=>v.hotelId===p.hotelId))==null?void 0:g.hotelName}),y.jsx("td",{className:"py-2 px-4 border-b",children:p.touristName}),y.jsx("td",{className:"py-2 px-4 border-b",children:new Date(p.checkInDate).toLocaleDateString()}),y.jsx("td",{className:"py-2 px-4 border-b",children:p.originCity}),y.jsx("td",{className:"py-2 px-4 border-b",children:p.travelReason})]},p.id)})})]})})]})]})};Po.register(ho,Td,Cd,zs,Os,Co,_d);const yc=({title:t,value:e,icon:n})=>y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg flex items-center space-x-4 border border-gray-200/80",children:[y.jsx("div",{className:"bg-brand-light-green/30 text-brand-green p-4 rounded-full",children:n}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t}),y.jsx("p",{className:"text-3xl font-bold text-brand-dark-green",children:e})]})]}),gy=({title:t,children:e})=>y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200/80",children:[y.jsx("h3",{className:"text-xl font-bold text-brand-dark-green mb-4",children:t}),y.jsx("div",{className:"h-64 flex items-center justify-center",children:e})]}),zD=()=>{const{user:t}=an(),[e,n]=N.useState(null),[i,o]=N.useState(!0);if(N.useEffect(()=>{t!=null&&t.id&&ve.getHotelDashboardData(t.id).then(h=>{n(h),o(!1)}).catch(h=>{console.error("Failed to load hotel dashboard:",h),o(!1)})},[t]),i)return y.jsx("div",{className:"text-center py-20 font-medium text-gray-600",children:"Carregando dashboard do hotel..."});if(!e)return y.jsx("div",{className:"text-center py-20 font-bold text-red-600",children:"Não foi possível carregar os dados do hotel."});const r={labels:Object.keys(e.travelBehavior.byReason),datasets:[{data:Object.values(e.travelBehavior.byReason),backgroundColor:PD,borderColor:At,borderWidth:2}]},a={labels:Object.keys(e.demographics.byOrigin),datasets:[{label:"Hóspedes",data:Object.values(e.demographics.byOrigin),backgroundColor:"rgba(108, 188, 58, 0.7)",borderColor:"rgba(108, 188, 58, 1)",borderWidth:1}]},d={responsive:!0,maintainAspectRatio:!1};return y.jsxs("div",{className:"space-y-8",children:[y.jsx("h1",{className:"text-4xl font-bold text-brand-dark-green font-display tracking-wide",children:"Dashboard do Hotel"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[y.jsx(yc,{title:"Total de Hóspedes",value:e.totalGuests,icon:y.jsx(Si,{size:28})}),y.jsx(yc,{title:"Check-ins Hoje",value:0,icon:y.jsx(G_,{size:28})}),y.jsx(yc,{title:"Principal Origem",value:Object.keys(e.demographics.byOrigin)[0]||"N/A",icon:y.jsx(ei,{size:28})})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[y.jsx("div",{className:"lg:col-span-2",children:y.jsx(gy,{title:"Motivo da Viagem",children:y.jsx(wd,{data:r,options:d})})}),y.jsx("div",{className:"lg:col-span-3",children:y.jsx(gy,{title:"Origem dos Hóspedes",children:y.jsx(Ti,{data:a,options:{...d,indexAxis:"y"}})})})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-200/80",children:[y.jsx("h3",{className:"text-xl font-bold text-brand-dark-green mb-4",children:"Últimos Check-ins"}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full bg-white",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-3 px-4 border-b text-left text-sm font-semibold text-gray-600 uppercase",children:"Nome do Turista"}),y.jsx("th",{className:"py-3 px-4 border-b text-left text-sm font-semibold text-gray-600 uppercase",children:"Data do Check-in"}),y.jsx("th",{className:"py-3 px-4 border-b text-left text-sm font-semibold text-gray-600 uppercase",children:"Origem"}),y.jsx("th",{className:"py-3 px-4 border-b text-left text-sm font-semibold text-gray-600 uppercase",children:"Motivo"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-200",children:e.recentCheckIns.map(h=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"py-3 px-4",children:h.touristName}),y.jsx("td",{className:"py-3 px-4",children:new Date(h.checkInDate).toLocaleDateString()}),y.jsx("td",{className:"py-3 px-4",children:h.originCity}),y.jsx("td",{className:"py-3 px-4",children:h.travelReason})]},h.id))})]})})]})]})},Ms=({label:t,name:e,options:n,value:i,onChange:o,required:r})=>y.jsxs("fieldset",{children:[y.jsx("legend",{className:"block text-sm font-medium text-gray-700 mb-2",children:t}),y.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:n.map(a=>y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{id:`${e}-${a.replace(/\s/g,"")}`,name:e,type:"radio",value:a,checked:i===a,onChange:d=>o(d.target.value),required:r,className:"h-4 w-4 text-brand-green border-gray-300 focus:ring-brand-green"}),y.jsx("label",{htmlFor:`${e}-${a.replace(/\s/g,"")}`,className:"ml-2 block text-sm text-gray-900",children:a})]},a))})]}),OD=()=>{const{user:t}=an();Zn();const e={touristName:"",phone:"",profession:"",nationality:"Brasileira",birthDate:"",gender:"Masculino",idDocument:"",originCity:"",travelReason:"Turismo",transportMean:"Automóvel",discoveryChannel:"Rede Social",poiOpinion:"Boa",cityOpinion:"Boa",checkInDate:new Date().toISOString().slice(0,16),checkOutDate:""},[n,i]=N.useState(e),[o,r]=N.useState(!1),[a,d]=N.useState(!1),h=C=>{const{name:T,value:w}=C.target;i(E=>({...E,[T]:w}))},p=(C,T)=>{i(w=>({...w,[C]:T}))},g=async C=>{if(C.preventDefault(),!t)return;r(!0),d(!1);const T={...n,checkInDate:new Date(n.checkInDate).toISOString(),checkOutDate:new Date(n.checkOutDate).toISOString()};await ve.createHotelCheckIn(t.id,T),r(!1),d(!0),i(e),setTimeout(()=>d(!1),3e3)},v="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-brand-green focus:border-brand-green";return y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold mb-6 text-brand-dark-green",children:"Registrar Check-in de Hóspede"}),y.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-md",children:[a&&y.jsx("div",{className:"bg-brand-green text-white p-4 rounded-lg mb-6 text-center",children:"Check-in registrado com sucesso!"}),y.jsxs("form",{onSubmit:g,className:"space-y-8",children:[y.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border p-4 rounded-lg",children:[y.jsx("legend",{className:"text-lg font-semibold px-2",children:"Informações Pessoais"}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{htmlFor:"touristName",className:"block text-sm font-medium text-gray-700",children:"Nome Completo"}),y.jsx("input",{type:"text",name:"touristName",value:n.touristName,onChange:h,required:!0,className:v})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Telefone"}),y.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:h,required:!0,className:v})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"profession",className:"block text-sm font-medium text-gray-700",children:"Profissão"}),y.jsx("input",{type:"text",name:"profession",value:n.profession,onChange:h,required:!0,className:v})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"nationality",className:"block text-sm font-medium text-gray-700",children:"Nacionalidade"}),y.jsx("input",{type:"text",name:"nationality",value:n.nationality,onChange:h,required:!0,className:v})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"birthDate",className:"block text-sm font-medium text-gray-700",children:"Data de Nascimento"}),y.jsx("input",{type:"date",name:"birthDate",value:n.birthDate,onChange:h,required:!0,className:v})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700",children:"Sexo"}),y.jsxs("select",{name:"gender",value:n.gender,onChange:h,required:!0,className:v,children:[y.jsx("option",{children:"Masculino"}),y.jsx("option",{children:"Feminino"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"idDocument",className:"block text-sm font-medium text-gray-700",children:"Documento de Identidade"}),y.jsx("input",{type:"text",name:"idDocument",value:n.idDocument,onChange:h,required:!0,className:v})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"originCity",className:"block text-sm font-medium text-gray-700",children:"Local de Origem (Cidade/Estado)"}),y.jsx("input",{type:"text",name:"originCity",value:n.originCity,onChange:h,required:!0,className:v})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"checkInDate",className:"block text-sm font-medium text-gray-700",children:"Data e Hora do Check-in"}),y.jsx("input",{type:"datetime-local",name:"checkInDate",value:n.checkInDate,onChange:h,required:!0,className:v})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"checkOutDate",className:"block text-sm font-medium text-gray-700",children:"Data do Check-out"}),y.jsx("input",{type:"date",name:"checkOutDate",value:n.checkOutDate,onChange:h,required:!0,className:v})]})]}),y.jsxs("fieldset",{className:"space-y-6 border p-4 rounded-lg",children:[y.jsx("legend",{className:"text-lg font-semibold px-2",children:"Sobre a Viagem"}),y.jsx(Ms,{label:"Motivo da Viagem",name:"travelReason",options:["Turismo","Negócio","Convenção","Férias","Outros"],value:n.travelReason,onChange:C=>p("travelReason",C),required:!0}),y.jsx(Ms,{label:"Meio de Transporte",name:"transportMean",options:["Automóvel","Ônibus","Outros"],value:n.transportMean,onChange:C=>p("transportMean",C),required:!0}),y.jsx(Ms,{label:"Como conheceu Caçapava do Sul?",name:"discoveryChannel",options:["Site","Jornal","TV","Indicação de amigos","Rede Social","Outros"],value:n.discoveryChannel,onChange:C=>p("discoveryChannel",C),required:!0}),y.jsx(Ms,{label:"Qual a opinião sobre os Pontos Turísticos?",name:"poiOpinion",options:["Péssimo","Ruim","Boa","Muito boa","Ótima"],value:n.poiOpinion,onChange:C=>p("poiOpinion",C),required:!0}),y.jsx(Ms,{label:"Qual a opinião sobre a cidade como um todo?",name:"cityOpinion",options:["Péssimo","Ruim","Boa","Muito boa","Ótima"],value:n.cityOpinion,onChange:C=>p("cityOpinion",C),required:!0})]}),y.jsx("div",{className:"flex justify-end gap-4 pt-4",children:y.jsx("button",{type:"submit",disabled:o,className:"bg-brand-green text-white font-bold py-2 px-6 rounded-lg hover:bg-brand-dark-green transition-colors disabled:bg-gray-400",children:o?"Registrando...":"Registrar Check-in"})})]})]})]})},qD=()=>y.jsx(L_,{children:y.jsx(x_,{children:y.jsxs(d_,{children:[y.jsx(Re,{path:"/login",element:y.jsx(U_,{})}),y.jsxs(Re,{path:"/admin",element:y.jsx(nc,{roles:["secretaria"],children:y.jsx(E2,{children:y.jsx(tc,{})})}),children:[y.jsx(Re,{index:!0,element:y.jsx(AD,{})}),y.jsx(Re,{path:"routes",element:y.jsx(RD,{})}),y.jsx(Re,{path:"routes/new",element:y.jsx(py,{})}),y.jsx(Re,{path:"routes/edit/:routeId",element:y.jsx(py,{})}),y.jsx(Re,{path:"pois",element:y.jsx(FD,{})}),y.jsx(Re,{path:"pois/new",element:y.jsx(my,{})}),y.jsx(Re,{path:"pois/edit/:poiId",element:y.jsx(my,{})}),y.jsx(Re,{path:"analytics",element:y.jsx(LD,{})}),y.jsx(Re,{path:"tourists",element:y.jsx(UD,{})}),y.jsx(Re,{path:"challenges",element:y.jsx(VD,{})}),y.jsx(Re,{path:"hotel-analytics",element:y.jsx(HD,{})})]}),y.jsxs(Re,{path:"/hotel",element:y.jsx(nc,{roles:["hotel"],children:y.jsx(M2,{children:y.jsx(tc,{})})}),children:[y.jsx(Re,{index:!0,element:y.jsx(zD,{})}),y.jsx(Re,{path:"checkin",element:y.jsx(OD,{})})]}),y.jsxs(Re,{path:"/",element:y.jsx(nc,{roles:["tourist"],children:y.jsx(F_,{children:y.jsx(w2,{children:y.jsx(tc,{})})})}),children:[y.jsx(Re,{index:!0,element:y.jsx(k2,{})}),y.jsx(Re,{path:"routes",element:y.jsx(N2,{})}),y.jsx(Re,{path:"routes/:routeId",element:y.jsx(U2,{})}),y.jsx(Re,{path:"profile",element:y.jsx(A2,{})}),y.jsx(Re,{path:"leaderboard",element:y.jsx(D2,{})}),y.jsx(Re,{path:"map",element:y.jsx(V2,{})}),y.jsx(Re,{path:"itinerary",element:y.jsx(H2,{})}),y.jsx(Re,{path:"challenges",element:y.jsx(z2,{})}),y.jsx(Re,{path:"gallery",element:y.jsx(q2,{})}),y.jsx(Re,{path:"about",element:y.jsx($2,{})})]})]})})}),dx=document.getElementById("root");if(!dx)throw new Error("Could not find root element to mount to");const $D=CC.createRoot(dx);$D.render(y.jsx(qs.StrictMode,{children:y.jsx(qD,{})}));
